# Issue 5812: [with patch, positive review] option zorder has no effect for point() and polygon()

archive/issues_005812.json:
```json
{
    "body": "Currently setting the zorder for points and polygons has no effect although zorder is listed as an allowed option.\n\n```\nsage: g = polygon([(0,0), (0,1), (1,1), (1,0)], rgbcolor = 'red', zorder = 0)\nsage: g += point((1,1), rgbcolor = 'green', pointsize = 1000, zorder = 1)\nsage: g.show()\n```\n\n```\nsage: g = polygon([(0,0), (0,1), (1,1), (1,0)], rgbcolor = 'red', zorder = 1)\nsage: g += point((1,1), rgbcolor = 'green', pointsize = 1000, zorder = 0)\nsage: g.show()\n```\n\nBoth of the above commands currently give the same output.\n\nAssignee: whuss\n\nResolution: fixed\n\nAuthor: Wilfried Huss\n\nReviewer: Karl-Dieter Crisman, Volker Braun\n\nMerged: sage-4.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/5812\n\n",
    "closed_at": "2009-10-15T16:17:18Z",
    "created_at": "2009-04-17T16:38:25Z",
    "labels": [
        "component: graphics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.2",
    "title": "[with patch, positive review] option zorder has no effect for point() and polygon()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5812",
    "user": "https://trac.sagemath.org/admin/accounts/users/whuss"
}
```
Currently setting the zorder for points and polygons has no effect although zorder is listed as an allowed option.

```
sage: g = polygon([(0,0), (0,1), (1,1), (1,0)], rgbcolor = 'red', zorder = 0)
sage: g += point((1,1), rgbcolor = 'green', pointsize = 1000, zorder = 1)
sage: g.show()
```

```
sage: g = polygon([(0,0), (0,1), (1,1), (1,0)], rgbcolor = 'red', zorder = 1)
sage: g += point((1,1), rgbcolor = 'green', pointsize = 1000, zorder = 0)
sage: g.show()
```

Both of the above commands currently give the same output.

Assignee: whuss

Resolution: fixed

Author: Wilfried Huss

Reviewer: Karl-Dieter Crisman, Volker Braun

Merged: sage-4.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/5812





---

archive/issue_comments_048980.json:
```json
{
    "body": "Attachment [zorder.patch](tarball://root/attachments/some-uuid/ticket5812/zorder.patch) by whuss created at 2009-04-17 17:34:42",
    "created_at": "2009-04-17T17:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48980",
    "user": "https://trac.sagemath.org/admin/accounts/users/whuss"
}
```

Attachment [zorder.patch](tarball://root/attachments/some-uuid/ticket5812/zorder.patch) by whuss created at 2009-04-17 17:34:42



---

archive/issue_events_023181.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "rename": {
        "from": "option zorder has no effect for point() and polygon()",
        "to": "[with patch, needs review] option zorder has no effect for point() and polygon()"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5812#event-23181"
}
```



---

archive/issue_events_023182.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "rename": {
        "from": "[with patch, needs review] option zorder has no effect for point() and polygon()",
        "to": "[with patch, needs work?] option zorder has no effect for point() and polygon()"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5812#event-23182"
}
```



---

archive/issue_comments_048981.json:
```json
{
    "body": "<a id='comment:2'></a>\nSeems to work as advertised - a nice addition!   One question: if I manually set zorder, usually what you expect to happen happens.  But doesn't the order in which the objects are created matter otherwise, if everything has the same zorder?  For instance:\n\n```\nsage: p = polygon([(0,0),(0,1),(1,1)])\nsage: p+= polygon([(0,0),(0,2),(2,2)],rgbcolor='red')\nsage: p.show()\n```\ngives only a red triangle, while\n\n```\nsage: p = polygon([(0,0),(0,2),(2,2)],rgbcolor='red')\nsage: p+= polygon([(0,0),(0,1),(1,1)])\nsage: p.show()\n```\nshows the blue triangle on top of the red one.  But\n\n```\nsage: g = polygon([(0,0), (0,1), (1,1), (1,0)], rgbcolor = 'red', zorder = 0)\nsage: g += point((1,1), rgbcolor = 'green', pointsize = 1000)\nsage: g.show()\n```\nand \n\n```\nsage: g = point((1,1), rgbcolor = 'green', pointsize = 1000)\nsage: g += polygon([(0,0), (0,1), (1,1), (1,0)], rgbcolor = 'red', zorder = 0)\nsage: g.show()\n```\ngive the same thing, even though they should also have the same zorder at this point, if I understand the code correctly.  Or does the polygon somehow take precedence naturally in matplotlib?\n\nREVIEW\n\nPositive review of fixing the example given.  With regards to the comments above:\n\nIf this is a bug or design in matplotlib, positive review.\n\nIf it's possible to fix this in one of these files so that the order plots are added behaves consistently, needs work.  \n\nIf it's not possible to do that within these files, but it needs to be done in plot.py or show or something, positive review but please open another ticket.",
    "created_at": "2009-04-28T20:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48981",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
Seems to work as advertised - a nice addition!   One question: if I manually set zorder, usually what you expect to happen happens.  But doesn't the order in which the objects are created matter otherwise, if everything has the same zorder?  For instance:

```
sage: p = polygon([(0,0),(0,1),(1,1)])
sage: p+= polygon([(0,0),(0,2),(2,2)],rgbcolor='red')
sage: p.show()
```
gives only a red triangle, while

```
sage: p = polygon([(0,0),(0,2),(2,2)],rgbcolor='red')
sage: p+= polygon([(0,0),(0,1),(1,1)])
sage: p.show()
```
shows the blue triangle on top of the red one.  But

```
sage: g = polygon([(0,0), (0,1), (1,1), (1,0)], rgbcolor = 'red', zorder = 0)
sage: g += point((1,1), rgbcolor = 'green', pointsize = 1000)
sage: g.show()
```
and 

```
sage: g = point((1,1), rgbcolor = 'green', pointsize = 1000)
sage: g += polygon([(0,0), (0,1), (1,1), (1,0)], rgbcolor = 'red', zorder = 0)
sage: g.show()
```
give the same thing, even though they should also have the same zorder at this point, if I understand the code correctly.  Or does the polygon somehow take precedence naturally in matplotlib?

REVIEW

Positive review of fixing the example given.  With regards to the comments above:

If this is a bug or design in matplotlib, positive review.

If it's possible to fix this in one of these files so that the order plots are added behaves consistently, needs work.  

If it's not possible to do that within these files, but it needs to be done in plot.py or show or something, positive review but please open another ticket.



---

archive/issue_comments_048982.json:
```json
{
    "body": "<a id='comment:3'></a>\nI also just tripped over this bug. I checked that the no-brainer patch fixes it. There is no easy way to doctest the graphical output. \n\nSince the correct patch just sat around for half a year, I will change it to \"positive review\" in hopes that the patch will be applied.\n\nIn case the philosophical issue of how to handle equal zorders ever gets sorted out, please report in bug #6249. But this bug has served its purpose and the patch should be applied asap.",
    "created_at": "2009-10-08T19:34:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48982",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
I also just tripped over this bug. I checked that the no-brainer patch fixes it. There is no easy way to doctest the graphical output. 

Since the correct patch just sat around for half a year, I will change it to "positive review" in hopes that the patch will be applied.

In case the philosophical issue of how to handle equal zorders ever gets sorted out, please report in bug #6249. But this bug has served its purpose and the patch should be applied asap.



---

archive/issue_comments_048983.json:
```json
{
    "body": "Changing reviewer from \"\" to \"kcrisman, vbraun\"",
    "created_at": "2009-10-08T19:34:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48983",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "kcrisman, vbraun"



---

archive/issue_events_023183.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "rename": {
        "from": "[with patch, needs work?] option zorder has no effect for point() and polygon()",
        "to": "[with patch, positive review] option zorder has no effect for point() and polygon()"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5812#event-23183"
}
```



---

archive/issue_comments_048984.json:
```json
{
    "body": "Changing reviewer from \"kcrisman, vbraun\" to \"Karl-Dieter Crisman, vbraun\"",
    "created_at": "2009-10-08T19:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48984",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "kcrisman, vbraun" to "Karl-Dieter Crisman, vbraun"



---

archive/issue_comments_048985.json:
```json
{
    "body": "<a id='comment:4'></a>\nDear vbraun,\n\nCan you put your full name here?  The release managers like that, as it makes things easier.",
    "created_at": "2009-10-08T19:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48985",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
Dear vbraun,

Can you put your full name here?  The release managers like that, as it makes things easier.



---

archive/issue_comments_048986.json:
```json
{
    "body": "Changing author from \"\" to \"Wilfried Huss\"",
    "created_at": "2009-10-08T19:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48986",
    "user": "https://github.com/kcrisman"
}
```

Changing author from "" to "Wilfried Huss"



---

archive/issue_comments_048987.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2009-10-08T19:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48987",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_048988.json:
```json
{
    "body": "<a id='comment:5'></a>\nThen you can also move it to the \"positive review\" button below.  The new trac workflow will take some getting used to, it's true...",
    "created_at": "2009-10-08T19:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48988",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>
Then you can also move it to the "positive review" button below.  The new trac workflow will take some getting used to, it's true...



---

archive/issue_comments_048989.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2009-10-08T19:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48989",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_048990.json:
```json
{
    "body": "Changing reviewer from \"Karl-Dieter Crisman, vbraun\" to \"Karl-Dieter Crisman, Volker Braun\"",
    "created_at": "2009-10-08T19:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48990",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "Karl-Dieter Crisman, vbraun" to "Karl-Dieter Crisman, Volker Braun"



---

archive/issue_comments_048991.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.2.alpha0\"",
    "created_at": "2009-10-15T16:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48991",
    "user": "https://github.com/mwhansen"
}
```

Changing merged from "" to "sage-4.2.alpha0"



---

archive/issue_events_023184.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-15T16:17:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5812#event-23184"
}
```



---

archive/issue_comments_048992.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-10-15T16:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5812#issuecomment-48992",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed
