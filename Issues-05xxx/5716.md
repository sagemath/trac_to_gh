# Issue 5716: [with patch, positive review] lifting a subdivided matrix should preserve the subdivision, but doesn't.

archive/issues_005716.json:
```json
{
    "body": "```\nsage: a = random_matrix(GF(3),4)\nsage: a.subdivide(2,2)\nsage: a\n[2 0|0 2]\n[2 1|1 0]\n[---+---]\n[1 2|1 0]\n[1 0|0 1]\nsage: a.lift()\n[2 0 0 2]\n[2 1 1 0]\n[1 2 1 0]\n[1 0 0 1]\n```\n\nSee also #5717.\n\nAssignee: @jhpalmieri\n\nCC:  @jasongrout\n\nResolution: fixed\n\nAuthor: John Palmieri\n\nReviewer: Jason Grout\n\nMerged: 4.0.1.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/5716\n\n",
    "closed_at": "2009-05-31T23:47:34Z",
    "created_at": "2009-04-08T19:18:52Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.0.1",
    "title": "[with patch, positive review] lifting a subdivided matrix should preserve the subdivision, but doesn't.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5716",
    "user": "https://github.com/williamstein"
}
```
```
sage: a = random_matrix(GF(3),4)
sage: a.subdivide(2,2)
sage: a
[2 0|0 2]
[2 1|1 0]
[---+---]
[1 2|1 0]
[1 0|0 1]
sage: a.lift()
[2 0 0 2]
[2 1 1 0]
[1 2 1 0]
[1 0 0 1]
```

See also #5717.

Assignee: @jhpalmieri

CC:  @jasongrout

Resolution: fixed

Author: John Palmieri

Reviewer: Jason Grout

Merged: 4.0.1.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/5716





---

archive/issue_comments_048941.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,7 +14,7 @@\n [1 0 0 1]\n ```\n \n-Assignee: @williamstein\n+See also #5717.\n \n Comment: 1\n \n``````\n",
    "created_at": "2009-04-08T19:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48941",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,7 +14,7 @@
 [1 0 0 1]
 ```
 
-Assignee: @williamstein
+See also #5717.
 
 Comment: 1
 
``````




---

archive/issue_comments_048942.json:
```json
{
    "body": "<a id='comment:2'></a>Is this a high priority issue? I am not convinced and since there is no patch and no sign of anyone working on fixing this I am bumping this to 3.4.2. There are also various dupes, one of which go reopened, i.e. #5715, so let's figure this out. \n\nCheers,\n\nMichael",
    "created_at": "2009-04-09T18:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48942",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>Is this a high priority issue? I am not convinced and since there is no patch and no sign of anyone working on fixing this I am bumping this to 3.4.2. There are also various dupes, one of which go reopened, i.e. #5715, so let's figure this out. 

Cheers,

Michael



---

archive/issue_events_013419.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-09T18:45:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "milestone": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5716#event-13419"
}
```



---

archive/issue_comments_048943.json:
```json
{
    "body": "<a id='comment:3'></a>(I don't think this is actually a duplicate.)",
    "created_at": "2009-05-06T22:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48943",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>(I don't think this is actually a duplicate.)



---

archive/issue_comments_048944.json:
```json
{
    "body": "<a id='comment:4'></a>Here's a patch.  This should change things so that subdivisions are preserved when calling `mat.change_ring()`, `mat.lift()`, `mat.dense_matrix()`, and `mat.sparse_matrix()`.",
    "created_at": "2009-05-07T04:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48944",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>Here's a patch.  This should change things so that subdivisions are preserved when calling `mat.change_ring()`, `mat.lift()`, `mat.dense_matrix()`, and `mat.sparse_matrix()`.



---

archive/issue_comments_048945.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2009-05-07T04:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48945",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to assigned.



---

archive/issue_comments_048946.json:
```json
{
    "body": "Changing assignee from @williamstein to @jhpalmieri.",
    "created_at": "2009-05-07T04:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48946",
    "user": "https://github.com/jhpalmieri"
}
```

Changing assignee from @williamstein to @jhpalmieri.



---

archive/issue_comments_048947.json:
```json
{
    "body": "<a id='comment:5'></a>This applies fine to 4.0.rc1 and all doctests in sage/matrix pass (except the known numerical-noise failure which is nothing to do with this patch). But I'm not completely happy with it, because not all of the functions where the behaviour has changed have doctests to prove it, so I'm changing this to \"needs work\". \n\nDavid",
    "created_at": "2009-05-29T11:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48947",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:5'></a>This applies fine to 4.0.rc1 and all doctests in sage/matrix pass (except the known numerical-noise failure which is nothing to do with this patch). But I'm not completely happy with it, because not all of the functions where the behaviour has changed have doctests to prove it, so I'm changing this to "needs work". 

David



---

archive/issue_comments_048948.json:
```json
{
    "body": "<a id='comment:6'></a>Okay, here's a new patch.  I think that this tests everything, although there is at least one function (sparse_matrix, maybe) which is tested in a doctest for another (by looking at `a.dense_matrix().sparse_matrix()` or something like that).",
    "created_at": "2009-05-29T18:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48948",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>Okay, here's a new patch.  I think that this tests everything, although there is at least one function (sparse_matrix, maybe) which is tested in a doctest for another (by looking at `a.dense_matrix().sparse_matrix()` or something like that).



---

archive/issue_comments_048949.json:
```json
{
    "body": "<a id='comment:7'></a>Attachment [trac_5716.patch](tarball://root/attachments/some-uuid/ticket5716/trac_5716.patch) by @jasongrout created at 2009-05-30 05:02:11",
    "created_at": "2009-05-30T05:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48949",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:7'></a>Attachment [trac_5716.patch](tarball://root/attachments/some-uuid/ticket5716/trac_5716.patch) by @jasongrout created at 2009-05-30 05:02:11



---

archive/issue_comments_048950.json:
```json
{
    "body": "<a id='comment:8'></a>It passes doctests (and everything is tested).  Looks good to me.  Positive review.",
    "created_at": "2009-05-30T05:52:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48950",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:8'></a>It passes doctests (and everything is tested).  Looks good to me.  Positive review.



---

archive/issue_events_013420.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-05-31T23:47:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5716#event-13420"
}
```



---

archive/issue_comments_048951.json:
```json
{
    "body": "<a id='comment:9'></a>Merged in 4.0.alpha0.",
    "created_at": "2009-05-31T23:47:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48951",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:9'></a>Merged in 4.0.alpha0.



---

archive/issue_comments_048952.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-05-31T23:47:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48952",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed



---

archive/issue_comments_048953.json:
```json
{
    "body": "Changing merged from \"\" to \"4.0.1.alpha0\"",
    "created_at": "2009-06-06T21:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48953",
    "user": "https://github.com/mwhansen"
}
```

Changing merged from "" to "4.0.1.alpha0"



---

archive/issue_comments_048954.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jason Grout\"",
    "created_at": "2009-06-06T21:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48954",
    "user": "https://github.com/mwhansen"
}
```

Changing reviewer from "" to "Jason Grout"



---

archive/issue_comments_048955.json:
```json
{
    "body": "Changing author from \"\" to \"John Palmieri\"",
    "created_at": "2009-06-06T21:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5716#issuecomment-48955",
    "user": "https://github.com/mwhansen"
}
```

Changing author from "" to "John Palmieri"
