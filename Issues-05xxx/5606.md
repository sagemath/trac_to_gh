# Issue 5606: color complex plotting

archive/issues_005606.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nIt's really a shame Sage can't produce graphics like http://commons.wikimedia.org/wiki/User:Jan_Homann/Mathematics yet. \n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5606_\n\n",
    "closed_at": "2009-04-11T00:10:59Z",
    "created_at": "2009-03-25T03:50:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.4.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "color complex plotting",
    "type": "issue",
    "updated_at": "2009-04-11T00:10:59Z",
    "url": "https://github.com/sagemath/sage/issues/5606",
    "user": "https://github.com/robertwb"
}
```
<div id="comment:0"></div>

It's really a shame Sage can't produce graphics like http://commons.wikimedia.org/wiki/User:Jan_Homann/Mathematics yet. 

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/5606_





---

archive/issue_events_065885.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-03-25T03:50:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "milestone_number": null,
    "milestone_title": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65885"
}
```



---

archive/issue_events_065886.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-03-25T03:50:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65886"
}
```



---

archive/issue_events_065887.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-03-25T03:50:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65887"
}
```



---

archive/issue_events_065888.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-03-25T03:50:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65888"
}
```



---

archive/issue_events_065889.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-03-25T03:50:59Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "subject": "https://github.com/robertwb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65889"
}
```



---

archive/issue_comments_035357.json:
```json
{
    "body": "Attachment: **[sqrt.png](https://github.com/sagemath/sage/files/ticket5606/sqrt.png)**\n\nAttachment: **[zeta.png](https://github.com/sagemath/sage/files/ticket5606/zeta.png)**",
    "created_at": "2009-03-25T03:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35357",
    "user": "https://github.com/robertwb"
}
```

Attachment: **[sqrt.png](https://github.com/sagemath/sage/files/ticket5606/sqrt.png)**

Attachment: **[zeta.png](https://github.com/sagemath/sage/files/ticket5606/zeta.png)**



---

archive/issue_comments_035358.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIt's still a bit slow, #5093 should fix this.",
    "created_at": "2009-03-25T04:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35358",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:1" align="right">comment:1</div>

It's still a bit slow, #5093 should fix this.



---

archive/issue_events_065890.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-03-25T04:03:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "title_is": "color complex plotting",
    "title_was": "complex color plotting",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65890"
}
```



---

archive/issue_events_065891.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-03-25T04:03:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65891"
}
```



---

archive/issue_comments_035359.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nREFEREE REPORT:\n\n* Coverage isn't 100%:\n\n```\nteragon:sage-3.4 wstein$ sage -coverage devel/sage/sage/plot/complex_plot.pyx \n----------------------------------------------------------------------\ndevel/sage/sage/plot/complex_plot.pyx\nERROR: Please define a s == loads(dumps(s)) doctest.\nSCORE devel/sage/sage/plot/complex_plot.pyx: 85% (6 of 7)\n\nMissing doctests:\n\t * get_minmax_data(self):\n\n\nPossibly wrong (function name doesn't occur in doctests):\n\t * _render_on_subplot(self, subplot):\n\n```\n\n* I was puzzled why I couldn't change the aspect ratio (this is *not* a general problem with contour plots (say) in Sage):\n\n```\ntime complex_plot(zeta, (-5, 5), (-5, 5)).show(aspect_ratio=4)\n```\n\nOtherwise the code looks very *very* good.",
    "created_at": "2009-04-09T06:37:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35359",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:2" align="right">comment:2</div>

REFEREE REPORT:

* Coverage isn't 100%:

```
teragon:sage-3.4 wstein$ sage -coverage devel/sage/sage/plot/complex_plot.pyx 
----------------------------------------------------------------------
devel/sage/sage/plot/complex_plot.pyx
ERROR: Please define a s == loads(dumps(s)) doctest.
SCORE devel/sage/sage/plot/complex_plot.pyx: 85% (6 of 7)

Missing doctests:
	 * get_minmax_data(self):


Possibly wrong (function name doesn't occur in doctests):
	 * _render_on_subplot(self, subplot):

```

* I was puzzled why I couldn't change the aspect ratio (this is *not* a general problem with contour plots (say) in Sage):

```
time complex_plot(zeta, (-5, 5), (-5, 5)).show(aspect_ratio=4)
```

Otherwise the code looks very *very* good.



---

archive/issue_events_065892.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-09T06:37:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65892"
}
```



---

archive/issue_events_065893.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-09T06:37:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65893"
}
```



---

archive/issue_events_065894.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-04-09T07:45:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65894"
}
```



---

archive/issue_events_065895.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-04-09T07:45:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65895"
}
```



---

archive/issue_comments_035360.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI added a doctest to get coverage up to 100%. \n\nAs for the aspect ratio issue, no idea. The same happens with density_plot: \n\n```\nsage: density_plot(sin(x) - sin(y), (-5,5), (-5,5)).show(aspect_ratio=4)\n```\n\nMaybe we could move that to a new ticket.",
    "created_at": "2009-04-09T07:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35360",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:3" align="right">comment:3</div>

I added a doctest to get coverage up to 100%. 

As for the aspect ratio issue, no idea. The same happens with density_plot: 

```
sage: density_plot(sin(x) - sin(y), (-5,5), (-5,5)).show(aspect_ratio=4)
```

Maybe we could move that to a new ticket.



---

archive/issue_events_065896.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-10T01:01:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65896"
}
```



---

archive/issue_events_065897.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-10T01:01:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65897"
}
```



---

archive/issue_events_065898.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-10T01:01:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "milestone_number": null,
    "milestone_title": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65898"
}
```



---

archive/issue_events_065899.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-10T01:01:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65899"
}
```



---

archive/issue_comments_035361.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe second and third hunk in 5606-complex-plot.patch are already in Sage via another patch, so I am attaching the version I merged (assuming doctests pass for me).\n\nCheers,\n\nMichael",
    "created_at": "2009-04-10T02:34:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35361",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:6" align="right">comment:6</div>

The second and third hunk in 5606-complex-plot.patch are already in Sage via another patch, so I am attaching the version I merged (assuming doctests pass for me).

Cheers,

Michael



---

archive/issue_events_065900.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-10T02:37:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65900"
}
```



---

archive/issue_events_065901.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-10T02:37:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65901"
}
```



---

archive/issue_comments_035362.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHmm, there are also the following two doctest failures:\n\n```\nsage -t -long devel/sage/sage/plot/complex_plot.pyx\n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.4.1.rc2/devel/sage-main/sage/plot/complex_plot.pyx\", line 146:\n    sage: p = complex_plot(x^2-1, (-2, 2), (-2, 2))\nExpected nothing\nGot:\n    doctest:325: DeprecationWarning: Substitution using function-call syntax and unnamed arguments is deprecated and will be removed from a future release of Sage; you can use named arguments instead, like EXPR(x=..., y=...)\n    doctest:5554: DeprecationWarning: Substitution using function-call syntax and unnamed arguments is deprecated and will be removed from a future release of Sage; you can use named arguments instead, like EXPR(x=..., y=...)\n    doctest:5545: DeprecationWarning: Substitution using function-call syntax and unnamed arguments is deprecated and will be removed from a future release of Sage; you can use named arguments instead, like EXPR(x=..., y=...)\n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.4.1.rc2/devel/sage-main/sage/plot/complex_plot.pyx\", line 162:\n    sage: p.get_minmax_data()\nExpected:\n    {'xmax': 2.0, 'xmin': -1.0, 'ymax': 4.0, 'ymin': -3.0}\nGot:\n    {'xmin': -1.0, 'ymin': -3.0, 'ymax': 4.0, 'xmax': 2.0}\n**********************************************************************\n```\n\nThe first one is trivial to fix by adding the variables to the plot ranges, the second one is caused by the dictionary being printing differently, so it might be a good idea to print the minmax_data as a list in a consistent format.\n\nI am bumping this ticket to 3.4.2 - if it is fixed it can still go into 3.4.1.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-10T02:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35362",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:7" align="right">comment:7</div>

Hmm, there are also the following two doctest failures:

```
sage -t -long devel/sage/sage/plot/complex_plot.pyx
**********************************************************************
File "/scratch/mabshoff/sage-3.4.1.rc2/devel/sage-main/sage/plot/complex_plot.pyx", line 146:
    sage: p = complex_plot(x^2-1, (-2, 2), (-2, 2))
Expected nothing
Got:
    doctest:325: DeprecationWarning: Substitution using function-call syntax and unnamed arguments is deprecated and will be removed from a future release of Sage; you can use named arguments instead, like EXPR(x=..., y=...)
    doctest:5554: DeprecationWarning: Substitution using function-call syntax and unnamed arguments is deprecated and will be removed from a future release of Sage; you can use named arguments instead, like EXPR(x=..., y=...)
    doctest:5545: DeprecationWarning: Substitution using function-call syntax and unnamed arguments is deprecated and will be removed from a future release of Sage; you can use named arguments instead, like EXPR(x=..., y=...)
**********************************************************************
File "/scratch/mabshoff/sage-3.4.1.rc2/devel/sage-main/sage/plot/complex_plot.pyx", line 162:
    sage: p.get_minmax_data()
Expected:
    {'xmax': 2.0, 'xmin': -1.0, 'ymax': 4.0, 'ymin': -3.0}
Got:
    {'xmin': -1.0, 'ymin': -3.0, 'ymax': 4.0, 'xmax': 2.0}
**********************************************************************
```

The first one is trivial to fix by adding the variables to the plot ranges, the second one is caused by the dictionary being printing differently, so it might be a good idea to print the minmax_data as a list in a consistent format.

I am bumping this ticket to 3.4.2 - if it is fixed it can still go into 3.4.1.

Cheers,

Michael



---

archive/issue_events_065902.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-10T02:37:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65902"
}
```



---

archive/issue_events_065903.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-10T02:37:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "milestone_number": null,
    "milestone_title": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65903"
}
```



---

archive/issue_comments_035363.json:
```json
{
    "body": "Attachment: **[5606-complex-plot.patch.gz](https://github.com/sagemath/sage/files/ticket5606/5606-complex-plot.patch.gz)**",
    "created_at": "2009-04-10T06:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35363",
    "user": "https://github.com/robertwb"
}
```

Attachment: **[5606-complex-plot.patch.gz](https://github.com/sagemath/sage/files/ticket5606/5606-complex-plot.patch.gz)**



---

archive/issue_comments_035364.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI've updated the patch, should pass doctests now.",
    "created_at": "2009-04-10T06:41:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35364",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:8" align="right">comment:8</div>

I've updated the patch, should pass doctests now.



---

archive/issue_events_065904.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-04-10T06:42:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "milestone_number": null,
    "milestone_title": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65904"
}
```



---

archive/issue_events_065905.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-04-10T06:42:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65905"
}
```



---

archive/issue_events_065906.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-04-10T06:42:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65906"
}
```



---

archive/issue_events_065907.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-04-10T06:42:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65907"
}
```



---

archive/issue_comments_035365.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n> I've updated the patch, should pass doctests now. \n\nAs a reviewer I am finding this very annoying.  It means I have to somehow revert the patch in my own tree before I can safely apply yours *and* it makes it very very hard for me to see what you actually changed.  I would *much* rather have a part 2 patch that applies on top of the first one. \n\nOn a clean 3.4.1.rc1 build (which I think never had #5606 applied, so far as I can tell) I get:\n\n```\nsage: hg_sage.apply('https://github.com/sagemath/sage/files/ticket5606/5606-complex-plot.patch.gz'\n)\nAttempting to load remote file: https://github.com/sagemath/sage/files/ticket5606/5606-complex-plot.patch.gz\nLoading: [..]\ncd \"/scratch/wstein/build/sage-3.4.1.rc1/devel/sage\" && hg status\ncd \"/scratch/wstein/build/sage-3.4.1.rc1/devel/sage\" && hg status\ncd \"/scratch/wstein/build/sage-3.4.1.rc1/devel/sage\" && hg import   \"/scratch/wstein/sage/temp/sage.math.washington.edu/1031/tmp_2.patch\"\napplying /scratch/wstein/sage/temp/sage.math.washington.edu/1031/tmp_2.patch\npatching file sage/misc/log.py\nHunk #1 FAILED at 64\n1 out of 1 hunks FAILED -- saving rejects to file sage/misc/log.py.rej\npatching file sage/misc/mathml.py\nHunk #1 FAILED at 26\n1 out of 1 hunks FAILED -- saving rejects to file sage/misc/mathml.py.rej\nfile sage/plot/complex_plot.pyx already exists\n1 out of 1 hunks FAILED -- saving rejects to file sage/plot/complex_plot.pyx.rej\nabort: patch failed to apply\n\nsage: hg_sage.log()\nchangeset:   11933:470a0a0e9a2c\ntag:         tip\nuser:        mabshoff@sage.math.washington.edu\ndate:        Sun Apr 05 23:49:53 2009 -0700\nsummary:     3.4.1.rc1\n\n...\n```",
    "created_at": "2009-04-10T14:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35365",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:10" align="right">comment:10</div>

> I've updated the patch, should pass doctests now. 

As a reviewer I am finding this very annoying.  It means I have to somehow revert the patch in my own tree before I can safely apply yours *and* it makes it very very hard for me to see what you actually changed.  I would *much* rather have a part 2 patch that applies on top of the first one. 

On a clean 3.4.1.rc1 build (which I think never had #5606 applied, so far as I can tell) I get:

```
sage: hg_sage.apply('https://github.com/sagemath/sage/files/ticket5606/5606-complex-plot.patch.gz'
)
Attempting to load remote file: https://github.com/sagemath/sage/files/ticket5606/5606-complex-plot.patch.gz
Loading: [..]
cd "/scratch/wstein/build/sage-3.4.1.rc1/devel/sage" && hg status
cd "/scratch/wstein/build/sage-3.4.1.rc1/devel/sage" && hg status
cd "/scratch/wstein/build/sage-3.4.1.rc1/devel/sage" && hg import   "/scratch/wstein/sage/temp/sage.math.washington.edu/1031/tmp_2.patch"
applying /scratch/wstein/sage/temp/sage.math.washington.edu/1031/tmp_2.patch
patching file sage/misc/log.py
Hunk #1 FAILED at 64
1 out of 1 hunks FAILED -- saving rejects to file sage/misc/log.py.rej
patching file sage/misc/mathml.py
Hunk #1 FAILED at 26
1 out of 1 hunks FAILED -- saving rejects to file sage/misc/mathml.py.rej
file sage/plot/complex_plot.pyx already exists
1 out of 1 hunks FAILED -- saving rejects to file sage/plot/complex_plot.pyx.rej
abort: patch failed to apply

sage: hg_sage.log()
changeset:   11933:470a0a0e9a2c
tag:         tip
user:        mabshoff@sage.math.washington.edu
date:        Sun Apr 05 23:49:53 2009 -0700
summary:     3.4.1.rc1

...
```



---

archive/issue_events_065908.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-10T14:33:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "title_is": "[needs work?] color complex plotting",
    "title_was": "color complex plotting",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65908"
}
```



---

archive/issue_comments_035366.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nJust FYI: As mentioned above two hunk that delete and import of \"sage.plot.all\" in log.py and mathml.py need to be deleted since they are already gone in 3.4.1.rc1. Then the patch applies and passes doctests for me.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-10T17:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35366",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:11" align="right">comment:11</div>

Just FYI: As mentioned above two hunk that delete and import of "sage.plot.all" in log.py and mathml.py need to be deleted since they are already gone in 3.4.1.rc1. Then the patch applies and passes doctests for me.

Cheers,

Michael



---

archive/issue_comments_035367.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSorry, I will post a separate patch next time. Ironically, I've had people complain to me about that behavior too, but usually it's when the list of patches gets cumbersome.",
    "created_at": "2009-04-10T18:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35367",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:12" align="right">comment:12</div>

Sorry, I will post a separate patch next time. Ironically, I've had people complain to me about that behavior too, but usually it's when the list of patches gets cumbersome.



---

archive/issue_comments_035368.json:
```json
{
    "body": "Attachment: **[trac_5606-complex-plot.patch.gz](https://github.com/sagemath/sage/files/ticket5606/trac_5606-complex-plot.patch.gz)**\n\nThis version of the patch removes the two hunk in Robert's patch that are already in 3.4.1.rc1",
    "created_at": "2009-04-10T20:38:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35368",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Attachment: **[trac_5606-complex-plot.patch.gz](https://github.com/sagemath/sage/files/ticket5606/trac_5606-complex-plot.patch.gz)**

This version of the patch removes the two hunk in Robert's patch that are already in 3.4.1.rc1



---

archive/issue_events_065909.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-10T20:39:27Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "title_is": "color complex plotting",
    "title_was": "[needs work?] color complex plotting",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65909"
}
```



---

archive/issue_comments_035369.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\ntrac_5606-complex-plot.patch does apply to my merge tree and pass long doctests.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-10T20:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35369",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:13" align="right">comment:13</div>

trac_5606-complex-plot.patch does apply to my merge tree and pass long doctests.

Cheers,

Michael



---

archive/issue_events_065910.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-10T23:09:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65910"
}
```



---

archive/issue_events_065911.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-10T23:09:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65911"
}
```



---

archive/issue_comments_035370.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nMerged rac_5606-complex-plot.patch in Sage 3.4.1.rc2.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-11T00:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5606#issuecomment-35370",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:15" align="right">comment:15</div>

Merged rac_5606-complex-plot.patch in Sage 3.4.1.rc2.

Cheers,

Michael



---

archive/issue_events_065912.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-11T00:10:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65912"
}
```



---

archive/issue_events_065913.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-11T00:10:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5606",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5606#event-65913"
}
```
