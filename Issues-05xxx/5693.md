# Issue 5693: [with patch; positive review] sloane_sequence -- very confusing error message

archive/issues_005693.json:
```json
{
    "body": "The \"sloan_sequence\" command fails on every input I give it, whereas sloan_find works fine!\n\n```\nsage: sloane_sequence(prime_range(100))\nSearching Sloane's online database...\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n\n/Users/wstein/.sage/temp/teragon.local/4529/_Users_wstein__sage_init_sage_0.py in <module>()\n\n/Users/wstein/build/sage-3.4/local/lib/python2.5/site-packages/sage/databases/sloane.pyc in sloane_sequence(number)\n    302     results = sloane_find('id:A%s'%number)\n    303     if len(results) == 0:\n--> 304         raise ValueError, \"sequence '%s' not found\"%number\n    305     return results[0]\n    306 \n\nValueError: sequence '[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]' not found\nsage: print sloane_find(prime_range(100))\nSearching Sloane's online database...\n[[40, 'The prime numbers.', [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, \n```\n\nDoh -- on checking the docs it appears that sloane_sequence takes a sequence number... and it just happens to be perfectly fine letting that \"number\" be a list.  Much better type checking would save a lot of confusion.\n\nAssignee: cwitty\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5693\n\n",
    "closed_at": "2009-04-09T09:52:45Z",
    "created_at": "2009-04-06T17:00:21Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.4.1",
    "title": "[with patch; positive review] sloane_sequence -- very confusing error message",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5693",
    "user": "https://github.com/williamstein"
}
```
The "sloan_sequence" command fails on every input I give it, whereas sloan_find works fine!

```
sage: sloane_sequence(prime_range(100))
Searching Sloane's online database...
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)

/Users/wstein/.sage/temp/teragon.local/4529/_Users_wstein__sage_init_sage_0.py in <module>()

/Users/wstein/build/sage-3.4/local/lib/python2.5/site-packages/sage/databases/sloane.pyc in sloane_sequence(number)
    302     results = sloane_find('id:A%s'%number)
    303     if len(results) == 0:
--> 304         raise ValueError, "sequence '%s' not found"%number
    305     return results[0]
    306 

ValueError: sequence '[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]' not found
sage: print sloane_find(prime_range(100))
Searching Sloane's online database...
[[40, 'The prime numbers.', [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 
```

Doh -- on checking the docs it appears that sloane_sequence takes a sequence number... and it just happens to be perfectly fine letting that "number" be a list.  Much better type checking would save a lot of confusion.

Assignee: cwitty

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/5693





---

archive/issue_events_022624.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "rename": {
        "from": "sloane_sequence -- very confusing error message",
        "to": "[with patch; needs review] sloane_sequence -- very confusing error message"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5693#event-22624"
}
```



---

archive/issue_comments_047680.json:
```json
{
    "body": "<a id='comment:1'></a>\nTo test the attached patch, apply it, then do\n\n```\n ./sage -t --only_optional=internet devel/sage/sage/databases/sloane.py \n```\n\nand\n\n\n```\n ./sage -t devel/sage/sage/databases/sloane.py \n```",
    "created_at": "2009-04-06T17:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5693#issuecomment-47680",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:1'></a>
To test the attached patch, apply it, then do

```
 ./sage -t --only_optional=internet devel/sage/sage/databases/sloane.py 
```

and


```
 ./sage -t devel/sage/sage/databases/sloane.py 
```



---

archive/issue_comments_047681.json:
```json
{
    "body": "Attachment [trac_5693.patch](tarball://root/attachments/some-uuid/ticket5693/trac_5693.patch) by @williamstein created at 2009-04-06 17:08:17",
    "created_at": "2009-04-06T17:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5693#issuecomment-47681",
    "user": "https://github.com/williamstein"
}
```

Attachment [trac_5693.patch](tarball://root/attachments/some-uuid/ticket5693/trac_5693.patch) by @williamstein created at 2009-04-06 17:08:17



---

archive/issue_comments_047682.json:
```json
{
    "body": "<a id='comment:2'></a>\nPatch is ok for me.\n\nSo a positive review.\n\nJaap",
    "created_at": "2009-04-06T17:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5693#issuecomment-47682",
    "user": "https://github.com/jaapspies"
}
```

<a id='comment:2'></a>
Patch is ok for me.

So a positive review.

Jaap



---

archive/issue_events_022625.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "rename": {
        "from": "[with patch; needs review] sloane_sequence -- very confusing error message",
        "to": "[with patch; positive review] sloane_sequence -- very confusing error message"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5693#event-22625"
}
```



---

archive/issue_comments_047683.json:
```json
{
    "body": "<a id='comment:3'></a>\nMerged in Sage 3.4.1.rc2.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-09T09:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5693#issuecomment-47683",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
Merged in Sage 3.4.1.rc2.

Cheers,

Michael



---

archive/issue_comments_047684.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-04-09T09:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5693#issuecomment-47684",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: fixed



---

archive/issue_events_022626.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-09T09:52:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5693#event-22626"
}
```



---

archive/issue_events_022627.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-09T09:58:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5693",
    "milestone": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5693#event-22627"
}
```
