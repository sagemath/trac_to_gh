# Issue 5859: sage -coverageall fails on directories with zero tests

archive/issues_005859.json:
```json
{
    "assignees": [],
    "body": "\n```\n./sage -coverageall devel/sage/sage/catalogue/\n```\nresults in\n\n```\nTraceback (most recent call last):\n  File \"/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall\", line 44, in <module>\n    coverage_all(sys.argv[1])\n  File \"/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall\", line 28, in coverage_all\n    score = (float(scr) / total)\nZeroDivisionError: float division\n```\n\nAssignee: **mabshoff**\n\nCC:  @orlitzky\n\nReviewer: **Andr\u00e9 Apitzsch**\n\nAuthor: **Michael Orlitzky**\n\nMerged: **sage-5.0.rc0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5859_\n\n",
    "closed_at": "2012-05-01T05:07:45Z",
    "created_at": "2009-04-22T23:31:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "sage -coverageall fails on directories with zero tests",
    "type": "issue",
    "updated_at": "2012-05-01T05:07:45Z",
    "url": "https://github.com/sagemath/sage/issues/5859",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

```
./sage -coverageall devel/sage/sage/catalogue/
```
results in

```
Traceback (most recent call last):
  File "/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall", line 44, in <module>
    coverage_all(sys.argv[1])
  File "/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall", line 28, in coverage_all
    score = (float(scr) / total)
ZeroDivisionError: float division
```

Assignee: **mabshoff**

CC:  @orlitzky

Reviewer: **André Apitzsch**

Author: **Michael Orlitzky**

Merged: **sage-5.0.rc0**

_Issue created by migration from https://trac.sagemath.org/ticket/5859_





---

archive/issue_events_062851.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-22T23:31:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62851"
}
```



---

archive/issue_events_062852.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-22T23:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62852"
}
```



---

archive/issue_events_062853.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-22T23:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62853"
}
```



---

archive/issue_events_062854.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-22T23:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62854"
}
```



---

archive/issue_comments_039092.json:
```json
{
    "body": "Default to 100% coverage when there are no tests.",
    "created_at": "2012-01-09T05:00:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5859#issuecomment-39092",
    "user": "https://github.com/orlitzky"
}
```

Default to 100% coverage when there are no tests.



---

archive/issue_events_062855.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2012-01-09T05:03:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62855"
}
```



---

archive/issue_comments_039093.json:
```json
{
    "body": "Author: **Michael Orlitzky**",
    "created_at": "2012-01-09T05:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5859#issuecomment-39093",
    "user": "https://github.com/orlitzky"
}
```

Author: **Michael Orlitzky**



---

archive/issue_comments_039094.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttachment: **[sage-trac_5859.patch.gz](https://github.com/sagemath/sage/files/ticket5859/sage-trac_5859.patch.gz)**\n\nThis was a pretty small fix, so there it is.\n\nThe coverage score would naturally be undefined, but saying it's 100% of zero is a useful fiction in this case.",
    "created_at": "2012-01-09T05:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5859#issuecomment-39094",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'>Comment 1:</a>
Attachment: **[sage-trac_5859.patch.gz](https://github.com/sagemath/sage/files/ticket5859/sage-trac_5859.patch.gz)**

This was a pretty small fix, so there it is.

The coverage score would naturally be undefined, but saying it's 100% of zero is a useful fiction in this case.



---

archive/issue_events_062856.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2012-04-29T17:12:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62856"
}
```



---

archive/issue_events_062857.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2012-04-29T17:12:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62857"
}
```



---

archive/issue_comments_039095.json:
```json
{
    "body": "Reviewer: **Andr\u00e9 Apitzsch**",
    "created_at": "2012-04-29T17:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5859#issuecomment-39095",
    "user": "https://github.com/a-andre"
}
```

Reviewer: **André Apitzsch**



---

archive/issue_events_062858.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-01T05:07:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62858"
}
```



---

archive/issue_events_062859.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-01T05:07:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5859#event-62859"
}
```



---

archive/issue_comments_039096.json:
```json
{
    "body": "Merged: **sage-5.0.rc0**",
    "created_at": "2012-05-01T05:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5859#issuecomment-39096",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.rc0**
