# Issue 5859: sage -coverageall fails on directories with zero tests

archive/issues_005859.json:
```json
{
    "body": "\n```\n./sage -coverageall devel/sage/sage/catalogue/\n```\nresults in\n\n```\nTraceback (most recent call last):\n  File \"/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall\", line 44, in <module>\n    coverage_all(sys.argv[1])\n  File \"/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall\", line 28, in coverage_all\n    score = (float(scr) / total)\nZeroDivisionError: float division\n```\n\nAssignee: mabshoff\n\nCC:  @orlitzky\n\nReviewer: Andr\u00e9 Apitzsch\n\nAuthor: Michael Orlitzky\n\nMerged: sage-5.0.rc0\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5859\n\n",
    "closed_at": "2012-05-01T05:07:45Z",
    "created_at": "2009-04-22T23:31:00Z",
    "labels": [
        "component: doctest coverage",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "sage -coverageall fails on directories with zero tests",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5859",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

```
./sage -coverageall devel/sage/sage/catalogue/
```
results in

```
Traceback (most recent call last):
  File "/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall", line 44, in <module>
    coverage_all(sys.argv[1])
  File "/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall", line 28, in coverage_all
    score = (float(scr) / total)
ZeroDivisionError: float division
```

Assignee: mabshoff

CC:  @orlitzky

Reviewer: André Apitzsch

Author: Michael Orlitzky

Merged: sage-5.0.rc0

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/5859





---

archive/issue_comments_055925.json:
```json
{
    "body": "Default to 100% coverage when there are no tests.",
    "created_at": "2012-01-09T05:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55925",
    "user": "https://github.com/orlitzky"
}
```

Default to 100% coverage when there are no tests.



---

archive/issue_comments_055926.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55926",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_055927.json:
```json
{
    "body": "Upstream: N/A",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55927",
    "user": "https://github.com/orlitzky"
}
```

Upstream: N/A



---

archive/issue_comments_055928.json:
```json
{
    "body": "Author: Michael Orlitzky",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55928",
    "user": "https://github.com/orlitzky"
}
```

Author: Michael Orlitzky



---

archive/issue_comments_055929.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [sage-trac_5859.patch](tarball://root/attachments/some-uuid/ticket5859/sage-trac_5859.patch) by @orlitzky created at 2012-01-09 05:03:05\n\nThis was a pretty small fix, so there it is.\n\nThe coverage score would naturally be undefined, but saying it's 100% of zero is a useful fiction in this case.",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55929",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'></a>
Attachment [sage-trac_5859.patch](tarball://root/attachments/some-uuid/ticket5859/sage-trac_5859.patch) by @orlitzky created at 2012-01-09 05:03:05

This was a pretty small fix, so there it is.

The coverage score would naturally be undefined, but saying it's 100% of zero is a useful fiction in this case.



---

archive/issue_comments_055930.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-04-29T17:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55930",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_055931.json:
```json
{
    "body": "Reviewer: Andr\u00e9 Apitzsch",
    "created_at": "2012-04-29T17:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55931",
    "user": "https://github.com/a-andre"
}
```

Reviewer: André Apitzsch



---

archive/issue_events_017808.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-01T05:07:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5859#event-17808"
}
```



---

archive/issue_comments_055932.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-05-01T05:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55932",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_055933.json:
```json
{
    "body": "Merged: sage-5.0.rc0",
    "created_at": "2012-05-01T05:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-55933",
    "user": "https://github.com/jdemeyer"
}
```

Merged: sage-5.0.rc0
