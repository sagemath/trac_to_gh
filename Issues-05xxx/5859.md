# Issue 5859: sage -coverageall fails on directories with zero tests

archive/issues_005859.json:
```json
{
    "body": "\n```\n./sage -coverageall devel/sage/sage/catalogue/\n```\nresults in\n\n```\nTraceback (most recent call last):\n  File \"/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall\", line 44, in <module>\n    coverage_all(sys.argv[1])\n  File \"/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall\", line 28, in coverage_all\n    score = (float(scr) / total)\nZeroDivisionError: float division\n```\n\n**Assignee:** mabshoff\n\n**CC:**  @orlitzky\n\n**Reviewer:** Andr\u00e9 Apitzsch\n\n**Author:** Michael Orlitzky\n\n**Merged:** sage-5.0.rc0\n\nIssue created by migration from https://trac.sagemath.org/ticket/5859\n\n",
    "closed_at": "2012-05-01T05:07:45Z",
    "created_at": "2009-04-22T23:31:00Z",
    "labels": [
        "component: doctest coverage",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "sage -coverageall fails on directories with zero tests",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5859",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

```
./sage -coverageall devel/sage/sage/catalogue/
```
results in

```
Traceback (most recent call last):
  File "/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall", line 44, in <module>
    coverage_all(sys.argv[1])
  File "/scratch/mabshoff/sage-3.4.2.alpha0/local/bin/sage-coverageall", line 28, in coverage_all
    score = (float(scr) / total)
ZeroDivisionError: float division
```

**Assignee:** mabshoff

**CC:**  @orlitzky

**Reviewer:** André Apitzsch

**Author:** Michael Orlitzky

**Merged:** sage-5.0.rc0

Issue created by migration from https://trac.sagemath.org/ticket/5859





---

archive/issue_comments_050433.json:
```json
{
    "body": "Default to 100% coverage when there are no tests.",
    "created_at": "2012-01-09T05:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-50433",
    "user": "https://github.com/orlitzky"
}
```

Default to 100% coverage when there are no tests.



---

archive/issue_comments_050434.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-50434",
    "user": "https://github.com/orlitzky"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_050435.json:
```json
{
    "body": "**Upstream:** N/A",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-50435",
    "user": "https://github.com/orlitzky"
}
```

**Upstream:** N/A



---

archive/issue_comments_050436.json:
```json
{
    "body": "**Author:** Michael Orlitzky",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-50436",
    "user": "https://github.com/orlitzky"
}
```

**Author:** Michael Orlitzky



---

archive/attachments_006774.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "sage-trac_5859.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5859/sage-trac_5859.patch",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/orlitzky"
}
```



---

archive/issue_comments_050437.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis was a pretty small fix, so there it is.\n\nThe coverage score would naturally be undefined, but saying it's 100% of zero is a useful fiction in this case.",
    "created_at": "2012-01-09T05:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-50437",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'></a>
This was a pretty small fix, so there it is.

The coverage score would naturally be undefined, but saying it's 100% of zero is a useful fiction in this case.



---

archive/issue_comments_050438.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-04-29T17:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-50438",
    "user": "https://github.com/a-andre"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_050439.json:
```json
{
    "body": "**Reviewer:** Andr\u00e9 Apitzsch",
    "created_at": "2012-04-29T17:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-50439",
    "user": "https://github.com/a-andre"
}
```

**Reviewer:** André Apitzsch



---

archive/issue_events_017362.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-01T05:07:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5859#event-17362"
}
```



---

archive/issue_comments_050440.json:
```json
{
    "body": "**Merged:** sage-5.0.rc0",
    "created_at": "2012-05-01T05:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5859#issuecomment-50440",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.0.rc0
