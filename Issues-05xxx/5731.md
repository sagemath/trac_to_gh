# Issue 5731: Update NTL to 5.5.2 release (latest upstream)

archive/issues_005731.json:
```json
{
    "body": "From http://www.shoup.net/ntl/doc/tour-changes.html (03.09.2010):\n\n## 2009.08.14: Changes between NTL 5.5.1 and 5.5.2\n\n* New routines `MulAddTo` and `MulSubFrom` for computing `x += a*b` and `x -= a*b`, where `x` and `a` are `ZZ`'s and `b` is a `ZZ` or a `long`. In the case where `b` is a `long`, this may be much faster than writing `mul(t, a, b); add(x, x, t)`. See [ZZ.txt](http://www.shoup.net/ntl/doc/ZZ.txt) for details. These new routines are used in a number of places in NTL to get faster algorithms (for example, the `LLL` routine).\n* Fixed a relatively benign indexing bug in `GF2EX` discovered by Berend-Benjamin Tams using the `valgrind` tool. \n\n\n## 2009.05.05: Changes between NTL 5.5 and 5.5.1\n\n* If using GMP (via either `NTL_GMP_LIP` or `NTL_GMP_HACK`), then the new version (4.3.0) of GMP implements the `XGCD` functionality differently, so that the coefficients do not always agree with those returned by the classical extended Euclidean algorithm. This version of NTL corrects the coefficients, so that the \"classical\" coefficients are always produced, regardless of GMP's implementation. This version of NTL also works around a bug in GMP 4.3.0's `XGCD` code (although that bug should be fixed in GMP 4.3.1).\n* The `configure` script has been slightly modified: there is a new configuration variable `DEF_PREFIX`, whose value can be used to set `PREFIX`, `GMP_PREFIX`, and `GF2X_PREFIX` in one stroke. Also, the (somewhat esoteric) `configure` variables `GMP_LIBDIR`, `GMP_INCDIR`, `GF2X_LIBDIR`, and `GF2X_INCDIR` have slightly different meanings now.\n\n\n## 2009.04.08: Changes between NTL 5.4.2 and 5.5\n\n* Added the ability to generate a *shared* library (with help from Tim Abbott). [Details.](http://www.shoup.net/ntl/doc/tour-unix.html#shared)\n* Fixed some standardization issues (with help from Tim Abbott): default location of installed documentation files now conforms to standards; use of `EOF` now conforms to standards.\n* Added a callback mechanism to NTL's error reporting function. See `ErrorCallback` in [tools.txt](http://www.shoup.net/ntl/doc/tools.txt).\n* Added support for the `gf2x` library for speeding up arithmetic in `GF2X` (with help from Emmanuel Thom\u00e9). [Details.](http://www.shoup.net/ntl/doc/tour-gf2x.html)\n* In conjuction with the above, I also changed the `GF2X` so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.\n* Fixed a bug in `void TraceMod(zz_p& x, const zz_pX& a, const zz_pXModulus& F)` (reported by Luca De Feo).\n* Fixed a performance issue in various versions of `SetCoeff` (reported by Luca De Feo).\n* Fixed the declaration of `mat_zz_p transpose(const mat_zz_p& a)` (reported by Benoit Lacelle).\n\n---\n\nSo we should be able to drop a couple custom patches.\n\nCheers,\n\nMichael\n\n---\n\nThe current version in Sage (4.5.3) is NTL 5.4.2[.p12].\n\n\nNew spkg: [http://spkg-upload.googlecode.com/files/ntl-5.5.2.spkg](http://spkg-upload.googlecode.com/files/ntl-5.5.2.spkg)\n\n\nCC:  @JohnCremona\n\nKeywords: upgrade\n\nResolution: fixed\n\nAuthor: Martin Raum\n\nReviewer: Fran\u00e7ois Bissey, John Cremona\n\nMerged: sage-4.7.1.alpha3\n\nIssue created by migration from https://trac.sagemath.org/ticket/5731\n\n",
    "closed_at": "2011-06-10T08:52:40Z",
    "created_at": "2009-04-10T08:11:36Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.1",
    "title": "Update NTL to 5.5.2 release (latest upstream)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5731",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```
From http://www.shoup.net/ntl/doc/tour-changes.html (03.09.2010):

## 2009.08.14: Changes between NTL 5.5.1 and 5.5.2

* New routines `MulAddTo` and `MulSubFrom` for computing `x += a*b` and `x -= a*b`, where `x` and `a` are `ZZ`'s and `b` is a `ZZ` or a `long`. In the case where `b` is a `long`, this may be much faster than writing `mul(t, a, b); add(x, x, t)`. See [ZZ.txt](http://www.shoup.net/ntl/doc/ZZ.txt) for details. These new routines are used in a number of places in NTL to get faster algorithms (for example, the `LLL` routine).
* Fixed a relatively benign indexing bug in `GF2EX` discovered by Berend-Benjamin Tams using the `valgrind` tool. 


## 2009.05.05: Changes between NTL 5.5 and 5.5.1

* If using GMP (via either `NTL_GMP_LIP` or `NTL_GMP_HACK`), then the new version (4.3.0) of GMP implements the `XGCD` functionality differently, so that the coefficients do not always agree with those returned by the classical extended Euclidean algorithm. This version of NTL corrects the coefficients, so that the "classical" coefficients are always produced, regardless of GMP's implementation. This version of NTL also works around a bug in GMP 4.3.0's `XGCD` code (although that bug should be fixed in GMP 4.3.1).
* The `configure` script has been slightly modified: there is a new configuration variable `DEF_PREFIX`, whose value can be used to set `PREFIX`, `GMP_PREFIX`, and `GF2X_PREFIX` in one stroke. Also, the (somewhat esoteric) `configure` variables `GMP_LIBDIR`, `GMP_INCDIR`, `GF2X_LIBDIR`, and `GF2X_INCDIR` have slightly different meanings now.


## 2009.04.08: Changes between NTL 5.4.2 and 5.5

* Added the ability to generate a *shared* library (with help from Tim Abbott). [Details.](http://www.shoup.net/ntl/doc/tour-unix.html#shared)
* Fixed some standardization issues (with help from Tim Abbott): default location of installed documentation files now conforms to standards; use of `EOF` now conforms to standards.
* Added a callback mechanism to NTL's error reporting function. See `ErrorCallback` in [tools.txt](http://www.shoup.net/ntl/doc/tools.txt).
* Added support for the `gf2x` library for speeding up arithmetic in `GF2X` (with help from Emmanuel Thomé). [Details.](http://www.shoup.net/ntl/doc/tour-gf2x.html)
* In conjuction with the above, I also changed the `GF2X` so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.
* Fixed a bug in `void TraceMod(zz_p& x, const zz_pX& a, const zz_pXModulus& F)` (reported by Luca De Feo).
* Fixed a performance issue in various versions of `SetCoeff` (reported by Luca De Feo).
* Fixed the declaration of `mat_zz_p transpose(const mat_zz_p& a)` (reported by Benoit Lacelle).

---

So we should be able to drop a couple custom patches.

Cheers,

Michael

---

The current version in Sage (4.5.3) is NTL 5.4.2[.p12].


New spkg: [http://spkg-upload.googlecode.com/files/ntl-5.5.2.spkg](http://spkg-upload.googlecode.com/files/ntl-5.5.2.spkg)


CC:  @JohnCremona

Keywords: upgrade

Resolution: fixed

Author: Martin Raum

Reviewer: François Bissey, John Cremona

Merged: sage-4.7.1.alpha3

Issue created by migration from https://trac.sagemath.org/ticket/5731





---

archive/issue_comments_045907.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2009-04-10T08:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45907",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Changing status from new to assigned.



---

archive/issue_comments_045908.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,10 @@\n 2009.04.08: Changes between NTL 5.4.2 and 5.5 from http://www.shoup.net/ntl/doc/tour-changes.html\n \n-* Added the ability to generate a shared library (with help from Tim Abbott). Details.\n+* Added the ability to generate a shared library (with help from Tim Abbott).\n * Fixed some standardization issues (with help from Tim Abbot): default location of installed documentation files now conforms to standards; use of EOF now conforms to standards.\n-Added a callback mechanism to NTL's error reporting function. See ErrorCallback in tools.txt.\n+* Added a callback mechanism to NTL's error reporting function. See ErrorCallback in tools.txt.\n * Added support for the gf2x library for speeding up arithmetic in GF2X (with help from Emmanuel Thom\u00e9).\n-  * In conjuction with the above, I also changed the GF2X so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.\n+* In conjuction with the above, I also changed the GF2X so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.\n * Fixed a bug in void TraceMod(zz_p& x, const zz_pX& a, const zz_pXModulus& F) (reported by Luca De Feo).\n * Fixed a performance issue in various versions of SetCoeff (reported by Luca De Feo).\n * Fixed the declaration of mat_zz_p transpose(const mat_zz_p& a) (reported by Benoit Lacelle).\n@@ -15,8 +15,6 @@\n \n Michael\n \n-Assignee: mabshoff\n-\n Comment: 1\n \n Summary: Update NTL to 5.5 release (latest upstream)\n``````\n",
    "created_at": "2009-04-10T08:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45908",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,10 @@
 2009.04.08: Changes between NTL 5.4.2 and 5.5 from http://www.shoup.net/ntl/doc/tour-changes.html
 
-* Added the ability to generate a shared library (with help from Tim Abbott). Details.
+* Added the ability to generate a shared library (with help from Tim Abbott).
 * Fixed some standardization issues (with help from Tim Abbot): default location of installed documentation files now conforms to standards; use of EOF now conforms to standards.
-Added a callback mechanism to NTL's error reporting function. See ErrorCallback in tools.txt.
+* Added a callback mechanism to NTL's error reporting function. See ErrorCallback in tools.txt.
 * Added support for the gf2x library for speeding up arithmetic in GF2X (with help from Emmanuel Thomé).
-  * In conjuction with the above, I also changed the GF2X so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.
+* In conjuction with the above, I also changed the GF2X so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.
 * Fixed a bug in void TraceMod(zz_p& x, const zz_pX& a, const zz_pXModulus& F) (reported by Luca De Feo).
 * Fixed a performance issue in various versions of SetCoeff (reported by Luca De Feo).
 * Fixed the declaration of mat_zz_p transpose(const mat_zz_p& a) (reported by Benoit Lacelle).
@@ -15,8 +15,6 @@
 
 Michael
 
-Assignee: mabshoff
-
 Comment: 1
 
 Summary: Update NTL to 5.5 release (latest upstream)
``````




---

archive/issue_events_013452.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-03T21:45:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "milestone": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5731#event-13452"
}
```



---

archive/issue_comments_045909.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2010-09-03T21:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45909",
    "user": "https://github.com/nexttime"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_045910.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,39 @@\n+From http://www.shoup.net/ntl/doc/tour-changes.html (03.09.2010):\n+\n+## 2009.08.14: Changes between NTL 5.5.1 and 5.5.2\n+\n+* New routines `MulAddTo` and `MulSubFrom` for computing `x += a*b` and `x -= a*b`, where `x` and `a` are `ZZ`'s and `b` is a `ZZ` or a `long`. In the case where `b` is a `long`, this may be much faster than writing `mul(t, a, b); add(x, x, t)`. See [ZZ.txt](http://www.shoup.net/ntl/doc/ZZ.txt) for details. These new routines are used in a number of places in NTL to get faster algorithms (for example, the `LLL` routine).\n+* Fixed a relatively benign indexing bug in `GF2EX` discovered by Berend-Benjamin Tams using the `valgrind` tool. \n+\n+\n+## 2009.05.05: Changes between NTL 5.5 and 5.5.1\n+\n+* If using GMP (via either `NTL_GMP_LIP` or `NTL_GMP_HACK`), then the new version (4.3.0) of GMP implements the `XGCD` functionality differently, so that the coefficients do not always agree with those returned by the classical extended Euclidean algorithm. This version of NTL corrects the coefficients, so that the \"classical\" coefficients are always produced, regardless of GMP's implementation. This version of NTL also works around a bug in GMP 4.3.0's `XGCD` code (although that bug should be fixed in GMP 4.3.1).\n+* The `configure` script has been slightly modified: there is a new configuration variable `DEF_PREFIX`, whose value can be used to set `PREFIX`, `GMP_PREFIX`, and `GF2X_PREFIX` in one stroke. Also, the (somewhat esoteric) `configure` variables `GMP_LIBDIR`, `GMP_INCDIR`, `GF2X_LIBDIR`, and `GF2X_INCDIR` have slightly different meanings now.\n+\n+\n+## 2009.04.08: Changes between NTL 5.4.2 and 5.5\n+\n+* Added the ability to generate a *shared* library (with help from Tim Abbott). [Details.](http://www.shoup.net/ntl/doc/tour-unix.html#shared)\n+* Fixed some standardization issues (with help from Tim Abbott): default location of installed documentation files now conforms to standards; use of `EOF` now conforms to standards.\n+* Added a callback mechanism to NTL's error reporting function. See `ErrorCallback` in [tools.txt](http://www.shoup.net/ntl/doc/tools.txt).\n+* Added support for the `gf2x` library for speeding up arithmetic in `GF2X` (with help from Emmanuel Thom\u00e9). [Details.](http://www.shoup.net/ntl/doc/tour-gf2x.html)\n+* In conjuction with the above, I also changed the `GF2X` so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.\n+* Fixed a bug in `void TraceMod(zz_p& x, const zz_pX& a, const zz_pXModulus& F)` (reported by Luca De Feo).\n+* Fixed a performance issue in various versions of `SetCoeff` (reported by Luca De Feo).\n+* Fixed the declaration of `mat_zz_p transpose(const mat_zz_p& a)` (reported by Benoit Lacelle).\n+\n+---\n+\n+So we should be able to drop a couple custom patches.\n+\n+Cheers,\n+\n+Michael\n+\n+---\n+\n+The current version in Sage (4.5.3) is NTL 5.4.2[.p12].\n \n \n Comment: 1\n``````\n",
    "created_at": "2010-09-03T21:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45910",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,39 @@
+From http://www.shoup.net/ntl/doc/tour-changes.html (03.09.2010):
+
+## 2009.08.14: Changes between NTL 5.5.1 and 5.5.2
+
+* New routines `MulAddTo` and `MulSubFrom` for computing `x += a*b` and `x -= a*b`, where `x` and `a` are `ZZ`'s and `b` is a `ZZ` or a `long`. In the case where `b` is a `long`, this may be much faster than writing `mul(t, a, b); add(x, x, t)`. See [ZZ.txt](http://www.shoup.net/ntl/doc/ZZ.txt) for details. These new routines are used in a number of places in NTL to get faster algorithms (for example, the `LLL` routine).
+* Fixed a relatively benign indexing bug in `GF2EX` discovered by Berend-Benjamin Tams using the `valgrind` tool. 
+
+
+## 2009.05.05: Changes between NTL 5.5 and 5.5.1
+
+* If using GMP (via either `NTL_GMP_LIP` or `NTL_GMP_HACK`), then the new version (4.3.0) of GMP implements the `XGCD` functionality differently, so that the coefficients do not always agree with those returned by the classical extended Euclidean algorithm. This version of NTL corrects the coefficients, so that the "classical" coefficients are always produced, regardless of GMP's implementation. This version of NTL also works around a bug in GMP 4.3.0's `XGCD` code (although that bug should be fixed in GMP 4.3.1).
+* The `configure` script has been slightly modified: there is a new configuration variable `DEF_PREFIX`, whose value can be used to set `PREFIX`, `GMP_PREFIX`, and `GF2X_PREFIX` in one stroke. Also, the (somewhat esoteric) `configure` variables `GMP_LIBDIR`, `GMP_INCDIR`, `GF2X_LIBDIR`, and `GF2X_INCDIR` have slightly different meanings now.
+
+
+## 2009.04.08: Changes between NTL 5.4.2 and 5.5
+
+* Added the ability to generate a *shared* library (with help from Tim Abbott). [Details.](http://www.shoup.net/ntl/doc/tour-unix.html#shared)
+* Fixed some standardization issues (with help from Tim Abbott): default location of installed documentation files now conforms to standards; use of `EOF` now conforms to standards.
+* Added a callback mechanism to NTL's error reporting function. See `ErrorCallback` in [tools.txt](http://www.shoup.net/ntl/doc/tools.txt).
+* Added support for the `gf2x` library for speeding up arithmetic in `GF2X` (with help from Emmanuel Thomé). [Details.](http://www.shoup.net/ntl/doc/tour-gf2x.html)
+* In conjuction with the above, I also changed the `GF2X` so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.
+* Fixed a bug in `void TraceMod(zz_p& x, const zz_pX& a, const zz_pXModulus& F)` (reported by Luca De Feo).
+* Fixed a performance issue in various versions of `SetCoeff` (reported by Luca De Feo).
+* Fixed the declaration of `mat_zz_p transpose(const mat_zz_p& a)` (reported by Benoit Lacelle).
+
+---
+
+So we should be able to drop a couple custom patches.
+
+Cheers,
+
+Michael
+
+---
+
+The current version in Sage (4.5.3) is NTL 5.4.2[.p12].
 
 
 Comment: 1
``````




---

archive/issue_comments_045911.json:
```json
{
    "body": "Changing keywords from \"\" to \"upgrade\".",
    "created_at": "2010-09-03T21:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45911",
    "user": "https://github.com/nexttime"
}
```

Changing keywords from "" to "upgrade".



---

archive/issue_comments_045912.json:
```json
{
    "body": "Remove assignee mabshoff.",
    "created_at": "2010-09-03T21:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45912",
    "user": "https://github.com/nexttime"
}
```

Remove assignee mabshoff.



---

archive/issue_comments_045913.json:
```json
{
    "body": "<a id='comment:5'></a>Attachment [ntl-5.5.2.p1.spkg](tarball://root/attachments/some-uuid/ticket5731/ntl-5.5.2.p1.spkg) by mraum created at 2011-03-21 23:30:25\n\nThis works for me with all long tests.",
    "created_at": "2011-03-21T23:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45913",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

<a id='comment:5'></a>Attachment [ntl-5.5.2.p1.spkg](tarball://root/attachments/some-uuid/ticket5731/ntl-5.5.2.p1.spkg) by mraum created at 2011-03-21 23:30:25

This works for me with all long tests.



---

archive/issue_comments_045914.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-03-21T23:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45914",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_045915.json:
```json
{
    "body": "<a id='comment:6'></a>two things. \n* trac is not a place to attach spkg. \n* why is it .p1? It should just be ntl-5.5.2.spkg\n\nOther than that I have no doubts that it works out of the box personally, and you save me from creating a spkg.",
    "created_at": "2011-03-22T01:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45915",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>two things. 
* trac is not a place to attach spkg. 
* why is it .p1? It should just be ntl-5.5.2.spkg

Other than that I have no doubts that it works out of the box personally, and you save me from creating a spkg.



---

archive/issue_comments_045916.json:
```json
{
    "body": "<a id='comment:7'></a>Installed fine for me on top of 4.7.alpha1, and all tests passed.  (ubuntu linux 64-bit).\n\nNote that since several other spkgs use NTL (for example, eclib), someone should check that they all build ok.  One way to do this would be to put the spkg into the next alpha and let the automatic testing system see what happens.",
    "created_at": "2011-03-22T23:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45916",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:7'></a>Installed fine for me on top of 4.7.alpha1, and all tests passed.  (ubuntu linux 64-bit).

Note that since several other spkgs use NTL (for example, eclib), someone should check that they all build ok.  One way to do this would be to put the spkg into the next alpha and let the automatic testing system see what happens.



---

archive/issue_comments_045917.json:
```json
{
    "body": "<a id='comment:8'></a>I have been using ntl-5.5.2 in sage-on-gentoo since\n\n```\n     Mon Nov  9 10:55:35 2009 >>> dev-libs/ntl-5.5.2\n       merge time: 10 minutes and 27 seconds.                                                                                       \n```\nthe following depend on ntl:\n* flint\n* singular\n* linbox\n* eclib\n* sage (through c_lib and several extensions so sage -ba is required)\n\nI have rebuild/updated all of those since 2009 so I don't expect any shocking results.",
    "created_at": "2011-03-23T00:32:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45917",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>I have been using ntl-5.5.2 in sage-on-gentoo since

```
     Mon Nov  9 10:55:35 2009 >>> dev-libs/ntl-5.5.2
       merge time: 10 minutes and 27 seconds.                                                                                       
```
the following depend on ntl:
* flint
* singular
* linbox
* eclib
* sage (through c_lib and several extensions so sage -ba is required)

I have rebuild/updated all of those since 2009 so I don't expect any shocking results.



---

archive/issue_comments_045918.json:
```json
{
    "body": "<a id='comment:9'></a>I am putting this for 4.7.1. Hopefully I'll find the time to give a proper review.",
    "created_at": "2011-05-02T00:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45918",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'></a>I am putting this for 4.7.1. Hopefully I'll find the time to give a proper review.



---

archive/issue_events_013453.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-05-02T00:00:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "milestone": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5731#event-13453"
}
```



---

archive/issue_events_013454.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-05-02T00:00:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5731#event-13454"
}
```



---

archive/issue_comments_045919.json:
```json
{
    "body": "<a id='comment:10'></a>OK I had a closer look at the spkg. First of SPKG.txt hasn't been updated, the hg repo looks ok so I suppose you only changed the content of the src directory. This need a bit of work. I may elect to do the finishing bits if I have time this week.",
    "created_at": "2011-05-31T23:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45919",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>OK I had a closer look at the spkg. First of SPKG.txt hasn't been updated, the hg repo looks ok so I suppose you only changed the content of the src directory. This need a bit of work. I may elect to do the finishing bits if I have time this week.



---

archive/issue_comments_045920.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-05-31T23:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45920",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_045921.json:
```json
{
    "body": "<a id='comment:11'></a>So I have looked more closely. You updated the patches and everything but didn't update the info in SPKG.txt. What I will do is update SPKG.txt with your details make a nice ntl-5.5.2.spkg and post it on google-code and I will put myself and John Cremona as reviewer.\n\nOnce that's done can you have a quick check and put it to positive review John?",
    "created_at": "2011-06-01T03:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45921",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>So I have looked more closely. You updated the patches and everything but didn't update the info in SPKG.txt. What I will do is update SPKG.txt with your details make a nice ntl-5.5.2.spkg and post it on google-code and I will put myself and John Cremona as reviewer.

Once that's done can you have a quick check and put it to positive review John?



---

archive/issue_comments_045922.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-06-01T04:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45922",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_045923.json:
```json
{
    "body": "<a id='comment:12'></a>New spkg upload on google-code, link in updated description. Let's get a final sign off on this.",
    "created_at": "2011-06-01T04:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45923",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>New spkg upload on google-code, link in updated description. Let's get a final sign off on this.



---

archive/issue_comments_045924.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,42 @@\n+From http://www.shoup.net/ntl/doc/tour-changes.html (03.09.2010):\n+\n+## 2009.08.14: Changes between NTL 5.5.1 and 5.5.2\n+\n+* New routines `MulAddTo` and `MulSubFrom` for computing `x += a*b` and `x -= a*b`, where `x` and `a` are `ZZ`'s and `b` is a `ZZ` or a `long`. In the case where `b` is a `long`, this may be much faster than writing `mul(t, a, b); add(x, x, t)`. See [ZZ.txt](http://www.shoup.net/ntl/doc/ZZ.txt) for details. These new routines are used in a number of places in NTL to get faster algorithms (for example, the `LLL` routine).\n+* Fixed a relatively benign indexing bug in `GF2EX` discovered by Berend-Benjamin Tams using the `valgrind` tool. \n+\n+\n+## 2009.05.05: Changes between NTL 5.5 and 5.5.1\n+\n+* If using GMP (via either `NTL_GMP_LIP` or `NTL_GMP_HACK`), then the new version (4.3.0) of GMP implements the `XGCD` functionality differently, so that the coefficients do not always agree with those returned by the classical extended Euclidean algorithm. This version of NTL corrects the coefficients, so that the \"classical\" coefficients are always produced, regardless of GMP's implementation. This version of NTL also works around a bug in GMP 4.3.0's `XGCD` code (although that bug should be fixed in GMP 4.3.1).\n+* The `configure` script has been slightly modified: there is a new configuration variable `DEF_PREFIX`, whose value can be used to set `PREFIX`, `GMP_PREFIX`, and `GF2X_PREFIX` in one stroke. Also, the (somewhat esoteric) `configure` variables `GMP_LIBDIR`, `GMP_INCDIR`, `GF2X_LIBDIR`, and `GF2X_INCDIR` have slightly different meanings now.\n+\n+\n+## 2009.04.08: Changes between NTL 5.4.2 and 5.5\n+\n+* Added the ability to generate a *shared* library (with help from Tim Abbott). [Details.](http://www.shoup.net/ntl/doc/tour-unix.html#shared)\n+* Fixed some standardization issues (with help from Tim Abbott): default location of installed documentation files now conforms to standards; use of `EOF` now conforms to standards.\n+* Added a callback mechanism to NTL's error reporting function. See `ErrorCallback` in [tools.txt](http://www.shoup.net/ntl/doc/tools.txt).\n+* Added support for the `gf2x` library for speeding up arithmetic in `GF2X` (with help from Emmanuel Thom\u00e9). [Details.](http://www.shoup.net/ntl/doc/tour-gf2x.html)\n+* In conjuction with the above, I also changed the `GF2X` so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.\n+* Fixed a bug in `void TraceMod(zz_p& x, const zz_pX& a, const zz_pXModulus& F)` (reported by Luca De Feo).\n+* Fixed a performance issue in various versions of `SetCoeff` (reported by Luca De Feo).\n+* Fixed the declaration of `mat_zz_p transpose(const mat_zz_p& a)` (reported by Benoit Lacelle).\n+\n+---\n+\n+So we should be able to drop a couple custom patches.\n+\n+Cheers,\n+\n+Michael\n+\n+---\n+\n+The current version in Sage (4.5.3) is NTL 5.4.2[.p12].\n+\n+\n+New spkg: [http://spkg-upload.googlecode.com/files/ntl-5.5.2.spkg](http://spkg-upload.googlecode.com/files/ntl-5.5.2.spkg)\n \n \n Comment: 1\n``````\n",
    "created_at": "2011-06-01T04:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45924",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,42 @@
+From http://www.shoup.net/ntl/doc/tour-changes.html (03.09.2010):
+
+## 2009.08.14: Changes between NTL 5.5.1 and 5.5.2
+
+* New routines `MulAddTo` and `MulSubFrom` for computing `x += a*b` and `x -= a*b`, where `x` and `a` are `ZZ`'s and `b` is a `ZZ` or a `long`. In the case where `b` is a `long`, this may be much faster than writing `mul(t, a, b); add(x, x, t)`. See [ZZ.txt](http://www.shoup.net/ntl/doc/ZZ.txt) for details. These new routines are used in a number of places in NTL to get faster algorithms (for example, the `LLL` routine).
+* Fixed a relatively benign indexing bug in `GF2EX` discovered by Berend-Benjamin Tams using the `valgrind` tool. 
+
+
+## 2009.05.05: Changes between NTL 5.5 and 5.5.1
+
+* If using GMP (via either `NTL_GMP_LIP` or `NTL_GMP_HACK`), then the new version (4.3.0) of GMP implements the `XGCD` functionality differently, so that the coefficients do not always agree with those returned by the classical extended Euclidean algorithm. This version of NTL corrects the coefficients, so that the "classical" coefficients are always produced, regardless of GMP's implementation. This version of NTL also works around a bug in GMP 4.3.0's `XGCD` code (although that bug should be fixed in GMP 4.3.1).
+* The `configure` script has been slightly modified: there is a new configuration variable `DEF_PREFIX`, whose value can be used to set `PREFIX`, `GMP_PREFIX`, and `GF2X_PREFIX` in one stroke. Also, the (somewhat esoteric) `configure` variables `GMP_LIBDIR`, `GMP_INCDIR`, `GF2X_LIBDIR`, and `GF2X_INCDIR` have slightly different meanings now.
+
+
+## 2009.04.08: Changes between NTL 5.4.2 and 5.5
+
+* Added the ability to generate a *shared* library (with help from Tim Abbott). [Details.](http://www.shoup.net/ntl/doc/tour-unix.html#shared)
+* Fixed some standardization issues (with help from Tim Abbott): default location of installed documentation files now conforms to standards; use of `EOF` now conforms to standards.
+* Added a callback mechanism to NTL's error reporting function. See `ErrorCallback` in [tools.txt](http://www.shoup.net/ntl/doc/tools.txt).
+* Added support for the `gf2x` library for speeding up arithmetic in `GF2X` (with help from Emmanuel Thomé). [Details.](http://www.shoup.net/ntl/doc/tour-gf2x.html)
+* In conjuction with the above, I also changed the `GF2X` so that it works better with very large polynomials: large blocks of memory are released, recursive HalfGCD algorithms are used for large polynomials.
+* Fixed a bug in `void TraceMod(zz_p& x, const zz_pX& a, const zz_pXModulus& F)` (reported by Luca De Feo).
+* Fixed a performance issue in various versions of `SetCoeff` (reported by Luca De Feo).
+* Fixed the declaration of `mat_zz_p transpose(const mat_zz_p& a)` (reported by Benoit Lacelle).
+
+---
+
+So we should be able to drop a couple custom patches.
+
+Cheers,
+
+Michael
+
+---
+
+The current version in Sage (4.5.3) is NTL 5.4.2[.p12].
+
+
+New spkg: [http://spkg-upload.googlecode.com/files/ntl-5.5.2.spkg](http://spkg-upload.googlecode.com/files/ntl-5.5.2.spkg)
 
 
 Comment: 1
``````




---

archive/issue_comments_045925.json:
```json
{
    "body": "<a id='comment:14'></a>I am checking this now.\n\nJohn",
    "created_at": "2011-06-01T11:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45925",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:14'></a>I am checking this now.

John



---

archive/issue_comments_045926.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-06-01T12:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45926",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_045927.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 cremona]:\n> I am checking this now.\n> \n> John\n\n\nI started with a fresh build of 4.7.1.alpha0 which passes all tests;  built the new spkg here (with SAGE_CHECK=yes\"); did \"sage -ba\" followed by \"sage -t -long\", and all tests pass.\n\nThe spkg itself is ok (though there's a typo \"numbery\" in the README, and William should probably not be the only spkg maintainer listed), so I am giving this a positive review and hop that it can go into the next alpha form 4.7.1.",
    "created_at": "2011-06-01T12:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45927",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:15'></a>Replying to [comment:14 cremona]:
> I am checking this now.
> 
> John


I started with a fresh build of 4.7.1.alpha0 which passes all tests;  built the new spkg here (with SAGE_CHECK=yes"); did "sage -ba" followed by "sage -t -long", and all tests pass.

The spkg itself is ok (though there's a typo "numbery" in the README, and William should probably not be the only spkg maintainer listed), so I am giving this a positive review and hop that it can go into the next alpha form 4.7.1.



---

archive/issue_events_013455.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-10T08:52:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5731#event-13455"
}
```



---

archive/issue_comments_045928.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-06-10T08:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5731#issuecomment-45928",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
