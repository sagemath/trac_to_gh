# Issue 5805: Sage 3.4.1.rc3: numerical noise in "devel/sage/sage/modular/dirichlet.py"

archive/issues_005805.json:
```json
{
    "assignees": [],
    "body": "On Fedora 9, 32 bit:\n\n\n```\nsage -t  \"devel/sage/sage/modular/dirichlet.py\"             \n**********************************************************************\nFile \"/home/jaap/downloads/sage-3.4.1.rc0/devel/sage/sage/modular/dirichlet.py\", line 1044:\n    sage: e.kloosterman_sum_numerical()\nExpected:\n    7.21644966006e-16 + 1.73205080757*I\nGot:\n    6.66133814775e-16 + 1.73205080757*I\n**********************************************************************\n1 items had failures:\n   1 of   8 in __main__.example_29\n***Test Failed*** 1 failures.\n\n```\n\n\nCheers,\n\nJaap\n\n\n\nAssignee: **mabshoff**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5805_\n\n",
    "closed_at": "2009-04-18T23:12:22Z",
    "created_at": "2009-04-16T21:02:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.4.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Sage 3.4.1.rc3: numerical noise in \"devel/sage/sage/modular/dirichlet.py\"",
    "type": "issue",
    "updated_at": "2009-04-18T23:12:22Z",
    "url": "https://github.com/sagemath/sage/issues/5805",
    "user": "https://github.com/jaapspies"
}
```
On Fedora 9, 32 bit:


```
sage -t  "devel/sage/sage/modular/dirichlet.py"             
**********************************************************************
File "/home/jaap/downloads/sage-3.4.1.rc0/devel/sage/sage/modular/dirichlet.py", line 1044:
    sage: e.kloosterman_sum_numerical()
Expected:
    7.21644966006e-16 + 1.73205080757*I
Got:
    6.66133814775e-16 + 1.73205080757*I
**********************************************************************
1 items had failures:
   1 of   8 in __main__.example_29
***Test Failed*** 1 failures.

```


Cheers,

Jaap



Assignee: **mabshoff**

_Issue created by migration from https://trac.sagemath.org/ticket/5805_





---

archive/issue_events_060473.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-04-16T21:02:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60473"
}
```



---

archive/issue_events_060474.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-04-16T21:02:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
    "label_color": "0000ff",
    "label_name": "component: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60474"
}
```



---

archive/issue_events_060475.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-04-16T21:02:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60475"
}
```



---

archive/issue_events_060476.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-04-16T21:02:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60476"
}
```



---

archive/issue_events_060477.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-17T10:18:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
    "label_color": "0000ff",
    "label_name": "component: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60477"
}
```



---

archive/issue_events_060478.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-17T10:18:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60478"
}
```



---

archive/issue_comments_038384.json:
```json
{
    "body": "Changed assignee from **@craigcitro** to **mabshoff**",
    "created_at": "2009-04-17T10:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5805#issuecomment-38384",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Changed assignee from **@craigcitro** to **mabshoff**



---

archive/issue_comments_038385.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAnother datapoint from 3.4.1.rc3 on Solaris 10/x86-64 running in 32 bit mode:\n\n```\nsage -t -long devel/sage/sage/modular/dirichlet.py\n**********************************************************************\nFile \"/home/mabshoff/build-3.4.1.rc2/sage-3.4.1.rc2-fulvia-gcc-4.3.3/\ndevel/sage-main/sage/modular/dirichlet.py\", line 10\n44:\n    sage: e.kloosterman_sum_numerical()\nExpected:\n    7.21644966006e-16 + 1.73205080757*I\nGot:\n    6.66133814775e-16 + 1.73205080757*I\n**********************************************************************\n```",
    "created_at": "2009-04-17T10:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5805#issuecomment-38385",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:1'>Comment 1:</a>
Another datapoint from 3.4.1.rc3 on Solaris 10/x86-64 running in 32 bit mode:

```
sage -t -long devel/sage/sage/modular/dirichlet.py
**********************************************************************
File "/home/mabshoff/build-3.4.1.rc2/sage-3.4.1.rc2-fulvia-gcc-4.3.3/
devel/sage-main/sage/modular/dirichlet.py", line 10
44:
    sage: e.kloosterman_sum_numerical()
Expected:
    7.21644966006e-16 + 1.73205080757*I
Got:
    6.66133814775e-16 + 1.73205080757*I
**********************************************************************
```



---

archive/issue_comments_038386.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nAdd the Sage release, make it clear it is a blocker. \n\nCheers,\n\nMichael",
    "created_at": "2009-04-17T11:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5805#issuecomment-38386",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:2'>Comment 2:</a>
Add the Sage release, make it clear it is a blocker. 

Cheers,

Michael



---

archive/issue_events_060479.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-17T11:32:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60479"
}
```



---

archive/issue_events_060480.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-17T11:32:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60480"
}
```



---

archive/issue_events_060481.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-17T11:32:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "title_is": "Sage 3.4.1.rc3: numerical noise in \"devel/sage/sage/modular/dirichlet.py\"",
    "title_was": "numerical noise in \"devel/sage/sage/modular/dirichlet.py\"",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60481"
}
```



---

archive/issue_events_060482.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-18T08:24:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60482"
}
```



---

archive/issue_comments_038387.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nAttachment: **[trac_5805.patch.gz](https://github.com/sagemath/sage/files/ticket5805/trac_5805.patch.gz)**",
    "created_at": "2009-04-18T08:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5805#issuecomment-38387",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:3'>Comment 3:</a>
Attachment: **[trac_5805.patch.gz](https://github.com/sagemath/sage/files/ticket5805/trac_5805.patch.gz)**



---

archive/issue_events_060483.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-04-18T14:27:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60483"
}
```



---

archive/issue_events_060484.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-04-18T14:27:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60484"
}
```



---

archive/issue_comments_038388.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nPatch looks good to me, applied ok to 3.4.1.rc3 and passed test on 32- and 64-bit.",
    "created_at": "2009-04-18T14:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5805#issuecomment-38388",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'>Comment 4:</a>
Patch looks good to me, applied ok to 3.4.1.rc3 and passed test on 32- and 64-bit.



---

archive/issue_events_060485.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-18T23:12:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60485"
}
```



---

archive/issue_events_060486.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-18T23:12:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5805#event-60486"
}
```



---

archive/issue_comments_038389.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nMerged in Sage 3.4.1.rc4.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-18T23:12:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5805",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5805#issuecomment-38389",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:5'>Comment 5:</a>
Merged in Sage 3.4.1.rc4.

Cheers,

Michael
