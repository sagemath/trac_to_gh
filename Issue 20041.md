# Issue 20041: Compute fundamental domain for symmetry groups of polyhedra

archive/issues_020041.json:
```json
{
    "body": "CC:  tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/20278\n\n",
    "created_at": "2016-03-24T11:12:00Z",
    "labels": [
        "geometry",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Compute fundamental domain for symmetry groups of polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20041",
    "user": "jdemeyer"
}
```
CC:  tscrim



Issue created by migration from https://trac.sagemath.org/ticket/20278





---

archive/issue_comments_276095.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-29T07:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276095",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276096.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-29T08:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276096",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276097.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-29T16:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276097",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276098.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-31T11:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276098",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276099.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-31T12:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276099",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276100.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-31T12:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276100",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276101.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-31T14:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276101",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276102.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-02T13:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276102",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276103.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-13T09:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276103",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276104.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-05-09T09:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276104",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276105.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-05-30T08:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276105",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_276106.json:
```json
{
    "body": "There should be better error handling when the user passes a group that is not finite. By wishful thinking, I thought I could do:\n\n```\nsage: P = Polyhedron(lines=[(1,0), (0,1)])\nsage: T2 = MatrixGroup(matrix(QQ,[[1, 0, 1], [0, 1, 0], [0, 0, 1]]), [[1, 0, 0], [0, 1, 1], [0, 0, 1]])\nsage: P.fundamental_domain(T2)\n```\n\nbut it gives an unhelpful error:\n\n```\nAttributeError                            Traceback (most recent call last)\n<ipython-input-6-3e2d754d11ba> in <module>()\n----> 1 P.fundamental_domain(T2)\n\n/Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in fundamental_domain(self, group)\n   4882             from sage.groups.affine_gps.affine_group import AffineGroup\n   4883             AGL = AffineGroup(self.ambient_dim(), self.base_ring().fraction_field())\n-> 4884             G = [AGL(g).matrix() for g in group]\n   4885 \n   4886         # We need to find a good \"center\" point for the fundamental\n\n/Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/groups/matrix_gps/matrix_group.pyc in __iter__(self)\n    612         if not self.is_finite():\n    613             # use implementation from category framework\n--> 614             for g in super(Group, self).__iter__():\n    615                 yield g\n    616             return\n\nAttributeError: 'super' object has no attribute '__iter__'\n```\n\n----\nNew commits:",
    "created_at": "2016-08-12T01:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276106",
    "user": "mkoeppe"
}
```

There should be better error handling when the user passes a group that is not finite. By wishful thinking, I thought I could do:

```
sage: P = Polyhedron(lines=[(1,0), (0,1)])
sage: T2 = MatrixGroup(matrix(QQ,[[1, 0, 1], [0, 1, 0], [0, 0, 1]]), [[1, 0, 0], [0, 1, 1], [0, 0, 1]])
sage: P.fundamental_domain(T2)
```

but it gives an unhelpful error:

```
AttributeError                            Traceback (most recent call last)
<ipython-input-6-3e2d754d11ba> in <module>()
----> 1 P.fundamental_domain(T2)

/Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in fundamental_domain(self, group)
   4882             from sage.groups.affine_gps.affine_group import AffineGroup
   4883             AGL = AffineGroup(self.ambient_dim(), self.base_ring().fraction_field())
-> 4884             G = [AGL(g).matrix() for g in group]
   4885 
   4886         # We need to find a good "center" point for the fundamental

/Users/mkoeppe/cvs/sage/local/lib/python2.7/site-packages/sage/groups/matrix_gps/matrix_group.pyc in __iter__(self)
    612         if not self.is_finite():
    613             # use implementation from category framework
--> 614             for g in super(Group, self).__iter__():
    615                 yield g
    616             return

AttributeError: 'super' object has no attribute '__iter__'
```

----
New commits:



---

archive/issue_comments_276107.json:
```json
{
    "body": "See also #21228.",
    "created_at": "2016-08-12T01:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20041#issuecomment-276107",
    "user": "mkoeppe"
}
```

See also #21228.
