# Issue 20128: allow building with unpatched cython

Issue created by migration from Trac.

Original creator: jcristau

Original creation time: 2016-04-06 09:53:42

CC:  fbissey

Currently sage adds two patches on top of cython 0.23.4.p0.  One of them is upstream but not yet in a release, the other one was, as I understand it, rejected by cython upstream.
As far as I can tell, both can be rather cheaply avoided, allowing to build sage with an unpatched release version of cython.


---

Comment by jcristau created at 2016-04-06 09:56:00

monkeypatch Cython.Compiler.Main.Context.find_include_file


---

Attachment


---

Comment by jdemeyer created at 2016-04-06 14:57:33

There is actually a simpler patch possible, see http://cysignals.readthedocs.org/en/latest/#basic-example


---

Comment by jdemeyer created at 2017-06-09 12:18:30

This Cython patch is needed to support cross-package `include` statements. The current plan is to remove those `include` statements. Then Sage will build without that patch. I have been working on this, the last remaining piece is #23195.


---

Comment by jdemeyer created at 2017-06-09 12:18:30

Resolution: worksforme
