# Issue 30926: sage-spkg: For script packages without spkg-install, run "sage -info" and exit with error

archive/issues_030926.json:
```json
{
    "body": "CC:  @kliem jhpalmieri slelievre\n\nThen scripts like `build/pkgs/perl_cpan_polymake_prereq/spkg-install` can be removed.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31163\n\n",
    "created_at": "2021-01-02T20:35:43Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "sage-spkg: For script packages without spkg-install, run \"sage -info\" and exit with error",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30926",
    "user": "mkoeppe"
}
```
CC:  @kliem jhpalmieri slelievre

Then scripts like `build/pkgs/perl_cpan_polymake_prereq/spkg-install` can be removed.

Issue created by migration from https://trac.sagemath.org/ticket/31163





---

archive/issue_comments_441853.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441853",
    "user": "mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_441854.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-09-18T19:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441854",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_441855.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-18T19:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441855",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_441856.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-20T04:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441856",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_441857.json:
```json
{
    "body": "Comparing https://github.com/sagemath/sagetrac-mirror/actions/runs/1249185115 with https://github.com/sagemath/sage/actions/runs/1231575049 shows much fewer \"ERROR IN LOG FILE\" annotations.\n\nReady for review",
    "created_at": "2021-09-20T04:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441857",
    "user": "mkoeppe"
}
```

Comparing https://github.com/sagemath/sagetrac-mirror/actions/runs/1249185115 with https://github.com/sagemath/sage/actions/runs/1231575049 shows much fewer "ERROR IN LOG FILE" annotations.

Ready for review



---

archive/issue_comments_441858.json:
```json
{
    "body": "A small issue: running `./sage -i graphviz` prints this at the end:\n\n```\nThe following package(s) may have failed to build (not necessarily\nduring this run of 'make graphviz'):\n\nIt is safe to delete any log files and build directories, but they\ncontain information that is helpful for debugging build problems.\nWARNING: If you now run 'make' again, the build directory of the\nsame version of the package will, by default, be deleted. Set the\nenvironment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.\n```\n\nShould `sage --info ...` also write the output to a log file with an appropriate error so that it gets flagged in this message?",
    "created_at": "2021-09-21T04:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441858",
    "user": "jhpalmieri"
}
```

A small issue: running `./sage -i graphviz` prints this at the end:

```
The following package(s) may have failed to build (not necessarily
during this run of 'make graphviz'):

It is safe to delete any log files and build directories, but they
contain information that is helpful for debugging build problems.
WARNING: If you now run 'make' again, the build directory of the
same version of the package will, by default, be deleted. Set the
environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.
```

Should `sage --info ...` also write the output to a log file with an appropriate error so that it gets flagged in this message?



---

archive/issue_comments_441859.json:
```json
{
    "body": "I don't think this would be very useful. The output already goes to `logs/install.log`",
    "created_at": "2021-09-21T04:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441859",
    "user": "mkoeppe"
}
```

I don't think this would be very useful. The output already goes to `logs/install.log`



---

archive/issue_comments_441860.json:
```json
{
    "body": "Also, and I'm guessing this is beyond the scope of this ticket, but on my Mac I did `brew install graphviz` and then `./configure`, and it said\n\n```\nconfigure:43560: result: graphviz-none:                               using system package; SPKG will not be installed\n```\n\nIt would be nice if `make graphviz` said that it was already installed as a system package, rather than giving the same error message as if it weren't installed.",
    "created_at": "2021-09-21T15:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441860",
    "user": "jhpalmieri"
}
```

Also, and I'm guessing this is beyond the scope of this ticket, but on my Mac I did `brew install graphviz` and then `./configure`, and it said

```
configure:43560: result: graphviz-none:                               using system package; SPKG will not be installed
```

It would be nice if `make graphviz` said that it was already installed as a system package, rather than giving the same error message as if it weren't installed.



---

archive/issue_comments_441861.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-21T23:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441861",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_441862.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-21T23:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441862",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_441863.json:
```json
{
    "body": "Replying to [comment:12 jhpalmieri]:\n> Also, and I'm guessing this is beyond the scope of this ticket, but on my Mac I did `brew install graphviz` and then `./configure`, and it said\n> {{{\n> result: graphviz-none:                               using system package; SPKG will not be installed\n> }}}\nIt also used to say:\n\n```\nperl_cpan_polymake_prereq-none:              no suitable system package; optional, use \"./configure --enable-perl_cpan_polymake_prereq\" to install\n```\n\n\nI just made some improvements to both of these messages. I am now getting:\n\n```\npandoc-none:                                 using system package\n...\nperl_cpan_polymake_prereq-none:              no suitable system package; optional\n```\n\n\nAlso I have removed the useless configure options `--enable-perl_cpan_polymake_prereq` (whose only function was to provoke an error at `make` time) -- so they are no longer shown in `./configure --help`.",
    "created_at": "2021-09-21T23:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441863",
    "user": "mkoeppe"
}
```

Replying to [comment:12 jhpalmieri]:
> Also, and I'm guessing this is beyond the scope of this ticket, but on my Mac I did `brew install graphviz` and then `./configure`, and it said
> {{{
> result: graphviz-none:                               using system package; SPKG will not be installed
> }}}
It also used to say:

```
perl_cpan_polymake_prereq-none:              no suitable system package; optional, use "./configure --enable-perl_cpan_polymake_prereq" to install
```


I just made some improvements to both of these messages. I am now getting:

```
pandoc-none:                                 using system package
...
perl_cpan_polymake_prereq-none:              no suitable system package; optional
```


Also I have removed the useless configure options `--enable-perl_cpan_polymake_prereq` (whose only function was to provoke an error at `make` time) -- so they are no longer shown in `./configure --help`.



---

archive/issue_comments_441864.json:
```json
{
    "body": "Replying to [comment:12 jhpalmieri]:\n> It would be nice if `make graphviz` said that it was already installed as a system package, rather than giving the same error message as if it weren't installed.\n\nThis wouldn't be consistent with what `make SPKG` does for installable packages: When the system package is in use, `make SPKG` will nevertheless build the SPKG.\n\nWe unfortunately do not have make targets that would mean \"make sure that SPKG exists, either as system package or a built package\" -- see #31501 for this",
    "created_at": "2021-09-21T23:42:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441864",
    "user": "mkoeppe"
}
```

Replying to [comment:12 jhpalmieri]:
> It would be nice if `make graphviz` said that it was already installed as a system package, rather than giving the same error message as if it weren't installed.

This wouldn't be consistent with what `make SPKG` does for installable packages: When the system package is in use, `make SPKG` will nevertheless build the SPKG.

We unfortunately do not have make targets that would mean "make sure that SPKG exists, either as system package or a built package" -- see #31501 for this



---

archive/issue_comments_441865.json:
```json
{
    "body": "Although it would be consistent with what we do for an installable package when the system package is not in use (or does not exist): if it's already built, `make PKG` doesn't build it again, I get \"Nothing to (re)build / all up-to-date.\" Should we treat an uninstallable system package like that? Anyway, I agree, that's #31501.",
    "created_at": "2021-09-22T02:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441865",
    "user": "jhpalmieri"
}
```

Although it would be consistent with what we do for an installable package when the system package is not in use (or does not exist): if it's already built, `make PKG` doesn't build it again, I get "Nothing to (re)build / all up-to-date." Should we treat an uninstallable system package like that? Anyway, I agree, that's #31501.



---

archive/issue_comments_441866.json:
```json
{
    "body": "Replying to [comment:17 jhpalmieri]:\n> Although it would be consistent with what we do for an installable package when the system package is not in use (or does not exist): if it's already built, `make PKG` doesn't build it again, I get \"Nothing to (re)build / all up-to-date.\" Should we treat an uninstallable system package like that? \n\nNo, I think that would be confusing",
    "created_at": "2021-09-22T02:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441866",
    "user": "mkoeppe"
}
```

Replying to [comment:17 jhpalmieri]:
> Although it would be consistent with what we do for an installable package when the system package is not in use (or does not exist): if it's already built, `make PKG` doesn't build it again, I get "Nothing to (re)build / all up-to-date." Should we treat an uninstallable system package like that? 

No, I think that would be confusing



---

archive/issue_comments_441867.json:
```json
{
    "body": "I guess `--with-system-perl_cpan_polymake_prereq` still makes sense, in particular with \"force\", but `--with-system-perl_cpan_polymake_prereq=no` doesn't. Not a big deal.",
    "created_at": "2021-09-22T02:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441867",
    "user": "jhpalmieri"
}
```

I guess `--with-system-perl_cpan_polymake_prereq` still makes sense, in particular with "force", but `--with-system-perl_cpan_polymake_prereq=no` doesn't. Not a big deal.



---

archive/issue_comments_441868.json:
```json
{
    "body": "I've lost track of the flow in `Makefile.in`. Why check `-x .../spkg-install` and not check whether `spkg-install.in` exists? Are the packages with `spkg-install.in` managed elsewhere?",
    "created_at": "2021-09-22T02:29:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441868",
    "user": "jhpalmieri"
}
```

I've lost track of the flow in `Makefile.in`. Why check `-x .../spkg-install` and not check whether `spkg-install.in` exists? Are the packages with `spkg-install.in` managed elsewhere?



---

archive/issue_comments_441869.json:
```json
{
    "body": "Replying to [comment:20 jhpalmieri]:\n> I've lost track of the flow in `Makefile.in`. Why check `-x .../spkg-install` and not check whether `spkg-install.in` exists? Are the packages with `spkg-install.in` managed elsewhere?\nScript packages don't use \".in\" files, see https://doc.sagemath.org/html/en/developer/packaging.html#install-scripts-of-script-packages",
    "created_at": "2021-09-22T02:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441869",
    "user": "mkoeppe"
}
```

Replying to [comment:20 jhpalmieri]:
> I've lost track of the flow in `Makefile.in`. Why check `-x .../spkg-install` and not check whether `spkg-install.in` exists? Are the packages with `spkg-install.in` managed elsewhere?
Script packages don't use ".in" files, see https://doc.sagemath.org/html/en/developer/packaging.html#install-scripts-of-script-packages



---

archive/issue_comments_441870.json:
```json
{
    "body": "(There's also a ticket to unify this between script and normal packages. #29386)",
    "created_at": "2021-09-22T02:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441870",
    "user": "mkoeppe"
}
```

(There's also a ticket to unify this between script and normal packages. #29386)



---

archive/issue_comments_441871.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-22T02:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441871",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_441872.json:
```json
{
    "body": "Thank you for answering all of my questions. Let's merge this.",
    "created_at": "2021-09-22T02:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441872",
    "user": "jhpalmieri"
}
```

Thank you for answering all of my questions. Let's merge this.



---

archive/issue_comments_441873.json:
```json
{
    "body": "Can we use this treatment in #31529?",
    "created_at": "2021-09-22T02:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441873",
    "user": "jhpalmieri"
}
```

Can we use this treatment in #31529?



---

archive/issue_comments_441874.json:
```json
{
    "body": "Thank you!",
    "created_at": "2021-09-22T02:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441874",
    "user": "mkoeppe"
}
```

Thank you!



---

archive/issue_comments_441875.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-09T11:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441875",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_441876.json:
```json
{
    "body": "Breaks `sage -sdist`\n\n```\n[sage_conf-9.5.beta2] Successfully built sage-conf\n[sage_conf-9.5.beta2] Using pip 21.2.4 from /home/release/Sage/local/lib64/python3.9/site-packages/pip (python 3.9)\n[sage_conf-9.5.beta2] Looking in links: /home/release/Sage/local/var/lib/sage/wheels\n[sage_conf-9.5.beta2] Processing /home/release/Sage/local/var/lib/sage/wheels/sage_conf-9.5b2-py3-none-any.whl\n[sage_conf-9.5.beta2] sage-conf is already installed with the same version as the provided wheel. Use --force-reinstall to force an installation of the wheel.\nmake --no-print-directory singular-SAGE_LOCAL-no-deps\nsage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   singular-4.2.1.p0 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/singular-4.2.1.p0.log'\n[singular-4.2.1.p0] Using cached file /home/release/Sage/upstream/singular-4.2.1.tar.gz\nmake --no-print-directory symmetrica-SAGE_LOCAL-no-deps\nsage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   symmetrica-3.0.1 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/symmetrica-3.0.1.log'\n[symmetrica-3.0.1] Using cached file /home/release/Sage/upstream/symmetrica-3.0.1.tar.xz\nmake --no-print-directory zn_poly-SAGE_LOCAL-no-deps\nsage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   zn_poly-0.9.2 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/zn_poly-0.9.2.log'\n[zn_poly-0.9.2] Using cached file /home/release/Sage/upstream/zn_poly-0.9.2.tar.gz\nrm -f /openblas.pc\n(echo \"Name: openblas\"; echo \"Description: OpenBLAS\"; echo \"Version: 0.3\"; echo \"Libs: -lopenblas \") > \"/openblas.pc\"\n/bin/sh: line 1: /openblas.pc: Permission denied\nmake[1]: *** [Makefile:68: /openblas.pc] Error 1\nmake: *** [Makefile:2369: download-for-sdist] Error 2\n```\n",
    "created_at": "2021-10-10T23:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441876",
    "user": "vbraun"
}
```

Breaks `sage -sdist`

```
[sage_conf-9.5.beta2] Successfully built sage-conf
[sage_conf-9.5.beta2] Using pip 21.2.4 from /home/release/Sage/local/lib64/python3.9/site-packages/pip (python 3.9)
[sage_conf-9.5.beta2] Looking in links: /home/release/Sage/local/var/lib/sage/wheels
[sage_conf-9.5.beta2] Processing /home/release/Sage/local/var/lib/sage/wheels/sage_conf-9.5b2-py3-none-any.whl
[sage_conf-9.5.beta2] sage-conf is already installed with the same version as the provided wheel. Use --force-reinstall to force an installation of the wheel.
make --no-print-directory singular-SAGE_LOCAL-no-deps
sage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   singular-4.2.1.p0 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/singular-4.2.1.p0.log'
[singular-4.2.1.p0] Using cached file /home/release/Sage/upstream/singular-4.2.1.tar.gz
make --no-print-directory symmetrica-SAGE_LOCAL-no-deps
sage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   symmetrica-3.0.1 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/symmetrica-3.0.1.log'
[symmetrica-3.0.1] Using cached file /home/release/Sage/upstream/symmetrica-3.0.1.tar.xz
make --no-print-directory zn_poly-SAGE_LOCAL-no-deps
sage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   zn_poly-0.9.2 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/zn_poly-0.9.2.log'
[zn_poly-0.9.2] Using cached file /home/release/Sage/upstream/zn_poly-0.9.2.tar.gz
rm -f /openblas.pc
(echo "Name: openblas"; echo "Description: OpenBLAS"; echo "Version: 0.3"; echo "Libs: -lopenblas ") > "/openblas.pc"
/bin/sh: line 1: /openblas.pc: Permission denied
make[1]: *** [Makefile:68: /openblas.pc] Error 1
make: *** [Makefile:2369: download-for-sdist] Error 2
```




---

archive/issue_comments_441877.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2021-10-10T23:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441877",
    "user": "vbraun"
}
```

Changing status from closed to new.



---

archive/issue_comments_441878.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2021-10-10T23:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441878",
    "user": "vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_441879.json:
```json
{
    "body": "Indeed, sorry",
    "created_at": "2021-10-11T00:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441879",
    "user": "mkoeppe"
}
```

Indeed, sorry



---

archive/issue_comments_441880.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-11T00:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441880",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_441881.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-11T00:28:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441881",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_441882.json:
```json
{
    "body": "I can confirm that with a vanilla 9.5.beta2 tarball + this branch, `./configure && make dist` works, while if I remove the [latest changes](https://git.sagemath.org/sage.git/commit/?id=c1bf35690044b88f2cfec4b6879c4669c138aeaf), it fails.",
    "created_at": "2021-10-11T21:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441882",
    "user": "jhpalmieri"
}
```

I can confirm that with a vanilla 9.5.beta2 tarball + this branch, `./configure && make dist` works, while if I remove the [latest changes](https://git.sagemath.org/sage.git/commit/?id=c1bf35690044b88f2cfec4b6879c4669c138aeaf), it fails.



---

archive/issue_comments_441883.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-11T21:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441883",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_441884.json:
```json
{
    "body": "Thank you!",
    "created_at": "2021-10-11T21:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441884",
    "user": "mkoeppe"
}
```

Thank you!



---

archive/issue_comments_441885.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-13T22:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30926#issuecomment-441885",
    "user": "vbraun"
}
```

Resolution: fixed
