# Issue 26465: Py3: Fix database module for python3

archive/issues_026465.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/26702\n\n",
    "created_at": "2018-11-13T16:00:56Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "Py3: Fix database module for python3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26465",
    "user": "@vinklein"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/26702





---

archive/issue_comments_372310.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-13T17:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26465#issuecomment-372310",
    "user": "@vinklein"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_372311.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-11-13T17:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26465#issuecomment-372311",
    "user": "@vinklein"
}
```

New commits:



---

archive/issue_comments_372312.json:
```json
{
    "body": "ok, looks good",
    "created_at": "2018-11-19T20:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26465#issuecomment-372312",
    "user": "@fchapoton"
}
```

ok, looks good



---

archive/issue_comments_372313.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-11-19T20:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26465#issuecomment-372313",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_372314.json:
```json
{
    "body": "Merci !",
    "created_at": "2018-11-20T08:09:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26465#issuecomment-372314",
    "user": "@vinklein"
}
```

Merci !



---

archive/issue_comments_372315.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-11-21T19:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26465#issuecomment-372315",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_372316.json:
```json
{
    "body": "Could this ticket be the cause of\n\n```\nsage -t --long src/sage/databases/sql_db.py\n**********************************************************************\nFile \"src/sage/databases/sql_db.py\", line 956, in sage.databases.sql_db.SQLDatabase.__init__\nFailed example:\n    D.show('simon')\nExpected:\n    graph6               vertices             edges\n    ------------------------------------------------------------\n    ?                    0                    0\n    @                    1                    0\n    A?                   2                    0\n    A_                   2                    1\n    B?                   3                    0\n    BG                   3                    1\n    BW                   3                    2\n    Bw                   3                    3\n    C?                   4                    0\n    C@                   4                    1\n    CB                   4                    2\n    CF                   4                    3\n    CJ                   4                    3\n    CK                   4                    2\n    CL                   4                    3\n    CN                   4                    4\n    C]                   4                    4\n    C^                   4                    5\n    C~                   4                    6\nGot:\n    graph6               vertices             edges               \n    ------------------------------------------------------------\n    ?                    0                    0                   \n    @                    1                    0                   \n    A?                   2                    0                   \n    A_                   2                    1                   \n    B?                   3                    0                   \n    BG                   3                    1                   \n    BW                   3                    2                   \n    Bw                   3                    3                   \n    C?                   4                    0                   \n    C@                   4                    1                   \n    CB                   4                    2                   \n    CF                   4                    3                   \n    CJ                   4                    3                   \n    C`                   4                    2                   \n    CR                   4                    3                   \n    CN                   4                    4                   \n    Cr                   4                    4                   \n    C^                   4                    5                   \n    C~                   4                    6                   \n**********************************************************************\nFile \"src/sage/databases/sql_db.py\", line 1004, in sage.databases.sql_db.SQLDatabase.__init__\nFailed example:\n    E.show('simon')\nExpected:\n    graph6               vertices             edges\n    ------------------------------------------------------------\n    ?                    0                    0\n    @                    1                    0\n    A?                   2                    0\n    A_                   2                    1\n    B?                   3                    0\n    BG                   3                    1\n    BW                   3                    2\n    Bw                   3                    3\n    C?                   4                    0\n    C@                   4                    1\n    CB                   4                    2\n    CF                   4                    3\n    CJ                   4                    3\n    CK                   4                    2\n    CL                   4                    3\n    CN                   4                    4\n    C]                   4                    4\n    C^                   4                    5\n    C~                   4                    6\nGot:\n    graph6               vertices             edges               \n    ------------------------------------------------------------\n    ?                    0                    0                   \n    @                    1                    0                   \n    A?                   2                    0                   \n    A_                   2                    1                   \n    B?                   3                    0                   \n    BG                   3                    1                   \n    BW                   3                    2                   \n    Bw                   3                    3                   \n    C?                   4                    0                   \n    C@                   4                    1                   \n    CB                   4                    2                   \n    CF                   4                    3                   \n    CJ                   4                    3                   \n    C`                   4                    2                   \n    CR                   4                    3                   \n    CN                   4                    4                   \n    Cr                   4                    4                   \n    C^                   4                    5                   \n    C~                   4                    6                   \n**********************************************************************\n1 item had failures:\n   2 of  26 in sage.databases.sql_db.SQLDatabase.__init__\n    [288 tests, 2 failures, 1.59 s]\n```\n\n\nDiscussion on sage-devel [here](https://groups.google.com/forum/#!topic/sage-devel/xMve4CHRi1o).",
    "created_at": "2019-01-01T22:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26465#issuecomment-372316",
    "user": "@videlec"
}
```

Could this ticket be the cause of

```
sage -t --long src/sage/databases/sql_db.py
**********************************************************************
File "src/sage/databases/sql_db.py", line 956, in sage.databases.sql_db.SQLDatabase.__init__
Failed example:
    D.show('simon')
Expected:
    graph6               vertices             edges
    ------------------------------------------------------------
    ?                    0                    0
    @                    1                    0
    A?                   2                    0
    A_                   2                    1
    B?                   3                    0
    BG                   3                    1
    BW                   3                    2
    Bw                   3                    3
    C?                   4                    0
    C@                   4                    1
    CB                   4                    2
    CF                   4                    3
    CJ                   4                    3
    CK                   4                    2
    CL                   4                    3
    CN                   4                    4
    C]                   4                    4
    C^                   4                    5
    C~                   4                    6
Got:
    graph6               vertices             edges               
    ------------------------------------------------------------
    ?                    0                    0                   
    @                    1                    0                   
    A?                   2                    0                   
    A_                   2                    1                   
    B?                   3                    0                   
    BG                   3                    1                   
    BW                   3                    2                   
    Bw                   3                    3                   
    C?                   4                    0                   
    C@                   4                    1                   
    CB                   4                    2                   
    CF                   4                    3                   
    CJ                   4                    3                   
    C`                   4                    2                   
    CR                   4                    3                   
    CN                   4                    4                   
    Cr                   4                    4                   
    C^                   4                    5                   
    C~                   4                    6                   
**********************************************************************
File "src/sage/databases/sql_db.py", line 1004, in sage.databases.sql_db.SQLDatabase.__init__
Failed example:
    E.show('simon')
Expected:
    graph6               vertices             edges
    ------------------------------------------------------------
    ?                    0                    0
    @                    1                    0
    A?                   2                    0
    A_                   2                    1
    B?                   3                    0
    BG                   3                    1
    BW                   3                    2
    Bw                   3                    3
    C?                   4                    0
    C@                   4                    1
    CB                   4                    2
    CF                   4                    3
    CJ                   4                    3
    CK                   4                    2
    CL                   4                    3
    CN                   4                    4
    C]                   4                    4
    C^                   4                    5
    C~                   4                    6
Got:
    graph6               vertices             edges               
    ------------------------------------------------------------
    ?                    0                    0                   
    @                    1                    0                   
    A?                   2                    0                   
    A_                   2                    1                   
    B?                   3                    0                   
    BG                   3                    1                   
    BW                   3                    2                   
    Bw                   3                    3                   
    C?                   4                    0                   
    C@                   4                    1                   
    CB                   4                    2                   
    CF                   4                    3                   
    CJ                   4                    3                   
    C`                   4                    2                   
    CR                   4                    3                   
    CN                   4                    4                   
    Cr                   4                    4                   
    C^                   4                    5                   
    C~                   4                    6                   
**********************************************************************
1 item had failures:
   2 of  26 in sage.databases.sql_db.SQLDatabase.__init__
    [288 tests, 2 failures, 1.59 s]
```


Discussion on sage-devel [here](https://groups.google.com/forum/#!topic/sage-devel/xMve4CHRi1o).
