# Issue 10786: CombinatorialFreeModule contains bug in latex method and is missing a latex_prefix

Issue created by migration from https://trac.sagemath.org/ticket/10852

Original creator: stumpc5

Original creation time: 2011-02-25 21:25:21

Assignee: sage-combinat

Keywords: latex, CombinatorialFreeModule

This patch provides a bugfix for the latex method for `CombinatorialFreeModule` as discussed here:

http://groups.google.com/group/sage-combinat-devel/browse_thread/thread/c2f3ca216ea88a96

The bug looked like this:


```
sage: X = CombinatorialFreeModule(QQ,ZZ) 
sage: x = X.an_element() 
sage: x 
3*B[-1] + B[0] + 3*B[1] 
sage: latex(x) 
------------------------------------------------------------ 
...   
mons = [ prefix + '_{' + ",".join(map(str, m)) + '}' for (m, _) in v ] 
TypeError: argument 2 to map() must support iteration 
```


Now, this is fixed:


```
sage: X = CombinatorialFreeModule(QQ,ZZ) 
sage: x = X.an_element() 
sage: x 
3*B[-1] + B[0] + 3*B[1] 
sage: latex(x)
3B_{-1} + B_{0} + 3B_{1}
```


It also provides a new optional argument latex_prefix for `CombinatorialFreeModule` in order to be able to get a latex symbol as output:


```
sage: X = CombinatorialFreeModule(QQ,ZZ,prefix='beta',latex_prefix='\\beta') 
sage: x = X.an_element()
sage: x
3*beta[-1] + beta[0] + 3*beta[1]
sage: latex(x)
3\beta_{-1} + \beta_{0} + 3\beta_{1}
```



---

Comment by stumpc5 created at 2011-02-25 21:26:56

Changing status from new to needs_review.


---

Attachment


---

Comment by jhpalmieri created at 2011-02-25 23:56:16

Please document the `latex_prefix` argument to `CombinatorialFreeModule`.  See #9370 for one suggestion.  (If you could merge this ticket with #9370, that would be great, too.)


---

Comment by stumpc5 created at 2011-03-12 12:28:57

Resolution: fixed


---

Comment by stumpc5 created at 2011-03-12 12:28:57

The patch is folded into #9370, so this ticket is obsolete.

Christian


---

Comment by mvngu created at 2011-03-13 02:07:37

Resolution changed from fixed to duplicate
