# Issue 15914: Making BasisExchangeMatroid fool-proof with user input sanity checks

Issue created by migration from https://trac.sagemath.org/ticket/16151

Original creator: Jayant

Original creation time: 2014-04-13 19:18:35

Assignee: Jayant Apte

CC:  rudi stefan

Following creates a segfault:

```
from sage.matroids.advanced import *
M = BasisMatroid(matroids.named_matroids.Vamos())
len(M.independent_r_sets(9))
```

This is because of wrong user input (vamos matroid has only 8 elements, so there is no independent set of size bigger than 8). This ticket is to add sanity checks on user input to filter out such cases and raise appropriate exceptions.



---

Comment by Rudi created at 2014-04-13 20:07:03

This should do it. 

I corrected independent_r_sets and also dependent_r_sets (and then I corrected myself, since the latter needed a slightly different treatment). 

As far as I can see, flats(r) is already fool-proof, and there are no other user-facing methods that take parameters.
----
New commits:


---

Comment by Rudi created at 2014-04-13 20:11:17

I made myself 'author' since I am the author of the patch. Or does that field refer to the author of the ticket? I would think not, since there are also `owner` and `reported by` fields.


---

Comment by Rudi created at 2014-04-13 20:11:17

Changing status from new to needs_review.


---

Comment by Jayant created at 2014-04-14 02:49:21

The aforementioned check is in place now and the segfault mentioned above no longer occurs. As Rudi mentioned, all user facing methods that take parameters are now safe from bad input parameters.


---

Comment by Jayant created at 2014-04-14 02:57:37

Changing status from needs_review to positive_review.


---

Comment by Rudi created at 2014-04-14 06:18:55

Thanks Jayant!


---

Comment by vbraun created at 2014-04-14 19:57:26

Resolution: fixed
