# Issue 17886: let Transducer(word) output a word

archive/issues_017886.json:
```json
{
    "body": "CC:  @videlec @cheuberg skropf\n\nKeywords: sd66, transducer, words\n\nMake\n\n```\nsage: W = Words([0,1])\nsage: inverter.process(W([0,1,0]))\nword: 101\nsage: inverter.process(words.FibonacciWord([0,1]))\nword: 1011010110110101101011011010110110101101...\n```\n\nwork.\n\nSee also #18118.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18123\n\n",
    "created_at": "2015-04-03T19:21:26Z",
    "labels": [
        "component: finite state machines"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "let Transducer(word) output a word",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17886",
    "user": "https://github.com/dkrenn"
}
```
CC:  @videlec @cheuberg skropf

Keywords: sd66, transducer, words

Make

```
sage: W = Words([0,1])
sage: inverter.process(W([0,1,0]))
word: 101
sage: inverter.process(words.FibonacciWord([0,1]))
word: 1011010110110101101011011010110110101101...
```

work.

See also #18118.

Issue created by migration from https://trac.sagemath.org/ticket/18123





---

archive/issue_comments_239693.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2015-04-06T09:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239693",
    "user": "https://github.com/dkrenn"
}
```

Last 10 new commits:



---

archive/issue_comments_239694.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-04-06T09:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239694",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_239695.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-17T11:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239695",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_239696.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-18T04:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239696",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_239697.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-18T04:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239697",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_239698.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-18T05:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239698",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_239699.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-18T05:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239699",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_239700.json:
```json
{
    "body": "IMHO `.iter_process` should return an iterator in every case. Wouldn't it be cleaner to remove automatic_output from `.iter_process` alltogether and move this convenience option to `.process` or even only to the convenience method `__call__`?\n\nFurther comments:\n* Introductory example: The sentence \"Here processing works with iterators in background.\" is unclear to me.\n* code of `__call__`: in the branch `if ... input_tape.is_finite() == False`:, the check `if not 'automatic_output_type' in kwargs` seems to be superfluous because it is set before.\n* `__call__`: Claims that automatic_output_type is set, but it is not.\n* documentation of `.process`: What is the difference in the results of `automatic_output_type=False` and `automatic_output_type=None`?\n* Please include doctests for `automatic_output_type`.\n* Code of `iter_process`: IMHO setting `kwargs['format_output']` once and using it once, but then again guarded by `if_automatic_output_type` is some kind of overkill and also some kind of abuse of that parameter.\n* For simplicity, I'd prefer to eliminate the possibility `automatic_output=None`: The magic that `format_output` is investigated in order to determine `automatic_output` could as well be moved to `__call__`. I can hardly imagine a use case of calling `.process` directly with `automatic_output=None`.",
    "created_at": "2015-04-18T05:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239700",
    "user": "https://github.com/cheuberg"
}
```

IMHO `.iter_process` should return an iterator in every case. Wouldn't it be cleaner to remove automatic_output from `.iter_process` alltogether and move this convenience option to `.process` or even only to the convenience method `__call__`?

Further comments:
* Introductory example: The sentence "Here processing works with iterators in background." is unclear to me.
* code of `__call__`: in the branch `if ... input_tape.is_finite() == False`:, the check `if not 'automatic_output_type' in kwargs` seems to be superfluous because it is set before.
* `__call__`: Claims that automatic_output_type is set, but it is not.
* documentation of `.process`: What is the difference in the results of `automatic_output_type=False` and `automatic_output_type=None`?
* Please include doctests for `automatic_output_type`.
* Code of `iter_process`: IMHO setting `kwargs['format_output']` once and using it once, but then again guarded by `if_automatic_output_type` is some kind of overkill and also some kind of abuse of that parameter.
* For simplicity, I'd prefer to eliminate the possibility `automatic_output=None`: The magic that `format_output` is investigated in order to determine `automatic_output` could as well be moved to `__call__`. I can hardly imagine a use case of calling `.process` directly with `automatic_output=None`.



---

archive/issue_comments_239701.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-28T11:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239701",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_239702.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-13T13:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_239703.json:
```json
{
    "body": "Replying to [comment:10 cheuberg]:\n> IMHO `.iter_process` should return an iterator in every case. Wouldn't it be cleaner to remove automatic_output from `.iter_process` alltogether and move this convenience option to `.process` or even only to the convenience method `__call__`?\n\n`.iter_process` returns an iterator, but it can be of any type (depending on input type/class) which supports iterating. Thus did not change it.\n\n> Further comments: [...]\n\nAll done; see commits.\n----\nLast 10 new commits:",
    "created_at": "2015-09-14T10:20:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239703",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:10 cheuberg]:
> IMHO `.iter_process` should return an iterator in every case. Wouldn't it be cleaner to remove automatic_output from `.iter_process` alltogether and move this convenience option to `.process` or even only to the convenience method `__call__`?

`.iter_process` returns an iterator, but it can be of any type (depending on input type/class) which supports iterating. Thus did not change it.

> Further comments: [...]

All done; see commits.
----
Last 10 new commits:



---

archive/issue_comments_239704.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-14T10:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239704",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_239705.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-14T15:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239705",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_239706.json:
```json
{
    "body": "modifications are fine, doctests pass, documentation ok.",
    "created_at": "2015-09-14T15:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239706",
    "user": "https://github.com/cheuberg"
}
```

modifications are fine, doctests pass, documentation ok.



---

archive/issue_events_051345.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-09-14T15:45:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17886#event-51345"
}
```



---

archive/issue_events_051346.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-18T13:03:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17886#event-51346"
}
```



---

archive/issue_comments_239707.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-09-18T13:03:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17886#issuecomment-239707",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
