# Issue 13958: fix parent coefficients for elements of NCSF / QSym

Issue created by migration from https://trac.sagemath.org/ticket/14162

Original creator: saliola

Original creation time: 2013-02-22 05:21:20

Assignee: sage-combinat

CC:  zabrocki

Keywords: qsym, ncsf


```
                sage: complete = NonCommutativeSymmetricFunctions(ZZ).complete()
                sage: I = Composition([1,1])
                sage: x = complete.alternating_sum_of_fatter_compositions(I)
                sage: [c.parent() for c in x.coefficients()]
                [Integer Ring, Rational Field]
```

Of course, all the coefficients should be in the Integer Ring.


---

Attachment


---

Comment by zabrocki created at 2013-02-22 12:27:51

Changing status from new to needs_review.


---

Comment by zabrocki created at 2013-02-22 12:28:27

Looks good and all tests pass.


---

Comment by zabrocki created at 2013-02-22 12:28:27

Changing status from needs_review to positive_review.


---

Comment by nthiery created at 2013-02-22 14:54:13

Ouch! 1/-1 is indeed a rational number! There are probably other
occurrences of this elsewhere in the code. We probably should have
some mantra for -1^n in a given ring.

In the mean time thanks for catching and fixing this!  It's probably
even slightly faster than before since the arithmetic is done with
plain ints.

Cheers,
                           Nicolas


---

Comment by jdemeyer created at 2013-02-24 13:21:09

Resolution: fixed
