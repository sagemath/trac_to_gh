# Issue 22259: Improve and fix documentation of Combinatorial or Discrete Geometry

archive/issues_022259.json:
```json
{
    "body": "CC:  @mo271 @mkoeppe @videlec tmonteil @fchapoton\n\nKeywords: doc, polyhedron, geometry, days84\n\nThe reference manual for the currently called *combinatorial geometry* needs some logical reorganization.\n\n[http://doc.sagemath.org/html/en/reference/geometry/index.html](http://doc.sagemath.org/html/en/reference/geometry/index.html)\n\nThis ticket fixes the following:\n\n- add the normaliz backend to the references and add a note on how to install it\n- fixes an indentation that caused the documentation not to build\n- the section on hyperbolic geometry gets higher in the table of content, to *Geometry and Topology*.\n- the section on combinatorial geometry is renamed by adding also *Discrete*\n- the combinatorial geometry index is restructured logically.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22496\n\n",
    "created_at": "2017-03-02T16:33:47Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Improve and fix documentation of Combinatorial or Discrete Geometry",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22259",
    "user": "https://github.com/jplab"
}
```
CC:  @mo271 @mkoeppe @videlec tmonteil @fchapoton

Keywords: doc, polyhedron, geometry, days84

The reference manual for the currently called *combinatorial geometry* needs some logical reorganization.

[http://doc.sagemath.org/html/en/reference/geometry/index.html](http://doc.sagemath.org/html/en/reference/geometry/index.html)

This ticket fixes the following:

- add the normaliz backend to the references and add a note on how to install it
- fixes an indentation that caused the documentation not to build
- the section on hyperbolic geometry gets higher in the table of content, to *Geometry and Topology*.
- the section on combinatorial geometry is renamed by adding also *Discrete*
- the combinatorial geometry index is restructured logically.

Issue created by migration from https://trac.sagemath.org/ticket/22496





---

archive/issue_comments_308940.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-02T16:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308940",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_308941.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2017-03-02T16:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308941",
    "user": "https://github.com/jplab"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_308942.json:
```json
{
    "body": "Salut !\n\nmissing empty line here\n\n```\n+.. NOTE::\n+    This backend requires `PyNormaliz <https://pypi.python.org/pypi/PyNormaliz/1.5>`_.\n```\n\nand in several other places....",
    "created_at": "2017-03-02T17:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308942",
    "user": "https://github.com/fchapoton"
}
```

Salut !

missing empty line here

```
+.. NOTE::
+    This backend requires `PyNormaliz <https://pypi.python.org/pypi/PyNormaliz/1.5>`_.
```

and in several other places....



---

archive/issue_comments_308943.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-02T17:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308943",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_308944.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-02T21:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308944",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_308945.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-03-02T21:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308945",
    "user": "https://github.com/jplab"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_308946.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-03T08:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308946",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_308947.json:
```json
{
    "body": "I would not give cones and fan \"Toric Varieties\" title, there are classes for these which are based on fans and cones. Also `lattice_polytope` logically fits with them better.",
    "created_at": "2017-03-04T05:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308947",
    "user": "https://github.com/novoselt"
}
```

I would not give cones and fan "Toric Varieties" title, there are classes for these which are based on fans and cones. Also `lattice_polytope` logically fits with them better.



---

archive/issue_comments_308948.json:
```json
{
    "body": "> I would not give cones and fan \"Toric Varieties\" title, there are classes for these which are based on fans and cones. \n\nI agree. I was sorting through the files and for the first version I put the 7 files whose documentation started with \n\n  This module was designed as a part of framework for toric varieties\n\ntogether in a section called //Toric Varieties//.\n\nPerhaps naming the section. //Lattices, Cones, Fans, and related objects// ? What do you think? Do you have any suggestions?\n\n> Also `lattice_polytope` logically fits with them better.\n\nOkay. Are there other modules that would logically go with them as well?",
    "created_at": "2017-03-04T08:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308948",
    "user": "https://github.com/jplab"
}
```

> I would not give cones and fan "Toric Varieties" title, there are classes for these which are based on fans and cones. 

I agree. I was sorting through the files and for the first version I put the 7 files whose documentation started with 

  This module was designed as a part of framework for toric varieties

together in a section called //Toric Varieties//.

Perhaps naming the section. //Lattices, Cones, Fans, and related objects// ? What do you think? Do you have any suggestions?

> Also `lattice_polytope` logically fits with them better.

Okay. Are there other modules that would logically go with them as well?



---

archive/issue_comments_308949.json:
```json
{
    "body": "\"Toric Geometry\" may be appropriate, just no \"varieties\" themselves, I think.\n\nEverything under \"Lattice polyhedra\" may be clamped with it - while there are presumably other reasons to consider them, almost everything here was done with toric geometry and mirror symmetry applications in mind.",
    "created_at": "2017-03-05T05:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308949",
    "user": "https://github.com/novoselt"
}
```

"Toric Geometry" may be appropriate, just no "varieties" themselves, I think.

Everything under "Lattice polyhedra" may be clamped with it - while there are presumably other reasons to consider them, almost everything here was done with toric geometry and mirror symmetry applications in mind.



---

archive/issue_comments_308950.json:
```json
{
    "body": "Replying to [comment:12 novoselt]:\n> \"Toric Geometry\" may be appropriate, just no \"varieties\" themselves, I think.\n\nSounds good.\n\n> Everything under \"Lattice polyhedra\" may be clamped with it - while there are presumably other reasons to consider them, almost everything here was done with toric geometry and mirror symmetry applications in mind.\n\nI could put it in the polyhedral computations section after the lattice polytopes, that would be good? One argument to keep \"Toric geometry\" in its own section is somehow to reflect a little bit the structure in the geometry component (although I admit it does not necessarily have to follow it...) since polyhedron is a module on its own and the toric geometry framework is located directly in geometry and not in polyhedron...\n\nI'm fine with both.",
    "created_at": "2017-03-05T11:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308950",
    "user": "https://github.com/jplab"
}
```

Replying to [comment:12 novoselt]:
> "Toric Geometry" may be appropriate, just no "varieties" themselves, I think.

Sounds good.

> Everything under "Lattice polyhedra" may be clamped with it - while there are presumably other reasons to consider them, almost everything here was done with toric geometry and mirror symmetry applications in mind.

I could put it in the polyhedral computations section after the lattice polytopes, that would be good? One argument to keep "Toric geometry" in its own section is somehow to reflect a little bit the structure in the geometry component (although I admit it does not necessarily have to follow it...) since polyhedron is a module on its own and the toric geometry framework is located directly in geometry and not in polyhedron...

I'm fine with both.



---

archive/issue_comments_308951.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-05T11:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308951",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_308952.json:
```json
{
    "body": "A very related question (for another ticket, but it is good to have your opinion while you are at it) would be to move the isolated python files within `src/sage/geometry/` into some appropriate directory, like `riemannian_manifolds` for riemannian manifolds, `polyhedron` for polyhedra, etc.\n\nThe files to classify are:\n\n* cone.py\n* fan_isomorphism.py\n* fan_morphism.py\n* fan.py\n* hasse_diagram.py\n* integral_points.pyx\n* lattice_polytope.py\n* linear_expression.py\n* newton_polygon.py\n* point_collection.pyx\n* pseudolines.py\n* ribbon_graph.py\n* toric_lattice_element.pyx\n* toric_lattice.py\n* toric_plotter.py",
    "created_at": "2017-03-05T11:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308952",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

A very related question (for another ticket, but it is good to have your opinion while you are at it) would be to move the isolated python files within `src/sage/geometry/` into some appropriate directory, like `riemannian_manifolds` for riemannian manifolds, `polyhedron` for polyhedra, etc.

The files to classify are:

* cone.py
* fan_isomorphism.py
* fan_morphism.py
* fan.py
* hasse_diagram.py
* integral_points.pyx
* lattice_polytope.py
* linear_expression.py
* newton_polygon.py
* point_collection.pyx
* pseudolines.py
* ribbon_graph.py
* toric_lattice_element.pyx
* toric_lattice.py
* toric_plotter.py



---

archive/issue_comments_308953.json:
```json
{
    "body": "Would make sense to have `src/sage/geometry/toric` similar to `src/sage/schemes/toric` with files\n* cone.py\n* fan_isomorphism.py\n* fan_morphism.py\n* fan.py\n* lattice_polytope.py\n* point_collection.pyx\n* toric_lattice_element.pyx\n* toric_lattice.py\n* toric_plotter.py",
    "created_at": "2017-03-05T23:39:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308953",
    "user": "https://github.com/novoselt"
}
```

Would make sense to have `src/sage/geometry/toric` similar to `src/sage/schemes/toric` with files
* cone.py
* fan_isomorphism.py
* fan_morphism.py
* fan.py
* lattice_polytope.py
* point_collection.pyx
* toric_lattice_element.pyx
* toric_lattice.py
* toric_plotter.py



---

archive/issue_comments_308954.json:
```json
{
    "body": "Replying to [comment:17 novoselt]:\n> Would make sense to have `src/sage/geometry/toric` similar to `src/sage/schemes/toric` with files\n> * cone.py\n> * fan_isomorphism.py\n> * fan_morphism.py\n> * fan.py\n> * lattice_polytope.py\n> * point_collection.pyx\n> * toric_lattice_element.pyx\n> * toric_lattice.py\n> * toric_plotter.py\n\nOK great, having such a `src/sage/geometry/toric` would be a good step toward cleaning up `src/sage/geometry` !",
    "created_at": "2017-03-06T00:26:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308954",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Replying to [comment:17 novoselt]:
> Would make sense to have `src/sage/geometry/toric` similar to `src/sage/schemes/toric` with files
> * cone.py
> * fan_isomorphism.py
> * fan_morphism.py
> * fan.py
> * lattice_polytope.py
> * point_collection.pyx
> * toric_lattice_element.pyx
> * toric_lattice.py
> * toric_plotter.py

OK great, having such a `src/sage/geometry/toric` would be a good step toward cleaning up `src/sage/geometry` !



---

archive/issue_comments_308955.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-06T08:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308955",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_308956.json:
```json
{
    "body": "Okay. I would say that it is ready to be reviewed again.",
    "created_at": "2017-03-06T08:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308956",
    "user": "https://github.com/jplab"
}
```

Okay. I would say that it is ready to be reviewed again.



---

archive/issue_comments_308957.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-06T18:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308957",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_308958.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-03-08T15:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308958",
    "user": "https://github.com/vinklein"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_308959.json:
```json
{
    "body": "doctest passed on :\n- src/sage/geometry/polyhedron/backend_normaliz.py\n- src/sage/geometry/polyhedron/base.py\t\n- src/sage/geometry/polyhedron/constructor.py\n\nbuild of the doc passed and page discrete_geometry/index.html looks conform.",
    "created_at": "2017-03-08T15:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308959",
    "user": "https://github.com/vinklein"
}
```

doctest passed on :
- src/sage/geometry/polyhedron/backend_normaliz.py
- src/sage/geometry/polyhedron/base.py	
- src/sage/geometry/polyhedron/constructor.py

build of the doc passed and page discrete_geometry/index.html looks conform.



---

archive/issue_events_020965.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-03-10T23:13:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22259#event-20965"
}
```



---

archive/issue_comments_308960.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-03-10T23:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22259#issuecomment-308960",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
