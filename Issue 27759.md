# Issue 27759: py3: Fix doctests in optional Mathematica interface

Issue created by migration from https://trac.sagemath.org/ticket/27996

Original creator: @mwageringel

Original creation time: 2019-06-14 18:41:18

This ticket fixes all the Python 3 issues causing doctest failures related to the optional Mathematica interface.

- A regular expression is fixed that resulted in several of these messages:
  {{{
  FutureWarning: Possible nested set at position 3
  }}}

- The `__len__()` method now returns `int` as expected by `len()` in Python 3. Previously it returned Mathematica elements resulting in:
  {{{
  TypeError: 'MathematicaElement' object cannot be interpreted as an integer
  }}}




---

Comment by @mwageringel created at 2019-06-14 18:53:11

Tested with Mathematica 11.3 on the relevant files using:

```
./sage -t --long --optional=sage,mathematica $(grep -i "optional.*mathematica" -r src/sage -l | paste -sd " " -)
```

----
New commits:


---

Comment by @mwageringel created at 2019-06-14 18:53:11

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2019-06-14 18:53:11

Changing keywords from "" to "Mathematica".


---

Comment by chapoton created at 2019-06-14 19:46:15

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2019-06-14 19:46:15

ok, let it be


---

Comment by vbraun created at 2019-07-07 12:36:04

Resolution: fixed
