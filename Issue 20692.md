# Issue 20692: linbox does not compile gcc6 / c++11

Issue created by migration from https://trac.sagemath.org/ticket/20929

Original creator: vbraun

Original creation time: 2016-07-03 13:04:50

Keywords: gcc6 c++11

Lots errors starting with

```
libtool: compile:  g++ -DHAVE_CONFIG_H -I. -I../.. -DDISABLE_COMMENTATOR -O2 -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -I/home/vbra
un/Code/sage/local/include -I/home/vbraun/Code/sage/local/include -I/home/vbraun/Code/sage/local/include -I/home/vbraun/Code/sage/local
/include -I/home/vbraun/Code/sage/local/include -g -fPIC -c diophantine-solver.C  -fPIC -DPIC -o .libs/diophantine-solver.o
In file included from ../../linbox/vector/vector-domain-gf2.h:59:0,
                 from ../../linbox/vector/vector-domain.h:1293,
                 from ../../linbox/matrix/matrix-domain.h:42,
                 from ../../linbox/matrix/sparse.h:75,
                 from ../../linbox/blackbox/sparse.h:57,
                 from ../../linbox/blackbox/lambda-sparse.h:29,
                 from ../../linbox/algorithms/rational-solver.h:43,
                 from ../../linbox/algorithms/diophantine-solver.h:29,
                 from diophantine-solver.C:25:
../../linbox/field/gf2.h: In function 'void std::swap(std::_Bit_reference, std::_Bit_reference)':
../../linbox/field/gf2.h:985:14: error: redefinition of 'void std::swap(std::_Bit_reference, std::_Bit_reference)'
```



---

Comment by vbraun created at 2016-07-03 13:05:43

Workaround at #20926


---

Comment by leif created at 2016-07-03 14:07:23

Replying to [comment:1 vbraun]:
> Workaround at #20926

Same for Sage library modules using LinBox; fixed also there.


---

Comment by leif created at 2016-07-24 16:12:54

Is upstream working on this?


---

Comment by cpernet created at 2016-08-22 14:10:47

Upstream LinBox and related libraries (fflas-ffpack, givaro) now compile on gcc-6.
Actually they all require `--std=c++11`.


---

Comment by leif created at 2016-08-22 14:39:34

Changing status from new to needs_info.


---

Comment by leif created at 2016-08-22 14:39:34

Replying to [comment:4 cpernet]:
> Upstream LinBox and related libraries (fflas-ffpack, givaro) now compile on gcc-6.
> Actually they all require `--std=c++11`.

Yes.  [comment:ticket:20926:60 As mentioned] on #20926:  Also Givaro's _testsuite_ currently requires `-std=c++98` (not fixed yet, no ticket).

Note that GCC 6.x defaults to even C++14.

(Not sure why this ticket didn't get closed, as the work-around except for Givaro's testsuite was included in #20926.  We could also make this ticket depend on #17635 though.)


---

Comment by leif created at 2016-08-22 14:53:21

Replying to [comment:5 leif]:
> Replying to [comment:4 cpernet]:
> > Upstream LinBox and related libraries (fflas-ffpack, givaro) now compile on gcc-6.
> > Actually they all require `--std=c++11`.
> 
> Yes.  [comment:ticket:20926:60 As mentioned] on #20926:  Also Givaro's _testsuite_ currently requires `-std=c++98` (not fixed yet, no ticket).

Oh, forgot, there meanwhile is one: #21169

Incidentally, I there mentioned exactly what you pointed out above.


---

Comment by jdemeyer created at 2017-09-22 13:44:23

Is this fixed now?


---

Comment by cpernet created at 2017-09-22 14:39:22

Yes, you can safely close it for the same reason as #20926 was closed. For the record LinBox, FFLAS-FFPACK and Givaro are tested on a Continuous Integration with gcc-4.9, gcc-5 and gcc-6 (I'm currently setting up a gcc-7 build).


---

Comment by jdemeyer created at 2017-09-22 14:43:43

Resolution: worksforme
