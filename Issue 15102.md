# Issue 15102: gf2x tuning process needs to execute update-thresholds which needs a manifest file on Cygwin

Issue created by migration from Trac.

Original creator: jpflori

Original creation time: 2013-10-28 17:38:46

CC:  kcrisman dimpase tscrim

This is true on Windows 7+ at least, same problem for any exe whose name contains patch/install/update...

As this one happens during gf2x building process and Windows is particularly picky about timestamps of the exe and the corresponding manifest file, this will not be completely trivial to fix.
i.e. we have to patch gf2x build system (or convince them to change the exe name... I'll report there shortly).


---

Comment by jpflori created at 2014-01-09 15:29:09

Changing keywords from "" to "cygwin spkg gf2x".


---

Comment by jpflori created at 2014-01-09 15:39:56

Changing status from new to needs_review.


---

Comment by git created at 2014-01-14 14:42:50

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by jpflori created at 2014-11-12 10:46:36

I suggest we just don't tune on Windows >= 7 till gf2x does something upstream.


---

Comment by jpflori created at 2014-11-14 13:13:19

Or do nothing, my latest tests were fine and Windows 7 just let `update-thresholds.sh` be executed without ranting.


---

Comment by jpflori created at 2014-11-20 11:23:57

`@`Travis: can you confirm that `update-thresholds` now executes without trouble (if your Windows version is >=7 and recent enough)?


---

Comment by tscrim created at 2014-11-20 16:42:26

I believe my gf2x built on cygwin32 (I'm running Win8), which is sufficient, right? I'll double-check later today.


---

Attachment


---

Comment by tscrim created at 2014-11-20 16:54:08

`1.1.p1` built successfully for me and I've attached the log in case there is something in there you (or if you tell me, I) need to look for.


---

Comment by jpflori created at 2014-11-20 16:57:01

Everything is fine!
You have a `./update-thresholds -o tuned_thresholds.h < tunetoom.res` and no errors.


---

Comment by jpflori created at 2014-11-20 16:57:01

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-11-28 18:40:04

Resolution: fixed


---

Comment by jpflori created at 2015-01-15 22:11:59

Strange, it now fails for me on Windows 7 64 bits under Cygwin32, but is ok under Cygwin64...
And I re checked Travis log and there was no problem even if he was under Windows ? 64 bits under Cygwin32 !!!


---

Comment by gouezel created at 2015-01-17 20:03:17

It also fails for me in exactly the same situation (windows 7 64 bits, works with cygwin64, fails with cygwin32). Compiling as administrator solves the problem, but it is not very serious...


---

Comment by jpflori created at 2015-01-17 20:13:38

A more and less serious solution is to `export SAGE_TUNE_GF2X=no`, I'll let you guess what it does...


---

Comment by jpflori created at 2015-01-17 20:20:41

You can also disable UAC on Windows.

Whatsoever, we should maybe try to craft a manifest file for update-threshold.exe.


---

Comment by jpflori created at 2015-02-26 14:01:11

Follow up at #17861.
