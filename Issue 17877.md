# Issue 17877: Automaton: method to create a transducer out of it

Issue created by migration from Trac.

Original creator: dkrenn

Original creation time: 2015-04-02 19:24:38

CC:  cheuberg skropf

Keywords: sd66

Constructs a transducer out of an automaton with given function defining the output.


---

Comment by dkrenn created at 2015-04-02 19:27:00

Changing status from new to needs_review.


---

Comment by dkrenn created at 2015-04-02 19:27:00

New commits:


---

Comment by vdelecroix created at 2015-04-03 08:31:20

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2015-04-03 08:31:20

Could you add a check in the documentation that the map `automaton -> transducer -> input automaton` is an involution. Even with complicated input.

Vincent


---

Comment by git created at 2015-04-03 08:49:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dkrenn created at 2015-04-03 08:50:40

Replying to [comment:3 vdelecroix]:
> Could you add a check in the documentation that the map `automaton -> transducer -> input automaton` is an involution. Even with complicated input.

Sure. Done.

Thanks,

Daniel


---

Comment by dkrenn created at 2015-04-03 08:50:40

Changing status from needs_work to needs_review.


---

Comment by cheuberg created at 2015-04-07 05:42:19

Changing status from needs_review to needs_work.


---

Comment by cheuberg created at 2015-04-07 05:42:19

I am not convinced that the name of the function is the best choice because `A.transducer()` might be thought to do the same thing as `Transducer(A)`, but this is not the case:

```
sage: A = Automaton([(0, 0, 'A'), (0, 1, 'B'), (1, 2, 'C')])
sage: Transducer(A).transitions()
[Transition from 0 to 0: 'A'|-,
 Transition from 0 to 1: 'B'|-,
 Transition from 1 to 2: 'C'|-]
sage: A.transducer().transitions()
[Transition from 0 to 0: 'A'|'A',
 Transition from 0 to 1: 'B'|'B',
 Transition from 1 to 2: 'C'|'C']
```


A few minor remarks:
* There seems to be an indentation problem in the INPUT section of the docstring leading to unwanted wrapping in the html output.
* In view of the [recent discussion](https://groups.google.com/d/msg/sage-devel/RfJIEL79EnA/peSruqCwAG4J) on "SEE ALSO" sections, I recommend to include a link to `input_projection` and to the construction of a transducer from a given finite state machine.
* According to the [develeoper guide](http://www.sagemath.org/doc/developer/coding_basics.html#the-docstring-of-a-function-content), the one sentence description should be "Construct ..." instead of "Constructs ...".


---

Comment by dkrenn created at 2015-04-07 07:45:39

Replying to [comment:6 cheuberg]:
> I am not convinced that the name of the function is the best choice because `A.transducer()` might be thought to do the same thing as `Transducer(A)`, but this is not the case [...]

Any suggestions/ideas what name this could be?


---

Comment by git created at 2015-04-07 08:04:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dkrenn created at 2015-04-07 08:05:16

Replying to [comment:6 cheuberg]:
> A few minor remarks:
> * There seems to be an indentation problem in the INPUT section of the docstring leading to unwanted wrapping in the html output.
> * In view of the [recent discussion](https://groups.google.com/d/msg/sage-devel/RfJIEL79EnA/peSruqCwAG4J) on "SEE ALSO" sections, I recommend to include a link to `input_projection` and to the construction of a transducer from a given finite state machine.
> * According to the [develeoper guide](http://www.sagemath.org/doc/developer/coding_basics.html#the-docstring-of-a-function-content), the one sentence description should be "Construct ..." instead of "Constructs ...".

Thanks. Changed.


---

Comment by dkrenn created at 2015-04-07 09:13:46

Replying to [comment:6 cheuberg]:
> I am not convinced that the name of the function is the best choice because `A.transducer()` might be thought to do the same thing as `Transducer(A)`, but this is not the case [...]

`A.construct_transducer` ?


---

Comment by dkrenn created at 2015-04-07 11:12:56

Replying to [comment:6 cheuberg]:
> I am not convinced that the name of the function is the best choice because `A.transducer()` might be thought to do the same thing as `Transducer(A)`, but this is not the case:
> {{{
> sage: A = Automaton([(0, 0, 'A'), (0, 1, 'B'), (1, 2, 'C')])
> sage: Transducer(A).transitions()
> [Transition from 0 to 0: 'A'|-,
>  Transition from 0 to 1: 'B'|-,
>  Transition from 1 to 2: 'C'|-]
> sage: A.transducer().transitions()
> [Transition from 0 to 0: 'A'|'A',
>  Transition from 0 to 1: 'B'|'B',
>  Transition from 1 to 2: 'C'|'C']
> }}}

Maybe an option is to change the default behavior of `.transducer` to geth the same output as with `Transducer(A)`...


---

Comment by cheuberg created at 2015-04-07 12:51:19

Replying to [comment:11 dkrenn]:
> Maybe an option is to change the default behavior of `.transducer` to geth the same output as with `Transducer(A)`...

We just discussed this offline and agreed on `with_output`.


---

Comment by cheuberg created at 2015-04-07 12:53:59

and please add a "see also" link to `transducers.map`.


---

Comment by cheuberg created at 2015-04-07 12:55:26

and perhaps include two examples, one comparing this function with `Transducer` (see my example above) and another one comparing this method with composition with `transducers.map`.


---

Comment by git created at 2015-04-07 15:10:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dkrenn created at 2015-04-07 15:10:47

Changes according to comments above.
----
New commits:
----
New commits:


---

Comment by dkrenn created at 2015-04-07 15:10:47

Changing status from needs_work to needs_review.


---

Comment by cheuberg created at 2015-04-07 15:35:15

doctests pass; documentation builds and is fine; code is ok; examples & tests are appropriate.


---

Comment by cheuberg created at 2015-04-07 15:35:15

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-14 19:43:17

Resolution: fixed
