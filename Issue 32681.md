# Issue 32681: configure: Also check installation records in SAGE_VENV/var/lib/sage/installed

archive/issues_032681.json:
```json
{
    "body": "CC:  mjo jhpalmieri dimpase\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32918\n\n",
    "created_at": "2021-11-21T05:54:10Z",
    "labels": [
        "build: configure",
        "major",
        "bug"
    ],
    "title": "configure: Also check installation records in SAGE_VENV/var/lib/sage/installed",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32681",
    "user": "mkoeppe"
}
```
CC:  mjo jhpalmieri dimpase



Issue created by migration from https://trac.sagemath.org/ticket/32918





---

archive/issue_comments_466273.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-11-23T06:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466273",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_466274.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2021-11-23T07:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466274",
    "user": "mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_466275.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-23T08:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466275",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_466276.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-11-23T08:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466276",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_466277.json:
```json
{
    "body": "Doctest failures are unrelated",
    "created_at": "2021-11-24T04:39:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466277",
    "user": "mkoeppe"
}
```

Doctest failures are unrelated



---

archive/issue_comments_466278.json:
```json
{
    "body": "For me, it does\n\n```\n./config.status --recheck | grep pyno\npynormaliz-2.14:                             optional, use \"./configure --enable-pynormaliz\" to install\n```\n\nbefore, and after merging.",
    "created_at": "2021-12-03T12:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466278",
    "user": "dimpase"
}
```

For me, it does

```
./config.status --recheck | grep pyno
pynormaliz-2.14:                             optional, use "./configure --enable-pynormaliz" to install
```

before, and after merging.



---

archive/issue_comments_466279.json:
```json
{
    "body": "but indeed, if I now run `/configure --enable-pynormaliz` then I get\n\n```\npynormaliz-2.14:                             optional, will be installed as an SPKG\n```\n\nas promised. LGTM",
    "created_at": "2021-12-03T17:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466279",
    "user": "dimpase"
}
```

but indeed, if I now run `/configure --enable-pynormaliz` then I get

```
pynormaliz-2.14:                             optional, will be installed as an SPKG
```

as promised. LGTM



---

archive/issue_comments_466280.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-03T17:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466280",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_466281.json:
```json
{
    "body": "This ticket was supposed to make it work even if `--enable-pynormaliz` was NOT given but for the case of re-running `configure` after `pynormaliz` has been installed using `make pynormaliz` or `sage -i pynormaliz`.",
    "created_at": "2021-12-03T18:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466281",
    "user": "mkoeppe"
}
```

This ticket was supposed to make it work even if `--enable-pynormaliz` was NOT given but for the case of re-running `configure` after `pynormaliz` has been installed using `make pynormaliz` or `sage -i pynormaliz`.



---

archive/issue_comments_466282.json:
```json
{
    "body": "It worked properly for me when I ran `make benzene`.",
    "created_at": "2021-12-04T00:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466282",
    "user": "jhpalmieri"
}
```

It worked properly for me when I ran `make benzene`.



---

archive/issue_comments_466283.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-12-12T15:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32681#issuecomment-466283",
    "user": "vbraun"
}
```

Resolution: fixed
