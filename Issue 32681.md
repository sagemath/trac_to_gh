# Issue 32681: configure: Also check installation records in SAGE_VENV/var/lib/sage/installed

Issue created by migration from https://trac.sagemath.org/ticket/32918

Original creator: mkoeppe

Original creation time: 2021-11-21 05:54:10

CC:  mjo jhpalmieri dimpase




---

Comment by mkoeppe created at 2021-11-23 06:41:03

New commits:


---

Comment by mkoeppe created at 2021-11-23 07:41:41

Changing priority from major to critical.


---

Comment by git created at 2021-11-23 08:15:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-11-23 08:18:21

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-11-24 04:39:15

Doctest failures are unrelated


---

Comment by dimpase created at 2021-12-03 12:06:01

For me, it does

```
./config.status --recheck | grep pyno
pynormaliz-2.14:                             optional, use "./configure --enable-pynormaliz" to install
```

before, and after merging.


---

Comment by dimpase created at 2021-12-03 17:32:13

but indeed, if I now run `/configure --enable-pynormaliz` then I get

```
pynormaliz-2.14:                             optional, will be installed as an SPKG
```

as promised. LGTM


---

Comment by dimpase created at 2021-12-03 17:32:13

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-12-03 18:20:23

This ticket was supposed to make it work even if `--enable-pynormaliz` was NOT given but for the case of re-running `configure` after `pynormaliz` has been installed using `make pynormaliz` or `sage -i pynormaliz`.


---

Comment by jhpalmieri created at 2021-12-04 00:34:08

It worked properly for me when I ran `make benzene`.


---

Comment by vbraun created at 2021-12-12 15:09:14

Resolution: fixed
