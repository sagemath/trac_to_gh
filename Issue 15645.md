# Issue 15645: Implement a catalog for crystals

archive/issues_015645.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat nthiery aschilling bsalisbury1\n\nKeywords: crystals catalog\n\nMake a catalog for crystals similar to graphs/codes/etc. and remove things like `CrystalOf*` and `InfinityCrystalOf*` from the global namespace in an effort to clean it up.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15882\n\n",
    "created_at": "2014-03-01T18:09:27Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Implement a catalog for crystals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15645",
    "user": "tscrim"
}
```
Assignee: sage-combinat

CC:  sage-combinat nthiery aschilling bsalisbury1

Keywords: crystals catalog

Make a catalog for crystals similar to graphs/codes/etc. and remove things like `CrystalOf*` and `InfinityCrystalOf*` from the global namespace in an effort to clean it up.

Issue created by migration from https://trac.sagemath.org/ticket/15882





---

archive/issue_comments_202543.json:
```json
{
    "body": "Starting to get there.\n----\nNew commits:",
    "created_at": "2014-03-01T18:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202543",
    "user": "tscrim"
}
```

Starting to get there.
----
New commits:



---

archive/issue_comments_202544.json:
```json
{
    "body": "Thanks Travis! I haven't checked the code yet, but this will be a nice improvement.\n\nOne thing I have been pondering for some time: at the end of the day, we can expect that there will eventually be exactly two entry points for crystals in the global name space, namely `crystals` and `Crystals` (indeed, once #10963 will be in, we will be able to deprecate `FiniteCrystals()` and friends in favor of `Crystals().Finite()`).\n\nWould it make sense to push the logic even further and actually have a single entry point, which probably should be `Crystals`? In other words, could the category also play the role of catalog of implementations? Maybe something like `Crystals.catalog.CrystalOfLetters(...)` though this is a bit heavyweight.\n\nOf course this question is not just about crystals, but could apply to groups, posets, ...\n\nAnyway, just food for thought for after this ticket.",
    "created_at": "2014-03-03T09:38:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202544",
    "user": "nthiery"
}
```

Thanks Travis! I haven't checked the code yet, but this will be a nice improvement.

One thing I have been pondering for some time: at the end of the day, we can expect that there will eventually be exactly two entry points for crystals in the global name space, namely `crystals` and `Crystals` (indeed, once #10963 will be in, we will be able to deprecate `FiniteCrystals()` and friends in favor of `Crystals().Finite()`).

Would it make sense to push the logic even further and actually have a single entry point, which probably should be `Crystals`? In other words, could the category also play the role of catalog of implementations? Maybe something like `Crystals.catalog.CrystalOfLetters(...)` though this is a bit heavyweight.

Of course this question is not just about crystals, but could apply to groups, posets, ...

Anyway, just food for thought for after this ticket.



---

archive/issue_comments_202545.json:
```json
{
    "body": "How about we link them all to the category? For example, currently I do\n\n```\nsage: crystals.Tableaux(['A',2], shape=[2,1])\n```\n\nInstead we make this use the category:\n\n```\nsage: Crystals.Tableaux(['A',2], shape=[2,1])\n```\n\nWe should be able to do\n\n```\nfrom sage.combinat.crystals.catalog import *\n```\n\nin the crystals category to do this. Although doing things this way, we could easily have things lost among the category methods. So I'm not convinced this is the best direction to go.\n\nAlso I'm somewhat of the opinion that categories should be grouped together as well via `categories.Crystals` and such and not be in the global namespace. Therefore leaving `crystals.*` as the only entry point. IDK, I'm okay with 2 entry points too...",
    "created_at": "2014-03-03T16:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202545",
    "user": "tscrim"
}
```

How about we link them all to the category? For example, currently I do

```
sage: crystals.Tableaux(['A',2], shape=[2,1])
```

Instead we make this use the category:

```
sage: Crystals.Tableaux(['A',2], shape=[2,1])
```

We should be able to do

```
from sage.combinat.crystals.catalog import *
```

in the crystals category to do this. Although doing things this way, we could easily have things lost among the category methods. So I'm not convinced this is the best direction to go.

Also I'm somewhat of the opinion that categories should be grouped together as well via `categories.Crystals` and such and not be in the global namespace. Therefore leaving `crystals.*` as the only entry point. IDK, I'm okay with 2 entry points too...



---

archive/issue_comments_202546.json:
```json
{
    "body": "Replying to [comment:3 tscrim]:\n> How about we link them all to the category? For example, currently I do\n> {{{\n> sage: crystals.Tableaux(['A',2], shape=[2,1])\n> }}}\n> Instead we make this use the category:\n> {{{\n> sage: Crystals.Tableaux(['A',2], shape=[2,1])\n> }}}\n> We should be able to do\n> {{{\n> from sage.combinat.crystals.catalog import *\n> }}}\n> in the crystals category to do this. Although doing things this way,\n> we could easily have things lost among the category methods. So I'm\n> not convinced this is the best direction to go.\n\nAgreed! This is why, in my attempted notation, I had put this in an\nattribute `Crystals.catalog`. But it's not super convincing\neither.\n\n> Also I'm somewhat of the opinion that categories should be grouped\n> together as well via `categories.Crystals` and such and not be in\n> the global namespace. Therefore leaving `crystals.*` as the only\n> entry point.\n\nI agree that there definitely should be far less categories in the\nglobal name space, and #10963 will help much in this\ndirection. However, for the well known ones like Sets, Fields, Groups,\nPosets, Crystals, ... I find that the category is a natural entry\npoint to explore the functionalities implemented in Sage about a given\ntopic, because it has more semantic attached to it than with a mere\nmodule like `groups`.\n\nOn a related matter, it would be a cool feature, when given a\ncategory, to recover all parents in this category. E.g.:\n\n\n```\n    sage: affine_crystals = Crystals().Affine().implementations()\n    sage: affine_crystals.K<tab>\n    KirillovReshetikhinCrystal\n    ...\n```\n\n\nFlorent had implemented a proof-of-concept, recovering automatically\nthe information from a database build from the Sage TestSuite's. But\nthis would take some more work.\n\n> IDK, I'm okay with 2 entry points too...\n\nThat will certainly do for now :-)\n\nCheers,\n                                 Nicolas",
    "created_at": "2014-03-03T17:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202546",
    "user": "nthiery"
}
```

Replying to [comment:3 tscrim]:
> How about we link them all to the category? For example, currently I do
> {{{
> sage: crystals.Tableaux(['A',2], shape=[2,1])
> }}}
> Instead we make this use the category:
> {{{
> sage: Crystals.Tableaux(['A',2], shape=[2,1])
> }}}
> We should be able to do
> {{{
> from sage.combinat.crystals.catalog import *
> }}}
> in the crystals category to do this. Although doing things this way,
> we could easily have things lost among the category methods. So I'm
> not convinced this is the best direction to go.

Agreed! This is why, in my attempted notation, I had put this in an
attribute `Crystals.catalog`. But it's not super convincing
either.

> Also I'm somewhat of the opinion that categories should be grouped
> together as well via `categories.Crystals` and such and not be in
> the global namespace. Therefore leaving `crystals.*` as the only
> entry point.

I agree that there definitely should be far less categories in the
global name space, and #10963 will help much in this
direction. However, for the well known ones like Sets, Fields, Groups,
Posets, Crystals, ... I find that the category is a natural entry
point to explore the functionalities implemented in Sage about a given
topic, because it has more semantic attached to it than with a mere
module like `groups`.

On a related matter, it would be a cool feature, when given a
category, to recover all parents in this category. E.g.:


```
    sage: affine_crystals = Crystals().Affine().implementations()
    sage: affine_crystals.K<tab>
    KirillovReshetikhinCrystal
    ...
```


Florent had implemented a proof-of-concept, recovering automatically
the information from a database build from the Sage TestSuite's. But
this would take some more work.

> IDK, I'm okay with 2 entry points too...

That will certainly do for now :-)

Cheers,
                                 Nicolas



---

archive/issue_comments_202547.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-17T15:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202547",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202548.json:
```json
{
    "body": "Using #14275 makes deprecating things from the global namespace so much easier.",
    "created_at": "2014-03-17T15:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202548",
    "user": "tscrim"
}
```

Using #14275 makes deprecating things from the global namespace so much easier.



---

archive/issue_comments_202549.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-19T15:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202549",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202550.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-03-19T15:59:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202550",
    "user": "tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_202551.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-19T17:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202551",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202552.json:
```json
{
    "body": "Okay, now it should be ready.",
    "created_at": "2014-03-19T17:02:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202552",
    "user": "tscrim"
}
```

Okay, now it should be ready.



---

archive/issue_comments_202553.json:
```json
{
    "body": "(being curious. I love catalogs)",
    "created_at": "2014-03-20T13:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202553",
    "user": "ncohen"
}
```

(being curious. I love catalogs)



---

archive/issue_comments_202554.json:
```json
{
    "body": "Hey man.\n\nI felt a bit trap when I noticed, after having spent quite some time reading the diff, that the ticket did not only change what it claims....\n\nAnyway.\n\nI agree with everything I can understand (and \"git diff --word-diff\" really is useful for tickets like that), but there are five things that I cannot review:\n\n- The \"model\" changes to `/src/sage/combinat/crystals/highest_weight_crystals.py`\n\n- This change\n\n```\n-        if self.cartan_type().is_affine():\n+        if not self.cartan_type().is_finite():\n```\n\n\n- This one\n\n```\n-        return other.__lt__(self)\n+        return self._list.__gt__(other._list)\n```\n\n\n- The definition of `KirillovReshetikhin` in catalog.py (and I don't think that it is the right place to define it)\n\n- Same for `RiggedConfigurations` in `catalog_kirillov_reshetikhin.py` though the code is trivial>\n\nI do not understand what it does, and though I thought I could review a ticket that implements a crystal catalogs, I can't review these parts.\n\nSoooo well. You can either remove them and I can set this ticket to positive review, or someone else will do it.\n\nThere are broken doc links reported by `sage -docbuild reference/combinat --warn-links html`. And I also add a commit to your branch to fix a typo and a \"double deprecation\".\n\nNathann",
    "created_at": "2014-03-20T14:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202554",
    "user": "ncohen"
}
```

Hey man.

I felt a bit trap when I noticed, after having spent quite some time reading the diff, that the ticket did not only change what it claims....

Anyway.

I agree with everything I can understand (and "git diff --word-diff" really is useful for tickets like that), but there are five things that I cannot review:

- The "model" changes to `/src/sage/combinat/crystals/highest_weight_crystals.py`

- This change

```
-        if self.cartan_type().is_affine():
+        if not self.cartan_type().is_finite():
```


- This one

```
-        return other.__lt__(self)
+        return self._list.__gt__(other._list)
```


- The definition of `KirillovReshetikhin` in catalog.py (and I don't think that it is the right place to define it)

- Same for `RiggedConfigurations` in `catalog_kirillov_reshetikhin.py` though the code is trivial>

I do not understand what it does, and though I thought I could review a ticket that implements a crystal catalogs, I can't review these parts.

Soooo well. You can either remove them and I can set this ticket to positive review, or someone else will do it.

There are broken doc links reported by `sage -docbuild reference/combinat --warn-links html`. And I also add a commit to your branch to fix a typo and a "double deprecation".

Nathann



---

archive/issue_comments_202555.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-03-20T14:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202555",
    "user": "ncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_202556.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-20T14:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202556",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202557.json:
```json
{
    "body": "Oh and I forgot something important : the new index of crystals must appear in the reference manual !\n\nNathann",
    "created_at": "2014-03-20T14:57:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202557",
    "user": "ncohen"
}
```

Oh and I forgot something important : the new index of crystals must appear in the reference manual !

Nathann



---

archive/issue_comments_202558.json:
```json
{
    "body": "Hey Nathann,\n\nReplying to [comment:12 ncohen]:\n> I felt a bit trap when I noticed, after having spent quite some time reading the diff, that the ticket did not only change what it claims....\n\nWell, there were things that I wanted to touch up while I was making sweeping changes.\n\n> I agree with everything I can understand (and \"git diff --word-diff\" really is useful for tickets like that), but there are five things that I cannot review:\n> \n> - The \"model\" changes to `/src/sage/combinat/crystals/highest_weight_crystals.py`\n> \n> - This change\n> {{{#!diff\n> -        if self.cartan_type().is_affine():\n> +        if not self.cartan_type().is_finite():\n> }}}\n\nFor reference: this is for better (future?) support for LS paths over other indefinite types (ex. hyperbolic).\n\n> - This one\n> {{{#!diff\n> -        return other.__lt__(self)\n> +        return self._list.__gt__(other._list)\n> }}}\n\nAfter some though, I felt it was better to revert this.\n\n> - The definition of `KirillovReshetikhin` in catalog.py (and I don't think that it is the right place to define it)\n\nThis is the right place because it's just a function which redirects to the correct class (in different files). IMO it's stupid (and potentially confusing) to put it in `kirillov_reshetikhin.py` just to import it into the catalog.\n\n> - Same for `RiggedConfigurations` in `catalog_kirillov_reshetikhin.py` though the code is trivial>\n\nHere this should be here even more so because I want to reinforce that we only want to construct the rigged configurations of a single KR crystal (not as a tensor product thereof).\n\n> I do not understand what it does, and though I thought I could review a ticket that implements a crystal catalogs, I can't review these parts.\n\nThank you for your review thus far.\n\n> There are broken doc links reported by `sage -docbuild reference/combinat --warn-links html`. And I also add a commit to your branch to fix a typo and a \"double deprecation\".\n\nI've done what I can about them.\n\nBest,\n\nTravis",
    "created_at": "2014-03-21T02:28:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202558",
    "user": "tscrim"
}
```

Hey Nathann,

Replying to [comment:12 ncohen]:
> I felt a bit trap when I noticed, after having spent quite some time reading the diff, that the ticket did not only change what it claims....

Well, there were things that I wanted to touch up while I was making sweeping changes.

> I agree with everything I can understand (and "git diff --word-diff" really is useful for tickets like that), but there are five things that I cannot review:
> 
> - The "model" changes to `/src/sage/combinat/crystals/highest_weight_crystals.py`
> 
> - This change
> {{{#!diff
> -        if self.cartan_type().is_affine():
> +        if not self.cartan_type().is_finite():
> }}}

For reference: this is for better (future?) support for LS paths over other indefinite types (ex. hyperbolic).

> - This one
> {{{#!diff
> -        return other.__lt__(self)
> +        return self._list.__gt__(other._list)
> }}}

After some though, I felt it was better to revert this.

> - The definition of `KirillovReshetikhin` in catalog.py (and I don't think that it is the right place to define it)

This is the right place because it's just a function which redirects to the correct class (in different files). IMO it's stupid (and potentially confusing) to put it in `kirillov_reshetikhin.py` just to import it into the catalog.

> - Same for `RiggedConfigurations` in `catalog_kirillov_reshetikhin.py` though the code is trivial>

Here this should be here even more so because I want to reinforce that we only want to construct the rigged configurations of a single KR crystal (not as a tensor product thereof).

> I do not understand what it does, and though I thought I could review a ticket that implements a crystal catalogs, I can't review these parts.

Thank you for your review thus far.

> There are broken doc links reported by `sage -docbuild reference/combinat --warn-links html`. And I also add a commit to your branch to fix a typo and a "double deprecation".

I've done what I can about them.

Best,

Travis



---

archive/issue_comments_202559.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-21T02:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202559",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202560.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2014-03-21T02:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202560",
    "user": "tscrim"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_202561.json:
```json
{
    "body": "A lot of the changes look like simple line breaks. I strongly recommend to take these out of this ticket since this pollutes the real changes that were made and it does not enhance the code in any way. This will make it much easier to review as well!\n\nThanks,\n\nAnne",
    "created_at": "2014-03-21T05:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202561",
    "user": "aschilling"
}
```

A lot of the changes look like simple line breaks. I strongly recommend to take these out of this ticket since this pollutes the real changes that were made and it does not enhance the code in any way. This will make it much easier to review as well!

Thanks,

Anne



---

archive/issue_comments_202562.json:
```json
{
    "body": "Helloooooo Anne !\n\n> A lot of the changes look like simple line breaks. I strongly recommend to take these out of this ticket since this pollutes the real changes that were made and it does not enhance the code in any way. This will make it much easier to review as well!\n\nWell, actually \"git diff --word-diff --color\" helped me a lot there: it understands that the difference is mostly line breaks, and so if a LAAAARGE paragraph was split into many lines and a small modification is made somewhere at the same time (here, a modification to a latex formula) then the diff only displays the change to the latex formula, and you basically don't see the line breaks. That's cool.\n\nWith GIT, it would have been better for the review to store all those modifications in a specific commit, but this branch already has a lot of commits and it makes it hard to review commit by commit.\n\nBut I reviewed all this already. If you can check what I was not qualified to check above, as well as check that the classification of the constructors in the crystals.<tab> object makes sense, then this ticket can go.\n\nNathann",
    "created_at": "2014-03-21T06:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202562",
    "user": "ncohen"
}
```

Helloooooo Anne !

> A lot of the changes look like simple line breaks. I strongly recommend to take these out of this ticket since this pollutes the real changes that were made and it does not enhance the code in any way. This will make it much easier to review as well!

Well, actually "git diff --word-diff --color" helped me a lot there: it understands that the difference is mostly line breaks, and so if a LAAAARGE paragraph was split into many lines and a small modification is made somewhere at the same time (here, a modification to a latex formula) then the diff only displays the change to the latex formula, and you basically don't see the line breaks. That's cool.

With GIT, it would have been better for the review to store all those modifications in a specific commit, but this branch already has a lot of commits and it makes it hard to review commit by commit.

But I reviewed all this already. If you can check what I was not qualified to check above, as well as check that the classification of the constructors in the crystals.<tab> object makes sense, then this ticket can go.

Nathann



---

archive/issue_comments_202563.json:
```json
{
    "body": "Yoooo Travis !\n\n> Well, there were things that I wanted to touch up while I was making sweeping changes.\n\nDo you know the option \"git add -p\" ? This thing is fantastic ! In cases like that, you can make all the changes you need to a file, and then split it into different thematic commits.\n\nThen they can become different tickets or just stay different commits... But it lets you pick which changes (from the same file) you want to include in the next commit, and that's cool. You can do all those changes and decide later how you sort them.\n\n> > - The definition of `KirillovReshetikhin` in catalog.py (and I don't think that it is the right place to define it)\n> \n> This is the right place because it's just a function which redirects to the correct class (in different files). IMO it's stupid (and potentially confusing) to put it in `kirillov_reshetikhin.py` just to import it into the catalog.\n\nWon't you ever need some Sage code to call this function ? In this case it would mean a \"from sage.....crystals.catalog import KirillovReshetikhin\", which is a bit weird. It happens very often in the graph constructor that we need to call other constructors. But well, if there is no \"smart\" code in there after all, do as you wish.\n\n> Here this should be here even more so because I want to reinforce that we only want to construct the rigged configurations of a single KR crystal (not as a tensor product thereof).\n\nI first thought that \"being a crystal\" would reflect on the code, and that it would inherit from some crystal class or parent or whatever. But I really do not understand anything about crystals :-P\n\nHave fun !\n\nNathann",
    "created_at": "2014-03-21T06:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202563",
    "user": "ncohen"
}
```

Yoooo Travis !

> Well, there were things that I wanted to touch up while I was making sweeping changes.

Do you know the option "git add -p" ? This thing is fantastic ! In cases like that, you can make all the changes you need to a file, and then split it into different thematic commits.

Then they can become different tickets or just stay different commits... But it lets you pick which changes (from the same file) you want to include in the next commit, and that's cool. You can do all those changes and decide later how you sort them.

> > - The definition of `KirillovReshetikhin` in catalog.py (and I don't think that it is the right place to define it)
> 
> This is the right place because it's just a function which redirects to the correct class (in different files). IMO it's stupid (and potentially confusing) to put it in `kirillov_reshetikhin.py` just to import it into the catalog.

Won't you ever need some Sage code to call this function ? In this case it would mean a "from sage.....crystals.catalog import KirillovReshetikhin", which is a bit weird. It happens very often in the graph constructor that we need to call other constructors. But well, if there is no "smart" code in there after all, do as you wish.

> Here this should be here even more so because I want to reinforce that we only want to construct the rigged configurations of a single KR crystal (not as a tensor product thereof).

I first thought that "being a crystal" would reflect on the code, and that it would inherit from some crystal class or parent or whatever. But I really do not understand anything about crystals :-P

Have fun !

Nathann



---

archive/issue_comments_202564.json:
```json
{
    "body": "Replying to [comment:20 ncohen]:\n> Do you know the option \"git add -p\" ? This thing is fantastic ! In cases like that, you can make all the changes you need to a file, and then split it into different thematic commits.\n\nNo I didn't. I'll have to keep that in mind.\n\n> Won't you ever need some Sage code to call this function ? In this case it would mean a \"from sage.....crystals.catalog import KirillovReshetikhin\", which is a bit weird. It happens very often in the graph constructor that we need to call other constructors. But well, if there is no \"smart\" code in there after all, do as you wish.\n\nI doubt it since most of the time people would (should) just directly import the model they want directly.\n\nAnne,\n\nThose line break changes made it easier for me to read (especially in my approximately 90 character wide window). Also the 80 character max width is a pseudo-standard.\n\nBest,\n\nTravis",
    "created_at": "2014-03-21T14:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202564",
    "user": "tscrim"
}
```

Replying to [comment:20 ncohen]:
> Do you know the option "git add -p" ? This thing is fantastic ! In cases like that, you can make all the changes you need to a file, and then split it into different thematic commits.

No I didn't. I'll have to keep that in mind.

> Won't you ever need some Sage code to call this function ? In this case it would mean a "from sage.....crystals.catalog import KirillovReshetikhin", which is a bit weird. It happens very often in the graph constructor that we need to call other constructors. But well, if there is no "smart" code in there after all, do as you wish.

I doubt it since most of the time people would (should) just directly import the model they want directly.

Anne,

Those line break changes made it easier for me to read (especially in my approximately 90 character wide window). Also the 80 character max width is a pseudo-standard.

Best,

Travis



---

archive/issue_comments_202565.json:
```json
{
    "body": "> > Won't you ever need some Sage code to call this function ? In this case it would mean a \"from sage.....crystals.catalog import KirillovReshetikhin\", which is a bit weird. It happens very often in the graph constructor that we need to call other constructors. But well, if there is no \"smart\" code in there after all, do as you wish.\n\nI am confused. KirillovReshetikhinCrystal is currently a model and should definitely be easily accessible. \n\n> I doubt it since most of the time people would (should) just directly import the model they want directly.\n\nWhat are the KR models?\n\n> Anne,\n> \n> Those line break changes made it easier for me to read (especially in my approximately 90 character wide window). Also the 80 character max width is a pseudo-standard.\n\nWell, I think, it is a really bad idea to incorporate line break in this patch!\n\nAlso, I get many doc failures\n\n```\nsage -t affine.py\n**********************************************************************\nFile \"affine.py\", line 317, in sage.combinat.crystals.affine.AffineCrystalFromClassicalElement.pp\nFailed example:\n    K = KirillovReshetikhinCrystal(['D',3,2],1,1)\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.kirillov_resetikhin.KashiwaraNakashimaTabelaux instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"affine.py\", line 398, in sage.combinat.crystals.affine.AffineCrystalFromClassicalElement.epsilon0\nFailed example:\n    [x.epsilon0 for x in A.list()]\nExpected:\n    [1, 0, 0]\nGot:\n    [<bound method AffineCrystalFromClassicalAndPromotion_with_category.element_class.epsilon0 of [[1]]>, <bound method AffineCrystalFromClassicalAndPromotion_with_category.element_class.epsilon0 of [[2]]>, <bound method AffineCrystalFromClassicalAndPromotion_with_category.element_class.epsilon0 of [[3]]>]\n**********************************************************************\n2 items had failures:\n   1 of   7 in sage.combinat.crystals.affine.AffineCrystalFromClassicalElement.epsilon0\n   1 of   4 in sage.combinat.crystals.affine.AffineCrystalFromClassicalElement.pp\n    [221 tests, 2 failures, 1.90 s]\nsage -t affine_factorization.py\n**********************************************************************\nFile \"affine_factorization.py\", line 73, in sage.combinat.crystals.affine_factorization.AffineFactorizationCrystal\nFailed example:\n    C = CrystalOfTableaux(['A',2],shape=[3,1])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\n1 item had failures:\n   1 of  16 in sage.combinat.crystals.affine_factorization.AffineFactorizationCrystal\n    [46 tests, 1 failure, 17.81 s]\nsage -t alcove_path.py\n    [220 tests, 9.78 s]\nsage -t all.py\n    [0 tests, 0.00 s]\nsage -t catalog.py\n**********************************************************************\nFile \"catalog.py\", line 88, in sage.combinat.crystals.catalog.KirillovReshetikhin\nFailed example:\n    KN3 = crystals.KirillovReshetikhin(['D',4,1], 2, 1, model='KashiwaraNakashima')\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.crystals.catalog.KirillovReshetikhin[10]>\", line 1, in <module>\n        KN3 = crystals.KirillovReshetikhin(['D',Integer(4),Integer(1)], Integer(2), Integer(1), model='KashiwaraNakashima')\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/combinat/crystals/catalog.py\", line 104, in KirillovReshetikhin\n        raise ValueError(\"invalid model\")\n    ValueError: invalid model\n**********************************************************************\nFile \"catalog.py\", line 89, in sage.combinat.crystals.catalog.KirillovReshetikhin\nFailed example:\n    KN is KN2 and KN is KN3\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.crystals.catalog.KirillovReshetikhin[11]>\", line 1, in <module>\n        KN is KN2 and KN is KN3\n    NameError: name 'KN3' is not defined\n**********************************************************************\n1 item had failures:\n   2 of  13 in sage.combinat.crystals.catalog.KirillovReshetikhin\n    [12 tests, 2 failures, 1.44 s]\nsage -t catalog_elementary_crystals.py\n    [0 tests, 0.00 s]\nsage -t catalog_infinity_crystals.py\n    [0 tests, 0.00 s]\nsage -t catalog_kirillov_reshetikhin.py\n    [3 tests, 1.19 s]\nsage -t crystals.py\n**********************************************************************\nFile \"crystals.py\", line 183, in sage.combinat.crystals.crystals.CrystalBacktracker.__init__\nFailed example:\n    C = CrystalOfTableaux(['B',3],shape=[3,2,1])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"crystals.py\", line 206, in sage.combinat.crystals.crystals.CrystalBacktracker._rec\nFailed example:\n    C = CrystalOfLetters(['A', 5])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\n2 items had failures:\n   1 of   7 in sage.combinat.crystals.crystals.CrystalBacktracker.__init__\n   1 of   5 in sage.combinat.crystals.crystals.CrystalBacktracker._rec\n    [24 tests, 2 failures, 2.40 s]\nsage -t direct_sum.py\n    [41 tests, 0.53 s]\nsage -t elementary_crystals.py\n    [211 tests, 1.42 s]\nsage -t fast_crystals.py\n**********************************************************************\nFile \"fast_crystals.py\", line 52, in sage.combinat.crystals.fast_crystals.FastCrystal\nFailed example:\n    C = crystals.Tableaux(['B',2], shape=[l1,l2])\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.crystals.fast_crystals.FastCrystal[0]>\", line 1, in <module>\n        C = crystals.Tableaux(['B',Integer(2)], shape=[l1,l2])\n    NameError: name 'l1' is not defined\n**********************************************************************\nFile \"fast_crystals.py\", line 54, in sage.combinat.crystals.fast_crystals.FastCrystal\nFailed example:\n    T = crystals.TensorProduct(C, D, C.list()[0], D.list()[0])\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.crystals.fast_crystals.FastCrystal[2]>\", line 1, in <module>\n        T = crystals.TensorProduct(C, D, C.list()[Integer(0)], D.list()[Integer(0)])\n    NameError: name 'C' is not defined\n**********************************************************************\n1 item had failures:\n   2 of  19 in sage.combinat.crystals.fast_crystals.FastCrystal\n    [79 tests, 2 failures, 2.74 s]\nsage -t generalized_young_walls.py\n**********************************************************************\nFile \"generalized_young_walls.py\", line 62, in sage.combinat.crystals.generalized_young_walls.GeneralizedYoungWall\nFailed example:\n    Y = InfinityCrystalOfGeneralizedYoungWalls(4)\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\n1 item had failures:\n   1 of   4 in sage.combinat.crystals.generalized_young_walls.GeneralizedYoungWall\n    [159 tests, 1 failure, 3.37 s]\nsage -t highest_weight_crystals.py\n    [103 tests, 0.29 s]\nsage -t infinity_crystals.py\n    [118 tests, 4.64 s]\nsage -t kirillov_reshetikhin.py\n    [658 tests, 11.87 s]\nsage -t kyoto_path_model.py\n    [70 tests, 1.05 s]\nsage -t littelmann_path.py\n    [224 tests, 19.29 s]\nsage -t monomial_crystals.py\n    [174 tests, 3.44 s]\nsage -t spins.py\n    [68 tests, 1.16 s]\nsage -t tensor_product.py\n    [404 tests, 10.30 s]\n----------------------------------------------------------------------\nsage -t affine.py  # 2 doctests failed\nsage -t affine_factorization.py  # 1 doctest failed\nsage -t catalog.py  # 2 doctests failed\nsage -t crystals.py  # 2 doctests failed\nsage -t fast_crystals.py  # 2 doctests failed\nsage -t generalized_young_walls.py  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 96.8 seconds\n    cpu time: 79.1 seconds\n    cumulative wall time: 94.6 seconds\n```\n",
    "created_at": "2014-03-21T18:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202565",
    "user": "aschilling"
}
```

> > Won't you ever need some Sage code to call this function ? In this case it would mean a "from sage.....crystals.catalog import KirillovReshetikhin", which is a bit weird. It happens very often in the graph constructor that we need to call other constructors. But well, if there is no "smart" code in there after all, do as you wish.

I am confused. KirillovReshetikhinCrystal is currently a model and should definitely be easily accessible. 

> I doubt it since most of the time people would (should) just directly import the model they want directly.

What are the KR models?

> Anne,
> 
> Those line break changes made it easier for me to read (especially in my approximately 90 character wide window). Also the 80 character max width is a pseudo-standard.

Well, I think, it is a really bad idea to incorporate line break in this patch!

Also, I get many doc failures

```
sage -t affine.py
**********************************************************************
File "affine.py", line 317, in sage.combinat.crystals.affine.AffineCrystalFromClassicalElement.pp
Failed example:
    K = KirillovReshetikhinCrystal(['D',3,2],1,1)
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.kirillov_resetikhin.KashiwaraNakashimaTabelaux instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "affine.py", line 398, in sage.combinat.crystals.affine.AffineCrystalFromClassicalElement.epsilon0
Failed example:
    [x.epsilon0 for x in A.list()]
Expected:
    [1, 0, 0]
Got:
    [<bound method AffineCrystalFromClassicalAndPromotion_with_category.element_class.epsilon0 of [[1]]>, <bound method AffineCrystalFromClassicalAndPromotion_with_category.element_class.epsilon0 of [[2]]>, <bound method AffineCrystalFromClassicalAndPromotion_with_category.element_class.epsilon0 of [[3]]>]
**********************************************************************
2 items had failures:
   1 of   7 in sage.combinat.crystals.affine.AffineCrystalFromClassicalElement.epsilon0
   1 of   4 in sage.combinat.crystals.affine.AffineCrystalFromClassicalElement.pp
    [221 tests, 2 failures, 1.90 s]
sage -t affine_factorization.py
**********************************************************************
File "affine_factorization.py", line 73, in sage.combinat.crystals.affine_factorization.AffineFactorizationCrystal
Failed example:
    C = CrystalOfTableaux(['A',2],shape=[3,1])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
1 item had failures:
   1 of  16 in sage.combinat.crystals.affine_factorization.AffineFactorizationCrystal
    [46 tests, 1 failure, 17.81 s]
sage -t alcove_path.py
    [220 tests, 9.78 s]
sage -t all.py
    [0 tests, 0.00 s]
sage -t catalog.py
**********************************************************************
File "catalog.py", line 88, in sage.combinat.crystals.catalog.KirillovReshetikhin
Failed example:
    KN3 = crystals.KirillovReshetikhin(['D',4,1], 2, 1, model='KashiwaraNakashima')
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.crystals.catalog.KirillovReshetikhin[10]>", line 1, in <module>
        KN3 = crystals.KirillovReshetikhin(['D',Integer(4),Integer(1)], Integer(2), Integer(1), model='KashiwaraNakashima')
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/combinat/crystals/catalog.py", line 104, in KirillovReshetikhin
        raise ValueError("invalid model")
    ValueError: invalid model
**********************************************************************
File "catalog.py", line 89, in sage.combinat.crystals.catalog.KirillovReshetikhin
Failed example:
    KN is KN2 and KN is KN3
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.crystals.catalog.KirillovReshetikhin[11]>", line 1, in <module>
        KN is KN2 and KN is KN3
    NameError: name 'KN3' is not defined
**********************************************************************
1 item had failures:
   2 of  13 in sage.combinat.crystals.catalog.KirillovReshetikhin
    [12 tests, 2 failures, 1.44 s]
sage -t catalog_elementary_crystals.py
    [0 tests, 0.00 s]
sage -t catalog_infinity_crystals.py
    [0 tests, 0.00 s]
sage -t catalog_kirillov_reshetikhin.py
    [3 tests, 1.19 s]
sage -t crystals.py
**********************************************************************
File "crystals.py", line 183, in sage.combinat.crystals.crystals.CrystalBacktracker.__init__
Failed example:
    C = CrystalOfTableaux(['B',3],shape=[3,2,1])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "crystals.py", line 206, in sage.combinat.crystals.crystals.CrystalBacktracker._rec
Failed example:
    C = CrystalOfLetters(['A', 5])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
2 items had failures:
   1 of   7 in sage.combinat.crystals.crystals.CrystalBacktracker.__init__
   1 of   5 in sage.combinat.crystals.crystals.CrystalBacktracker._rec
    [24 tests, 2 failures, 2.40 s]
sage -t direct_sum.py
    [41 tests, 0.53 s]
sage -t elementary_crystals.py
    [211 tests, 1.42 s]
sage -t fast_crystals.py
**********************************************************************
File "fast_crystals.py", line 52, in sage.combinat.crystals.fast_crystals.FastCrystal
Failed example:
    C = crystals.Tableaux(['B',2], shape=[l1,l2])
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.crystals.fast_crystals.FastCrystal[0]>", line 1, in <module>
        C = crystals.Tableaux(['B',Integer(2)], shape=[l1,l2])
    NameError: name 'l1' is not defined
**********************************************************************
File "fast_crystals.py", line 54, in sage.combinat.crystals.fast_crystals.FastCrystal
Failed example:
    T = crystals.TensorProduct(C, D, C.list()[0], D.list()[0])
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.crystals.fast_crystals.FastCrystal[2]>", line 1, in <module>
        T = crystals.TensorProduct(C, D, C.list()[Integer(0)], D.list()[Integer(0)])
    NameError: name 'C' is not defined
**********************************************************************
1 item had failures:
   2 of  19 in sage.combinat.crystals.fast_crystals.FastCrystal
    [79 tests, 2 failures, 2.74 s]
sage -t generalized_young_walls.py
**********************************************************************
File "generalized_young_walls.py", line 62, in sage.combinat.crystals.generalized_young_walls.GeneralizedYoungWall
Failed example:
    Y = InfinityCrystalOfGeneralizedYoungWalls(4)
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
1 item had failures:
   1 of   4 in sage.combinat.crystals.generalized_young_walls.GeneralizedYoungWall
    [159 tests, 1 failure, 3.37 s]
sage -t highest_weight_crystals.py
    [103 tests, 0.29 s]
sage -t infinity_crystals.py
    [118 tests, 4.64 s]
sage -t kirillov_reshetikhin.py
    [658 tests, 11.87 s]
sage -t kyoto_path_model.py
    [70 tests, 1.05 s]
sage -t littelmann_path.py
    [224 tests, 19.29 s]
sage -t monomial_crystals.py
    [174 tests, 3.44 s]
sage -t spins.py
    [68 tests, 1.16 s]
sage -t tensor_product.py
    [404 tests, 10.30 s]
----------------------------------------------------------------------
sage -t affine.py  # 2 doctests failed
sage -t affine_factorization.py  # 1 doctest failed
sage -t catalog.py  # 2 doctests failed
sage -t crystals.py  # 2 doctests failed
sage -t fast_crystals.py  # 2 doctests failed
sage -t generalized_young_walls.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 96.8 seconds
    cpu time: 79.1 seconds
    cumulative wall time: 94.6 seconds
```




---

archive/issue_comments_202566.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-03-21T18:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202566",
    "user": "aschilling"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_202567.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-22T17:20:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202567",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202568.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-03-22T17:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202568",
    "user": "tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_202569.json:
```json
{
    "body": "I'm using `crystals.KirillovReshetikhin` as an entry point for the user on the front-end. All of the models from `crystals.kirillov_reshetikhin.<tab>` take a Cartan type, an `r`, and an `s` as input.\n\nThe KR models are:\n\n- Kashiwara Nakashima tableaux - the class `KirillovReshetikhinCrystal` and is the default model for `crystal.KirillovReshetikhin`\n- Kirillov Reshetikhin tableaux - the class `KirillovReshetikhinTableaux`\n- Rigged configurartions - using `RiggedConfigurations` of a single factor\n- LS paths - using `KirillovReshetikhinCrystalFromLSPaths`\n\nI've fixed the doctest failures in the latest push.\n\nBest,\n\nTravis",
    "created_at": "2014-03-22T17:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202569",
    "user": "tscrim"
}
```

I'm using `crystals.KirillovReshetikhin` as an entry point for the user on the front-end. All of the models from `crystals.kirillov_reshetikhin.<tab>` take a Cartan type, an `r`, and an `s` as input.

The KR models are:

- Kashiwara Nakashima tableaux - the class `KirillovReshetikhinCrystal` and is the default model for `crystal.KirillovReshetikhin`
- Kirillov Reshetikhin tableaux - the class `KirillovReshetikhinTableaux`
- Rigged configurartions - using `RiggedConfigurations` of a single factor
- LS paths - using `KirillovReshetikhinCrystalFromLSPaths`

I've fixed the doctest failures in the latest push.

Best,

Travis



---

archive/issue_comments_202570.json:
```json
{
    "body": "I still get doctest failures\n\n```\nsage -t crystals.py\n**********************************************************************\nFile \"crystals.py\", line 206, in sage.combinat.crystals.crystals.CrystalBacktracker._rec\nFailed example:\n    C = crystal.Letters(['A', 5])\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.crystals.crystals.CrystalBacktracker._rec[1]>\", line 1, in <module>\n        C = crystal.Letters(['A', Integer(5)])\n    NameError: name 'crystal' is not defined\n**********************************************************************\nFile \"crystals.py\", line 207, in sage.combinat.crystals.crystals.CrystalBacktracker._rec\nFailed example:\n    CB = CrystalBacktracker(C)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.crystals.crystals.CrystalBacktracker._rec[2]>\", line 1, in <module>\n        CB = CrystalBacktracker(C)\n    NameError: name 'C' is not defined\n**********************************************************************\nFile \"crystals.py\", line 208, in sage.combinat.crystals.crystals.CrystalBacktracker._rec\nFailed example:\n    list(CB._rec(C(1), 'n/a'))\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.crystals.crystals.CrystalBacktracker._rec[3]>\", line 1, in <module>\n        list(CB._rec(C(Integer(1)), 'n/a'))\n    NameError: name 'CB' is not defined\n**********************************************************************\n```\n\nAren't you running the tests before you post your new commits?",
    "created_at": "2014-03-23T04:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202570",
    "user": "aschilling"
}
```

I still get doctest failures

```
sage -t crystals.py
**********************************************************************
File "crystals.py", line 206, in sage.combinat.crystals.crystals.CrystalBacktracker._rec
Failed example:
    C = crystal.Letters(['A', 5])
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.crystals.crystals.CrystalBacktracker._rec[1]>", line 1, in <module>
        C = crystal.Letters(['A', Integer(5)])
    NameError: name 'crystal' is not defined
**********************************************************************
File "crystals.py", line 207, in sage.combinat.crystals.crystals.CrystalBacktracker._rec
Failed example:
    CB = CrystalBacktracker(C)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.crystals.crystals.CrystalBacktracker._rec[2]>", line 1, in <module>
        CB = CrystalBacktracker(C)
    NameError: name 'C' is not defined
**********************************************************************
File "crystals.py", line 208, in sage.combinat.crystals.crystals.CrystalBacktracker._rec
Failed example:
    list(CB._rec(C(1), 'n/a'))
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.crystals.crystals.CrystalBacktracker._rec[3]>", line 1, in <module>
        list(CB._rec(C(Integer(1)), 'n/a'))
    NameError: name 'CB' is not defined
**********************************************************************
```

Aren't you running the tests before you post your new commits?



---

archive/issue_comments_202571.json:
```json
{
    "body": "And more\n\n```\nsage -t classical_crystals.py\n**********************************************************************\nFile \"classical_crystals.py\", line 104, in sage.categories.classical_crystals.ClassicalCrystals.ParentMethods.opposition_automorphism\nFailed example:\n    T = CrystalOfTableaux(['A',5],shape=[1])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"classical_crystals.py\", line 268, in sage.categories.classical_crystals.ClassicalCrystals.ParentMethods.__iter__\nFailed example:\n    C = CrystalOfLetters(['A',5])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"classical_crystals.py\", line 455, in sage.categories.classical_crystals.ClassicalCrystals.ElementMethods.lusztig_involution\nFailed example:\n    T = HighestWeightCrystal(La[1])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.HighestWeight instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\n3 items had failures:\n   1 of  15 in sage.categories.classical_crystals.ClassicalCrystals.ElementMethods.lusztig_involution\n   1 of  19 in sage.categories.classical_crystals.ClassicalCrystals.ParentMethods.__iter__\n   1 of   9 in sage.categories.classical_crystals.ClassicalCrystals.ParentMethods.opposition_automorphism\n    [80 tests, 3 failures, 5.74 s]\nsage -t crystals.py\n**********************************************************************\nFile \"crystals.py\", line 135, in sage.categories.crystals.Crystals.ParentMethods.an_element\nFailed example:\n    C = CrystalOfLetters(['A', 5])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"crystals.py\", line 156, in sage.categories.crystals.Crystals.ParentMethods.weight_lattice_realization\nFailed example:\n    K = KirillovReshetikhinCrystal(['A',2,1], 1, 1)\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.KirillovResetikhin instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"crystals.py\", line 217, in sage.categories.crystals.Crystals.ParentMethods.__iter__\nFailed example:\n    C = CrystalOfLSPaths(['A',2,1],[-1,0,1])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"crystals.py\", line 514, in sage.categories.crystals.Crystals.ParentMethods.digraph\nFailed example:\n    T = HighestWeightCrystal(La[0])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.HighestWeight instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\n4 items had failures:\n   1 of  19 in sage.categories.crystals.Crystals.ParentMethods.__iter__\n   1 of   3 in sage.categories.crystals.Crystals.ParentMethods.an_element\n   1 of  27 in sage.categories.crystals.Crystals.ParentMethods.digraph\n   1 of   5 in sage.categories.crystals.Crystals.ParentMethods.weight_lattice_realization\n    [193 tests, 4 failures, 2.22 s]\nsage -t finite_crystals.py\n    [9 tests, 0.05 s]\nsage -t highest_weight_crystals.py\n**********************************************************************\nFile \"highest_weight_crystals.py\", line 100, in sage.categories.highest_weight_crystals.HighestWeightCrystals.ParentMethods.highest_weight_vectors\nFailed example:\n    C = CrystalOfLetters(['A',5])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"highest_weight_crystals.py\", line 107, in sage.categories.highest_weight_crystals.HighestWeightCrystals.ParentMethods.highest_weight_vectors\nFailed example:\n    T = TensorProductOfCrystals(C,C,C,generators=[[C(2),C(1),C(1)],[C(1),C(2),C(1)]])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\n1 item had failures:\n   2 of   6 in sage.categories.highest_weight_crystals.HighestWeightCrystals.ParentMethods.highest_weight_vectors\n    [24 tests, 2 failures, 0.08 s]\nsage -t highest_weight_crystals.py~\n    AttributeError in doctesting framework\n**********************************************************************\nTraceback (most recent call last):\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2091, in __call__\n    doctests, extras = self.source.create_doctests(sage_namespace)\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py\", line 639, in create_doctests\n    return self._create_doctests(namespace)\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py\", line 236, in _create_doctests\n    self._init()\nAttributeError: 'FileDocTestSource' object has no attribute '_init'\n\nsage -t regular_crystals.py\n**********************************************************************\nFile \"regular_crystals.py\", line 132, in sage.categories.regular_crystals.RegularCrystals.ParentMethods.demazure_operator\nFailed example:\n    T = CrystalOfTableaux(['A',2], shape=[2,1])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"regular_crystals.py\", line 217, in sage.categories.regular_crystals.RegularCrystals.ElementMethods.epsilon\nFailed example:\n    C = CrystalOfLetters(['A',5])\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\nFile \"regular_crystals.py\", line 306, in sage.categories.regular_crystals.RegularCrystals.ElementMethods.demazure_operator_simple\nFailed example:\n    K = KirillovReshetikhinCrystal(['A',2,1],2,1)\nExpected nothing\nGot:\n    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.KirillovResetikhin instead\n    See http://trac.sagemath.org/15882 for details.\n**********************************************************************\n3 items had failures:\n   1 of  13 in sage.categories.regular_crystals.RegularCrystals.ElementMethods.demazure_operator_simple\n   1 of   4 in sage.categories.regular_crystals.RegularCrystals.ElementMethods.epsilon\n   1 of  12 in sage.categories.regular_crystals.RegularCrystals.ParentMethods.demazure_operator\n    [83 tests, 3 failures, 0.75 s]\n----------------------------------------------------------------------\nsage -t classical_crystals.py  # 3 doctests failed\nsage -t crystals.py  # 4 doctests failed\nsage -t highest_weight_crystals.py  # 2 doctests failed\nsage -t highest_weight_crystals.py~  # AttributeError in doctesting framework\nsage -t regular_crystals.py  # 3 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 9.4 seconds\n    cpu time: 8.2 seconds\n    cumulative wall time: 8.8 seconds\n```\n",
    "created_at": "2014-03-23T04:38:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202571",
    "user": "aschilling"
}
```

And more

```
sage -t classical_crystals.py
**********************************************************************
File "classical_crystals.py", line 104, in sage.categories.classical_crystals.ClassicalCrystals.ParentMethods.opposition_automorphism
Failed example:
    T = CrystalOfTableaux(['A',5],shape=[1])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "classical_crystals.py", line 268, in sage.categories.classical_crystals.ClassicalCrystals.ParentMethods.__iter__
Failed example:
    C = CrystalOfLetters(['A',5])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "classical_crystals.py", line 455, in sage.categories.classical_crystals.ClassicalCrystals.ElementMethods.lusztig_involution
Failed example:
    T = HighestWeightCrystal(La[1])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.HighestWeight instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
3 items had failures:
   1 of  15 in sage.categories.classical_crystals.ClassicalCrystals.ElementMethods.lusztig_involution
   1 of  19 in sage.categories.classical_crystals.ClassicalCrystals.ParentMethods.__iter__
   1 of   9 in sage.categories.classical_crystals.ClassicalCrystals.ParentMethods.opposition_automorphism
    [80 tests, 3 failures, 5.74 s]
sage -t crystals.py
**********************************************************************
File "crystals.py", line 135, in sage.categories.crystals.Crystals.ParentMethods.an_element
Failed example:
    C = CrystalOfLetters(['A', 5])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "crystals.py", line 156, in sage.categories.crystals.Crystals.ParentMethods.weight_lattice_realization
Failed example:
    K = KirillovReshetikhinCrystal(['A',2,1], 1, 1)
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.KirillovResetikhin instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "crystals.py", line 217, in sage.categories.crystals.Crystals.ParentMethods.__iter__
Failed example:
    C = CrystalOfLSPaths(['A',2,1],[-1,0,1])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "crystals.py", line 514, in sage.categories.crystals.Crystals.ParentMethods.digraph
Failed example:
    T = HighestWeightCrystal(La[0])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.HighestWeight instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
4 items had failures:
   1 of  19 in sage.categories.crystals.Crystals.ParentMethods.__iter__
   1 of   3 in sage.categories.crystals.Crystals.ParentMethods.an_element
   1 of  27 in sage.categories.crystals.Crystals.ParentMethods.digraph
   1 of   5 in sage.categories.crystals.Crystals.ParentMethods.weight_lattice_realization
    [193 tests, 4 failures, 2.22 s]
sage -t finite_crystals.py
    [9 tests, 0.05 s]
sage -t highest_weight_crystals.py
**********************************************************************
File "highest_weight_crystals.py", line 100, in sage.categories.highest_weight_crystals.HighestWeightCrystals.ParentMethods.highest_weight_vectors
Failed example:
    C = CrystalOfLetters(['A',5])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "highest_weight_crystals.py", line 107, in sage.categories.highest_weight_crystals.HighestWeightCrystals.ParentMethods.highest_weight_vectors
Failed example:
    T = TensorProductOfCrystals(C,C,C,generators=[[C(2),C(1),C(1)],[C(1),C(2),C(1)]])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
1 item had failures:
   2 of   6 in sage.categories.highest_weight_crystals.HighestWeightCrystals.ParentMethods.highest_weight_vectors
    [24 tests, 2 failures, 0.08 s]
sage -t highest_weight_crystals.py~
    AttributeError in doctesting framework
**********************************************************************
Traceback (most recent call last):
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2091, in __call__
    doctests, extras = self.source.create_doctests(sage_namespace)
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py", line 639, in create_doctests
    return self._create_doctests(namespace)
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py", line 236, in _create_doctests
    self._init()
AttributeError: 'FileDocTestSource' object has no attribute '_init'

sage -t regular_crystals.py
**********************************************************************
File "regular_crystals.py", line 132, in sage.categories.regular_crystals.RegularCrystals.ParentMethods.demazure_operator
Failed example:
    T = CrystalOfTableaux(['A',2], shape=[2,1])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.<tab> instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "regular_crystals.py", line 217, in sage.categories.regular_crystals.RegularCrystals.ElementMethods.epsilon
Failed example:
    C = CrystalOfLetters(['A',5])
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.Letters instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
File "regular_crystals.py", line 306, in sage.categories.regular_crystals.RegularCrystals.ElementMethods.demazure_operator_simple
Failed example:
    K = KirillovReshetikhinCrystal(['A',2,1],2,1)
Expected nothing
Got:
    doctest:839: DeprecationWarning: this is being removed from the global namespace. Use crystals.KirillovResetikhin instead
    See http://trac.sagemath.org/15882 for details.
**********************************************************************
3 items had failures:
   1 of  13 in sage.categories.regular_crystals.RegularCrystals.ElementMethods.demazure_operator_simple
   1 of   4 in sage.categories.regular_crystals.RegularCrystals.ElementMethods.epsilon
   1 of  12 in sage.categories.regular_crystals.RegularCrystals.ParentMethods.demazure_operator
    [83 tests, 3 failures, 0.75 s]
----------------------------------------------------------------------
sage -t classical_crystals.py  # 3 doctests failed
sage -t crystals.py  # 4 doctests failed
sage -t highest_weight_crystals.py  # 2 doctests failed
sage -t highest_weight_crystals.py~  # AttributeError in doctesting framework
sage -t regular_crystals.py  # 3 doctests failed
----------------------------------------------------------------------
Total time for all tests: 9.4 seconds
    cpu time: 8.2 seconds
    cumulative wall time: 8.8 seconds
```




---

archive/issue_comments_202572.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-23T16:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202572",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202573.json:
```json
{
    "body": "Ack, I had forgotten about the categories. Also I added `regular_crystals.py` to the doc because we had forgotten about doing that when creating the category which fixes broken links in `classical_crystals.py` (in which I fixed some docstring formatting).",
    "created_at": "2014-03-23T16:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202573",
    "user": "tscrim"
}
```

Ack, I had forgotten about the categories. Also I added `regular_crystals.py` to the doc because we had forgotten about doing that when creating the category which fixes broken links in `classical_crystals.py` (in which I fixed some docstring formatting).



---

archive/issue_comments_202574.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-23T19:11:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202574",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202575.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-24T14:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202575",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202576.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-01T19:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202576",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202577.json:
```json
{
    "body": "Hi Travis,\n\nHere are some further comments:\n\n* The following\n\n```\n+The Littelmann path model also lends itself as a model for to level zero\n+crystals which are bi-infinite. To cut out a slice of these crystals, one\n+can use the direction option in subcrystal::\n```\n\nis not a sentence. Perhaps drop the \"to\"?\n\n* When I type\n\n```\nsage: crystals.Tableaux??\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-1-82a3f8368ea9> in <module>()\n----> 1 get_ipython().magic(u'pinfo2 crystals.Tableaux')\n\n/Applications/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in magic(self, arg_s)\n   2163         magic_name, _, magic_arg_s = arg_s.partition(' ')\n   2164         magic_name = magic_name.lstrip(prefilter.ESC_MAGIC)\n-> 2165         return self.run_line_magic(magic_name, magic_arg_s)\n   2166 \n   2167     #-------------------------------------------------------------------------\n\n/Applications/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in run_line_magic(self, magic_name, line)\n   2084                 kwargs['local_ns'] = sys._getframe(stack_depth).f_locals\n   2085             with self.builtin_trap:\n-> 2086                 result = fn(*args,**kwargs)\n   2087             return result\n   2088 \n\n/Applications/sage/local/lib/python2.7/site-packages/IPython/core/magics/namespace.pyc in pinfo2(self, parameter_s, namespaces)\n\n/Applications/sage/local/lib/python2.7/site-packages/IPython/core/magic.pyc in <lambda>(f, *a, **k)\n    189     # but it's overkill for just that one bit of state.\n    190     def magic_deco(arg):\n--> 191         call = lambda f, *a, **k: f(*a, **k)\n    192 \n    193         if callable(arg):\n\n/Applications/sage/local/lib/python2.7/site-packages/IPython/core/magics/namespace.pyc in pinfo2(self, parameter_s, namespaces)\n     65         '%pinfo2 object' is just a synonym for object?? or ??object.\"\"\"\n     66         self.shell._inspect('pinfo', parameter_s, detail_level=1,\n---> 67                             namespaces=namespaces)\n     68 \n     69     @skip_doctest\n\n/Applications/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in _inspect(self, meth, oname, namespaces, **kw)\n   1455                 pmethod(info.obj, oname, formatter)\n   1456             elif meth == 'pinfo':\n-> 1457                 pmethod(info.obj, oname, formatter, info, **kw)\n   1458             else:\n   1459                 pmethod(info.obj, oname)\n\n/Applications/sage/local/lib/python2.7/site-packages/IPython/core/oinspect.pyc in pinfo(self, obj, oname, formatter, info, detail_level)\n    558         \"\"\"\n    559         info = self.info(obj, oname=oname, formatter=formatter,\n--> 560                             info=info, detail_level=detail_level)\n    561         displayfields = []\n    562         def add_fields(fields):\n\n/Applications/sage/local/lib/python2.7/site-packages/IPython/core/oinspect.pyc in info(self, obj, oname, formatter, info, detail_level)\n    646                     ds += \"\\nDocstring:\\n\" + obj.__doc__\n    647         else:\n--> 648             ds = getdoc(obj)\n    649             if ds is None:\n    650                 ds = '<no docstring>'\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sageinspect.pyc in sage_getdoc(obj, obj_name, embedded_override)\n   1505         return ''\n   1506 \n-> 1507     s = sage.misc.sagedoc.format(str(r), embedded=(embedded_override or EMBEDDED_MODE))\n   1508 \n   1509     # If there is a Cython embedded position, it needs to be stripped\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sagedoc.pyc in format(s, embedded)\n    565             s = process_mathtt(s)\n    566         s = process_extlinks(s, embedded=embedded)\n--> 567         s = detex(s, embedded=embedded)\n    568     return embedding_info+s\n    569 \n\n/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sagedoc.pyc in detex(s, embedded)\n    199         s = _rmcmd(s, 'mathrm')\n    200         from sagenb.misc.sphinxify import sphinxify\n--> 201         s = sphinxify(s, format='text')\n    202         for a,b in math_substitutes:  # do math substitutions\n    203             s = s.replace(a,b)\n\n/Applications/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.pyc in sphinxify(docstring, format)\n    119     old_sys_path = list(sys.path)  # Sphinx modifies sys.path\n    120     sphinx_app = Sphinx(srcdir, confdir, srcdir, doctreedir, format,\n--> 121                         confoverrides, None, None, True)\n    122     sphinx_app.build(None, [rst_name])\n    123     sys.path = old_sys_path\n\n/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/application.pyc in __init__(self, srcdir, confdir, outdir, doctreedir, buildername, confoverrides, status, warning, freshenv, warningiserror, tags)\n    112         # load all user-given extension modules\n    113         for extension in self.config.extensions:\n--> 114             self.setup_extension(extension)\n    115         # the config file itself can be an extension\n    116         if self.config.setup:\n\n/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/application.pyc in setup_extension(self, extension)\n    254         else:\n    255             try:\n--> 256                 mod.setup(self)\n    257             except VersionRequirementError, err:\n    258                 # add the extension name to the version required\n\n/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/ext/mathjax.pyc in setup(app)\n     60 \n     61 def setup(app):\n---> 62     mathbase_setup(app, (html_visit_math, None), (html_visit_displaymath, None))\n     63     app.add_config_value('mathjax_path',\n     64                          'http://cdn.mathjax.org/mathjax/latest/MathJax.js?'\n\n/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/ext/mathbase.pyc in setup_math(app, htmlinlinevisitors, htmldisplayvisitors)\n    178         man=(man_visit_math, None),\n    179         texinfo=(texinfo_visit_math, None),\n--> 180         html=htmlinlinevisitors)\n    181     app.add_node(displaymath,\n    182         latex=(latex_visit_displaymath, None),\n\n/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/application.pyc in add_node(self, node, **kwds)\n    360                 from sphinx.writers.html import HTMLTranslator as translator\n    361             elif key == 'latex':\n--> 362                 from sphinx.writers.latex import LaTeXTranslator as translator\n    363             elif key == 'text':\n    364                 from sphinx.writers.text import TextTranslator as translator\n\n/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/writers/latex.py in <module>()\n     21 \n     22 from sphinx import addnodes\n---> 23 from sphinx import highlighting\n     24 from sphinx.errors import SphinxError\n     25 from sphinx.locale import admonitionlabels, versionlabels, _\n\n/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/highlighting.py in <module>()\n     22 \n     23 from sphinx.util.texescape import tex_hl_escape_map_new\n---> 24 from sphinx.ext import doctest\n     25 \n     26 try:\n\n/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/ext/doctest.py in <module>()\n    109 \n    110 \n--> 111 parser = doctest.DocTestParser()\n    112 \n    113 # helper classes\n\nAttributeError: 'module' object has no attribute 'DocTestParser'\n```\n\n\n* What is the difference between `crystals.KirillovReshetikhin` and `crystals.kirillov_reshetikhin`? Since tab completion does not work, it is hard to see from the command line. I suppose `crystals.kirillov_reshetikhin` is another subcatalog? It is seems a little weird that KirillovReshetikhin does not appear in the list, but that\n` sage.combinat.crystals.catalog.KirillovReshetikhin(cartan_type, r, s, model='KN')` appears as documentation on the catalogue site (under subcatalogs). It would be better if it appeared when clicking on KR crystals.\n\nSo much for now since all this first needs to be fixed.\n\nAnne",
    "created_at": "2014-04-02T21:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202577",
    "user": "aschilling"
}
```

Hi Travis,

Here are some further comments:

* The following

```
+The Littelmann path model also lends itself as a model for to level zero
+crystals which are bi-infinite. To cut out a slice of these crystals, one
+can use the direction option in subcrystal::
```

is not a sentence. Perhaps drop the "to"?

* When I type

```
sage: crystals.Tableaux??
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-1-82a3f8368ea9> in <module>()
----> 1 get_ipython().magic(u'pinfo2 crystals.Tableaux')

/Applications/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in magic(self, arg_s)
   2163         magic_name, _, magic_arg_s = arg_s.partition(' ')
   2164         magic_name = magic_name.lstrip(prefilter.ESC_MAGIC)
-> 2165         return self.run_line_magic(magic_name, magic_arg_s)
   2166 
   2167     #-------------------------------------------------------------------------

/Applications/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in run_line_magic(self, magic_name, line)
   2084                 kwargs['local_ns'] = sys._getframe(stack_depth).f_locals
   2085             with self.builtin_trap:
-> 2086                 result = fn(*args,**kwargs)
   2087             return result
   2088 

/Applications/sage/local/lib/python2.7/site-packages/IPython/core/magics/namespace.pyc in pinfo2(self, parameter_s, namespaces)

/Applications/sage/local/lib/python2.7/site-packages/IPython/core/magic.pyc in <lambda>(f, *a, **k)
    189     # but it's overkill for just that one bit of state.
    190     def magic_deco(arg):
--> 191         call = lambda f, *a, **k: f(*a, **k)
    192 
    193         if callable(arg):

/Applications/sage/local/lib/python2.7/site-packages/IPython/core/magics/namespace.pyc in pinfo2(self, parameter_s, namespaces)
     65         '%pinfo2 object' is just a synonym for object?? or ??object."""
     66         self.shell._inspect('pinfo', parameter_s, detail_level=1,
---> 67                             namespaces=namespaces)
     68 
     69     @skip_doctest

/Applications/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in _inspect(self, meth, oname, namespaces, **kw)
   1455                 pmethod(info.obj, oname, formatter)
   1456             elif meth == 'pinfo':
-> 1457                 pmethod(info.obj, oname, formatter, info, **kw)
   1458             else:
   1459                 pmethod(info.obj, oname)

/Applications/sage/local/lib/python2.7/site-packages/IPython/core/oinspect.pyc in pinfo(self, obj, oname, formatter, info, detail_level)
    558         """
    559         info = self.info(obj, oname=oname, formatter=formatter,
--> 560                             info=info, detail_level=detail_level)
    561         displayfields = []
    562         def add_fields(fields):

/Applications/sage/local/lib/python2.7/site-packages/IPython/core/oinspect.pyc in info(self, obj, oname, formatter, info, detail_level)
    646                     ds += "\nDocstring:\n" + obj.__doc__
    647         else:
--> 648             ds = getdoc(obj)
    649             if ds is None:
    650                 ds = '<no docstring>'

/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sageinspect.pyc in sage_getdoc(obj, obj_name, embedded_override)
   1505         return ''
   1506 
-> 1507     s = sage.misc.sagedoc.format(str(r), embedded=(embedded_override or EMBEDDED_MODE))
   1508 
   1509     # If there is a Cython embedded position, it needs to be stripped

/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sagedoc.pyc in format(s, embedded)
    565             s = process_mathtt(s)
    566         s = process_extlinks(s, embedded=embedded)
--> 567         s = detex(s, embedded=embedded)
    568     return embedding_info+s
    569 

/Applications/sage/local/lib/python2.7/site-packages/sage/misc/sagedoc.pyc in detex(s, embedded)
    199         s = _rmcmd(s, 'mathrm')
    200         from sagenb.misc.sphinxify import sphinxify
--> 201         s = sphinxify(s, format='text')
    202         for a,b in math_substitutes:  # do math substitutions
    203             s = s.replace(a,b)

/Applications/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.pyc in sphinxify(docstring, format)
    119     old_sys_path = list(sys.path)  # Sphinx modifies sys.path
    120     sphinx_app = Sphinx(srcdir, confdir, srcdir, doctreedir, format,
--> 121                         confoverrides, None, None, True)
    122     sphinx_app.build(None, [rst_name])
    123     sys.path = old_sys_path

/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/application.pyc in __init__(self, srcdir, confdir, outdir, doctreedir, buildername, confoverrides, status, warning, freshenv, warningiserror, tags)
    112         # load all user-given extension modules
    113         for extension in self.config.extensions:
--> 114             self.setup_extension(extension)
    115         # the config file itself can be an extension
    116         if self.config.setup:

/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/application.pyc in setup_extension(self, extension)
    254         else:
    255             try:
--> 256                 mod.setup(self)
    257             except VersionRequirementError, err:
    258                 # add the extension name to the version required

/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/ext/mathjax.pyc in setup(app)
     60 
     61 def setup(app):
---> 62     mathbase_setup(app, (html_visit_math, None), (html_visit_displaymath, None))
     63     app.add_config_value('mathjax_path',
     64                          'http://cdn.mathjax.org/mathjax/latest/MathJax.js?'

/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/ext/mathbase.pyc in setup_math(app, htmlinlinevisitors, htmldisplayvisitors)
    178         man=(man_visit_math, None),
    179         texinfo=(texinfo_visit_math, None),
--> 180         html=htmlinlinevisitors)
    181     app.add_node(displaymath,
    182         latex=(latex_visit_displaymath, None),

/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/application.pyc in add_node(self, node, **kwds)
    360                 from sphinx.writers.html import HTMLTranslator as translator
    361             elif key == 'latex':
--> 362                 from sphinx.writers.latex import LaTeXTranslator as translator
    363             elif key == 'text':
    364                 from sphinx.writers.text import TextTranslator as translator

/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/writers/latex.py in <module>()
     21 
     22 from sphinx import addnodes
---> 23 from sphinx import highlighting
     24 from sphinx.errors import SphinxError
     25 from sphinx.locale import admonitionlabels, versionlabels, _

/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/highlighting.py in <module>()
     22 
     23 from sphinx.util.texescape import tex_hl_escape_map_new
---> 24 from sphinx.ext import doctest
     25 
     26 try:

/Applications/sage/local/lib/python2.7/site-packages/Sphinx-1.1.2-py2.7.egg/sphinx/ext/doctest.py in <module>()
    109 
    110 
--> 111 parser = doctest.DocTestParser()
    112 
    113 # helper classes

AttributeError: 'module' object has no attribute 'DocTestParser'
```


* What is the difference between `crystals.KirillovReshetikhin` and `crystals.kirillov_reshetikhin`? Since tab completion does not work, it is hard to see from the command line. I suppose `crystals.kirillov_reshetikhin` is another subcatalog? It is seems a little weird that KirillovReshetikhin does not appear in the list, but that
` sage.combinat.crystals.catalog.KirillovReshetikhin(cartan_type, r, s, model='KN')` appears as documentation on the catalogue site (under subcatalogs). It would be better if it appeared when clicking on KR crystals.

So much for now since all this first needs to be fixed.

Anne



---

archive/issue_comments_202578.json:
```json
{
    "body": "I've fixed the first one. However tab completion, `?`, and `??` all work fine for me. From the error message, it looks like something is messed up with your ipython (or, less likely, sphinx).\n\n`crystals.KirillovReshetikhin` is a general entry point to create KR crystals, whereas `crystals.kirillov_reshetikhin` is a (sub)catalog of the models for KR crystals. I've changed the function `KirillovReshetikhinCrystal` to be the entry point function in the catalog. I've also moved the `kir_resh.RiggedConfigurations` into `rigged_configurations.py` and fixed the doc error.",
    "created_at": "2014-04-02T22:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202578",
    "user": "tscrim"
}
```

I've fixed the first one. However tab completion, `?`, and `??` all work fine for me. From the error message, it looks like something is messed up with your ipython (or, less likely, sphinx).

`crystals.KirillovReshetikhin` is a general entry point to create KR crystals, whereas `crystals.kirillov_reshetikhin` is a (sub)catalog of the models for KR crystals. I've changed the function `KirillovReshetikhinCrystal` to be the entry point function in the catalog. I've also moved the `kir_resh.RiggedConfigurations` into `rigged_configurations.py` and fixed the doc error.



---

archive/issue_comments_202579.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-02T22:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202579",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202580.json:
```json
{
    "body": "After running `make` the problem with the documentation disappeared. I will look further at the changes!",
    "created_at": "2014-04-03T06:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202580",
    "user": "aschilling"
}
```

After running `make` the problem with the documentation disappeared. I will look further at the changes!



---

archive/issue_comments_202581.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-09T02:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202581",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202582.json:
```json
{
    "body": "Hi Travis,\n\nHere are a couple more comments on this ticket:\n\n* There seem to be some crystals missing in the list `src/doc/output/html/en/reference/combinat/sage/combinat/crystals/catalog.html`. For example Littelmann paths and the affine factorization crystal are not there. Also, would it be possible to order the entries alphabetically?\n\n* The list in `src/doc/output/html/en/reference/combinat/crystals.html` is almost the same, but more crystals are actually displayed. It would be best if the two lists could easily be kept in sync.\n\nBest,\n\nAnne",
    "created_at": "2014-04-10T01:17:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202582",
    "user": "aschilling"
}
```

Hi Travis,

Here are a couple more comments on this ticket:

* There seem to be some crystals missing in the list `src/doc/output/html/en/reference/combinat/sage/combinat/crystals/catalog.html`. For example Littelmann paths and the affine factorization crystal are not there. Also, would it be possible to order the entries alphabetically?

* The list in `src/doc/output/html/en/reference/combinat/crystals.html` is almost the same, but more crystals are actually displayed. It would be best if the two lists could easily be kept in sync.

Best,

Anne



---

archive/issue_comments_202583.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-10T18:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202583",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202584.json:
```json
{
    "body": "Hey Anne,\n\nReplying to [comment:40 aschilling]:\n> * There seem to be some crystals missing in the list `src/doc/output/html/en/reference/combinat/sage/combinat/crystals/catalog.html`. For example Littelmann paths and the affine factorization crystal are not there. Also, would it be possible to order the entries alphabetically?\n\nDone and done (before I had it organized more by type).\n\n> * The list in `src/doc/output/html/en/reference/combinat/crystals.html` is almost the same, but more crystals are actually displayed. It would be best if the two lists could easily be kept in sync.\n\nThey are always going to be somewhat out of sync because in the catalog is a list of what classes (and factory functions) of crystals that are currently in Sage, whereas the `crystals.html` is a list of modules (files) which contain the crystal implementations. (Also I don't think we have any mechanisms for automatically having things lists synced in the doc.)\n\nBest,\n\nTravis",
    "created_at": "2014-04-10T18:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202584",
    "user": "tscrim"
}
```

Hey Anne,

Replying to [comment:40 aschilling]:
> * There seem to be some crystals missing in the list `src/doc/output/html/en/reference/combinat/sage/combinat/crystals/catalog.html`. For example Littelmann paths and the affine factorization crystal are not there. Also, would it be possible to order the entries alphabetically?

Done and done (before I had it organized more by type).

> * The list in `src/doc/output/html/en/reference/combinat/crystals.html` is almost the same, but more crystals are actually displayed. It would be best if the two lists could easily be kept in sync.

They are always going to be somewhat out of sync because in the catalog is a list of what classes (and factory functions) of crystals that are currently in Sage, whereas the `crystals.html` is a list of modules (files) which contain the crystal implementations. (Also I don't think we have any mechanisms for automatically having things lists synced in the doc.)

Best,

Travis



---

archive/issue_comments_202585.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-11T21:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202585",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202586.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-12T14:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202586",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202587.json:
```json
{
    "body": "Well, that was the only bad link I could find with an extensive grep campaign.",
    "created_at": "2014-04-12T14:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202587",
    "user": "tscrim"
}
```

Well, that was the only bad link I could find with an extensive grep campaign.



---

archive/issue_comments_202588.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-13T03:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202588",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202589.json:
```json
{
    "body": "Hi Travis,\n\nI just pushed some small changes to the introduction. If you agree with them, please set a positive review on my behalf!\n\nAnne",
    "created_at": "2014-04-13T03:34:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202589",
    "user": "aschilling"
}
```

Hi Travis,

I just pushed some small changes to the introduction. If you agree with them, please set a positive review on my behalf!

Anne



---

archive/issue_comments_202590.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-13T03:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202590",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_202591.json:
```json
{
    "body": "Looks good to me. Thanks Anne and Nathann for doing the review!",
    "created_at": "2014-04-13T03:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202591",
    "user": "tscrim"
}
```

Looks good to me. Thanks Anne and Nathann for doing the review!



---

archive/issue_comments_202592.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/combinat/root_system/plot.py  # 1 doctest failed\nsage -t --long src/sage/combinat/tableau.py  # 1 doctest failed\nsage -t --long src/sage/combinat/root_system/cartan_type.py  # 2 doctests failed\n```\n",
    "created_at": "2014-04-13T21:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202592",
    "user": "vbraun"
}
```


```
sage -t --long src/sage/combinat/root_system/plot.py  # 1 doctest failed
sage -t --long src/sage/combinat/tableau.py  # 1 doctest failed
sage -t --long src/sage/combinat/root_system/cartan_type.py  # 2 doctests failed
```




---

archive/issue_comments_202593.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2014-04-14T14:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202593",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_202594.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-04-14T14:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202594",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_202595.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-14T14:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202595",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_202596.json:
```json
{
    "body": "Sorry about that.",
    "created_at": "2014-04-14T14:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202596",
    "user": "tscrim"
}
```

Sorry about that.



---

archive/issue_comments_202597.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-04-14T19:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202597",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_202598.json:
```json
{
    "body": "Hi!\n\nSorry, I haven't been been following up on this ticket, so that's probably too late. Anyway, just as a food for thought, I wanted to mention that I was surprised at first to have\n\n```\n    crystals.Letters\n```\n\nrather than\n\n```\n    crystals.CrystalOfLetters\n```\n\n\nThe latter is nicer if you want to do `from crystals import *`. But maybe the point is that you don't want to do that and just always `crystals....`, and then it's less redundant.\n\nLet's see how this is done in the other catalogs. Hmm, we have `graphs.ChvatalGraph`, but `groups.permutation.Dihedral`. Not super consistent ...\n\nCheers,\n                                       Nicolas",
    "created_at": "2014-05-09T09:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202598",
    "user": "nthiery"
}
```

Hi!

Sorry, I haven't been been following up on this ticket, so that's probably too late. Anyway, just as a food for thought, I wanted to mention that I was surprised at first to have

```
    crystals.Letters
```

rather than

```
    crystals.CrystalOfLetters
```


The latter is nicer if you want to do `from crystals import *`. But maybe the point is that you don't want to do that and just always `crystals....`, and then it's less redundant.

Let's see how this is done in the other catalogs. Hmm, we have `graphs.ChvatalGraph`, but `groups.permutation.Dihedral`. Not super consistent ...

Cheers,
                                       Nicolas



---

archive/issue_comments_202599.json:
```json
{
    "body": "Hi Nicolas,\n\nWe thought that \n\n```\ncrystals.CrystalOfLetters\n```\n\nwas redundant. Since it is pretty short, I think I/we will just use\n`crystals. ...` in the future.\n\nAnne",
    "created_at": "2014-05-09T14:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202599",
    "user": "aschilling"
}
```

Hi Nicolas,

We thought that 

```
crystals.CrystalOfLetters
```

was redundant. Since it is pretty short, I think I/we will just use
`crystals. ...` in the future.

Anne



---

archive/issue_comments_202600.json:
```json
{
    "body": "> Let's see how this is done in the other catalogs. Hmm, we have `graphs.ChvatalGraph`, but `groups.permutation.Dihedral`. Not super consistent ...\n\nAs always, it is better to make sense than to be consistent. The Graph thing is an error. We should .... deprecated those 100+ functions and remove the final \"Graph\" ?... Scary `T_T`\n\nNathann",
    "created_at": "2014-05-12T08:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15645#issuecomment-202600",
    "user": "ncohen"
}
```

> Let's see how this is done in the other catalogs. Hmm, we have `graphs.ChvatalGraph`, but `groups.permutation.Dihedral`. Not super consistent ...

As always, it is better to make sense than to be consistent. The Graph thing is an error. We should .... deprecated those 100+ functions and remove the final "Graph" ?... Scary `T_T`

Nathann
