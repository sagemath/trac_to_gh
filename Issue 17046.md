# Issue 17046: Dimension mismatch in cuspidal_submodule()

Issue created by migration from https://trac.sagemath.org/ticket/17283

Original creator: pbruin

Original creation time: 2014-11-03 18:04:46

Keywords: modular symbols dimension

In the following example, two ways of computing the dimension of a space of modular symbols do not give the same result:

```
sage: k.<i> = QuadraticField(-1)
sage: G = DirichletGroup(192)
sage: chi = G([i,-1,-1])
sage: M = ModularSymbols(chi);
sage: M.cuspidal_submodule()
AssertionError: According to dimension formulas the cuspidal subspace of "Modular Symbols space of dimension 0 and level 192, weight 2, character [zeta4, 1, -1], sign 0, over Cyclotomic Field of order 4 and degree 2" has dimension 40; however, computing it using modular symbols we obtained 0, so there is a bug (please report!).
```



---

Comment by pbruin created at 2014-11-04 20:52:32

Changing keywords from "modular symbols dimension" to "modular symbols dirichlet character".


---

Comment by pbruin created at 2014-11-04 21:33:54

Changing priority from major to critical.


---

Comment by pbruin created at 2014-11-11 21:35:06

Changing priority from critical to minor.


---

Comment by pbruin created at 2014-11-11 21:35:06

Changing keywords from "modular symbols dirichlet character" to "dirichlet character".


---

Comment by pbruin created at 2014-11-11 21:35:06

The previous inconsistencies reported on this ticket were just because there does not exist a Dirichlet character with the values as in the example...


---

Comment by pbruin created at 2014-11-12 00:43:37

Changing status from new to needs_review.


---

Comment by git created at 2014-11-12 09:51:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-11-12 15:25:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jpflori created at 2015-05-18 20:20:36

Just a little remark, we could fail faster in case the list of images does not have the right length (in case the orders are not automatically precomputed when Z/nZ is created, I don't remember).
And that does not really matters anyway as feeding it with wrong length of images is just asking for trouble.


---

Comment by jpflori created at 2015-05-18 20:29:16

Could you add a little more about the necessary orders either in the INPUT section or in the TESTS one (that is say more than the orders are not admissible).

The current error string formulation also kind of make it feel like the orders must be exactly the one stated.


---

Comment by jpflori created at 2015-05-18 20:29:16

Changing status from needs_review to needs_work.


---

Comment by pbruin created at 2015-05-19 11:58:41

Replying to [comment:8 jpflori]:
> Just a little remark, we could fail faster in case the list of images does not have the right length (in case the orders are not automatically precomputed when Z/nZ is created, I don't remember).
The unit group of Z/nZ is computed (generators and orders) when the Dirichlet group is constructed.
> And that does not really matters anyway as feeding it with wrong length of images is just asking for trouble.
Indeed, it is better to optimise for the case where the input is valid.


---

Comment by git created at 2015-05-19 12:01:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by pbruin created at 2015-05-19 12:02:44

Changing status from needs_work to needs_review.


---

Comment by pbruin created at 2015-05-19 21:47:13

I hope the error messages and documentation are better after the last commit.


---

Comment by jpflori created at 2015-05-20 07:14:58

Yes it is, just did not have a minute to look at it :)
And the web interface to git is down:

```
Internal Server Error
...
```

Fortunately I've access to a working git repo again!


---

Comment by jpflori created at 2015-05-20 07:14:58

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-05-20 22:28:19

Resolution: fixed
