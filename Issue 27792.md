# Issue 27792: Increase number of tries in unpack_archive

archive/issues_027792.json:
```json
{
    "body": "CC:  @embray @slel\n\nKeywords: cygwin\n\nIn Cygwin under Windows, unpacking archives sometimes leads\nto a permission problem.\n\nThis is due to Windows locking files when they are opened\nby another application, and might mean an antivirus inspecting\na file prevents you from writing to it.\n\nBuilding Sage in Cygwin in Windows 7 on some computer reliably\nfailed before this ticket, and reliably works with it.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28029\n\n",
    "created_at": "2019-06-20T15:57:49Z",
    "labels": [
        "component: porting: cygwin"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Increase number of tries in unpack_archive",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27792",
    "user": "https://github.com/slel"
}
```
CC:  @embray @slel

Keywords: cygwin

In Cygwin under Windows, unpacking archives sometimes leads
to a permission problem.

This is due to Windows locking files when they are opened
by another application, and might mean an antivirus inspecting
a file prevents you from writing to it.

Building Sage in Cygwin in Windows 7 on some computer reliably
failed before this ticket, and reliably works with it.

Issue created by migration from https://trac.sagemath.org/ticket/28029





---

archive/issue_comments_392171.json:
```json
{
    "body": "Changing keywords from \"cygwin\" to \"cygwin, days101\".",
    "created_at": "2019-06-20T15:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27792#issuecomment-392171",
    "user": "https://github.com/slel"
}
```

Changing keywords from "cygwin" to "cygwin, days101".



---

archive/issue_comments_392172.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-06-20T15:59:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27792#issuecomment-392172",
    "user": "https://github.com/slel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_392173.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-06-20T16:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27792#issuecomment-392173",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_392174.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-06-20T16:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27792#issuecomment-392174",
    "user": "https://github.com/slel"
}
```

New commits:



---

archive/issue_comments_392175.json:
```json
{
    "body": "FWIW the `retry=len(archive.names)` is pretty arbitrary here.  It's just setting the number of retries needed to a factor of the number of files extracted (that might be getting checked one by one by a virus scanner or whatever).  In practice it should need way fewer retries than this since the default retry is every 1s.",
    "created_at": "2019-06-20T17:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27792#issuecomment-392175",
    "user": "https://github.com/embray"
}
```

FWIW the `retry=len(archive.names)` is pretty arbitrary here.  It's just setting the number of retries needed to a factor of the number of files extracted (that might be getting checked one by one by a virus scanner or whatever).  In practice it should need way fewer retries than this since the default retry is every 1s.



---

archive/issue_comments_392176.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-06-28T04:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27792#issuecomment-392176",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
