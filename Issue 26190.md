# Issue 26190: add doctest to charpoly method of symbolic matices

Issue created by migration from Trac.

Original creator: tmonteil

Original creation time: 2018-10-07 14:16:15

CC:  rws

As reported on [this ask question](https://ask.sagemath.org/question/43839/characteristic-polynomial-of-symbolic-matrix-of-size-7/), the following gives wrong result on Archlinux. Though this distro is not officially supported, this example shows some unexpected behaviour that might appear elsewhere, hence it makes sense to add it on the Sage doctests. 


```
sage: M = matrix(SR, 7, 7, SR.var('a', 49))
sage: M.charpoly().degree()
7
```




---

Comment by tmonteil created at 2018-10-07 14:35:32

Changing status from new to needs_review.


---

Comment by tmonteil created at 2018-10-07 14:35:32

New commits:


---

Comment by arojas created at 2018-10-07 17:10:43

FTR, the incorrect result was caused by building pynac with giac support.


---

Comment by chapoton created at 2018-10-07 18:51:25

should be tagged "long" ?

```
Warning, slow doctest:
    M.charpoly().degree()
Test ran for 1.53 s
```



---

Comment by git created at 2018-10-07 20:07:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-10-07 20:09:26

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tmonteil created at 2018-10-07 20:10:00

You are right, thanks for noticing, i updated the doctest.


---

Comment by chapoton created at 2018-10-12 13:25:08

ok


---

Comment by chapoton created at 2018-10-12 13:25:08

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-10-20 11:58:21

Resolution: fixed


---

Comment by embray created at 2018-10-28 14:52:23

This should be re-targeted for 8.5.
