# Issue 13942: pari error when printing elements of (complicated) number fields

archive/issues_013942.json:
```json
{
    "body": "Assignee: @loefflerd\n\nKeywords: pari\n\nThese bugs have been reported by Adrien Poteaux.\n\nIncriminated snippet :\n\n```\nsage: K.<a>=QQ[sqrt(2)]\nsage: Lb.<b>=K[]\nsage: f = 3*b^2 + 1\nsage: Kb.<xi>= f.root_field()\nsage: xi     # boom\n-----------------------------\nTraceback (most recent call last)\n...\nPariError:  (7)\n```\n\n\nAnd an interesting variation:\n\n```\nsage: Kb.<xi>=(f/3).root_field()\nsage: xi     # boom\n-----------------------------\nTraceback (most recent call last)\n...\nPariError: incorrect type (11)\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/14146\n\n",
    "created_at": "2013-02-18T16:36:59Z",
    "labels": [
        "component: number fields",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "pari error when printing elements of (complicated) number fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13942",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```
Assignee: @loefflerd

Keywords: pari

These bugs have been reported by Adrien Poteaux.

Incriminated snippet :

```
sage: K.<a>=QQ[sqrt(2)]
sage: Lb.<b>=K[]
sage: f = 3*b^2 + 1
sage: Kb.<xi>= f.root_field()
sage: xi     # boom
-----------------------------
Traceback (most recent call last)
...
PariError:  (7)
```


And an interesting variation:

```
sage: Kb.<xi>=(f/3).root_field()
sage: xi     # boom
-----------------------------
Traceback (most recent call last)
...
PariError: incorrect type (11)
```


Issue created by migration from https://trac.sagemath.org/ticket/14146





---

archive/issue_comments_173606.json:
```json
{
    "body": "Duplicate of #252.",
    "created_at": "2013-02-19T19:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173606",
    "user": "https://github.com/jdemeyer"
}
```

Duplicate of #252.



---

archive/issue_comments_173607.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-02-19T19:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173607",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_173608.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-02-19T19:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173608",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_173609.json:
```json
{
    "body": "Jeroen, I suggest the following : let's keep #252 open, because the problem is not fixed (I will take a look at it). In the meantime, let me post a patch here which at least prints a warning when the user runs into this problem (i.e. when a number field with a non-monic or non-integral polynomial is created). I am not the first one to hit this problem, and just printing a warning (or failing more gracefully) would help users.",
    "created_at": "2013-02-21T13:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173609",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Jeroen, I suggest the following : let's keep #252 open, because the problem is not fixed (I will take a look at it). In the meantime, let me post a patch here which at least prints a warning when the user runs into this problem (i.e. when a number field with a non-monic or non-integral polynomial is created). I am not the first one to hit this problem, and just printing a warning (or failing more gracefully) would help users.



---

archive/issue_comments_173610.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2013-02-22T19:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173610",
    "user": "https://github.com/jdemeyer"
}
```

Changing priority from major to minor.



---

archive/issue_comments_173611.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2013-02-22T19:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173611",
    "user": "https://github.com/jdemeyer"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_173612.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-02-22T19:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173612",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_173613.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-02-27T22:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173613",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_173614.json:
```json
{
    "body": "Thanks Charles, this is very good to have!\n\nA comment and a question:\n\n* The doctest with output \"doctest:311\" will likely break later on. Better is to write \"doctest:...\" in the output.\n\n* Why an error in one situation and a warning in another? Why not a warning in both? You are disallowing some functionality with the error, as seen from the following in an unpatched Sage 5.7:\n\n```\nsage: k.<i> = NumberField(x^2+1)\nsage: l.<b> = k.extension(5*x^2 + 3)\nsage: c = b + b\nsage: c^2 == -12/5\nTrue\nsage: c^2 == b\nFalse\n```\n\n\n* There is a discrepancy between the absolute and the relative case. With your patch on Sage 5.7:\n\n```\nsage: k.<a> = NumberField(5*x^2+3)\nNotImplementedError: number fields for non-monic polynomials not yet implemented.\nsage: k.<i> = NumberField(x^2+1)\nsage: l.<b> = k.extension(5*x^2+3)\nValueError: the polynomial must be monic\n```\n\nI prefer the `NotImplementedError`, and it would be good to add a reference to #252 to that error message.",
    "created_at": "2013-03-13T12:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173614",
    "user": "https://github.com/mstreng"
}
```

Thanks Charles, this is very good to have!

A comment and a question:

* The doctest with output "doctest:311" will likely break later on. Better is to write "doctest:..." in the output.

* Why an error in one situation and a warning in another? Why not a warning in both? You are disallowing some functionality with the error, as seen from the following in an unpatched Sage 5.7:

```
sage: k.<i> = NumberField(x^2+1)
sage: l.<b> = k.extension(5*x^2 + 3)
sage: c = b + b
sage: c^2 == -12/5
True
sage: c^2 == b
False
```


* There is a discrepancy between the absolute and the relative case. With your patch on Sage 5.7:

```
sage: k.<a> = NumberField(5*x^2+3)
NotImplementedError: number fields for non-monic polynomials not yet implemented.
sage: k.<i> = NumberField(x^2+1)
sage: l.<b> = k.extension(5*x^2+3)
ValueError: the polynomial must be monic
```

I prefer the `NotImplementedError`, and it would be good to add a reference to #252 to that error message.



---

archive/issue_comments_173615.json:
```json
{
    "body": "I agree with Marco's comments.\n\nAnd don't forget to add your names as Author/Reviewer.",
    "created_at": "2013-03-13T14:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173615",
    "user": "https://github.com/jdemeyer"
}
```

I agree with Marco's comments.

And don't forget to add your names as Author/Reviewer.



---

archive/issue_comments_173616.json:
```json
{
    "body": "Changing type from enhancement to defect.",
    "created_at": "2013-03-15T21:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173616",
    "user": "https://github.com/mstreng"
}
```

Changing type from enhancement to defect.



---

archive/issue_comments_173617.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-03-15T21:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173617",
    "user": "https://github.com/mstreng"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_173618.json:
```json
{
    "body": "Changing keywords from \"pari\" to \"pari, number field, monic, integral, integer\".",
    "created_at": "2013-03-15T21:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173618",
    "user": "https://github.com/mstreng"
}
```

Changing keywords from "pari" to "pari, number field, monic, integral, integer".



---

archive/issue_comments_173619.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-03-18T17:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173619",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_173620.json:
```json
{
    "body": "The error\n\n```\nsage: k.<a> = NumberField(5*x^2+3)\nNotImplementedError: number fields for non-monic polynomials not yet implemented.\n```\n\nis not a result of this patch. It was there before, but it was only there for **absolute** number fields.\n\nI updated the patch according to your suggestions. Now only a warning is printed, and no exception is raised (in the **relative** case). I did not touch the absolute case.",
    "created_at": "2013-03-18T17:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173620",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

The error

```
sage: k.<a> = NumberField(5*x^2+3)
NotImplementedError: number fields for non-monic polynomials not yet implemented.
```

is not a result of this patch. It was there before, but it was only there for **absolute** number fields.

I updated the patch according to your suggestions. Now only a warning is printed, and no exception is raised (in the **relative** case). I did not touch the absolute case.



---

archive/issue_comments_173621.json:
```json
{
    "body": "Replying to [comment:10 Bouillaguet]:\n> I did not touch the absolute case.\n\nFine with me. I looked at this in a bit more detail, and have some questions:\n\n* Why import \"warn\" from \"sage.misc.superseded\" and not directly from Python's \"warnings\" module as is done in `superseded.py`?\n\n* When I try the examples in a Sage session, I get the warning printed twice. Is that supposed to happen?\n\n```\nsage: k.<a> = NumberField(x^2+1)\nsage: l.<b> = k.extension(x^3-1/2)\n/sage-5.6/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_rel.py:307: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors. See http://trac.sagemath.org/sage_trac/ticket/252\n  warn(\"PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors. See http://trac.sagemath.org/sage_trac/ticket/252\")\n```\n",
    "created_at": "2013-03-18T17:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173621",
    "user": "https://github.com/mstreng"
}
```

Replying to [comment:10 Bouillaguet]:
> I did not touch the absolute case.

Fine with me. I looked at this in a bit more detail, and have some questions:

* Why import "warn" from "sage.misc.superseded" and not directly from Python's "warnings" module as is done in `superseded.py`?

* When I try the examples in a Sage session, I get the warning printed twice. Is that supposed to happen?

```
sage: k.<a> = NumberField(x^2+1)
sage: l.<b> = k.extension(x^3-1/2)
/sage-5.6/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_rel.py:307: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors. See http://trac.sagemath.org/sage_trac/ticket/252
  warn("PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors. See http://trac.sagemath.org/sage_trac/ticket/252")
```




---

archive/issue_comments_173622.json:
```json
{
    "body": "Replying to [comment:11 mstreng]:\n> have some questions:\n\nAnd one more: do you have a reason for keeping the commented warning in there?",
    "created_at": "2013-03-18T17:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173622",
    "user": "https://github.com/mstreng"
}
```

Replying to [comment:11 mstreng]:
> have some questions:

And one more: do you have a reason for keeping the commented warning in there?



---

archive/issue_comments_173623.json:
```json
{
    "body": "Attachment [14146_number_fields.patch](tarball://root/attachments/some-uuid/ticket14146/14146_number_fields.patch) by Bouillaguet created at 2013-03-21 07:10:28",
    "created_at": "2013-03-21T07:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173623",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Attachment [14146_number_fields.patch](tarball://root/attachments/some-uuid/ticket14146/14146_number_fields.patch) by Bouillaguet created at 2013-03-21 07:10:28



---

archive/issue_comments_173624.json:
```json
{
    "body": "Replying to [comment:12 mstreng]:\n> Replying to [comment:11 mstreng]:\n> > have some questions:\n> \n> And one more: do you have a reason for keeping the commented warning in there?\n\nnope :) I updated the patch",
    "created_at": "2013-03-21T07:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173624",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Replying to [comment:12 mstreng]:
> Replying to [comment:11 mstreng]:
> > have some questions:
> 
> And one more: do you have a reason for keeping the commented warning in there?

nope :) I updated the patch



---

archive/issue_comments_173625.json:
```json
{
    "body": "Replying to [comment:13 Bouillaguet]:\n> nope :) I updated the patch\n\nThanks! And what about [comment:11 the earlier questions]?",
    "created_at": "2013-03-21T10:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173625",
    "user": "https://github.com/mstreng"
}
```

Replying to [comment:13 Bouillaguet]:
> nope :) I updated the patch

Thanks! And what about [comment:11 the earlier questions]?



---

archive/issue_comments_173626.json:
```json
{
    "body": "Attachment [14146_reviewer.patch](tarball://root/attachments/some-uuid/ticket14146/14146_reviewer.patch) by @mstreng created at 2013-04-17 09:29:10\n\nI did some of the corrections myself that I did not get an answer to:\n\n* \"...\" instead of a doctest number\n* `NotImplementedError`, because it is more appropriate than `ValueError` and also more in line with the absolute case\n* import `warn` more directly\n\nHowever, I still don't understand why I get the warning printed twice:\n\n```\nsage: k.<a> = NumberField(x^2+1)\nsage: l.<b> = k.extension(x^3-1/2)\n/sage-5.6/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_rel.py:307: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors. See http://trac.sagemath.org/sage_trac/ticket/252\n  warn(\"PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors. See http://trac.sagemath.org/sage_trac/ticket/252\")\n```\n",
    "created_at": "2013-04-17T09:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173626",
    "user": "https://github.com/mstreng"
}
```

Attachment [14146_reviewer.patch](tarball://root/attachments/some-uuid/ticket14146/14146_reviewer.patch) by @mstreng created at 2013-04-17 09:29:10

I did some of the corrections myself that I did not get an answer to:

* "..." instead of a doctest number
* `NotImplementedError`, because it is more appropriate than `ValueError` and also more in line with the absolute case
* import `warn` more directly

However, I still don't understand why I get the warning printed twice:

```
sage: k.<a> = NumberField(x^2+1)
sage: l.<b> = k.extension(x^3-1/2)
/sage-5.6/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_rel.py:307: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors. See http://trac.sagemath.org/sage_trac/ticket/252
  warn("PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors. See http://trac.sagemath.org/sage_trac/ticket/252")
```




---

archive/issue_comments_173627.json:
```json
{
    "body": "I know why the warning is printed twice: the line that caused the warning is printed, after the warning is printed. You can specify how deep in the stack this line needs to be found:\n\nWithout specifying stacklevel or when giving stacklevel=1:\n\n```\n/Users/marcostreng/sage-5.9.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_rel.py:310: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors\n  warn(\"PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors\", stacklevel=1)\n```\n\nstacklevel=2:\n\n```\n/Users/marcostreng/sage-5.9.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py:4116: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors\n  return NumberField_relative(self, poly, str(name), check=check, embedding=embedding)\n```\n\nstacklevel=3:\n\n```\n/Users/marcostreng/sage-5.9.beta1/local/bin/sage-ipython:1: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors\n  #!/usr/bin/env python\n```\n\n\nAnyway, no value of stacklevel seemed to provide me with anything useful for .py or .sage files or the IPython console, so we might as well keep it as it is.",
    "created_at": "2013-04-17T11:33:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173627",
    "user": "https://github.com/mstreng"
}
```

I know why the warning is printed twice: the line that caused the warning is printed, after the warning is printed. You can specify how deep in the stack this line needs to be found:

Without specifying stacklevel or when giving stacklevel=1:

```
/Users/marcostreng/sage-5.9.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_rel.py:310: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors
  warn("PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors", stacklevel=1)
```

stacklevel=2:

```
/Users/marcostreng/sage-5.9.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.py:4116: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors
  return NumberField_relative(self, poly, str(name), check=check, embedding=embedding)
```

stacklevel=3:

```
/Users/marcostreng/sage-5.9.beta1/local/bin/sage-ipython:1: UserWarning: PARI only handles integral absolute polynomials. Computations in this field might trigger PARI errors
  #!/usr/bin/env python
```


Anyway, no value of stacklevel seemed to provide me with anything useful for .py or .sage files or the IPython console, so we might as well keep it as it is.



---

archive/issue_comments_173628.json:
```json
{
    "body": "All tests pass. Positive review to [attachment:14146_number_fields.patch] except for what I changed in the reviewer patch. Could someone (Charles?) review my reviewer patch? Thanks!",
    "created_at": "2013-04-17T11:35:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173628",
    "user": "https://github.com/mstreng"
}
```

All tests pass. Positive review to [attachment:14146_number_fields.patch] except for what I changed in the reviewer patch. Could someone (Charles?) review my reviewer patch? Thanks!



---

archive/issue_comments_173629.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-24T07:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173629",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_173630.json:
```json
{
    "body": "The reviewer patch is fine. Still, the example given above by Marco is now disallowed. This one :\n\n\n```\nsage: k.<i> = NumberField(x^2+1)\nsage: l.<b> = k.extension(5*x^2 + 3)\nsage: c = b + b\nsage: c^2 == -12/5\nTrue\nsage: c^2 == b\nFalse\n```\n",
    "created_at": "2013-04-24T07:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173630",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

The reviewer patch is fine. Still, the example given above by Marco is now disallowed. This one :


```
sage: k.<i> = NumberField(x^2+1)
sage: l.<b> = k.extension(5*x^2 + 3)
sage: c = b + b
sage: c^2 == -12/5
True
sage: c^2 == b
False
```




---

archive/issue_comments_173631.json:
```json
{
    "body": "Thanks!\n\nReplying to [comment:18 Bouillaguet]:\n> the example given above by Marco is now disallowed\n\nI know, it is too bad. I justified it to myself by noting that it is in line with the absolute case.",
    "created_at": "2013-04-24T07:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173631",
    "user": "https://github.com/mstreng"
}
```

Thanks!

Replying to [comment:18 Bouillaguet]:
> the example given above by Marco is now disallowed

I know, it is too bad. I justified it to myself by noting that it is in line with the absolute case.



---

archive/issue_comments_173632.json:
```json
{
    "body": "This causes a `--long` doctest failure in `devel/sage/sage/schemes/elliptic_curves/gal_reps.py`",
    "created_at": "2013-04-29T11:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173632",
    "user": "https://github.com/jdemeyer"
}
```

This causes a `--long` doctest failure in `devel/sage/sage/schemes/elliptic_curves/gal_reps.py`



---

archive/issue_comments_173633.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-04-29T11:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173633",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_173634.json:
```json
{
    "body": "Attachment [14146-doctest.patch](tarball://root/attachments/some-uuid/ticket14146/14146-doctest.patch) by @mstreng created at 2013-04-29 12:26:00",
    "created_at": "2013-04-29T12:26:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173634",
    "user": "https://github.com/mstreng"
}
```

Attachment [14146-doctest.patch](tarball://root/attachments/some-uuid/ticket14146/14146-doctest.patch) by @mstreng created at 2013-04-29 12:26:00



---

archive/issue_comments_173635.json:
```json
{
    "body": "Replying to [comment:20 jdemeyer]:\n> This causes a `--long` doctest failure in `devel/sage/sage/schemes/elliptic_curves/gal_reps.py`\n\nSorry about that. Is testing the whole sage library on shared machines safe again? I relied on patchbot ever since the warnings on sage-devel, and patchbot does not do long tests.",
    "created_at": "2013-04-29T12:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173635",
    "user": "https://github.com/mstreng"
}
```

Replying to [comment:20 jdemeyer]:
> This causes a `--long` doctest failure in `devel/sage/sage/schemes/elliptic_curves/gal_reps.py`

Sorry about that. Is testing the whole sage library on shared machines safe again? I relied on patchbot ever since the warnings on sage-devel, and patchbot does not do long tests.



---

archive/issue_comments_173636.json:
```json
{
    "body": "Replying to [comment:22 mstreng]:\n> Replying to [comment:20 jdemeyer]:\n> > This causes a `--long` doctest failure in `devel/sage/sage/schemes/elliptic_curves/gal_reps.py`\n> \n> Sorry about that. Is testing the whole sage library on shared machines safe again?\nSafe again, what do you mean? What has been unsafe?",
    "created_at": "2013-04-29T12:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173636",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:22 mstreng]:
> Replying to [comment:20 jdemeyer]:
> > This causes a `--long` doctest failure in `devel/sage/sage/schemes/elliptic_curves/gal_reps.py`
> 
> Sorry about that. Is testing the whole sage library on shared machines safe again?
Safe again, what do you mean? What has been unsafe?



---

archive/issue_comments_173637.json:
```json
{
    "body": "Replying to [comment:23 jdemeyer]:\n> Safe again, what do you mean? What has been unsafe?\n#13579, looks like it's fixed, so I suppose that answers my question",
    "created_at": "2013-04-29T12:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173637",
    "user": "https://github.com/mstreng"
}
```

Replying to [comment:23 jdemeyer]:
> Safe again, what do you mean? What has been unsafe?
#13579, looks like it's fixed, so I suppose that answers my question



---

archive/issue_comments_173638.json:
```json
{
    "body": "Yes, that has been fixed a while ago.",
    "created_at": "2013-04-29T12:47:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173638",
    "user": "https://github.com/jdemeyer"
}
```

Yes, that has been fixed a while ago.



---

archive/issue_comments_173639.json:
```json
{
    "body": "Replying to [comment:25 jdemeyer]:\n> Yes, that has been fixed a while ago.\n\nThanks, sorry for not running long tests. I did now, and all tests pass. Only [attachment:14146-doctest.patch] needs review.",
    "created_at": "2013-04-29T20:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173639",
    "user": "https://github.com/mstreng"
}
```

Replying to [comment:25 jdemeyer]:
> Yes, that has been fixed a while ago.

Thanks, sorry for not running long tests. I did now, and all tests pass. Only [attachment:14146-doctest.patch] needs review.



---

archive/issue_comments_173640.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-04-29T20:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173640",
    "user": "https://github.com/mstreng"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_173641.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-04T12:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173641",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_173642.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-05-07T09:05:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13942",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13942#issuecomment-173642",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
