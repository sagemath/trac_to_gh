# Issue 14825: Iterators for p-adic expansions, polynomial representations of padic elements

archive/issues_014621.json:
```json
{
    "body": "This method makes a few additions/changes to p-adics.\n\n* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.\n\n```\nsage: K.<a> = Qq(5^3)\nsage: a.polynomial()\n(1 + O(5^20))*x + (O(5^20))\n```\n* Rename the `list()` method to `expansion()` and have it return a custom iterable instead of a list\n* Rename the `teichmuller_list()` method to `teichmuller_expansion()` and have it return a custom iterable instead of a list\n* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.\n* Fix inconsistencies in `teichmuller_expansion()` for different precision types\n* Deprecate `padded_list` since this functionality is available either from `expansion` or from `Integer.digits` using the `padto` keyword.\n* Copy sections of inclusions `ZZ->Zp` when they\u2019re used within the coercion system\n\nThere are followup tickets at #23827, #26406.\n\nAssignee: @roed314\n\nCC:  @saraedum\n\nKeywords: sd87, days88, polynomial representation\n\nWork_Issues: plugin error\n\nReviewer: Julian R\u00fcth, David Roe\n\nAuthor: Xavier Caruso, David Roe, Julian R\u00fcth\n\nBranch: 04a1579131d64cdc63ecf1babcba2350dec6497c\n\nDependencies: #20310\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14825\n\n",
    "closed_at": "2017-09-24T13:13:37Z",
    "created_at": "2013-06-26T10:42:23Z",
    "labels": [
        "component: padics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Iterators for p-adic expansions, polynomial representations of padic elements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14825",
    "user": "https://github.com/xcaruso"
}
```
This method makes a few additions/changes to p-adics.

* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.

```
sage: K.<a> = Qq(5^3)
sage: a.polynomial()
(1 + O(5^20))*x + (O(5^20))
```
* Rename the `list()` method to `expansion()` and have it return a custom iterable instead of a list
* Rename the `teichmuller_list()` method to `teichmuller_expansion()` and have it return a custom iterable instead of a list
* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.
* Fix inconsistencies in `teichmuller_expansion()` for different precision types
* Deprecate `padded_list` since this functionality is available either from `expansion` or from `Integer.digits` using the `padto` keyword.
* Copy sections of inclusions `ZZ->Zp` when they’re used within the coercion system

There are followup tickets at #23827, #26406.

Assignee: @roed314

CC:  @saraedum

Keywords: sd87, days88, polynomial representation

Work_Issues: plugin error

Reviewer: Julian Rüth, David Roe

Author: Xavier Caruso, David Roe, Julian Rüth

Branch: 04a1579131d64cdc63ecf1babcba2350dec6497c

Dependencies: #20310

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14825





---

archive/issue_comments_198298.json:
```json
{
    "body": "Attachment [trac_14825_polynomial_representation_padics.patch](tarball://root/attachments/some-uuid/ticket14825/trac_14825_polynomial_representation_padics.patch) by @xcaruso created at 2013-06-26 10:43:45",
    "created_at": "2013-06-26T10:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198298",
    "user": "https://github.com/xcaruso"
}
```

Attachment [trac_14825_polynomial_representation_padics.patch](tarball://root/attachments/some-uuid/ticket14825/trac_14825_polynomial_representation_padics.patch) by @xcaruso created at 2013-06-26 10:43:45



---

archive/issue_comments_198299.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-06-26T10:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198299",
    "user": "https://github.com/xcaruso"
}
```

Changing status from new to needs_review.



---

archive/issue_events_042561.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14825#event-42561"
}
```



---

archive/issue_events_042562.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14825#event-42562"
}
```



---

archive/issue_events_042563.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14825#event-42563"
}
```



---

archive/issue_comments_198300.json:
```json
{
    "body": "<a id='comment:4'></a>Patch does not merge. Please rebase.",
    "created_at": "2014-05-12T13:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198300",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>Patch does not merge. Please rebase.



---

archive/issue_comments_198301.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-12T13:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198301",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_042564.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14825#event-42564"
}
```



---

archive/issue_events_042565.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14825#event-42565"
}
```



---

archive/issue_comments_198302.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-16T10:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198303.json:
```json
{
    "body": "<a id='comment:8'></a>I got a little carried away with some other changes.  In particular, I renamed and deprecated list and teichmuller list.  There are still two failing doctests, but I'm going to be offline for a week or so and wanted to push my changes.",
    "created_at": "2017-06-16T10:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198303",
    "user": "https://github.com/roed314"
}
```

<a id='comment:8'></a>I got a little carried away with some other changes.  In particular, I renamed and deprecated list and teichmuller list.  There are still two failing doctests, but I'm going to be offline for a week or so and wanted to push my changes.



---

archive/issue_comments_198304.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-29T02:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198305.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-29T16:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198306.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-30T03:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198307.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-30T04:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198307",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198308.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-06-30T04:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198308",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198309.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,12 +1,17 @@\n-If $K$ is an unramified extension of $Z_p$ whose generator is $a$, this patch implements a method `polynomial` which takes as input an element $x$ in $K$ and outputs a polynomial $P$ with coefficients in $Z_p$ such that $P(a) = x$.\n+This method makes a few additions/changes to p-adics.\n+\n+* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.\n \n ```\n sage: K.<a> = Qq(5^3)\n sage: a.polynomial()\n (1 + O(5^20))*x + (O(5^20))\n ```\n-\n-Keywords: polynomial representation\n+* Rename the `list()` method to `expansion()`\n+* Rename the `teichmuller_list()` method to `teichmuller_expansion()`\n+* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.\n+* Fix inconsistencies in `teichmuller_expansion()` for different precision types\n+* Copy sections of inclusions `ZZ->Zp` when they\u2019re used within the coercion system\n \n Author: Xavier Caruso\n \n```\n",
    "created_at": "2017-06-30T04:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198309",
    "user": "https://github.com/roed314"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,12 +1,17 @@
-If $K$ is an unramified extension of $Z_p$ whose generator is $a$, this patch implements a method `polynomial` which takes as input an element $x$ in $K$ and outputs a polynomial $P$ with coefficients in $Z_p$ such that $P(a) = x$.
+This method makes a few additions/changes to p-adics.
+
+* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.
 
 ```
 sage: K.<a> = Qq(5^3)
 sage: a.polynomial()
 (1 + O(5^20))*x + (O(5^20))
 ```
-
-Keywords: polynomial representation
+* Rename the `list()` method to `expansion()`
+* Rename the `teichmuller_list()` method to `teichmuller_expansion()`
+* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.
+* Fix inconsistencies in `teichmuller_expansion()` for different precision types
+* Copy sections of inclusions `ZZ->Zp` when they’re used within the coercion system
 
 Author: Xavier Caruso
 
```




---

archive/issue_comments_198310.json:
```json
{
    "body": "<a id='comment:14'></a>By the way, I ran all tests and they pass.",
    "created_at": "2017-06-30T04:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198310",
    "user": "https://github.com/roed314"
}
```

<a id='comment:14'></a>By the way, I ran all tests and they pass.



---

archive/issue_comments_198311.json:
```json
{
    "body": "<a id='comment:16'></a>David, feel free to set this to positive review. My only question would be whether `polynomial` should be added to `API.pxi`?\n\n---\nNew commits:",
    "created_at": "2017-07-02T03:03:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198311",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:16'></a>David, feel free to set this to positive review. My only question would be whether `polynomial` should be added to `API.pxi`?

---
New commits:



---

archive/issue_comments_198312.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-02T03:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198312",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_198313.json:
```json
{
    "body": "<a id='comment:17'></a>Misunderstood something about polynomial. Never mind.",
    "created_at": "2017-07-02T03:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198313",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:17'></a>Misunderstood something about polynomial. Never mind.



---

archive/issue_comments_198314.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2017-07-21T01:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198314",
    "user": "https://github.com/roed314"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_198315.json:
```json
{
    "body": "<a id='comment:19'></a>New commits:",
    "created_at": "2017-07-21T01:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198315",
    "user": "https://github.com/roed314"
}
```

<a id='comment:19'></a>New commits:



---

archive/issue_comments_198316.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-21T03:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198316",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_198317.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-07-22T05:31:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198317",
    "user": "https://github.com/xcaruso"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_198318.json:
```json
{
    "body": "<a id='comment:21'></a>\n```\n    sage: K.<a> = Qq(7^3,4)\n    sage: b = (a+1)/7\n    sage: b.polynomial()\n    sig_error() without sig_on()\n    <BOUM>\n```",
    "created_at": "2017-07-22T05:31:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198318",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:21'></a>
```
    sage: K.<a> = Qq(7^3,4)
    sage: b = (a+1)/7
    sage: b.polynomial()
    sig_error() without sig_on()
    <BOUM>
```



---

archive/issue_comments_198319.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-02T21:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198320.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-03T00:32:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198321.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-03T00:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198321",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198322.json:
```json
{
    "body": "<a id='comment:24'></a>I fixed the segfault, and tests pass.",
    "created_at": "2017-08-03T00:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198322",
    "user": "https://github.com/roed314"
}
```

<a id='comment:24'></a>I fixed the segfault, and tests pass.



---

archive/issue_comments_198323.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-08-03T01:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_198324.json:
```json
{
    "body": "<a id='comment:26'></a>Adding a dependency for merging purposes.",
    "created_at": "2017-08-03T01:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198324",
    "user": "https://github.com/roed314"
}
```

<a id='comment:26'></a>Adding a dependency for merging purposes.



---

archive/issue_comments_198325.json:
```json
{
    "body": "Diff against 20310",
    "created_at": "2017-08-03T02:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198325",
    "user": "https://github.com/roed314"
}
```

Diff against 20310



---

archive/issue_comments_198326.json:
```json
{
    "body": "<a id='comment:27'></a>Attachment [14825_over_20310.diff](tarball://root/attachments/some-uuid/ticket14825/14825_over_20310.diff) by @roed314 created at 2017-08-03 02:05:07\n\nFor ease of reviewing, I've attached a diff against #20310.",
    "created_at": "2017-08-03T02:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198326",
    "user": "https://github.com/roed314"
}
```

<a id='comment:27'></a>Attachment [14825_over_20310.diff](tarball://root/attachments/some-uuid/ticket14825/14825_over_20310.diff) by @roed314 created at 2017-08-03 02:05:07

For ease of reviewing, I've attached a diff against #20310.



---

archive/issue_comments_198327.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2017-08-04T12:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198327",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_198328.json:
```json
{
    "body": "<a id='comment:29'></a>Ok. Looks good. I fixed a few very minor documentation issues. I also wrote a unit test for expansion and it fails for some instances. This is likely only a error in the documentation:\n\n```\nsage: K=Qp(2)\nsage: K(2).expansion()\n[1]\nsage: K(2).expansion(n=0)\n0 # should return 1?\nsage: K(2).expansion(n=1)\n1 # sould return 0?\n```\nThat's at least how I understand the expansion() docstring. Is the current behaviour intended?",
    "created_at": "2017-08-04T12:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198328",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:29'></a>Ok. Looks good. I fixed a few very minor documentation issues. I also wrote a unit test for expansion and it fails for some instances. This is likely only a error in the documentation:

```
sage: K=Qp(2)
sage: K(2).expansion()
[1]
sage: K(2).expansion(n=0)
0 # should return 1?
sage: K(2).expansion(n=1)
1 # sould return 0?
```
That's at least how I understand the expansion() docstring. Is the current behaviour intended?



---

archive/issue_comments_198329.json:
```json
{
    "body": "<a id='comment:30'></a>Here is something that the unit test found that seems to be a bug:\n\n```\nsage: ZpCA(2)(2).expansion(lift_mode='teichmuller')\n[1 + O(2^19)]\nsage: ZpFM(2)(2).expansion(lift_mode='teichmuller')\n[1 + O(2^20)]\n```",
    "created_at": "2017-08-04T12:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198329",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:30'></a>Here is something that the unit test found that seems to be a bug:

```
sage: ZpCA(2)(2).expansion(lift_mode='teichmuller')
[1 + O(2^19)]
sage: ZpFM(2)(2).expansion(lift_mode='teichmuller')
[1 + O(2^20)]
```



---

archive/issue_comments_198330.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:30 saraedum]:\n> Here is something that the unit test found that seems to be a bug:\n> \n> ```\n> sage: ZpCA(2)(2).expansion(lift_mode='teichmuller')\n> [1 + O(2^19)]\n> sage: ZpFM(2)(2).expansion(lift_mode='teichmuller')\n> [1 + O(2^20)]\n> ```\n\n\nWhy is this a bug?\n\n---\nNew commits:",
    "created_at": "2017-08-05T08:23:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198330",
    "user": "https://github.com/roed314"
}
```

<a id='comment:34'></a>Replying to [comment:30 saraedum]:
> Here is something that the unit test found that seems to be a bug:
> 
> ```
> sage: ZpCA(2)(2).expansion(lift_mode='teichmuller')
> [1 + O(2^19)]
> sage: ZpFM(2)(2).expansion(lift_mode='teichmuller')
> [1 + O(2^20)]
> ```


Why is this a bug?

---
New commits:



---

archive/issue_comments_198331.json:
```json
{
    "body": "<a id='comment:35'></a>Replying to [comment:29 saraedum]:\n> Ok. Looks good. I fixed a few very minor documentation issues. I also wrote a unit test for expansion and it fails for some instances. This is likely only a error in the documentation:\n> \n> ```\n> sage: K=Qp(2)\n> sage: K(2).expansion()\n> [1]\n> sage: K(2).expansion(n=0)\n> 0 # should return 1?\n> sage: K(2).expansion(n=1)\n> 1 # should return 0?\n> ```\n> That's at least how I understand the expansion() docstring. Is the current behaviour intended?\n\n\nYeah, this is intended.  When you pass in a value for `n` it gives you the coefficient of p<sup>n</sup>, rather than the `n`th term in the list.  I've updated the test (but haven't pushed yet).",
    "created_at": "2017-08-05T08:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198331",
    "user": "https://github.com/roed314"
}
```

<a id='comment:35'></a>Replying to [comment:29 saraedum]:
> Ok. Looks good. I fixed a few very minor documentation issues. I also wrote a unit test for expansion and it fails for some instances. This is likely only a error in the documentation:
> 
> ```
> sage: K=Qp(2)
> sage: K(2).expansion()
> [1]
> sage: K(2).expansion(n=0)
> 0 # should return 1?
> sage: K(2).expansion(n=1)
> 1 # should return 0?
> ```
> That's at least how I understand the expansion() docstring. Is the current behaviour intended?


Yeah, this is intended.  When you pass in a value for `n` it gives you the coefficient of p<sup>n</sup>, rather than the `n`th term in the list.  I've updated the test (but haven't pushed yet).



---

archive/issue_comments_198332.json:
```json
{
    "body": "<a id='comment:36'></a>So, your test causes `padic_expansion_generic.py` to time out, since it's running with precision cap 10000.  One way to improve the situation might be to change expansion to return an iterator (and then change `_test_expansion` to top out at testing at most 40 terms or something).  This ticket might be a good time to do this, since we're already deprecating list; it's not hard to change the behavior of `expansion` at the same time (which we're in fact doing by adding the `n` keyword).\n\nWhat do you think?",
    "created_at": "2017-08-05T08:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198332",
    "user": "https://github.com/roed314"
}
```

<a id='comment:36'></a>So, your test causes `padic_expansion_generic.py` to time out, since it's running with precision cap 10000.  One way to improve the situation might be to change expansion to return an iterator (and then change `_test_expansion` to top out at testing at most 40 terms or something).  This ticket might be a good time to do this, since we're already deprecating list; it's not hard to change the behavior of `expansion` at the same time (which we're in fact doing by adding the `n` keyword).

What do you think?



---

archive/issue_comments_198333.json:
```json
{
    "body": "<a id='comment:38'></a>Replying to [comment:35 roed]:\n> Replying to [comment:29 saraedum]:\n> > Ok. Looks good. I fixed a few very minor documentation issues. I also wrote a unit test for expansion and it fails for some instances. This is likely only a error in the documentation:\n> > \n> > ```\n> > sage: K=Qp(2)\n> > sage: K(2).expansion()\n> > [1]\n> > sage: K(2).expansion(n=0)\n> > 0 # should return 1?\n> > sage: K(2).expansion(n=1)\n> > 1 # should return 0?\n> > ```\n> > That's at least how I understand the expansion() docstring. Is the current behaviour intended?\n\n> \n> Yeah, this is intended.  When you pass in a value for `n` it gives you the coefficient of p<sup>n</sup>, rather than the `n`th term in the list.  I've updated the test (but haven't pushed yet).\nOk. Then the documentation should be more explicit. I thought it's just a shortcut to get the n-th element in the list.\n\n---\nNew commits:",
    "created_at": "2017-08-05T12:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198333",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:38'></a>Replying to [comment:35 roed]:
> Replying to [comment:29 saraedum]:
> > Ok. Looks good. I fixed a few very minor documentation issues. I also wrote a unit test for expansion and it fails for some instances. This is likely only a error in the documentation:
> > 
> > ```
> > sage: K=Qp(2)
> > sage: K(2).expansion()
> > [1]
> > sage: K(2).expansion(n=0)
> > 0 # should return 1?
> > sage: K(2).expansion(n=1)
> > 1 # should return 0?
> > ```
> > That's at least how I understand the expansion() docstring. Is the current behaviour intended?

> 
> Yeah, this is intended.  When you pass in a value for `n` it gives you the coefficient of p<sup>n</sup>, rather than the `n`th term in the list.  I've updated the test (but haven't pushed yet).
Ok. Then the documentation should be more explicit. I thought it's just a shortcut to get the n-th element in the list.

---
New commits:



---

archive/issue_comments_198334.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:36 roed]:\n> So, your test causes `padic_expansion_generic.py` to time out, since it's running with precision cap 10000.  One way to improve the situation might be to change expansion to return an iterator (and then change `_test_expansion` to top out at testing at most 40 terms or something).  This ticket might be a good time to do this, since we're already deprecating list; it's not hard to change the behavior of `expansion` at the same time (which we're in fact doing by adding the `n` keyword).\n> \n> What do you think?\n\nSounds good.",
    "created_at": "2017-08-05T12:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198334",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:39'></a>Replying to [comment:36 roed]:
> So, your test causes `padic_expansion_generic.py` to time out, since it's running with precision cap 10000.  One way to improve the situation might be to change expansion to return an iterator (and then change `_test_expansion` to top out at testing at most 40 terms or something).  This ticket might be a good time to do this, since we're already deprecating list; it's not hard to change the behavior of `expansion` at the same time (which we're in fact doing by adding the `n` keyword).
> 
> What do you think?

Sounds good.



---

archive/issue_comments_198335.json:
```json
{
    "body": "<a id='comment:40'></a>Replying to [comment:34 roed]:\n> Replying to [comment:30 saraedum]:\n> > Here is something that the unit test found that seems to be a bug:\n> > \n> > ```\n> > sage: ZpCA(2)(2).expansion(lift_mode='teichmuller')\n> > [1 + O(2^19)]\n> > sage: ZpFM(2)(2).expansion(lift_mode='teichmuller')\n> > [1 + O(2^20)]\n> > ```\n\n> \n> Why is this a bug?\n\nThe docstring says that (since this is not a field) summing these with powers of pi should return the original element, i.e., `(1 + O(2<sup>19))*2</sup>0 == 2`.",
    "created_at": "2017-08-05T12:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198335",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:40'></a>Replying to [comment:34 roed]:
> Replying to [comment:30 saraedum]:
> > Here is something that the unit test found that seems to be a bug:
> > 
> > ```
> > sage: ZpCA(2)(2).expansion(lift_mode='teichmuller')
> > [1 + O(2^19)]
> > sage: ZpFM(2)(2).expansion(lift_mode='teichmuller')
> > [1 + O(2^20)]
> > ```

> 
> Why is this a bug?

The docstring says that (since this is not a field) summing these with powers of pi should return the original element, i.e., `(1 + O(2<sup>19))*2</sup>0 == 2`.



---

archive/issue_comments_198336.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-21T03:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198337.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2017-08-25T19:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198337",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_198338.json:
```json
{
    "body": "Changing keywords from \"polynomial representation\" to \"sd87, days88, polynomial representation\".",
    "created_at": "2017-08-25T19:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198338",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "polynomial representation" to "sd87, days88, polynomial representation".



---

archive/issue_comments_198339.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-06T16:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198340.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-08T23:51:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198341.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-09T03:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198341",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198342.json:
```json
{
    "body": "<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-09T03:27:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198342",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198343.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-09T03:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198343",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198344.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-09T04:49:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198345.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+This method makes a few additions/changes to p-adics.\n \n+* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.\n+\n+```\n+sage: K.<a> = Qq(5^3)\n+sage: a.polynomial()\n+(1 + O(5^20))*x + (O(5^20))\n+```\n+* Rename the `list()` method to `expansion()` and have it return a custom iterable instead of a list\n+* Rename the `teichmuller_list()` method to `teichmuller_expansion()` and have it return a custom iterable instead of a list\n+* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.\n+* Fix inconsistencies in `teichmuller_expansion()` for different precision types\n+* Deprecate `padded_list` since this functionality is available either from `expansion` or from `Integer.digits` using the `padto` keyword.\n+* Copy sections of inclusions `ZZ->Zp` when they\u2019re used within the coercion system\n \n Author: Xavier Caruso\n \n```\n",
    "created_at": "2017-09-09T05:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198345",
    "user": "https://github.com/roed314"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,18 @@
+This method makes a few additions/changes to p-adics.
 
+* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.
+
+```
+sage: K.<a> = Qq(5^3)
+sage: a.polynomial()
+(1 + O(5^20))*x + (O(5^20))
+```
+* Rename the `list()` method to `expansion()` and have it return a custom iterable instead of a list
+* Rename the `teichmuller_list()` method to `teichmuller_expansion()` and have it return a custom iterable instead of a list
+* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.
+* Fix inconsistencies in `teichmuller_expansion()` for different precision types
+* Deprecate `padded_list` since this functionality is available either from `expansion` or from `Integer.digits` using the `padto` keyword.
+* Copy sections of inclusions `ZZ->Zp` when they’re used within the coercion system
 
 Author: Xavier Caruso
 
```




---

archive/issue_comments_198346.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-09-10T14:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198346",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_198347.json:
```json
{
    "body": "<a id='comment:52'></a>This looks very good. Is there a follow up ticket to implement the new `__getitem__`?",
    "created_at": "2017-09-10T14:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198347",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:52'></a>This looks very good. Is there a follow up ticket to implement the new `__getitem__`?



---

archive/issue_comments_198348.json:
```json
{
    "body": "<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-11T07:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198349.json:
```json
{
    "body": "<a id='comment:54'></a>Replying to [comment:52 saraedum]:\n> This looks very good. Is there a follow up ticket to implement the new `__getitem__`?\n\n\nFollowup is now #23827",
    "created_at": "2017-09-11T07:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198349",
    "user": "https://github.com/roed314"
}
```

<a id='comment:54'></a>Replying to [comment:52 saraedum]:
> This looks very good. Is there a follow up ticket to implement the new `__getitem__`?


Followup is now #23827



---

archive/issue_comments_198350.json:
```json
{
    "body": "<a id='comment:55'></a>Patchbot complains about `.. SEEALSO::`, but I'm confused: this is the correct syntax described both in the developer guide and the [patchbot source code](https://github.com/sagemath/sage-patchbot/blob/master/sage_patchbot/plugins.py)!  Am I missing something?\n\nThe doctest errors are the normal glpk issues, which aren't due to this ticket.",
    "created_at": "2017-09-11T17:31:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198350",
    "user": "https://github.com/roed314"
}
```

<a id='comment:55'></a>Patchbot complains about `.. SEEALSO::`, but I'm confused: this is the correct syntax described both in the developer guide and the [patchbot source code](https://github.com/sagemath/sage-patchbot/blob/master/sage_patchbot/plugins.py)!  Am I missing something?

The doctest errors are the normal glpk issues, which aren't due to this ticket.



---

archive/issue_comments_198351.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-11T17:31:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198351",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198352.json:
```json
{
    "body": "<a id='comment:58'></a>New commits:",
    "created_at": "2017-09-20T15:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198352",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:58'></a>New commits:



---

archive/issue_comments_198353.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-20T16:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198353",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198354.json:
```json
{
    "body": "<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-20T18:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198354",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198355.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-22T19:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198355",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_198356.json:
```json
{
    "body": "<a id='comment:62'></a>I'm happy with Julian's changes, and the patchbot is green.  Positive review!\n\n---\nNew commits:",
    "created_at": "2017-09-22T19:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198356",
    "user": "https://github.com/roed314"
}
```

<a id='comment:62'></a>I'm happy with Julian's changes, and the patchbot is green.  Positive review!

---
New commits:



---

archive/issue_events_042566.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-24T13:13:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14825#event-42566"
}
```



---

archive/issue_comments_198357.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-24T13:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198357",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_198358.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,20 @@\n+This method makes a few additions/changes to p-adics.\n \n+* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.\n+\n+```\n+sage: K.<a> = Qq(5^3)\n+sage: a.polynomial()\n+(1 + O(5^20))*x + (O(5^20))\n+```\n+* Rename the `list()` method to `expansion()` and have it return a custom iterable instead of a list\n+* Rename the `teichmuller_list()` method to `teichmuller_expansion()` and have it return a custom iterable instead of a list\n+* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.\n+* Fix inconsistencies in `teichmuller_expansion()` for different precision types\n+* Deprecate `padded_list` since this functionality is available either from `expansion` or from `Integer.digits` using the `padto` keyword.\n+* Copy sections of inclusions `ZZ->Zp` when they\u2019re used within the coercion system\n+\n+There is a followup ticket at #23827.\n \n Author: Xavier Caruso\n \n```\n",
    "created_at": "2018-10-04T23:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198358",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,20 @@
+This method makes a few additions/changes to p-adics.
 
+* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.
+
+```
+sage: K.<a> = Qq(5^3)
+sage: a.polynomial()
+(1 + O(5^20))*x + (O(5^20))
+```
+* Rename the `list()` method to `expansion()` and have it return a custom iterable instead of a list
+* Rename the `teichmuller_list()` method to `teichmuller_expansion()` and have it return a custom iterable instead of a list
+* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.
+* Fix inconsistencies in `teichmuller_expansion()` for different precision types
+* Deprecate `padded_list` since this functionality is available either from `expansion` or from `Integer.digits` using the `padto` keyword.
+* Copy sections of inclusions `ZZ->Zp` when they’re used within the coercion system
+
+There is a followup ticket at #23827.
 
 Author: Xavier Caruso
 
```




---

archive/issue_comments_198359.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,20 @@\n+This method makes a few additions/changes to p-adics.\n \n+* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.\n+\n+```\n+sage: K.<a> = Qq(5^3)\n+sage: a.polynomial()\n+(1 + O(5^20))*x + (O(5^20))\n+```\n+* Rename the `list()` method to `expansion()` and have it return a custom iterable instead of a list\n+* Rename the `teichmuller_list()` method to `teichmuller_expansion()` and have it return a custom iterable instead of a list\n+* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.\n+* Fix inconsistencies in `teichmuller_expansion()` for different precision types\n+* Deprecate `padded_list` since this functionality is available either from `expansion` or from `Integer.digits` using the `padto` keyword.\n+* Copy sections of inclusions `ZZ->Zp` when they\u2019re used within the coercion system\n+\n+There are followup tickets at #23827, #26406.\n \n Author: Xavier Caruso\n \n```\n",
    "created_at": "2018-10-04T23:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14825#issuecomment-198359",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,20 @@
+This method makes a few additions/changes to p-adics.
 
+* If `K` is an extension of `Z_p` whose generator is `a`, we add a method `polynomial` which takes as input an element `x` in `K` and outputs a polynomial `P` with coefficients in `Z_p` such that `P(a) = x`.
+
+```
+sage: K.<a> = Qq(5^3)
+sage: a.polynomial()
+(1 + O(5^20))*x + (O(5^20))
+```
+* Rename the `list()` method to `expansion()` and have it return a custom iterable instead of a list
+* Rename the `teichmuller_list()` method to `teichmuller_expansion()` and have it return a custom iterable instead of a list
+* Add an optional argument `n` to `expansion()` and `teichmuller_expansion()`, providing a single digit in the p-adic expansion.
+* Fix inconsistencies in `teichmuller_expansion()` for different precision types
+* Deprecate `padded_list` since this functionality is available either from `expansion` or from `Integer.digits` using the `padto` keyword.
+* Copy sections of inclusions `ZZ->Zp` when they’re used within the coercion system
+
+There are followup tickets at #23827, #26406.
 
 Author: Xavier Caruso
 
```

