# Issue 14571: Improve UTF-8 support in LaTeX documentation

archive/issues_014367.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-mvngu"
    ],
    "body": "Building pdf docs uses the deprecated utf8x. We should use utf8 instead.\n\nCC:  @vbraun @dandrake\n\nComponent: **documentation**\n\nKeywords: **unicode**\n\nAuthor: **Volker Braun**\n\nReviewer: **Dmitrii Pasechnik**\n\nMerged: **sage-5.10.rc1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14571_\n\n",
    "closed_at": "2013-06-05T19:51:20Z",
    "created_at": "2013-05-12T09:38:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improve UTF-8 support in LaTeX documentation",
    "type": "issue",
    "updated_at": "2013-06-05T19:51:20Z",
    "url": "https://github.com/sagemath/sage/issues/14571",
    "user": "https://github.com/jdemeyer"
}
```
Building pdf docs uses the deprecated utf8x. We should use utf8 instead.

CC:  @vbraun @dandrake

Component: **documentation**

Keywords: **unicode**

Author: **Volker Braun**

Reviewer: **Dmitrii Pasechnik**

Merged: **sage-5.10.rc1**

_Issue created by migration from https://trac.sagemath.org/ticket/14571_





---

archive/issue_events_204360.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-12T09:38:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204360"
}
```



---

archive/issue_events_204361.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-12T09:38:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204361"
}
```



---

archive/issue_events_204362.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-12T09:38:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204362"
}
```



---

archive/issue_events_204363.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-12T09:38:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204363"
}
```



---

archive/issue_events_204364.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2013-05-12T09:38:37Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "subject": "https://github.com/jdemeyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204364"
}
```



---

archive/issue_comments_176562.json:
```json
{
    "body": "Attachment: **[14571_inputenc.patch.gz](https://github.com/sagemath/sage/files/ticket14571/14571_inputenc.patch.gz)**",
    "created_at": "2013-05-12T09:42:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176562",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[14571_inputenc.patch.gz](https://github.com/sagemath/sage/files/ticket14571/14571_inputenc.patch.gz)**



---

archive/issue_comments_176563.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n#14561 will introduce a unicode Sha to the docs, this is hacked around in the patch so we don't have to mess with cyrillic fonts. I don't think that this one character in the pdf version merits any further work, though reviewer patches are of course welcome...",
    "created_at": "2013-05-12T09:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176563",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:1" align="right">comment:1</div>

#14561 will introduce a unicode Sha to the docs, this is hacked around in the patch so we don't have to mess with cyrillic fonts. I don't think that this one character in the pdf version merits any further work, though reviewer patches are of course welcome...



---

archive/issue_events_204365.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-05-12T11:29:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204365"
}
```



---

archive/issue_comments_176564.json:
```json
{
    "body": "Changed keywords from none to **unicode**",
    "created_at": "2013-05-15T19:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176564",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from none to **unicode**



---

archive/issue_comments_176565.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nDan, are you feeling comfortable reviewing the LaTeX stuff?",
    "created_at": "2013-05-17T17:30:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176565",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:4" align="right">comment:4</div>

Dan, are you feeling comfortable reviewing the LaTeX stuff?



---

archive/issue_comments_176566.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nDid you try building Russian Sage docs with this patch?\nThey are in `utf8`. Unless I miss something, just by looking at the patch I gather that apart from \"\u0428\", not much will show properly.\n\nI might consider using `cm-unicode`: http://www.ctan.org/pkg/cm-unicode",
    "created_at": "2013-05-21T13:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176566",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

Did you try building Russian Sage docs with this patch?
They are in `utf8`. Unless I miss something, just by looking at the patch I gather that apart from "Ш", not much will show properly.

I might consider using `cm-unicode`: http://www.ctan.org/pkg/cm-unicode



---

archive/issue_comments_176567.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhy not use utf8 and properly feed fontenc with the needed encodings instead of using utf8x?\nThat's surely not the best solution, but could do the trick.\nIs it still shipped with TeXLive?\nBy the way, how do you figure out what is shipped within a given TeXLive distribution?",
    "created_at": "2013-05-22T08:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176567",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:6" align="right">comment:6</div>

Why not use utf8 and properly feed fontenc with the needed encodings instead of using utf8x?
That's surely not the best solution, but could do the trick.
Is it still shipped with TeXLive?
By the way, how do you figure out what is shipped within a given TeXLive distribution?



---

archive/issue_comments_176568.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nRussian docs look fine to me. The russian docs have an extra `conf.py` that sets up cyrillic. I tried to enable it globally but then got some incompatibilities with the rest of the docs. Might have been a TeX bug but then I don't think printing a single Sha in the algebraic geometry docs is that important. \n\njpflori: Thats what the patch does, essentially. You can learn about TexLive using `tlmgr --help`",
    "created_at": "2013-05-22T09:03:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176568",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

Russian docs look fine to me. The russian docs have an extra `conf.py` that sets up cyrillic. I tried to enable it globally but then got some incompatibilities with the rest of the docs. Might have been a TeX bug but then I don't think printing a single Sha in the algebraic geometry docs is that important. 

jpflori: Thats what the patch does, essentially. You can learn about TexLive using `tlmgr --help`



---

archive/issue_comments_176569.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@vbraun](#comment%3A7):\n> jpflori: Thats what the patch does, essentially. You can learn about TexLive using `tlmgr --help`\n\nDoes not seem to be shipped in Ubuntu's TeXLive packages... surely because using the TeXLive package manager on top of Ubuntu's one is not supported and will never be and I don't really want to use my own TeXLive install rather than what Ubuntu/Debian provides.\nI can still do \"apt-file search utf8x.def\", but my Debian install already uses some preview of TeXLive 2013, and it still provides utf8x.def in the texlive-latex-extra package which from its description might indeed not be from vanilla TeXLive.",
    "created_at": "2013-05-22T09:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176569",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@vbraun](#comment%3A7):
> jpflori: Thats what the patch does, essentially. You can learn about TexLive using `tlmgr --help`

Does not seem to be shipped in Ubuntu's TeXLive packages... surely because using the TeXLive package manager on top of Ubuntu's one is not supported and will never be and I don't really want to use my own TeXLive install rather than what Ubuntu/Debian provides.
I can still do "apt-file search utf8x.def", but my Debian install already uses some preview of TeXLive 2013, and it still provides utf8x.def in the texlive-latex-extra package which from its description might indeed not be from vanilla TeXLive.



---

archive/issue_comments_176570.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOk utf8x.def is actually available in the ucs package in TeXlive. Though it is still unmaintained, e.g. http://tex.stackexchange.com/questions/13067/utf8x-vs-utf8-inputenc",
    "created_at": "2013-05-22T09:25:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176570",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

Ok utf8x.def is actually available in the ucs package in TeXlive. Though it is still unmaintained, e.g. http://tex.stackexchange.com/questions/13067/utf8x-vs-utf8-inputenc



---

archive/issue_comments_176571.json:
```json
{
    "body": "Russian pdf docs",
    "created_at": "2013-05-22T09:29:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176571",
    "user": "https://github.com/vbraun"
}
```

Russian pdf docs



---

archive/issue_comments_176572.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAttachment: **[SageTutorial_ru.pdf.gz](https://github.com/sagemath/sage/files/ticket14571/SageTutorial_ru.pdf.gz)**\n\nI've attached the russian pdf docs if anybody wants to see the result.",
    "created_at": "2013-05-22T09:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176572",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

Attachment: **[SageTutorial_ru.pdf.gz](https://github.com/sagemath/sage/files/ticket14571/SageTutorial_ru.pdf.gz)**

I've attached the russian pdf docs if anybody wants to see the result.



---

archive/issue_comments_176573.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@vbraun](#comment%3A10):\n> I've attached the russian pdf docs if anybody wants to see the result.\n\nOK; I also checked that this patch works with `TeXLive 2012` distribution (with Russian support installed, naturally). On the other hand, it also has\n\n```\n-rw-r--r--  1 root  wheel  8036 Apr 21  2012 texmf-dist/tex/latex/ucs/utf8x.def\n```\n\nSo \" that doesn't even ship with `TeXLive-2012`\" is not correct.",
    "created_at": "2013-05-23T06:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176573",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@vbraun](#comment%3A10):
> I've attached the russian pdf docs if anybody wants to see the result.

OK; I also checked that this patch works with `TeXLive 2012` distribution (with Russian support installed, naturally). On the other hand, it also has

```
-rw-r--r--  1 root  wheel  8036 Apr 21  2012 texmf-dist/tex/latex/ucs/utf8x.def
```

So " that doesn't even ship with `TeXLive-2012`" is not correct.



---

archive/issue_comments_176574.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1 @@\n-Volker Braun wrote in #14375:\n-> Oh we are still building pdf docs, that uses the deprecated utf8x that doesn't even ship with `TeXlive-2012` any more.\n+Building pdf docs uses the deprecated utf8x. We should use utf8 instead.\n``````\n",
    "created_at": "2013-05-23T09:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176574",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1 @@
-Volker Braun wrote in #14375:
-> Oh we are still building pdf docs, that uses the deprecated utf8x that doesn't even ship with `TeXlive-2012` any more.
+Building pdf docs uses the deprecated utf8x. We should use utf8 instead.
``````




---

archive/issue_comments_176575.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@dimpase](#comment%3A11):\n> OK; I also checked that this patch works with `TeXLive 2012` distribution (with Russian support installed, naturally). On the other hand, it also has\n> \n> ```\n> -rw-r--r--  1 root  wheel  8036 Apr 21  2012 texmf-dist/tex/latex/ucs/utf8x.def\n> ```\n> \n> So \" that doesn't even ship with `TeXLive-2012`\" is not correct.\n\nSo, is there even a problem then?",
    "created_at": "2013-05-25T20:00:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176575",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@dimpase](#comment%3A11):
> OK; I also checked that this patch works with `TeXLive 2012` distribution (with Russian support installed, naturally). On the other hand, it also has
> 
> ```
> -rw-r--r--  1 root  wheel  8036 Apr 21  2012 texmf-dist/tex/latex/ucs/utf8x.def
> ```
> 
> So " that doesn't even ship with `TeXLive-2012`" is not correct.

So, is there even a problem then?



---

archive/issue_comments_176576.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOnly if you don't want to depend on old/deprecated/unmaintained TeX packages.",
    "created_at": "2013-05-25T20:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176576",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">comment:14</div>

Only if you don't want to depend on old/deprecated/unmaintained TeX packages.



---

archive/issue_comments_176577.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@vbraun](#comment%3A14):\n> Only if you don't want to depend on old/deprecated/unmaintained TeX packages.\n\nif so, could the patch merely be cutting `x` from `utf8x` ?",
    "created_at": "2013-05-26T02:51:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176577",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@vbraun](#comment%3A14):
> Only if you don't want to depend on old/deprecated/unmaintained TeX packages.

if so, could the patch merely be cutting `x` from `utf8x` ?



---

archive/issue_comments_176578.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nWe could leave the obscure utf8x bug workaround in there, if thats what you are asking.\n\nUtf8 (non-x) is slightly different for characters that don't belong to the current font encoding. One possible workaround is to manually declare them as in the patch. That concerns two places in all of the Sage docs.",
    "created_at": "2013-05-26T09:59:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176578",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

We could leave the obscure utf8x bug workaround in there, if thats what you are asking.

Utf8 (non-x) is slightly different for characters that don't belong to the current font encoding. One possible workaround is to manually declare them as in the patch. That concerns two places in all of the Sage docs.



---

archive/issue_comments_176579.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@vbraun](#comment%3A16):\n> We could leave the obscure utf8x bug workaround in there, if thats what you are asking.\n\nI was asking whether we can replace the current patch with one-char patch, removing `x` from `utf8x` in the line\n\n```\nlatex_elements['inputenc'] = '\\\\usepackage[utf8x]{inputenc}'\n```\n\n> \n> Utf8 (non-x) is slightly different for characters that don't belong to the current font encoding. One possible workaround is to manually declare them as in the patch. That concerns two places in all of the Sage docs.\n\nso it seems that the answer is \"no\". I just stumbled upon this tex.stackexchange [discussion](http://tex.stackexchange.com/questions/13067/utf8x-vs-utf8-inputenc). Tricky stuff... One comment is actually saying that `utf8x` is being maintained again...",
    "created_at": "2013-05-26T10:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176579",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@vbraun](#comment%3A16):
> We could leave the obscure utf8x bug workaround in there, if thats what you are asking.

I was asking whether we can replace the current patch with one-char patch, removing `x` from `utf8x` in the line

```
latex_elements['inputenc'] = '\\usepackage[utf8x]{inputenc}'
```

> 
> Utf8 (non-x) is slightly different for characters that don't belong to the current font encoding. One possible workaround is to manually declare them as in the patch. That concerns two places in all of the Sage docs.

so it seems that the answer is "no". I just stumbled upon this tex.stackexchange [discussion](http://tex.stackexchange.com/questions/13067/utf8x-vs-utf8-inputenc). Tricky stuff... One comment is actually saying that `utf8x` is being maintained again...



---

archive/issue_comments_176580.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThats the link from [comment:9](#comment%3A9) ...",
    "created_at": "2013-05-26T10:52:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176580",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

Thats the link from [comment:9](#comment%3A9) ...



---

archive/issue_comments_176581.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@vbraun](#comment%3A14):\n> Only if you don't want to depend on old/deprecated/unmaintained TeX packages.\n\nBy itself this is not necessarily a problem, there are certainly Sage packages which are no longer developed. Of course it's better to use newer packages, but my impression is that there is no obvious replacement for `utf8x`, so maybe we should just leave it...\n\nBut I don't know much about `TeX`, I'm just guessing based on the discussion above.",
    "created_at": "2013-05-26T20:14:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176581",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@vbraun](#comment%3A14):
> Only if you don't want to depend on old/deprecated/unmaintained TeX packages.

By itself this is not necessarily a problem, there are certainly Sage packages which are no longer developed. Of course it's better to use newer packages, but my impression is that there is no obvious replacement for `utf8x`, so maybe we should just leave it...

But I don't know much about `TeX`, I'm just guessing based on the discussion above.



---

archive/issue_comments_176582.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI don't get it. There **is** an obvious replacement, utf8. Its a base LaTeX package and not squirreled away in the ancient ucs package. Every LaTeX developer seems to agree that its better to use utf8 than utf8x. A patch to switch is right here. Why would one even consider sticking with the old stuff?",
    "created_at": "2013-05-26T21:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176582",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

I don't get it. There **is** an obvious replacement, utf8. Its a base LaTeX package and not squirreled away in the ancient ucs package. Every LaTeX developer seems to agree that its better to use utf8 than utf8x. A patch to switch is right here. Why would one even consider sticking with the old stuff?



---

archive/issue_comments_176583.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI agree with Volker, let's get away from utf8x if possible, it has been unmaintained for a long time and is not in the basic texlive distribution (at least on Debian its in a \"-extra\" archive).\n\nWhat may be misleading in the patch is that a \\usepackage{utf8x} is removed but no \\usepackage{utf8} appears but I guess the utf8 is imported somewhere else at some point.",
    "created_at": "2013-05-26T21:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176583",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:21" align="right">comment:21</div>

I agree with Volker, let's get away from utf8x if possible, it has been unmaintained for a long time and is not in the basic texlive distribution (at least on Debian its in a "-extra" archive).

What may be misleading in the patch is that a \usepackage{utf8x} is removed but no \usepackage{utf8} appears but I guess the utf8 is imported somewhere else at some point.



---

archive/issue_comments_176584.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nYou don't need to specify utf8, its the default in Sphinx. See http://sphinx-doc.org/config.html#confval-latex_elements",
    "created_at": "2013-05-26T21:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176584",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

You don't need to specify utf8, its the default in Sphinx. See http://sphinx-doc.org/config.html#confval-latex_elements



---

archive/issue_comments_176585.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI also agree that we should get rid of `utf8x`. I wasn't that excited about it when it first went in (in #8036), so I'm happy to see its removal.",
    "created_at": "2013-05-26T22:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176585",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

I also agree that we should get rid of `utf8x`. I wasn't that excited about it when it first went in (in #8036), so I'm happy to see its removal.



---

archive/issue_comments_176586.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@jhpalmieri](#comment%3A23):\n> I also agree that we should get rid of `utf8x`. I wasn't that excited about it when it first went in (in #8036), so I'm happy to see its removal.\n\nI don't see why this is needed. `utf8x` is a part of maintained, since 2011, [ucs package](http://ctan.org/pkg/ucs); #8036 is older, and indeed at that point `utf8x` was an orphan. It is a slight extension (and very useful) of standard LaTeX, so what?\n\nE.g. I don't see how you can avoid `utf8x` in the [example](https://github.com/sagemath/sage/files/ticket8036/utf8.tex.gz) on #8036, at least without Babel. That is, if you write some unicode `\u0416` (different from `\u0428`, which is taken care of) somewhere, it won't display right in pdf, and may even fail to compile with `pdflatex`.",
    "created_at": "2013-05-27T00:59:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176586",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@jhpalmieri](#comment%3A23):
> I also agree that we should get rid of `utf8x`. I wasn't that excited about it when it first went in (in #8036), so I'm happy to see its removal.

I don't see why this is needed. `utf8x` is a part of maintained, since 2011, [ucs package](http://ctan.org/pkg/ucs); #8036 is older, and indeed at that point `utf8x` was an orphan. It is a slight extension (and very useful) of standard LaTeX, so what?

E.g. I don't see how you can avoid `utf8x` in the [example](https://github.com/sagemath/sage/files/ticket8036/utf8.tex.gz) on #8036, at least without Babel. That is, if you write some unicode `Ж` (different from `Ш`, which is taken care of) somewhere, it won't display right in pdf, and may even fail to compile with `pdflatex`.



---

archive/issue_comments_176587.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nutf8x.sty does not seem to be included in TeX Live 2012. (I just tried to compile a file using `\\includepackage{utf8x}`, and it failed.) That seems like a good reason to get rid of it. You're suggesting instead\n\n```\n\\usepackage{ucs}\n\\usepackage[utf8x]{inputenc}\n```\nmaybe?",
    "created_at": "2013-05-27T05:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176587",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:25" align="right">comment:25</div>

utf8x.sty does not seem to be included in TeX Live 2012. (I just tried to compile a file using `\includepackage{utf8x}`, and it failed.) That seems like a good reason to get rid of it. You're suggesting instead

```
\usepackage{ucs}
\usepackage[utf8x]{inputenc}
```
maybe?



---

archive/issue_comments_176588.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@jhpalmieri](#comment%3A25):\n> utf8x.sty does not seem to be included in TeX Live 2012. (I just tried to compile a file using `\\includepackage{utf8x}`, and it failed.) That seems like a good reason to get rid of it. You're suggesting instead\n> \n> ```\n> \\usepackage{ucs}\n> \\usepackage[utf8x]{inputenc}\n> ```\n> maybe?\n\nsure. In fact the patch on this ticket proposes to remove a line containing\n\n```\n\\usepackage[utf8x]{inputenc}\n```",
    "created_at": "2013-05-27T06:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176588",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@jhpalmieri](#comment%3A25):
> utf8x.sty does not seem to be included in TeX Live 2012. (I just tried to compile a file using `\includepackage{utf8x}`, and it failed.) That seems like a good reason to get rid of it. You're suggesting instead
> 
> ```
> \usepackage{ucs}
> \usepackage[utf8x]{inputenc}
> ```
> maybe?

sure. In fact the patch on this ticket proposes to remove a line containing

```
\usepackage[utf8x]{inputenc}
```



---

archive/issue_comments_176589.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nas discussed, `\\usepackage[utf8x]{inputenc}` is not deprecated. What is the purpose of this ticket then?",
    "created_at": "2013-06-05T12:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176589",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

as discussed, `\usepackage[utf8x]{inputenc}` is not deprecated. What is the purpose of this ticket then?



---

archive/issue_events_204366.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T12:48:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204366"
}
```



---

archive/issue_events_204367.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T12:48:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204367"
}
```



---

archive/issue_comments_176590.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIt is discouraged by most (all?) LaTeX developers, and utf8 is recommended instead. Maybe its not officially deprecated, but morally it is. utf8x clashes with various other packages, whereas utf8 is more friendly to its neighbors.",
    "created_at": "2013-06-05T13:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176590",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

It is discouraged by most (all?) LaTeX developers, and utf8 is recommended instead. Maybe its not officially deprecated, but morally it is. utf8x clashes with various other packages, whereas utf8 is more friendly to its neighbors.



---

archive/issue_comments_176591.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@vbraun](#comment%3A28):\n> It is discouraged by most (all?) LaTeX developers, and utf8 is recommended instead. Maybe its not officially deprecated, but morally it is. utf8x clashes with various other packages, whereas utf8 is more friendly to its neighbors.\n\nAre these mere outdated rumours, about it being deprecated (it was orphaned for a while, but this is no longer the case)? Aren't you confusing this option of `inputenc` with an outdated package `utf8x` ?",
    "created_at": "2013-06-05T13:31:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176591",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@vbraun](#comment%3A28):
> It is discouraged by most (all?) LaTeX developers, and utf8 is recommended instead. Maybe its not officially deprecated, but morally it is. utf8x clashes with various other packages, whereas utf8 is more friendly to its neighbors.

Are these mere outdated rumours, about it being deprecated (it was orphaned for a while, but this is no longer the case)? Aren't you confusing this option of `inputenc` with an outdated package `utf8x` ?



---

archive/issue_comments_176592.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nutf8x isn't even a package, it a piece of the ucs package.\n\nThe fact that somebody maintains it for backwards compatibility does not change the fact that its approach is fundamentally incompatible with a load of existing packages, e.g. http://tex.stackexchange.com/questions/49610/use-biblatex-and-utf8",
    "created_at": "2013-06-05T13:39:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176592",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:30" align="right">comment:30</div>

utf8x isn't even a package, it a piece of the ucs package.

The fact that somebody maintains it for backwards compatibility does not change the fact that its approach is fundamentally incompatible with a load of existing packages, e.g. http://tex.stackexchange.com/questions/49610/use-biblatex-and-utf8



---

archive/issue_comments_176593.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@vbraun](#comment%3A30):\n> utf8x isn't even a package, it a piece of the ucs package.\n\nsure.\n> \n> The fact that somebody maintains it for backwards compatibility does not change the fact that its approach is fundamentally incompatible with a load of existing packages, e.g. http://tex.stackexchange.com/questions/49610/use-biblatex-and-utf8\n\nthe fact that `biblatex` (a `contrib` package we don't use, AFAIK) is not compatible with `ucs` (another `contrib` package) does not mean we should rush to change what we have, I think. Note that `biblatex` is incompatible with lots of other packages, cf. [Sect 1.5.4](http://www.math.upenn.edu/tex_docs/latex/biblatex/biblatex.pdf). \n\nDo you know any other packages incompatible with `ucs`? I don't.",
    "created_at": "2013-06-05T14:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176593",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@vbraun](#comment%3A30):
> utf8x isn't even a package, it a piece of the ucs package.

sure.
> 
> The fact that somebody maintains it for backwards compatibility does not change the fact that its approach is fundamentally incompatible with a load of existing packages, e.g. http://tex.stackexchange.com/questions/49610/use-biblatex-and-utf8

the fact that `biblatex` (a `contrib` package we don't use, AFAIK) is not compatible with `ucs` (another `contrib` package) does not mean we should rush to change what we have, I think. Note that `biblatex` is incompatible with lots of other packages, cf. [Sect 1.5.4](http://www.math.upenn.edu/tex_docs/latex/biblatex/biblatex.pdf). 

Do you know any other packages incompatible with `ucs`? I don't.



---

archive/issue_comments_176594.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nhttp://www.ctan.org/pkg/csquotes is also incompatible. Hyperref is also incompatible with ucs, though you can work around it by some hackery with `\\PrerenderUnicode`. How many examples do you need?",
    "created_at": "2013-06-05T14:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176594",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:32" align="right">comment:32</div>

http://www.ctan.org/pkg/csquotes is also incompatible. Hyperref is also incompatible with ucs, though you can work around it by some hackery with `\PrerenderUnicode`. How many examples do you need?



---

archive/issue_comments_176595.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@vbraun](#comment%3A32):\n> http://www.ctan.org/pkg/csquotes is also incompatible. \n\nanother `contrib` package produced by the same guy, P.Lehman, currently listed as inactive. There is a jungle of packages in `contrib`, where compatibility is not of a major concern, apparently. \n\nThis patch fixes a non-existing problem, and is marked as a blocker... :-)",
    "created_at": "2013-06-05T16:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176595",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@vbraun](#comment%3A32):
> http://www.ctan.org/pkg/csquotes is also incompatible. 

another `contrib` package produced by the same guy, P.Lehman, currently listed as inactive. There is a jungle of packages in `contrib`, where compatibility is not of a major concern, apparently. 

This patch fixes a non-existing problem, and is marked as a blocker... :-)



---

archive/issue_comments_176596.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nhyperref is not a contrib package",
    "created_at": "2013-06-05T17:36:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176596",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:34" align="right">comment:34</div>

hyperref is not a contrib package



---

archive/issue_events_204368.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T17:39:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204368"
}
```



---

archive/issue_events_204369.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T17:39:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204369"
}
```



---

archive/issue_comments_176597.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nOK, OK, sorry... As I sat on this for so long :\u2013)",
    "created_at": "2013-06-05T17:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176597",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

OK, OK, sorry... As I sat on this for so long :–)



---

archive/issue_events_204370.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T17:40:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204370"
}
```



---

archive/issue_events_204371.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T17:40:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204371"
}
```



---

archive/issue_comments_176598.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nDamn, I was just about to point out that ucs is one of the \"jungle of packages\" in contrib. Don't you hate it if you remember a good argument too late ;-)\n\nThanks!",
    "created_at": "2013-06-05T17:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176598",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

Damn, I was just about to point out that ucs is one of the "jungle of packages" in contrib. Don't you hate it if you remember a good argument too late ;-)

Thanks!



---

archive/issue_comments_176599.json:
```json
{
    "body": "Reviewer: **Dmitrii Pasechnik**",
    "created_at": "2013-06-05T19:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176599",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Dmitrii Pasechnik**



---

archive/issue_comments_176600.json:
```json
{
    "body": "Merged: **sage-5.10.rc1**",
    "created_at": "2013-06-05T19:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14571#issuecomment-176600",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.10.rc1**



---

archive/issue_events_204372.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-05T19:51:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204372"
}
```



---

archive/issue_events_204373.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-05T19:51:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14571",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14571#event-204373"
}
```
