# Issue 14571: Improve UTF-8 support in LaTeX documentation

archive/issues_014367.json:
```json
{
    "body": "Building pdf docs uses the deprecated utf8x. We should use utf8 instead.\n\n**Assignee:** mvngu\n\n**CC:**  @vbraun @dandrake\n\n**Keywords:** unicode\n\n**Reviewer:** Dmitrii Pasechnik\n\n**Author:** Volker Braun\n\n**Merged:** sage-5.10.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/14571\n\n",
    "closed_at": "2013-06-05T19:51:20Z",
    "created_at": "2013-05-12T09:38:37Z",
    "labels": [
        "component: documentation",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Improve UTF-8 support in LaTeX documentation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14571",
    "user": "https://github.com/jdemeyer"
}
```
Building pdf docs uses the deprecated utf8x. We should use utf8 instead.

**Assignee:** mvngu

**CC:**  @vbraun @dandrake

**Keywords:** unicode

**Reviewer:** Dmitrii Pasechnik

**Author:** Volker Braun

**Merged:** sage-5.10.rc1

Issue created by migration from https://trac.sagemath.org/ticket/14571





---

archive/attachments_019670.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "14571_inputenc.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14571/14571_inputenc.patch",
    "created_at": "2013-05-12T09:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_178956.json:
```json
{
    "body": "",
    "created_at": "2013-05-12T09:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178956",
    "user": "https://github.com/jdemeyer"
}
```





---

archive/issue_comments_178957.json:
```json
{
    "body": "<a id='comment:1'></a>\n#14561 will introduce a unicode Sha to the docs, this is hacked around in the patch so we don't have to mess with cyrillic fonts. I don't think that this one character in the pdf version merits any further work, though reviewer patches are of course welcome...",
    "created_at": "2013-05-12T09:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178957",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'></a>
#14561 will introduce a unicode Sha to the docs, this is hacked around in the patch so we don't have to mess with cyrillic fonts. I don't think that this one character in the pdf version merits any further work, though reviewer patches are of course welcome...



---

archive/issue_events_126881.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-05-12T11:29:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126881"
}
```



---

archive/issue_comments_178958.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"unicode\".",
    "created_at": "2013-05-15T19:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178958",
    "user": "https://github.com/fchapoton"
}
```

**Changing keywords** from "" to "unicode".



---

archive/issue_comments_178959.json:
```json
{
    "body": "<a id='comment:4'></a>\nDan, are you feeling comfortable reviewing the LaTeX stuff?",
    "created_at": "2013-05-17T17:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178959",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>
Dan, are you feeling comfortable reviewing the LaTeX stuff?



---

archive/issue_comments_178960.json:
```json
{
    "body": "<a id='comment:5'></a>\nDid you try building Russian Sage docs with this patch?\nThey are in `utf8`. Unless I miss something, just by looking at the patch I gather that apart from \"\u0428\", not much will show properly.\n\nI might consider using `cm-unicode`: http://www.ctan.org/pkg/cm-unicode",
    "created_at": "2013-05-21T13:46:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178960",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
Did you try building Russian Sage docs with this patch?
They are in `utf8`. Unless I miss something, just by looking at the patch I gather that apart from "Ш", not much will show properly.

I might consider using `cm-unicode`: http://www.ctan.org/pkg/cm-unicode



---

archive/issue_comments_178961.json:
```json
{
    "body": "<a id='comment:6'></a>\nWhy not use utf8 and properly feed fontenc with the needed encodings instead of using utf8x?\nThat's surely not the best solution, but could do the trick.\nIs it still shipped with TeXLive?\nBy the way, how do you figure out what is shipped within a given TeXLive distribution?",
    "created_at": "2013-05-22T08:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178961",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:6'></a>
Why not use utf8 and properly feed fontenc with the needed encodings instead of using utf8x?
That's surely not the best solution, but could do the trick.
Is it still shipped with TeXLive?
By the way, how do you figure out what is shipped within a given TeXLive distribution?



---

archive/issue_comments_178962.json:
```json
{
    "body": "<a id='comment:7'></a>\nRussian docs look fine to me. The russian docs have an extra `conf.py` that sets up cyrillic. I tried to enable it globally but then got some incompatibilities with the rest of the docs. Might have been a TeX bug but then I don't think printing a single Sha in the algebraic geometry docs is that important. \n\njpflori: Thats what the patch does, essentially. You can learn about TexLive using `tlmgr --help`",
    "created_at": "2013-05-22T09:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178962",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>
Russian docs look fine to me. The russian docs have an extra `conf.py` that sets up cyrillic. I tried to enable it globally but then got some incompatibilities with the rest of the docs. Might have been a TeX bug but then I don't think printing a single Sha in the algebraic geometry docs is that important. 

jpflori: Thats what the patch does, essentially. You can learn about TexLive using `tlmgr --help`



---

archive/issue_comments_178963.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [vbraun](#comment%3A7):\n> jpflori: Thats what the patch does, essentially. You can learn about TexLive using `tlmgr --help`\n\nDoes not seem to be shipped in Ubuntu's TeXLive packages... surely because using the TeXLive package manager on top of Ubuntu's one is not supported and will never be and I don't really want to use my own TeXLive install rather than what Ubuntu/Debian provides.\nI can still do \"apt-file search utf8x.def\", but my Debian install already uses some preview of TeXLive 2013, and it still provides utf8x.def in the texlive-latex-extra package which from its description might indeed not be from vanilla TeXLive.",
    "created_at": "2013-05-22T09:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178963",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>
Replying to [vbraun](#comment%3A7):
> jpflori: Thats what the patch does, essentially. You can learn about TexLive using `tlmgr --help`

Does not seem to be shipped in Ubuntu's TeXLive packages... surely because using the TeXLive package manager on top of Ubuntu's one is not supported and will never be and I don't really want to use my own TeXLive install rather than what Ubuntu/Debian provides.
I can still do "apt-file search utf8x.def", but my Debian install already uses some preview of TeXLive 2013, and it still provides utf8x.def in the texlive-latex-extra package which from its description might indeed not be from vanilla TeXLive.



---

archive/issue_comments_178964.json:
```json
{
    "body": "<a id='comment:9'></a>\nOk utf8x.def is actually available in the ucs package in TeXlive. Though it is still unmaintained, e.g. http://tex.stackexchange.com/questions/13067/utf8x-vs-utf8-inputenc",
    "created_at": "2013-05-22T09:25:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178964",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>
Ok utf8x.def is actually available in the ucs package in TeXlive. Though it is still unmaintained, e.g. http://tex.stackexchange.com/questions/13067/utf8x-vs-utf8-inputenc



---

archive/issue_comments_178965.json:
```json
{
    "body": "Russian pdf docs",
    "created_at": "2013-05-22T09:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178965",
    "user": "https://github.com/vbraun"
}
```

Russian pdf docs



---

archive/attachments_019671.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "SageTutorial_ru.pdf",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14571/SageTutorial_ru.pdf",
    "created_at": "2013-05-22T09:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.pdf",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_178966.json:
```json
{
    "body": "<a id='comment:10'></a>\nI've attached the russian pdf docs if anybody wants to see the result.",
    "created_at": "2013-05-22T09:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178966",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
I've attached the russian pdf docs if anybody wants to see the result.



---

archive/issue_comments_178967.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [vbraun](#comment%3A10):\n> I've attached the russian pdf docs if anybody wants to see the result.\n\nOK; I also checked that this patch works with `TeXLive 2012` distribution (with Russian support installed, naturally). On the other hand, it also has\n\n```\n-rw-r--r--  1 root  wheel  8036 Apr 21  2012 texmf-dist/tex/latex/ucs/utf8x.def\n```\n\nSo \" that doesn't even ship with `TeXLive-2012`\" is not correct.",
    "created_at": "2013-05-23T06:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178967",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
Replying to [vbraun](#comment%3A10):
> I've attached the russian pdf docs if anybody wants to see the result.

OK; I also checked that this patch works with `TeXLive 2012` distribution (with Russian support installed, naturally). On the other hand, it also has

```
-rw-r--r--  1 root  wheel  8036 Apr 21  2012 texmf-dist/tex/latex/ucs/utf8x.def
```

So " that doesn't even ship with `TeXLive-2012`" is not correct.



---

archive/issue_comments_178968.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-Volker Braun wrote in #14375:\n-> Oh we are still building pdf docs, that uses the deprecated utf8x that doesn't even ship with `TeXlive-2012` any more.\n-\n+Building pdf docs uses the deprecated utf8x. We should use utf8 instead.\n``````\n",
    "created_at": "2013-05-23T09:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178968",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-Volker Braun wrote in #14375:
-> Oh we are still building pdf docs, that uses the deprecated utf8x that doesn't even ship with `TeXlive-2012` any more.
-
+Building pdf docs uses the deprecated utf8x. We should use utf8 instead.
``````




---

archive/issue_comments_178969.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [dimpase](#comment%3A11):\n> OK; I also checked that this patch works with `TeXLive 2012` distribution (with Russian support installed, naturally). On the other hand, it also has\n> \n> ```\n> -rw-r--r--  1 root  wheel  8036 Apr 21  2012 texmf-dist/tex/latex/ucs/utf8x.def\n> ```\n> \n> So \" that doesn't even ship with `TeXLive-2012`\" is not correct.\n\n\nSo, is there even a problem then?",
    "created_at": "2013-05-25T20:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178969",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Replying to [dimpase](#comment%3A11):
> OK; I also checked that this patch works with `TeXLive 2012` distribution (with Russian support installed, naturally). On the other hand, it also has
> 
> ```
> -rw-r--r--  1 root  wheel  8036 Apr 21  2012 texmf-dist/tex/latex/ucs/utf8x.def
> ```
> 
> So " that doesn't even ship with `TeXLive-2012`" is not correct.


So, is there even a problem then?



---

archive/issue_comments_178970.json:
```json
{
    "body": "<a id='comment:14'></a>\nOnly if you don't want to depend on old/deprecated/unmaintained TeX packages.",
    "created_at": "2013-05-25T20:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178970",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>
Only if you don't want to depend on old/deprecated/unmaintained TeX packages.



---

archive/issue_comments_178971.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [vbraun](#comment%3A14):\n> Only if you don't want to depend on old/deprecated/unmaintained TeX packages.\n\n\nif so, could the patch merely be cutting `x` from `utf8x` ?",
    "created_at": "2013-05-26T02:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178971",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
Replying to [vbraun](#comment%3A14):
> Only if you don't want to depend on old/deprecated/unmaintained TeX packages.


if so, could the patch merely be cutting `x` from `utf8x` ?



---

archive/issue_comments_178972.json:
```json
{
    "body": "<a id='comment:16'></a>\nWe could leave the obscure utf8x bug workaround in there, if thats what you are asking.\n\nUtf8 (non-x) is slightly different for characters that don't belong to the current font encoding. One possible workaround is to manually declare them as in the patch. That concerns two places in all of the Sage docs.",
    "created_at": "2013-05-26T09:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178972",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
We could leave the obscure utf8x bug workaround in there, if thats what you are asking.

Utf8 (non-x) is slightly different for characters that don't belong to the current font encoding. One possible workaround is to manually declare them as in the patch. That concerns two places in all of the Sage docs.



---

archive/issue_comments_178973.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [vbraun](#comment%3A16):\n> We could leave the obscure utf8x bug workaround in there, if thats what you are asking.\n\n\nI was asking whether we can replace the current patch with one-char patch, removing `x` from `utf8x` in the line\n\n```\nlatex_elements['inputenc'] = '\\\\usepackage[utf8x]{inputenc}'\n```\n\n> \n> Utf8 (non-x) is slightly different for characters that don't belong to the current font encoding. One possible workaround is to manually declare them as in the patch. That concerns two places in all of the Sage docs.\n\n\nso it seems that the answer is \"no\". I just stumbled upon this tex.stackexchange [discussion](http://tex.stackexchange.com/questions/13067/utf8x-vs-utf8-inputenc). Tricky stuff... One comment is actually saying that `utf8x` is being maintained again...",
    "created_at": "2013-05-26T10:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178973",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
Replying to [vbraun](#comment%3A16):
> We could leave the obscure utf8x bug workaround in there, if thats what you are asking.


I was asking whether we can replace the current patch with one-char patch, removing `x` from `utf8x` in the line

```
latex_elements['inputenc'] = '\\usepackage[utf8x]{inputenc}'
```

> 
> Utf8 (non-x) is slightly different for characters that don't belong to the current font encoding. One possible workaround is to manually declare them as in the patch. That concerns two places in all of the Sage docs.


so it seems that the answer is "no". I just stumbled upon this tex.stackexchange [discussion](http://tex.stackexchange.com/questions/13067/utf8x-vs-utf8-inputenc). Tricky stuff... One comment is actually saying that `utf8x` is being maintained again...



---

archive/issue_comments_178974.json:
```json
{
    "body": "<a id='comment:18'></a>\nThats the link from [comment:9](#comment%3A9) ...",
    "created_at": "2013-05-26T10:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178974",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>
Thats the link from [comment:9](#comment%3A9) ...



---

archive/issue_comments_178975.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [vbraun](#comment%3A14):\n> Only if you don't want to depend on old/deprecated/unmaintained TeX packages.\n\nBy itself this is not necessarily a problem, there are certainly Sage packages which are no longer developed. Of course it's better to use newer packages, but my impression is that there is no obvious replacement for `utf8x`, so maybe we should just leave it...\n\nBut I don't know much about `TeX`, I'm just guessing based on the discussion above.",
    "created_at": "2013-05-26T20:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178975",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
Replying to [vbraun](#comment%3A14):
> Only if you don't want to depend on old/deprecated/unmaintained TeX packages.

By itself this is not necessarily a problem, there are certainly Sage packages which are no longer developed. Of course it's better to use newer packages, but my impression is that there is no obvious replacement for `utf8x`, so maybe we should just leave it...

But I don't know much about `TeX`, I'm just guessing based on the discussion above.



---

archive/issue_comments_178976.json:
```json
{
    "body": "<a id='comment:20'></a>\nI don't get it. There **is** an obvious replacement, utf8. Its a base LaTeX package and not squirreled away in the ancient ucs package. Every LaTeX developer seems to agree that its better to use utf8 than utf8x. A patch to switch is right here. Why would one even consider sticking with the old stuff?",
    "created_at": "2013-05-26T21:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178976",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>
I don't get it. There **is** an obvious replacement, utf8. Its a base LaTeX package and not squirreled away in the ancient ucs package. Every LaTeX developer seems to agree that its better to use utf8 than utf8x. A patch to switch is right here. Why would one even consider sticking with the old stuff?



---

archive/issue_comments_178977.json:
```json
{
    "body": "<a id='comment:21'></a>\nI agree with Volker, let's get away from utf8x if possible, it has been unmaintained for a long time and is not in the basic texlive distribution (at least on Debian its in a \"-extra\" archive).\n\nWhat may be misleading in the patch is that a \\usepackage{utf8x} is removed but no \\usepackage{utf8} appears but I guess the utf8 is imported somewhere else at some point.",
    "created_at": "2013-05-26T21:11:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178977",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
I agree with Volker, let's get away from utf8x if possible, it has been unmaintained for a long time and is not in the basic texlive distribution (at least on Debian its in a "-extra" archive).

What may be misleading in the patch is that a \usepackage{utf8x} is removed but no \usepackage{utf8} appears but I guess the utf8 is imported somewhere else at some point.



---

archive/issue_comments_178978.json:
```json
{
    "body": "<a id='comment:22'></a>\nYou don't need to specify utf8, its the default in Sphinx. See http://sphinx-doc.org/config.html#confval-latex_elements",
    "created_at": "2013-05-26T21:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178978",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>
You don't need to specify utf8, its the default in Sphinx. See http://sphinx-doc.org/config.html#confval-latex_elements



---

archive/issue_comments_178979.json:
```json
{
    "body": "<a id='comment:23'></a>\nI also agree that we should get rid of `utf8x`. I wasn't that excited about it when it first went in (in #8036), so I'm happy to see its removal.",
    "created_at": "2013-05-26T22:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178979",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:23'></a>
I also agree that we should get rid of `utf8x`. I wasn't that excited about it when it first went in (in #8036), so I'm happy to see its removal.



---

archive/issue_comments_178980.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [jhpalmieri](#comment%3A23):\n> I also agree that we should get rid of `utf8x`. I wasn't that excited about it when it first went in (in #8036), so I'm happy to see its removal.\n\n\nI don't see why this is needed. `utf8x` is a part of maintained, since 2011, [ucs package](http://ctan.org/pkg/ucs); #8036 is older, and indeed at that point `utf8x` was an orphan. It is a slight extension (and very useful) of standard LaTeX, so what?\n\nE.g. I don't see how you can avoid `utf8x` in the [example](http://trac.sagemath.org/sage_trac/attachment/ticket/8036/utf8.tex) on #8036, at least without Babel. That is, if you write some unicode `\u0416` (different from `\u0428`, which is taken care of) somewhere, it won't display right in pdf, and may even fail to compile with `pdflatex`.",
    "created_at": "2013-05-27T00:59:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178980",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
Replying to [jhpalmieri](#comment%3A23):
> I also agree that we should get rid of `utf8x`. I wasn't that excited about it when it first went in (in #8036), so I'm happy to see its removal.


I don't see why this is needed. `utf8x` is a part of maintained, since 2011, [ucs package](http://ctan.org/pkg/ucs); #8036 is older, and indeed at that point `utf8x` was an orphan. It is a slight extension (and very useful) of standard LaTeX, so what?

E.g. I don't see how you can avoid `utf8x` in the [example](http://trac.sagemath.org/sage_trac/attachment/ticket/8036/utf8.tex) on #8036, at least without Babel. That is, if you write some unicode `Ж` (different from `Ш`, which is taken care of) somewhere, it won't display right in pdf, and may even fail to compile with `pdflatex`.



---

archive/issue_comments_178981.json:
```json
{
    "body": "<a id='comment:25'></a>\nutf8x.sty does not seem to be included in TeX Live 2012. (I just tried to compile a file using `\\includepackage{utf8x}`, and it failed.) That seems like a good reason to get rid of it. You're suggesting instead\n\n```\n\\usepackage{ucs}\n\\usepackage[utf8x]{inputenc}\n```\nmaybe?",
    "created_at": "2013-05-27T05:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178981",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:25'></a>
utf8x.sty does not seem to be included in TeX Live 2012. (I just tried to compile a file using `\includepackage{utf8x}`, and it failed.) That seems like a good reason to get rid of it. You're suggesting instead

```
\usepackage{ucs}
\usepackage[utf8x]{inputenc}
```
maybe?



---

archive/issue_comments_178982.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [jhpalmieri](#comment%3A25):\n> utf8x.sty does not seem to be included in TeX Live 2012. (I just tried to compile a file using `\\includepackage{utf8x}`, and it failed.) That seems like a good reason to get rid of it. You're suggesting instead\n> \n> ```\n> \\usepackage{ucs}\n> \\usepackage[utf8x]{inputenc}\n> ```\n> maybe?\nsure. In fact the patch on this ticket proposes to remove a line containing\n\n```\n\\usepackage[utf8x]{inputenc}\n```",
    "created_at": "2013-05-27T06:03:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178982",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
Replying to [jhpalmieri](#comment%3A25):
> utf8x.sty does not seem to be included in TeX Live 2012. (I just tried to compile a file using `\includepackage{utf8x}`, and it failed.) That seems like a good reason to get rid of it. You're suggesting instead
> 
> ```
> \usepackage{ucs}
> \usepackage[utf8x]{inputenc}
> ```
> maybe?
sure. In fact the patch on this ticket proposes to remove a line containing

```
\usepackage[utf8x]{inputenc}
```



---

archive/issue_comments_178983.json:
```json
{
    "body": "<a id='comment:27'></a>\nas discussed, `\\usepackage[utf8x]{inputenc}` is not deprecated. What is the purpose of this ticket then?",
    "created_at": "2013-06-05T12:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178983",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
as discussed, `\usepackage[utf8x]{inputenc}` is not deprecated. What is the purpose of this ticket then?



---

archive/issue_events_126882.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T12:48:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126882"
}
```



---

archive/issue_events_126883.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T12:48:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126883"
}
```



---

archive/issue_comments_178984.json:
```json
{
    "body": "<a id='comment:28'></a>\nIt is discouraged by most (all?) LaTeX developers, and utf8 is recommended instead. Maybe its not officially deprecated, but morally it is. utf8x clashes with various other packages, whereas utf8 is more friendly to its neighbors.",
    "created_at": "2013-06-05T13:00:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178984",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
It is discouraged by most (all?) LaTeX developers, and utf8 is recommended instead. Maybe its not officially deprecated, but morally it is. utf8x clashes with various other packages, whereas utf8 is more friendly to its neighbors.



---

archive/issue_comments_178985.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [vbraun](#comment%3A28):\n> It is discouraged by most (all?) LaTeX developers, and utf8 is recommended instead. Maybe its not officially deprecated, but morally it is. utf8x clashes with various other packages, whereas utf8 is more friendly to its neighbors.\n\n\nAre these mere outdated rumours, about it being deprecated (it was orphaned for a while, but this is no longer the case)? Aren't you confusing this option of `inputenc` with an outdated package `utf8x` ?",
    "created_at": "2013-06-05T13:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178985",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
Replying to [vbraun](#comment%3A28):
> It is discouraged by most (all?) LaTeX developers, and utf8 is recommended instead. Maybe its not officially deprecated, but morally it is. utf8x clashes with various other packages, whereas utf8 is more friendly to its neighbors.


Are these mere outdated rumours, about it being deprecated (it was orphaned for a while, but this is no longer the case)? Aren't you confusing this option of `inputenc` with an outdated package `utf8x` ?



---

archive/issue_comments_178986.json:
```json
{
    "body": "<a id='comment:30'></a>\nutf8x isn't even a package, it a piece of the ucs package.\n\nThe fact that somebody maintains it for backwards compatibility does not change the fact that its approach is fundamentally incompatible with a load of existing packages, e.g. http://tex.stackexchange.com/questions/49610/use-biblatex-and-utf8",
    "created_at": "2013-06-05T13:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178986",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:30'></a>
utf8x isn't even a package, it a piece of the ucs package.

The fact that somebody maintains it for backwards compatibility does not change the fact that its approach is fundamentally incompatible with a load of existing packages, e.g. http://tex.stackexchange.com/questions/49610/use-biblatex-and-utf8



---

archive/issue_comments_178987.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [vbraun](#comment%3A30):\n> utf8x isn't even a package, it a piece of the ucs package.\n\nsure.\n> \n> The fact that somebody maintains it for backwards compatibility does not change the fact that its approach is fundamentally incompatible with a load of existing packages, e.g. http://tex.stackexchange.com/questions/49610/use-biblatex-and-utf8\n\n\nthe fact that `biblatex` (a `contrib` package we don't use, AFAIK) is not compatible with `ucs` (another `contrib` package) does not mean we should rush to change what we have, I think. Note that `biblatex` is incompatible with lots of other packages, cf. [Sect 1.5.4](http://www.math.upenn.edu/tex_docs/latex/biblatex/biblatex.pdf). \n\nDo you know any other packages incompatible with `ucs`? I don't.",
    "created_at": "2013-06-05T14:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178987",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
Replying to [vbraun](#comment%3A30):
> utf8x isn't even a package, it a piece of the ucs package.

sure.
> 
> The fact that somebody maintains it for backwards compatibility does not change the fact that its approach is fundamentally incompatible with a load of existing packages, e.g. http://tex.stackexchange.com/questions/49610/use-biblatex-and-utf8


the fact that `biblatex` (a `contrib` package we don't use, AFAIK) is not compatible with `ucs` (another `contrib` package) does not mean we should rush to change what we have, I think. Note that `biblatex` is incompatible with lots of other packages, cf. [Sect 1.5.4](http://www.math.upenn.edu/tex_docs/latex/biblatex/biblatex.pdf). 

Do you know any other packages incompatible with `ucs`? I don't.



---

archive/issue_comments_178988.json:
```json
{
    "body": "<a id='comment:32'></a>\nhttp://www.ctan.org/pkg/csquotes is also incompatible. Hyperref is also incompatible with ucs, though you can work around it by some hackery with `\\PrerenderUnicode`. How many examples do you need?",
    "created_at": "2013-06-05T14:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178988",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>
http://www.ctan.org/pkg/csquotes is also incompatible. Hyperref is also incompatible with ucs, though you can work around it by some hackery with `\PrerenderUnicode`. How many examples do you need?



---

archive/issue_comments_178989.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [vbraun](#comment%3A32):\n> http://www.ctan.org/pkg/csquotes is also incompatible. \n\nanother `contrib` package produced by the same guy, P.Lehman, currently listed as inactive. There is a jungle of packages in `contrib`, where compatibility is not of a major concern, apparently. \n\nThis patch fixes a non-existing problem, and is marked as a blocker... :-)",
    "created_at": "2013-06-05T16:20:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178989",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'></a>
Replying to [vbraun](#comment%3A32):
> http://www.ctan.org/pkg/csquotes is also incompatible. 

another `contrib` package produced by the same guy, P.Lehman, currently listed as inactive. There is a jungle of packages in `contrib`, where compatibility is not of a major concern, apparently. 

This patch fixes a non-existing problem, and is marked as a blocker... :-)



---

archive/issue_comments_178990.json:
```json
{
    "body": "<a id='comment:34'></a>\nhyperref is not a contrib package",
    "created_at": "2013-06-05T17:36:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178990",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:34'></a>
hyperref is not a contrib package



---

archive/issue_events_126884.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T17:39:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126884"
}
```



---

archive/issue_events_126885.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T17:39:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126885"
}
```



---

archive/issue_comments_178991.json:
```json
{
    "body": "<a id='comment:36'></a>\nOK, OK, sorry... As I sat on this for so long :\u2013)",
    "created_at": "2013-06-05T17:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178991",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
OK, OK, sorry... As I sat on this for so long :–)



---

archive/issue_events_126886.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T17:40:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126886"
}
```



---

archive/issue_events_126887.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-05T17:40:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126887"
}
```



---

archive/issue_comments_178992.json:
```json
{
    "body": "<a id='comment:37'></a>\nDamn, I was just about to point out that ucs is one of the \"jungle of packages\" in contrib. Don't you hate it if you remember a good argument too late ;-)\n\nThanks!",
    "created_at": "2013-06-05T17:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178992",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:37'></a>
Damn, I was just about to point out that ucs is one of the "jungle of packages" in contrib. Don't you hate it if you remember a good argument too late ;-)

Thanks!



---

archive/issue_comments_178993.json:
```json
{
    "body": "**Reviewer:** Dmitrii Pasechnik",
    "created_at": "2013-06-05T19:51:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178993",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Dmitrii Pasechnik



---

archive/issue_comments_178994.json:
```json
{
    "body": "**Merged:** sage-5.10.rc1",
    "created_at": "2013-06-05T19:51:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14571#issuecomment-178994",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.10.rc1



---

archive/issue_events_126888.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-05T19:51:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126888"
}
```



---

archive/issue_events_126889.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-05T19:51:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14571",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14571#event-126889"
}
```
