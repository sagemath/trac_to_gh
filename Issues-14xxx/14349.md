# Issue 14349: The cliquer spkg is patching upstream

archive/issues_014145.json:
```json
{
    "assignees": [],
    "body": "This spkg does the following:\n1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)\n2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?\n3. it adds new functions, only for sage\n4. it uses `make` instead of `$MAKE`.\n5. it has testing code inside `spkg-install` instead of `spkg-check`.\n\nDepends on #14892\n\nCC:  @kiwifb\n\nBranch/Commit: **[public/14349](https://github.com/sagemath/sagetrac-mirror/tree/public/14349) @ [6253068](https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Felix Salfelder**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14349_\n\n",
    "closed_at": "2014-02-01T19:39:26Z",
    "created_at": "2013-03-23T22:41:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "The cliquer spkg is patching upstream",
    "type": "issue",
    "updated_at": "2014-02-01T19:39:26Z",
    "url": "https://github.com/sagemath/sage/issues/14349",
    "user": "https://github.com/sagetrac-Snark"
}
```
This spkg does the following:
1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)
2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?
3. it adds new functions, only for sage
4. it uses `make` instead of `$MAKE`.
5. it has testing code inside `spkg-install` instead of `spkg-check`.

Depends on #14892

CC:  @kiwifb

Branch/Commit: **[public/14349](https://github.com/sagemath/sagetrac-mirror/tree/public/14349) @ [6253068](https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6)**

Reviewer: **Nathann Cohen**

Author: **Felix Salfelder**

_Issue created by migration from https://trac.sagemath.org/ticket/14349_





---

archive/issue_events_185948.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2013-03-23T22:41:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185948"
}
```



---

archive/issue_events_185949.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2013-03-23T22:41:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185949"
}
```



---

archive/issue_events_185950.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2013-03-23T22:41:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185950"
}
```



---

archive/issue_events_185951.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2013-03-23T22:41:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185951"
}
```



---

archive/issue_comments_174816.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,4 @@\n 1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)\n 2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?\n 3. it adds new functions, only for sage -- that code doesn't belong to this spkg but to sage itself!\n+4. it uses `make` instead of `$MAKE`.\n``````\n",
    "created_at": "2013-05-23T08:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174816",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,4 @@
 1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)
 2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?
 3. it adds new functions, only for sage -- that code doesn't belong to this spkg but to sage itself!
+4. it uses `make` instead of `$MAKE`.
``````




---

archive/issue_comments_174817.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n This spkg does the following:\n 1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)\n 2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?\n-3. it adds new functions, only for sage -- that code doesn't belong to this spkg but to sage itself!\n+3. it adds new functions, only for sage\n 4. it uses `make` instead of `$MAKE`.\n+5. it has testing code inside `spkg-install` instead of `spkg-check`.\n``````\n",
    "created_at": "2013-05-24T12:41:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174817",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 This spkg does the following:
 1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)
 2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?
-3. it adds new functions, only for sage -- that code doesn't belong to this spkg but to sage itself!
+3. it adds new functions, only for sage
 4. it uses `make` instead of `$MAKE`.
+5. it has testing code inside `spkg-install` instead of `spkg-check`.
``````




---

archive/issue_comments_174818.json:
```json
{
    "body": "Replying to [ticket:14349 Snark]:\n> 3. it adds new functions, only for sage\n\nPlease clarify how you would add these functions to Sage? They need access to the cliquer internals, so they cannot simply be added to Sage.",
    "created_at": "2013-05-24T12:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174818",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:14349 Snark]:
> 3. it adds new functions, only for sage

Please clarify how you would add these functions to Sage? They need access to the cliquer internals, so they cannot simply be added to Sage.



---

archive/issue_comments_174819.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI don't remember the details, but I think it was a case of bad use of static variables ; so probably helping upstream get around that is a better route.\n\n(That involves putting those variables in a params structure which gets passed around. Perhaps with some getter/setter api for the new structure.)",
    "created_at": "2013-05-24T14:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174819",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:5'>Comment 5:</a>
I don't remember the details, but I think it was a case of bad use of static variables ; so probably helping upstream get around that is a better route.

(That involves putting those variables in a params structure which gets passed around. Perhaps with some getter/setter api for the new structure.)



---

archive/issue_comments_174820.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nGood luck convincing upstream, I'm not going to do it...",
    "created_at": "2013-05-24T15:06:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174820",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'>Comment 6:</a>
Good luck convincing upstream, I'm not going to do it...



---

archive/issue_comments_174821.json:
```json
{
    "body": "Attachment: **[0001-reduce-cliquer-patching.patch.gz](https://github.com/sagemath/sage/files/ticket14349/0001-reduce-cliquer-patching.patch.gz)**",
    "created_at": "2013-06-20T07:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174821",
    "user": "https://github.com/sagetrac-felixs"
}
```

Attachment: **[0001-reduce-cliquer-patching.patch.gz](https://github.com/sagemath/sage/files/ticket14349/0001-reduce-cliquer-patching.patch.gz)**



---

archive/issue_comments_174822.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nWould somebody please help getting rid of the other one (cl.c.patch)?",
    "created_at": "2013-06-20T07:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174822",
    "user": "https://github.com/sagetrac-felixs"
}
```

<a id='comment:7'>Comment 7:</a>
Would somebody please help getting rid of the other one (cl.c.patch)?



---

archive/issue_comments_174823.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nMost of the \"global variables\" aren't global but local to the compilation unit of the command line parser and only used to keep track of command line options. Its likely that one could just move the additional `sage_...` functions to an auxiliary source file in the Sage library.\n\nMaybe we should get a GSoC student working on the build system to clean that up? :-P\n\nUnless there is some action on this ticket soon I'll just take the current patch, add all currently untracked files to the repo, and use that for #14781",
    "created_at": "2013-07-07T15:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174823",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'>Comment 8:</a>
Most of the "global variables" aren't global but local to the compilation unit of the command line parser and only used to keep track of command line options. Its likely that one could just move the additional `sage_...` functions to an auxiliary source file in the Sage library.

Maybe we should get a GSoC student working on the build system to clean that up? :-P

Unless there is some action on this ticket soon I'll just take the current patch, add all currently untracked files to the repo, and use that for #14781



---

archive/issue_comments_174824.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@vbraun](#comment%3A8):\n> Most of the \"global variables\" aren't global but local to the compilation unit of the command line parser and only used to keep track of command line options. Its likely that one could just move the additional `sage_...` functions to an auxiliary source file in the Sage library.\n\nseems to work. i'll test and upload the patch as soon as i'm done with gap.",
    "created_at": "2013-07-07T20:41:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174824",
    "user": "https://github.com/sagetrac-felixs"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@vbraun](#comment%3A8):
> Most of the "global variables" aren't global but local to the compilation unit of the command line parser and only used to keep track of command line options. Its likely that one could just move the additional `sage_...` functions to an auxiliary source file in the Sage library.

seems to work. i'll test and upload the patch as soon as i'm done with gap.



---

archive/issue_comments_174825.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nFelix, are you still working on this ticket? We need to resolve this ticket one way or another for #14781",
    "created_at": "2013-07-12T23:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174825",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'>Comment 10:</a>
Felix, are you still working on this ticket? We need to resolve this ticket one way or another for #14781



---

archive/issue_comments_174826.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nStill stuck with gap. My cliquer patch needs to be sorted out/rebased/ported, I don't know whether that makes much sense right now. please do with this tiket whatever seems appropriate.\n\n(sorry i don't understand #14781)",
    "created_at": "2013-07-13T04:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174826",
    "user": "https://github.com/sagetrac-felixs"
}
```

<a id='comment:11'>Comment 11:</a>
Still stuck with gap. My cliquer patch needs to be sorted out/rebased/ported, I don't know whether that makes much sense right now. please do with this tiket whatever seems appropriate.

(sorry i don't understand #14781)



---

archive/issue_comments_174827.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nWhat it your problem with gap? Does it have ticket number?",
    "created_at": "2013-07-13T04:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174827",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'>Comment 12:</a>
What it your problem with gap? Does it have ticket number?



---

archive/issue_comments_174828.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@kiwifb](#comment%3A12):\n> What it your problem with gap? Does it have ticket number?\n\nI have created #14887.",
    "created_at": "2013-07-13T05:30:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174828",
    "user": "https://github.com/sagetrac-felixs"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@kiwifb](#comment%3A12):
> What it your problem with gap? Does it have ticket number?

I have created #14887.



---

archive/issue_comments_174829.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nI've moved the 0001-reduce-cliquer-patching.patch to #14892. This ticket still has enough improvement suggestions for cliquer. Note how issue #9870 is related to this ticket.",
    "created_at": "2013-07-15T04:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174829",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
I've moved the 0001-reduce-cliquer-patching.patch to #14892. This ticket still has enough improvement suggestions for cliquer. Note how issue #9870 is related to this ticket.



---

archive/issue_comments_174830.json:
```json
{
    "body": "Dependencies: **#14892**",
    "created_at": "2013-07-15T04:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174830",
    "user": "https://github.com/vbraun"
}
```

Dependencies: **#14892**



---

archive/issue_events_185952.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185952"
}
```



---

archive/issue_events_185953.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185953"
}
```



---

archive/issue_comments_174831.json:
```json
{
    "body": "Commit: **[aecdf29](https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347)**",
    "created_at": "2013-08-23T14:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174831",
    "user": "https://github.com/sagetrac-felixs"
}
```

Commit: **[aecdf29](https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347)**



---

archive/issue_comments_174832.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nA patch removing the patches is now ready on top of sage 5.12beta3 (build_system). It does not address #9870.",
    "created_at": "2013-08-23T14:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174832",
    "user": "https://github.com/sagetrac-felixs"
}
```

<a id='comment:16'>Comment 16:</a>
A patch removing the patches is now ready on top of sage 5.12beta3 (build_system). It does not address #9870.



---

archive/issue_events_185954.json:
```json
{
    "actor": "https://github.com/sagetrac-felixs",
    "created_at": "2013-08-23T14:14:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185954"
}
```



---

archive/issue_comments_174833.json:
```json
{
    "body": "Branch: **[u/felixs/14349](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14349)**",
    "created_at": "2013-08-23T14:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174833",
    "user": "https://github.com/sagetrac-felixs"
}
```

Branch: **[u/felixs/14349](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14349)**



---

archive/issue_events_185955.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-02T16:21:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185955"
}
```



---

archive/issue_events_185956.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-02T16:21:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185956"
}
```



---

archive/issue_comments_174834.json:
```json
{
    "body": "Changed dependencies from **#14892** to **#14892, #15410**",
    "created_at": "2013-12-02T16:21:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174834",
    "user": "https://github.com/nathanncohen"
}
```

Changed dependencies from **#14892** to **#14892, #15410**



---

archive/issue_comments_174835.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nHellooooooooo !!!\n\nThis patch probably needs to be rebased atop the nice additions of #15410, but would it also be possible to not create those two cl.c and cl.h files right inside of the graphs/ folder ? Could it be put inside of a cliquer/ folder, and couldn't it even stay inside of the spkg, even if it is not used to patch the sources but (nicely) imported at compile-time ?\n\nThe trick is nice and efficient, thanks for this patch `:-)`\n\nNathann",
    "created_at": "2013-12-02T16:21:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174835",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'>Comment 17:</a>
Hellooooooooo !!!

This patch probably needs to be rebased atop the nice additions of #15410, but would it also be possible to not create those two cl.c and cl.h files right inside of the graphs/ folder ? Could it be put inside of a cliquer/ folder, and couldn't it even stay inside of the spkg, even if it is not used to patch the sources but (nicely) imported at compile-time ?

The trick is nice and efficient, thanks for this patch `:-)`

Nathann



---

archive/issue_comments_174836.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI don't understand your question. In any case, upstream sources go into `build/pkgs/cliquer`, source files for the Sage library into `src/sage/...`.",
    "created_at": "2013-12-02T16:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174836",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'>Comment 18:</a>
I don't understand your question. In any case, upstream sources go into `build/pkgs/cliquer`, source files for the Sage library into `src/sage/...`.



---

archive/issue_comments_174837.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nWell, then it would be cool if the cl.c and cl.h files could all be moved inside of a cliquer/ folder, for the graphs/ folder is already quite messy. Especially when these two cl.c and cl.h files are not documented in any way `O_o`\n\nWould it make sense to get rid of the .c files automatically compiled by Cython for each .pyx file by the way ?\n\nNathann",
    "created_at": "2013-12-02T16:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174837",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'>Comment 19:</a>
Well, then it would be cool if the cl.c and cl.h files could all be moved inside of a cliquer/ folder, for the graphs/ folder is already quite messy. Especially when these two cl.c and cl.h files are not documented in any way `O_o`

Would it make sense to get rid of the .c files automatically compiled by Cython for each .pyx file by the way ?

Nathann



---

archive/issue_comments_174838.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nYou can move them into `graphs/cliquer` if thats what you are asking.\n\nThere is a ticket for in-place cythonization somewhere. Obviously the cython output c files must be somewhere for the compiler to find them.",
    "created_at": "2013-12-02T16:38:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174838",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'>Comment 20:</a>
You can move them into `graphs/cliquer` if thats what you are asking.

There is a ticket for in-place cythonization somewhere. Obviously the cython output c files must be somewhere for the compiler to find them.



---

archive/issue_comments_174839.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\n> You can move them into `graphs/cliquer` if thats what you are asking.\n\nYep, that would be cool.\n\n> There is a ticket for in-place cythonization somewhere. Obviously the cython output c files must be somewhere for the compiler to find them.\n\nI guess, but they just don't have to stay there afterwards `:-P`\n\nNathann",
    "created_at": "2013-12-02T16:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174839",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'>Comment 21:</a>
> You can move them into `graphs/cliquer` if thats what you are asking.

Yep, that would be cool.

> There is a ticket for in-place cythonization somewhere. Obviously the cython output c files must be somewhere for the compiler to find them.

I guess, but they just don't have to stay there afterwards `:-P`

Nathann



---

archive/issue_events_185957.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-02T18:32:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185957"
}
```



---

archive/issue_events_185958.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-02T18:32:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185958"
}
```



---

archive/issue_comments_174840.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nAt u/ncohen/14349 you will find three commits atop of this ticket's branch, which rebase it on top of #15410 and 5.13.beta4, plus moves cl.c and cl.h to a new cliquer/ directory.\n\nNathann",
    "created_at": "2013-12-02T18:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174840",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'>Comment 22:</a>
At u/ncohen/14349 you will find three commits atop of this ticket's branch, which rebase it on top of #15410 and 5.13.beta4, plus moves cl.c and cl.h to a new cliquer/ directory.

Nathann



---

archive/issue_comments_174841.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nping ?",
    "created_at": "2014-01-08T09:50:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174841",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'>Comment 23:</a>
ping ?



---

archive/issue_comments_174842.json:
```json
{
    "body": "Changed branch from **[u/felixs/14349](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14349)** to **[public/14349](https://github.com/sagemath/sagetrac-mirror/tree/public/14349)**",
    "created_at": "2014-01-08T14:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174842",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/felixs/14349](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14349)** to **[public/14349](https://github.com/sagemath/sagetrac-mirror/tree/public/14349)**



---

archive/issue_comments_174843.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nOkay, let's forget about #15410 for the moment as it is not in `positive_review` anymore. Here is a new commit added on top of Felixs' which moves the two files into a `cliquer/` folder.\n\nNathann",
    "created_at": "2014-01-08T14:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174843",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'>Comment 24:</a>
Okay, let's forget about #15410 for the moment as it is not in `positive_review` anymore. Here is a new commit added on top of Felixs' which moves the two files into a `cliquer/` folder.

Nathann



---

archive/issue_comments_174844.json:
```json
{
    "body": "Changed commit from **[aecdf29](https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347)** to none",
    "created_at": "2014-01-08T14:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174844",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[aecdf29](https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347)** to none



---

archive/issue_comments_174845.json:
```json
{
    "body": "Changed dependencies from **#14892, #15410** to **#14892**",
    "created_at": "2014-01-08T14:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174845",
    "user": "https://github.com/nathanncohen"
}
```

Changed dependencies from **#14892, #15410** to **#14892**



---

archive/issue_comments_174846.json:
```json
{
    "body": "Commit: **[6253068](https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6)**",
    "created_at": "2014-01-08T14:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174846",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[6253068](https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6)**



---

archive/issue_comments_174847.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f55a304f5fc53fb72d2c798b8af2e1bb1df5ce2f\">f55a304</a></td><td><code>python-sage work without cliquer patching (#14349)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347\">aecdf29</a></td><td><code>module_list: add cl.c to cliquer.so sources (#14349)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25edb2fc611147706a7e802d6b1e0ea48c018f8a\">25edb2f</a></td><td><code>trac #14349: rebase on 6.1.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6\">6253068</a></td><td><code>trac #14349: move cl.* to cliquer/</code></td></tr></table>\n",
    "created_at": "2014-01-08T14:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174847",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f55a304f5fc53fb72d2c798b8af2e1bb1df5ce2f">f55a304</a></td><td><code>python-sage work without cliquer patching (#14349)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347">aecdf29</a></td><td><code>module_list: add cl.c to cliquer.so sources (#14349)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25edb2fc611147706a7e802d6b1e0ea48c018f8a">25edb2f</a></td><td><code>trac #14349: rebase on 6.1.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6">6253068</a></td><td><code>trac #14349: move cl.* to cliquer/</code></td></tr></table>




---

archive/issue_comments_174848.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\ni'd prefer fewer directories. but i agree with 625306835f2033c96a982a3b4cee0b87b708f8e6. consider these changes positively reviewed.",
    "created_at": "2014-01-08T15:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174848",
    "user": "https://github.com/sagetrac-felixs"
}
```

<a id='comment:26'>Comment 26:</a>
i'd prefer fewer directories. but i agree with 625306835f2033c96a982a3b4cee0b87b708f8e6. consider these changes positively reviewed.



---

archive/issue_events_185959.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-08T15:18:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185959"
}
```



---

archive/issue_events_185960.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-08T15:18:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185960"
}
```



---

archive/issue_comments_174849.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-01-08T15:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174849",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_174850.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nWell.. I prefer to have the least amount of mess in the graph/ folder. And cl.c/cl.h files do not fit in the picture `:-P`\n\nThank you fo the review !\n\nNathann",
    "created_at": "2014-01-08T15:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174850",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'>Comment 27:</a>
Well.. I prefer to have the least amount of mess in the graph/ folder. And cl.c/cl.h files do not fit in the picture `:-P`

Thank you fo the review !

Nathann



---

archive/issue_comments_174851.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nFurther clean-up of cliquer at #9870...",
    "created_at": "2014-01-16T14:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174851",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'>Comment 28:</a>
Further clean-up of cliquer at #9870...



---

archive/issue_events_185961.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185961"
}
```



---

archive/issue_events_185962.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185962"
}
```



---

archive/issue_comments_174852.json:
```json
{
    "body": "Author: **Felix Salfelder**",
    "created_at": "2014-01-31T23:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-174852",
    "user": "https://github.com/vbraun"
}
```

Author: **Felix Salfelder**



---

archive/issue_events_185963.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-01T19:39:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185963"
}
```



---

archive/issue_events_185964.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0715fd3815d1896517e629fe96ea410f684b0c71",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-02-01T19:39:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-185964"
}
```
