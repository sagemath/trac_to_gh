# Issue 14349: The cliquer spkg is patching upstream

archive/issues_014145.json:
```json
{
    "assignees": [],
    "body": "This spkg does the following:\n1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)\n2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?\n3. it adds new functions, only for sage\n4. it uses `make` instead of `$MAKE`.\n5. it has testing code inside `spkg-install` instead of `spkg-check`.\n\nDepends on #14892\n\nCC:  @kiwifb\n\nBranch/Commit: **[public/14349](https://github.com/sagemath/sagetrac-mirror/tree/public/14349) @ [`6253068`](https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Felix Salfelder**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14349_\n\n",
    "closed_at": "2014-02-01T19:39:26Z",
    "created_at": "2013-03-23T22:41:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "The cliquer spkg is patching upstream",
    "type": "issue",
    "updated_at": "2014-02-01T19:39:26Z",
    "url": "https://github.com/sagemath/sage/issues/14349",
    "user": "https://github.com/SnarkBoojum"
}
```
This spkg does the following:
1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)
2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?
3. it adds new functions, only for sage
4. it uses `make` instead of `$MAKE`.
5. it has testing code inside `spkg-install` instead of `spkg-check`.

Depends on #14892

CC:  @kiwifb

Branch/Commit: **[public/14349](https://github.com/sagemath/sagetrac-mirror/tree/public/14349) @ [`6253068`](https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6)**

Reviewer: **Nathann Cohen**

Author: **Felix Salfelder**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/14349_





---

archive/issue_events_200744.json:
```json
{
    "actor": "https://github.com/SnarkBoojum",
    "created_at": "2013-03-23T22:41:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200744"
}
```



---

archive/issue_events_200745.json:
```json
{
    "actor": "https://github.com/SnarkBoojum",
    "created_at": "2013-03-23T22:41:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200745"
}
```



---

archive/issue_events_200746.json:
```json
{
    "actor": "https://github.com/SnarkBoojum",
    "created_at": "2013-03-23T22:41:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200746"
}
```



---

archive/issue_events_200747.json:
```json
{
    "actor": "https://github.com/SnarkBoojum",
    "created_at": "2013-03-23T22:41:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200747"
}
```



---

archive/issue_comments_172375.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,4 @@\n 1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)\n 2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?\n 3. it adds new functions, only for sage -- that code doesn't belong to this spkg but to sage itself!\n+4. it uses `make` instead of `$MAKE`.\n``````\n",
    "created_at": "2013-05-23T08:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172375",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,4 @@
 1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)
 2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?
 3. it adds new functions, only for sage -- that code doesn't belong to this spkg but to sage itself!
+4. it uses `make` instead of `$MAKE`.
``````




---

archive/issue_comments_172376.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n This spkg does the following:\n 1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)\n 2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?\n-3. it adds new functions, only for sage -- that code doesn't belong to this spkg but to sage itself!\n+3. it adds new functions, only for sage\n 4. it uses `make` instead of `$MAKE`.\n+5. it has testing code inside `spkg-install` instead of `spkg-check`.\n``````\n",
    "created_at": "2013-05-24T12:41:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172376",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 This spkg does the following:
 1. it compiles cliquer not only as an executable, but also as a library -- here I can't help but notice that the patches do to likewise in debian look more complete [see here](http://anonscm.debian.org/gitweb/?p=debian-science/packages/cliquer.git;a=tree;f=debian/patches;h=dd20b2cb0ea811e0036506c1468cc39367ec027e;hb=HEAD) (and remember than when the header of a debian patch doesn't mention forwarding to upstream -- that means it was!)
 2. it modifies the api by making parse_input exported (non-static) -- was this forwarded upstream?
-3. it adds new functions, only for sage -- that code doesn't belong to this spkg but to sage itself!
+3. it adds new functions, only for sage
 4. it uses `make` instead of `$MAKE`.
+5. it has testing code inside `spkg-install` instead of `spkg-check`.
``````




---

archive/issue_comments_172377.json:
```json
{
    "body": "Replying to [ticket:14349 Snark]:\n> 3. it adds new functions, only for sage\n\nPlease clarify how you would add these functions to Sage? They need access to the cliquer internals, so they cannot simply be added to Sage.",
    "created_at": "2013-05-24T12:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172377",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:14349 Snark]:
> 3. it adds new functions, only for sage

Please clarify how you would add these functions to Sage? They need access to the cliquer internals, so they cannot simply be added to Sage.



---

archive/issue_comments_172378.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI don't remember the details, but I think it was a case of bad use of static variables ; so probably helping upstream get around that is a better route.\n\n(That involves putting those variables in a params structure which gets passed around. Perhaps with some getter/setter api for the new structure.)",
    "created_at": "2013-05-24T14:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172378",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:5" align="right">comment:5</div>

I don't remember the details, but I think it was a case of bad use of static variables ; so probably helping upstream get around that is a better route.

(That involves putting those variables in a params structure which gets passed around. Perhaps with some getter/setter api for the new structure.)



---

archive/issue_comments_172379.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nGood luck convincing upstream, I'm not going to do it...",
    "created_at": "2013-05-24T15:06:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172379",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Good luck convincing upstream, I'm not going to do it...



---

archive/issue_comments_172380.json:
```json
{
    "body": "Attachment: **[0001-reduce-cliquer-patching.patch.gz](https://github.com/sagemath/sage/files/ticket14349/0001-reduce-cliquer-patching.patch.gz)**",
    "created_at": "2013-06-20T07:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172380",
    "user": "https://github.com/sagetrac-felixs"
}
```

Attachment: **[0001-reduce-cliquer-patching.patch.gz](https://github.com/sagemath/sage/files/ticket14349/0001-reduce-cliquer-patching.patch.gz)**



---

archive/issue_comments_172381.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWould somebody please help getting rid of the other one (cl.c.patch)?",
    "created_at": "2013-06-20T07:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172381",
    "user": "https://github.com/sagetrac-felixs"
}
```

<div id="comment:7" align="right">comment:7</div>

Would somebody please help getting rid of the other one (cl.c.patch)?



---

archive/issue_comments_172382.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nMost of the \"global variables\" aren't global but local to the compilation unit of the command line parser and only used to keep track of command line options. Its likely that one could just move the additional `sage_...` functions to an auxiliary source file in the Sage library.\n\nMaybe we should get a GSoC student working on the build system to clean that up? :-P\n\nUnless there is some action on this ticket soon I'll just take the current patch, add all currently untracked files to the repo, and use that for #14781",
    "created_at": "2013-07-07T15:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172382",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

Most of the "global variables" aren't global but local to the compilation unit of the command line parser and only used to keep track of command line options. Its likely that one could just move the additional `sage_...` functions to an auxiliary source file in the Sage library.

Maybe we should get a GSoC student working on the build system to clean that up? :-P

Unless there is some action on this ticket soon I'll just take the current patch, add all currently untracked files to the repo, and use that for #14781



---

archive/issue_comments_172383.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@vbraun](#comment:8):\n> Most of the \"global variables\" aren't global but local to the compilation unit of the command line parser and only used to keep track of command line options. Its likely that one could just move the additional `sage_...` functions to an auxiliary source file in the Sage library.\n\nseems to work. i'll test and upload the patch as soon as i'm done with gap.",
    "created_at": "2013-07-07T20:41:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172383",
    "user": "https://github.com/sagetrac-felixs"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@vbraun](#comment:8):
> Most of the "global variables" aren't global but local to the compilation unit of the command line parser and only used to keep track of command line options. Its likely that one could just move the additional `sage_...` functions to an auxiliary source file in the Sage library.

seems to work. i'll test and upload the patch as soon as i'm done with gap.



---

archive/issue_comments_172384.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFelix, are you still working on this ticket? We need to resolve this ticket one way or another for #14781",
    "created_at": "2013-07-12T23:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172384",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

Felix, are you still working on this ticket? We need to resolve this ticket one way or another for #14781



---

archive/issue_comments_172385.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nStill stuck with gap. My cliquer patch needs to be sorted out/rebased/ported, I don't know whether that makes much sense right now. please do with this tiket whatever seems appropriate.\n\n(sorry i don't understand #14781)",
    "created_at": "2013-07-13T04:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172385",
    "user": "https://github.com/sagetrac-felixs"
}
```

<div id="comment:11" align="right">comment:11</div>

Still stuck with gap. My cliquer patch needs to be sorted out/rebased/ported, I don't know whether that makes much sense right now. please do with this tiket whatever seems appropriate.

(sorry i don't understand #14781)



---

archive/issue_comments_172386.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWhat it your problem with gap? Does it have ticket number?",
    "created_at": "2013-07-13T04:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172386",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:12" align="right">comment:12</div>

What it your problem with gap? Does it have ticket number?



---

archive/issue_comments_172387.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@kiwifb](#comment:12):\n> What it your problem with gap? Does it have ticket number?\n\nI have created #14887.",
    "created_at": "2013-07-13T05:30:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172387",
    "user": "https://github.com/sagetrac-felixs"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@kiwifb](#comment:12):
> What it your problem with gap? Does it have ticket number?

I have created #14887.



---

archive/issue_comments_172388.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI've moved the 0001-reduce-cliquer-patching.patch to #14892. This ticket still has enough improvement suggestions for cliquer. Note how issue #9870 is related to this ticket.",
    "created_at": "2013-07-15T04:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172388",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">comment:14</div>

I've moved the 0001-reduce-cliquer-patching.patch to #14892. This ticket still has enough improvement suggestions for cliquer. Note how issue #9870 is related to this ticket.



---

archive/issue_comments_172389.json:
```json
{
    "body": "Dependencies: **#14892**",
    "created_at": "2013-07-15T04:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172389",
    "user": "https://github.com/vbraun"
}
```

Dependencies: **#14892**



---

archive/issue_events_200748.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200748"
}
```



---

archive/issue_events_200749.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200749"
}
```



---

archive/issue_comments_172390.json:
```json
{
    "body": "Commit: **[`aecdf29`](https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347)**",
    "created_at": "2013-08-23T14:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172390",
    "user": "https://github.com/sagetrac-felixs"
}
```

Commit: **[`aecdf29`](https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347)**



---

archive/issue_comments_172391.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nA patch removing the patches is now ready on top of sage 5.12beta3 (build_system). It does not address #9870.",
    "created_at": "2013-08-23T14:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172391",
    "user": "https://github.com/sagetrac-felixs"
}
```

<div id="comment:16" align="right">comment:16</div>

A patch removing the patches is now ready on top of sage 5.12beta3 (build_system). It does not address #9870.



---

archive/issue_events_200750.json:
```json
{
    "actor": "https://github.com/sagetrac-felixs",
    "created_at": "2013-08-23T14:14:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200750"
}
```



---

archive/issue_comments_172392.json:
```json
{
    "body": "Branch: **[u/felixs/14349](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14349)**",
    "created_at": "2013-08-23T14:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172392",
    "user": "https://github.com/sagetrac-felixs"
}
```

Branch: **[u/felixs/14349](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14349)**



---

archive/issue_events_200751.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-02T16:21:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200751"
}
```



---

archive/issue_events_200752.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-02T16:21:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200752"
}
```



---

archive/issue_comments_172393.json:
```json
{
    "body": "Changed dependencies from **#14892** to **#14892, #15410**",
    "created_at": "2013-12-02T16:21:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172393",
    "user": "https://github.com/nathanncohen"
}
```

Changed dependencies from **#14892** to **#14892, #15410**



---

archive/issue_comments_172394.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHellooooooooo !!!\n\nThis patch probably needs to be rebased atop the nice additions of #15410, but would it also be possible to not create those two cl.c and cl.h files right inside of the graphs/ folder ? Could it be put inside of a cliquer/ folder, and couldn't it even stay inside of the spkg, even if it is not used to patch the sources but (nicely) imported at compile-time ?\n\nThe trick is nice and efficient, thanks for this patch `:-)`\n\nNathann",
    "created_at": "2013-12-02T16:21:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172394",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

Hellooooooooo !!!

This patch probably needs to be rebased atop the nice additions of #15410, but would it also be possible to not create those two cl.c and cl.h files right inside of the graphs/ folder ? Could it be put inside of a cliquer/ folder, and couldn't it even stay inside of the spkg, even if it is not used to patch the sources but (nicely) imported at compile-time ?

The trick is nice and efficient, thanks for this patch `:-)`

Nathann



---

archive/issue_comments_172395.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI don't understand your question. In any case, upstream sources go into `build/pkgs/cliquer`, source files for the Sage library into `src/sage/...`.",
    "created_at": "2013-12-02T16:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172395",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

I don't understand your question. In any case, upstream sources go into `build/pkgs/cliquer`, source files for the Sage library into `src/sage/...`.



---

archive/issue_comments_172396.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nWell, then it would be cool if the cl.c and cl.h files could all be moved inside of a cliquer/ folder, for the graphs/ folder is already quite messy. Especially when these two cl.c and cl.h files are not documented in any way `O_o`\n\nWould it make sense to get rid of the .c files automatically compiled by Cython for each .pyx file by the way ?\n\nNathann",
    "created_at": "2013-12-02T16:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172396",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:19" align="right">comment:19</div>

Well, then it would be cool if the cl.c and cl.h files could all be moved inside of a cliquer/ folder, for the graphs/ folder is already quite messy. Especially when these two cl.c and cl.h files are not documented in any way `O_o`

Would it make sense to get rid of the .c files automatically compiled by Cython for each .pyx file by the way ?

Nathann



---

archive/issue_comments_172397.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nYou can move them into `graphs/cliquer` if thats what you are asking.\n\nThere is a ticket for in-place cythonization somewhere. Obviously the cython output c files must be somewhere for the compiler to find them.",
    "created_at": "2013-12-02T16:38:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172397",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

You can move them into `graphs/cliquer` if thats what you are asking.

There is a ticket for in-place cythonization somewhere. Obviously the cython output c files must be somewhere for the compiler to find them.



---

archive/issue_comments_172398.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> You can move them into `graphs/cliquer` if thats what you are asking.\n\nYep, that would be cool.\n\n> There is a ticket for in-place cythonization somewhere. Obviously the cython output c files must be somewhere for the compiler to find them.\n\nI guess, but they just don't have to stay there afterwards `:-P`\n\nNathann",
    "created_at": "2013-12-02T16:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172398",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

> You can move them into `graphs/cliquer` if thats what you are asking.

Yep, that would be cool.

> There is a ticket for in-place cythonization somewhere. Obviously the cython output c files must be somewhere for the compiler to find them.

I guess, but they just don't have to stay there afterwards `:-P`

Nathann



---

archive/issue_events_200753.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-02T18:32:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200753"
}
```



---

archive/issue_events_200754.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-02T18:32:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200754"
}
```



---

archive/issue_comments_172399.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nAt u/ncohen/14349 you will find three commits atop of this ticket's branch, which rebase it on top of #15410 and 5.13.beta4, plus moves cl.c and cl.h to a new cliquer/ directory.\n\nNathann",
    "created_at": "2013-12-02T18:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172399",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

At u/ncohen/14349 you will find three commits atop of this ticket's branch, which rebase it on top of #15410 and 5.13.beta4, plus moves cl.c and cl.h to a new cliquer/ directory.

Nathann



---

archive/issue_comments_172400.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nping ?",
    "created_at": "2014-01-08T09:50:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172400",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

ping ?



---

archive/issue_comments_172401.json:
```json
{
    "body": "Changed branch from **[u/felixs/14349](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14349)** to **[public/14349](https://github.com/sagemath/sagetrac-mirror/tree/public/14349)**",
    "created_at": "2014-01-08T14:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172401",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/felixs/14349](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14349)** to **[public/14349](https://github.com/sagemath/sagetrac-mirror/tree/public/14349)**



---

archive/issue_comments_172402.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nOkay, let's forget about #15410 for the moment as it is not in `positive_review` anymore. Here is a new commit added on top of Felixs' which moves the two files into a `cliquer/` folder.\n\nNathann",
    "created_at": "2014-01-08T14:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172402",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

Okay, let's forget about #15410 for the moment as it is not in `positive_review` anymore. Here is a new commit added on top of Felixs' which moves the two files into a `cliquer/` folder.

Nathann



---

archive/issue_comments_172403.json:
```json
{
    "body": "Changed commit from **[`aecdf29`](https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347)** to none",
    "created_at": "2014-01-08T14:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172403",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[`aecdf29`](https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347)** to none



---

archive/issue_comments_172404.json:
```json
{
    "body": "Changed dependencies from **#14892, #15410** to **#14892**",
    "created_at": "2014-01-08T14:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172404",
    "user": "https://github.com/nathanncohen"
}
```

Changed dependencies from **#14892, #15410** to **#14892**



---

archive/issue_comments_172405.json:
```json
{
    "body": "Commit: **[`6253068`](https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6)**",
    "created_at": "2014-01-08T14:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172405",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`6253068`](https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6)**



---

archive/issue_comments_172406.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f55a304f5fc53fb72d2c798b8af2e1bb1df5ce2f\"><code>f55a304</code></a></td><td><code>python-sage work without cliquer patching (#14349)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347\"><code>aecdf29</code></a></td><td><code>module_list: add cl.c to cliquer.so sources (#14349)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25edb2fc611147706a7e802d6b1e0ea48c018f8a\"><code>25edb2f</code></a></td><td><code>trac #14349: rebase on 6.1.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6\"><code>6253068</code></a></td><td><code>trac #14349: move cl.* to cliquer/</code></td></tr></table>\n",
    "created_at": "2014-01-08T14:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172406",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f55a304f5fc53fb72d2c798b8af2e1bb1df5ce2f"><code>f55a304</code></a></td><td><code>python-sage work without cliquer patching (#14349)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aecdf29f39b29c5b7438939a08f54b6ff18fc347"><code>aecdf29</code></a></td><td><code>module_list: add cl.c to cliquer.so sources (#14349)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25edb2fc611147706a7e802d6b1e0ea48c018f8a"><code>25edb2f</code></a></td><td><code>trac #14349: rebase on 6.1.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/625306835f2033c96a982a3b4cee0b87b708f8e6"><code>6253068</code></a></td><td><code>trac #14349: move cl.* to cliquer/</code></td></tr></table>




---

archive/issue_comments_172407.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\ni'd prefer fewer directories. but i agree with 625306835f2033c96a982a3b4cee0b87b708f8e6. consider these changes positively reviewed.",
    "created_at": "2014-01-08T15:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172407",
    "user": "https://github.com/sagetrac-felixs"
}
```

<div id="comment:26" align="right">comment:26</div>

i'd prefer fewer directories. but i agree with 625306835f2033c96a982a3b4cee0b87b708f8e6. consider these changes positively reviewed.



---

archive/issue_events_200755.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-08T15:18:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200755"
}
```



---

archive/issue_events_200756.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-01-08T15:18:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200756"
}
```



---

archive/issue_comments_172408.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-01-08T15:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172408",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_172409.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nWell.. I prefer to have the least amount of mess in the graph/ folder. And cl.c/cl.h files do not fit in the picture `:-P`\n\nThank you fo the review !\n\nNathann",
    "created_at": "2014-01-08T15:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172409",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:27" align="right">comment:27</div>

Well.. I prefer to have the least amount of mess in the graph/ folder. And cl.c/cl.h files do not fit in the picture `:-P`

Thank you fo the review !

Nathann



---

archive/issue_comments_172410.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nFurther clean-up of cliquer at #9870...",
    "created_at": "2014-01-16T14:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172410",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Further clean-up of cliquer at #9870...



---

archive/issue_events_200757.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200757"
}
```



---

archive/issue_events_200758.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200758"
}
```



---

archive/issue_comments_172411.json:
```json
{
    "body": "Author: **Felix Salfelder**",
    "created_at": "2014-01-31T23:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14349#issuecomment-172411",
    "user": "https://github.com/vbraun"
}
```

Author: **Felix Salfelder**



---

archive/issue_events_200759.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-01T19:39:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200759"
}
```



---

archive/issue_events_200760.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0715fd3815d1896517e629fe96ea410f684b0c71",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-02-01T19:39:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14349",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14349#event-200760"
}
```
