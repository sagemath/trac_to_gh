# Issue 14369: Misc doctesting improvements

archive/issues_014165.json:
```json
{
    "assignees": [],
    "body": "A collection of small patches to the doctesting framework.\n\n**Assignee:** @roed314\n\n**CC:**  @roed314\n\n**Reviewer:** David Roe\n\n**Author:** Jeroen Demeyer\n\n**Merged:** sage-5.9.beta3\n\nIssue created by migration from https://trac.sagemath.org/ticket/14369\n\n",
    "closed_at": "2013-04-01T10:39:06Z",
    "created_at": "2013-03-27T17:55:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Misc doctesting improvements",
    "type": "issue",
    "updated_at": "2013-04-26T19:15:24Z",
    "url": "https://github.com/sagemath/sage/issues/14369",
    "user": "https://github.com/jdemeyer"
}
```
A collection of small patches to the doctesting framework.

**Assignee:** @roed314

**CC:**  @roed314

**Reviewer:** David Roe

**Author:** Jeroen Demeyer

**Merged:** sage-5.9.beta3

Issue created by migration from https://trac.sagemath.org/ticket/14369





---

archive/issue_comments_175102.json:
```json
{
    "body": "**Changing assignee** from mvngu to @roed314.",
    "created_at": "2013-03-28T22:47:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175102",
    "user": "https://github.com/roed314"
}
```

**Changing assignee** from mvngu to @roed314.



---

archive/issue_events_124704.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2013-03-28T22:47:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20coverage",
    "label_color": "08517b",
    "label_name": "component: doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14369#event-124704"
}
```



---

archive/issue_events_124705.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2013-03-28T22:47:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
    "label_color": "08517b",
    "label_name": "component: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14369#event-124705"
}
```



---

archive/issue_events_124706.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-29T01:48:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14369#event-124706"
}
```



---

archive/issue_comments_175103.json:
```json
{
    "body": "**Attachment:** [14369_doctest_misc.patch.gz](https://github.com/sagemath/sage/files/ticket14369/14369_doctest_misc.patch.gz)",
    "created_at": "2013-03-29T02:00:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175103",
    "user": "https://github.com/jdemeyer"
}
```

**Attachment:** [14369_doctest_misc.patch.gz](https://github.com/sagemath/sage/files/ticket14369/14369_doctest_misc.patch.gz)



---

archive/issue_comments_175104.json:
```json
{
    "body": "**Reviewer:** David Roe",
    "created_at": "2013-03-29T02:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175104",
    "user": "https://github.com/roed314"
}
```

**Reviewer:** David Roe



---

archive/issue_comments_175105.json:
```json
{
    "body": "<a id='comment:3'></a>\nLooks good to me.",
    "created_at": "2013-03-29T02:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175105",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>
Looks good to me.



---

archive/issue_events_124707.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2013-03-29T02:57:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14369#event-124707"
}
```



---

archive/issue_events_124708.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2013-03-29T02:57:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14369#event-124708"
}
```



---

archive/issue_events_124709.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-01T10:39:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14369#event-124709"
}
```



---

archive/issue_events_124710.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-01T10:39:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14369#event-124710"
}
```



---

archive/issue_comments_175106.json:
```json
{
    "body": "**Merged:** sage-5.9.beta3",
    "created_at": "2013-04-01T10:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175106",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.9.beta3



---

archive/issue_comments_175107.json:
```json
{
    "body": "<a id='comment:5'></a>\nFor the record: Running `sage -t -optional -long` on a .py file does not work anymore, but used to work under sage-5.8. I tried to change this into `sage -t --optional --long`, but it does not work either.\n\nIt would be less disappointing if the changes in the doctesting framework would somehow be documented, or if at least the doctesting framework would give a hint what it is complaining about. All I get is\n\n```\nRunning doctests with ID 2013-04-26-16-31-00-2eee1fc7.\nDoctesting 1 file.\nsage -t /home/simon/.sage/temp/linux-sqwp.site/11900/dir_vpH6Jb/file_5.py\n    [0 tests, 0.00 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 0.0 seconds\n    cpu time: 0.0 seconds\n    cumulative wall time: 0.0 seconds\n\n```\ni.e., the tests are not even attempted to run, but it is reported that the tests pass.",
    "created_at": "2013-04-26T17:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175107",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:5'></a>
For the record: Running `sage -t -optional -long` on a .py file does not work anymore, but used to work under sage-5.8. I tried to change this into `sage -t --optional --long`, but it does not work either.

It would be less disappointing if the changes in the doctesting framework would somehow be documented, or if at least the doctesting framework would give a hint what it is complaining about. All I get is

```
Running doctests with ID 2013-04-26-16-31-00-2eee1fc7.
Doctesting 1 file.
sage -t /home/simon/.sage/temp/linux-sqwp.site/11900/dir_vpH6Jb/file_5.py
    [0 tests, 0.00 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 0.0 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds

```
i.e., the tests are not even attempted to run, but it is reported that the tests pass.



---

archive/issue_comments_175108.json:
```json
{
    "body": "<a id='comment:6'></a>\n`--optional=all` works.",
    "created_at": "2013-04-26T18:44:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175108",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
`--optional=all` works.



---

archive/issue_comments_175109.json:
```json
{
    "body": "<a id='comment:7'></a>\nI guess running `sage -t -optional=all -long ...` might be a solution.",
    "created_at": "2013-04-26T19:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175109",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
I guess running `sage -t -optional=all -long ...` might be a solution.



---

archive/issue_comments_175110.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [@jdemeyer](#comment%3A6):\n> `--optional=all` works.\n\nGreat, thank you!",
    "created_at": "2013-04-26T19:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14369#issuecomment-175110",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:8'></a>
Replying to [@jdemeyer](#comment%3A6):
> `--optional=all` works.

Great, thank you!
