# Issue 14369: Misc doctesting improvements

archive/issues_014165.json:
```json
{
    "body": "A collection of small patches to the doctesting framework.\n\nAssignee: @roed314\n\nCC:  @roed314\n\nReviewer: David Roe\n\nAuthor: Jeroen Demeyer\n\nMerged: sage-5.9.beta3\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14369\n\n",
    "closed_at": "2013-04-01T10:39:06Z",
    "created_at": "2013-03-27T17:55:10Z",
    "labels": [
        "component: doctest framework",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.9",
    "title": "Misc doctesting improvements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14369",
    "user": "https://github.com/jdemeyer"
}
```
A collection of small patches to the doctesting framework.

Assignee: @roed314

CC:  @roed314

Reviewer: David Roe

Author: Jeroen Demeyer

Merged: sage-5.9.beta3

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14369





---

archive/issue_comments_222217.json:
```json
{
    "body": "Changing assignee from mvngu to @roed314.",
    "created_at": "2013-03-28T22:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222217",
    "user": "https://github.com/roed314"
}
```

Changing assignee from mvngu to @roed314.



---

archive/issue_comments_222218.json:
```json
{
    "body": "Changing component from doctest to doctest framework.",
    "created_at": "2013-03-28T22:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222218",
    "user": "https://github.com/roed314"
}
```

Changing component from doctest to doctest framework.



---

archive/issue_comments_222219.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-29T01:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222219",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_222220.json:
```json
{
    "body": "Attachment [14369_doctest_misc.patch](tarball://root/attachments/some-uuid/ticket14369/14369_doctest_misc.patch) by @jdemeyer created at 2013-03-29 02:00:58",
    "created_at": "2013-03-29T02:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222220",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [14369_doctest_misc.patch](tarball://root/attachments/some-uuid/ticket14369/14369_doctest_misc.patch) by @jdemeyer created at 2013-03-29 02:00:58



---

archive/issue_comments_222221.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Roe\"",
    "created_at": "2013-03-29T02:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222221",
    "user": "https://github.com/roed314"
}
```

Changing reviewer from "" to "David Roe"



---

archive/issue_comments_222222.json:
```json
{
    "body": "<a id='comment:3'></a>Looks good to me.",
    "created_at": "2013-03-29T02:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222222",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>Looks good to me.



---

archive/issue_comments_222223.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-29T02:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222223",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_040782.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-01T10:39:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14369#event-40782"
}
```



---

archive/issue_comments_222224.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-01T10:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222224",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_222225.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.9.beta3\"",
    "created_at": "2013-04-01T10:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222225",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.9.beta3"



---

archive/issue_comments_222226.json:
```json
{
    "body": "<a id='comment:5'></a>For the record: Running `sage -t -optional -long` on a .py file does not work anymore, but used to work under sage-5.8. I tried to change this into `sage -t --optional --long`, but it does not work either.\n\nIt would be less disappointing if the changes in the doctesting framework would somehow be documented, or if at least the doctesting framework would give a hint what it is complaining about. All I get is\n\n```\nRunning doctests with ID 2013-04-26-16-31-00-2eee1fc7.\nDoctesting 1 file.\nsage -t /home/simon/.sage/temp/linux-sqwp.site/11900/dir_vpH6Jb/file_5.py\n    [0 tests, 0.00 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 0.0 seconds\n    cpu time: 0.0 seconds\n    cumulative wall time: 0.0 seconds\n\n```\ni.e., the tests are not even attempted to run, but it is reported that the tests pass.",
    "created_at": "2013-04-26T17:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222226",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:5'></a>For the record: Running `sage -t -optional -long` on a .py file does not work anymore, but used to work under sage-5.8. I tried to change this into `sage -t --optional --long`, but it does not work either.

It would be less disappointing if the changes in the doctesting framework would somehow be documented, or if at least the doctesting framework would give a hint what it is complaining about. All I get is

```
Running doctests with ID 2013-04-26-16-31-00-2eee1fc7.
Doctesting 1 file.
sage -t /home/simon/.sage/temp/linux-sqwp.site/11900/dir_vpH6Jb/file_5.py
    [0 tests, 0.00 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 0.0 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds

```
i.e., the tests are not even attempted to run, but it is reported that the tests pass.



---

archive/issue_comments_222227.json:
```json
{
    "body": "<a id='comment:6'></a>`--optional=all` works.",
    "created_at": "2013-04-26T18:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222227",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>`--optional=all` works.



---

archive/issue_comments_222228.json:
```json
{
    "body": "<a id='comment:7'></a>I guess running `sage -t -optional=all -long ...` might be a solution.",
    "created_at": "2013-04-26T19:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222228",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>I guess running `sage -t -optional=all -long ...` might be a solution.



---

archive/issue_comments_222229.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [jdemeyer](#comment%3A6):\n> `--optional=all` works.\n\n\nGreat, thank you!",
    "created_at": "2013-04-26T19:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14369#issuecomment-222229",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:8'></a>Replying to [jdemeyer](#comment%3A6):
> `--optional=all` works.


Great, thank you!
