# Issue 14780: allow embedding python tuples in SR

archive/issues_014576.json:
```json
{
    "body": "Attached patch allows embedding Python tuples in symbolic expressions:\n\n```\nsage: t = SR._force_tuple((1, 2, x, x+1, x+2))\nsage: t\n(1, 2, x, x + 1, x + 2)\nsage: t.subs(x = 2*x^2)\n(1, 2, 2*x^2, 2*x^2 + 1, 2*x^2 + 2)\nsage: t.op[0]\n1\nsage: t.op[2]\nx\n```\n \nIncludes pynac 0.3.2 update for explicit template instantiatitons\n\nhttp://boxen.math.washington.edu/home/vbraun/upstream/pynac-0.3.2.tar.bz2\n\n\n**Assignee:** @burcin\n\n**CC:**  @eviatarbach\n\n**Keywords:** sd48\n\n**Branch/Commit:** [aa7287f676a96f486af609ea36554820e0b3d7bc](https://github.com/sagemath/sagetrac-mirror/commit/aa7287f676a96f486af609ea36554820e0b3d7bc)\n\n**Reviewer:** Volker Braun, Jean-Pierre Flori\n\n**Author:** Burcin Erocal, Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/14780\n\n",
    "closed_at": "2014-03-31T14:59:23Z",
    "created_at": "2013-06-19T22:28:40Z",
    "labels": [
        "component: symbolics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "title": "allow embedding python tuples in SR",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/14780",
    "user": "https://github.com/burcin"
}
```
Attached patch allows embedding Python tuples in symbolic expressions:

```
sage: t = SR._force_tuple((1, 2, x, x+1, x+2))
sage: t
(1, 2, x, x + 1, x + 2)
sage: t.subs(x = 2*x^2)
(1, 2, 2*x^2, 2*x^2 + 1, 2*x^2 + 2)
sage: t.op[0]
1
sage: t.op[2]
x
```
 
Includes pynac 0.3.2 update for explicit template instantiatitons

http://boxen.math.washington.edu/home/vbraun/upstream/pynac-0.3.2.tar.bz2


**Assignee:** @burcin

**CC:**  @eviatarbach

**Keywords:** sd48

**Branch/Commit:** [aa7287f676a96f486af609ea36554820e0b3d7bc](https://github.com/sagemath/sagetrac-mirror/commit/aa7287f676a96f486af609ea36554820e0b3d7bc)

**Reviewer:** Volker Braun, Jean-Pierre Flori

**Author:** Burcin Erocal, Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/14780





---

archive/issue_events_129347.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2013-06-22T03:51:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129347"
}
```



---

archive/issue_comments_182843.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd48\".",
    "created_at": "2013-06-22T03:51:02Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182843",
    "user": "https://github.com/burcin"
}
```

**Changing keywords** from "" to "sd48".



---

archive/issue_comments_182844.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,4 +11,6 @@\n sage: t.op[2]\n x\n ```\n+ \n+Apply: [attachment:trac_14780-embed_tuples_in_SR.patch](https://github.com/sagemath/sage/files/ticket14780/trac_14780-embed_tuples_in_SR.patch)\n \n``````\n",
    "created_at": "2013-06-22T03:51:02Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182844",
    "user": "https://github.com/burcin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,4 +11,6 @@
 sage: t.op[2]
 x
 ```
+ 
+Apply: [attachment:trac_14780-embed_tuples_in_SR.patch](https://github.com/sagemath/sage/files/ticket14780/trac_14780-embed_tuples_in_SR.patch)
 
``````




---

archive/issue_comments_182845.json:
```json
{
    "body": "**Author:** Burcin Erocal",
    "created_at": "2013-06-22T03:51:02Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182845",
    "user": "https://github.com/burcin"
}
```

**Author:** Burcin Erocal



---

archive/issue_comments_182846.json:
```json
{
    "body": "<a id='comment:2'></a>\nWe were discussing an optional `recursive=[True|False]` keyword argument at SD48. Are you still going to implement this? Similar for the unpacking at #14802.",
    "created_at": "2013-06-23T15:49:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182846",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
We were discussing an optional `recursive=[True|False]` keyword argument at SD48. Are you still going to implement this? Similar for the unpacking at #14802.



---

archive/issue_comments_182847.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [vbraun](#comment%3A2):\n> We were discussing an optional `recursive=[True|False]` keyword argument at SD48. Are you still going to implement this?\n\nI replaced the attached patch. New version supports `recursive=[True|False]`.",
    "created_at": "2013-06-24T18:08:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182847",
    "user": "https://github.com/burcin"
}
```

<a id='comment:3'></a>
Replying to [vbraun](#comment%3A2):
> We were discussing an optional `recursive=[True|False]` keyword argument at SD48. Are you still going to implement this?

I replaced the attached patch. New version supports `recursive=[True|False]`.



---

archive/attachments_020565.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14780-embed_tuples_in_SR.patch",
    "asset_url": "tarball://root/attachments/ticket14780/trac_14780-embed_tuples_in_SR.patch",
    "created_at": "2013-06-26T03:57:32Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14780/trac_14780-embed_tuples_in_SR.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_182848.json:
```json
{
    "body": "**Attachment:** [trac_14780-embed_tuples_in_SR.patch](https://github.com/sagemath/sage/files/ticket14780/trac_14780-embed_tuples_in_SR.patch)",
    "created_at": "2013-06-26T03:57:32Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182848",
    "user": "https://github.com/burcin"
}
```

**Attachment:** [trac_14780-embed_tuples_in_SR.patch](https://github.com/sagemath/sage/files/ticket14780/trac_14780-embed_tuples_in_SR.patch)



---

archive/issue_comments_182849.json:
```json
{
    "body": "<a id='comment:4'></a>\nLooks good to me",
    "created_at": "2013-06-27T15:18:15Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182849",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>
Looks good to me



---

archive/issue_comments_182850.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2013-06-27T15:18:15Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182850",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_events_129348.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-06-27T15:18:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129348"
}
```



---

archive/issue_events_129349.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-06-27T15:18:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129349"
}
```



---

archive/issue_events_129350.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:48:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129350"
}
```



---

archive/issue_events_129351.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:48:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129351"
}
```



---

archive/issue_comments_182851.json:
```json
{
    "body": "<a id='comment:6'></a>\nOn buildbot machine redhawk (Ubuntu 10.04 x86_64):\n\n```\nsage -t --long devel/sage/sage/symbolic/ring.pyx\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 312, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t = SR._force_pyobject((1, 2, x, x+1, x+2)); t\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[2]>\", line 1, in <module>\n        t = SR._force_pyobject((Integer(1), Integer(2), x, x+Integer(1), x+Integer(2))); t\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 314, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t.subs(x = 2*x^2)\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[3]>\", line 1, in <module>\n        t.subs(x = Integer(2)*x**Integer(2))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 323, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t = SR._force_pyobject([1, 2, x, x+1, x+2]); t\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[6]>\", line 1, in <module>\n        t = SR._force_pyobject([Integer(1), Integer(2), x, x+Integer(1), x+Integer(2)]); t\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 325, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t.subs(x = 2*x^2)\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[7]>\", line 1, in <module>\n        t.subs(x = Integer(2)*x**Integer(2))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 327, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    SR._force_pyobject((QQ, RR, CC))\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[8]>\", line 1, in <module>\n        SR._force_pyobject((QQ, RR, CC))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 329, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t = SR._force_pyobject((QQ, (x, x + 1, x + 2), CC)); t\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[9]>\", line 1, in <module>\n        t = SR._force_pyobject((QQ, (x, x + Integer(1), x + Integer(2)), CC)); t\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 331, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t.subs(x=x^2)\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[10]>\", line 1, in <module>\n        t.subs(x=x**Integer(2))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 338, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[12]>\", line 1, in <module>\n        t\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 341, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t.subs(x=x^2)\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[13]>\", line 1, in <module>\n        t.subs(x=x**Integer(2))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 259, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)\n      File \"ring.pyx\", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)\n    TypeError: std::bad_cast\n**********************************************************************\n```",
    "created_at": "2013-07-31T22:07:00Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182851",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
On buildbot machine redhawk (Ubuntu 10.04 x86_64):

```
sage -t --long devel/sage/sage/symbolic/ring.pyx
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 312, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t = SR._force_pyobject((1, 2, x, x+1, x+2)); t
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[2]>", line 1, in <module>
        t = SR._force_pyobject((Integer(1), Integer(2), x, x+Integer(1), x+Integer(2))); t
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 314, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t.subs(x = 2*x^2)
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[3]>", line 1, in <module>
        t.subs(x = Integer(2)*x**Integer(2))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 323, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t = SR._force_pyobject([1, 2, x, x+1, x+2]); t
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[6]>", line 1, in <module>
        t = SR._force_pyobject([Integer(1), Integer(2), x, x+Integer(1), x+Integer(2)]); t
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 325, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t.subs(x = 2*x^2)
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[7]>", line 1, in <module>
        t.subs(x = Integer(2)*x**Integer(2))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 327, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    SR._force_pyobject((QQ, RR, CC))
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[8]>", line 1, in <module>
        SR._force_pyobject((QQ, RR, CC))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 329, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t = SR._force_pyobject((QQ, (x, x + 1, x + 2), CC)); t
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[9]>", line 1, in <module>
        t = SR._force_pyobject((QQ, (x, x + Integer(1), x + Integer(2)), CC)); t
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 331, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t.subs(x=x^2)
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[10]>", line 1, in <module>
        t.subs(x=x**Integer(2))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 338, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[12]>", line 1, in <module>
        t
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 341, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t.subs(x=x^2)
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[13]>", line 1, in <module>
        t.subs(x=x**Integer(2))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 259, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4624)
      File "ring.pyx", line 661, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7574)
    TypeError: std::bad_cast
**********************************************************************
```



---

archive/issue_events_129352.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-31T22:07:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129352"
}
```



---

archive/issue_events_129353.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-31T22:07:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129353"
}
```



---

archive/issue_comments_182852.json:
```json
{
    "body": "<a id='comment:7'></a>\nHmm... this works for me with `sage-5.13.beta2` on Ubuntu 12.04 LTS, 32-bit with a AMD Athlon(tm) 64 X2 Dual Core Processor 4600+ x2. Also it works for the patchbot(s) running x86_64 architectures. This might also work now since I think we've upgraded cython between now and the last time this was tested... So I'm going to set this back to positive review.",
    "created_at": "2013-12-09T02:37:28Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182852",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Hmm... this works for me with `sage-5.13.beta2` on Ubuntu 12.04 LTS, 32-bit with a AMD Athlon(tm) 64 X2 Dual Core Processor 4600+ x2. Also it works for the patchbot(s) running x86_64 architectures. This might also work now since I think we've upgraded cython between now and the last time this was tested... So I'm going to set this back to positive review.



---

archive/issue_events_129354.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-12-09T02:37:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129354"
}
```



---

archive/issue_events_129355.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-12-09T02:37:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129355"
}
```



---

archive/issue_events_129356.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-12-10T08:36:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129356"
}
```



---

archive/issue_events_129357.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-12-10T08:36:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129357"
}
```



---

archive/issue_comments_182853.json:
```json
{
    "body": "<a id='comment:8'></a>\nOn the buildbot machine `redhawk` (Ubuntu 10.04 x86_64):\n\n```\nsage -t --long devel/sage/sage/symbolic/ring.pyx\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 317, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t = SR._force_pyobject((1, 2, x, x+1, x+2)); t\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[2]>\", line 1, in <module>\n        t = SR._force_pyobject((Integer(1), Integer(2), x, x+Integer(1), x+Integer(2))); t\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 319, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t.subs(x = 2*x^2)\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[3]>\", line 1, in <module>\n        t.subs(x = Integer(2)*x**Integer(2))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 328, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t = SR._force_pyobject([1, 2, x, x+1, x+2]); t\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[6]>\", line 1, in <module>\n        t = SR._force_pyobject([Integer(1), Integer(2), x, x+Integer(1), x+Integer(2)]); t\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 330, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t.subs(x = 2*x^2)\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[7]>\", line 1, in <module>\n        t.subs(x = Integer(2)*x**Integer(2))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 332, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    SR._force_pyobject((QQ, RR, CC))\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[8]>\", line 1, in <module>\n        SR._force_pyobject((QQ, RR, CC))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 334, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t = SR._force_pyobject((QQ, (x, x + 1, x + 2), CC)); t\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[9]>\", line 1, in <module>\n        t = SR._force_pyobject((QQ, (x, x + Integer(1), x + Integer(2)), CC)); t\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 336, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t.subs(x=x^2)\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[10]>\", line 1, in <module>\n        t.subs(x=x**Integer(2))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 343, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[12]>\", line 1, in <module>\n        t\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\nFile \"devel/sage/sage/symbolic/ring.pyx\", line 346, in sage.symbolic.ring.SymbolicRing._force_pyobject\nFailed example:\n    t.subs(x=x^2)\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 479, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 838, in execute\n        exec compiled in globs\n      File \"<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[13]>\", line 1, in <module>\n        t.subs(x=x**Integer(2))\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py\", line 451, in __call__\n        self.oldhook(obj)\n      File \"sage_object.pyx\", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)\n      File \"expression.pyx\", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)\n      File \"ring.pyx\", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)\n    TypeError: std::bad_cast\n**********************************************************************\n```",
    "created_at": "2013-12-10T08:36:50Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182853",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
On the buildbot machine `redhawk` (Ubuntu 10.04 x86_64):

```
sage -t --long devel/sage/sage/symbolic/ring.pyx
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 317, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t = SR._force_pyobject((1, 2, x, x+1, x+2)); t
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[2]>", line 1, in <module>
        t = SR._force_pyobject((Integer(1), Integer(2), x, x+Integer(1), x+Integer(2))); t
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 319, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t.subs(x = 2*x^2)
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[3]>", line 1, in <module>
        t.subs(x = Integer(2)*x**Integer(2))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 328, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t = SR._force_pyobject([1, 2, x, x+1, x+2]); t
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[6]>", line 1, in <module>
        t = SR._force_pyobject([Integer(1), Integer(2), x, x+Integer(1), x+Integer(2)]); t
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 330, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t.subs(x = 2*x^2)
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[7]>", line 1, in <module>
        t.subs(x = Integer(2)*x**Integer(2))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 332, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    SR._force_pyobject((QQ, RR, CC))
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[8]>", line 1, in <module>
        SR._force_pyobject((QQ, RR, CC))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 334, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t = SR._force_pyobject((QQ, (x, x + 1, x + 2), CC)); t
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[9]>", line 1, in <module>
        t = SR._force_pyobject((QQ, (x, x + Integer(1), x + Integer(2)), CC)); t
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 336, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t.subs(x=x^2)
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[10]>", line 1, in <module>
        t.subs(x=x**Integer(2))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 343, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[12]>", line 1, in <module>
        t
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
File "devel/sage/sage/symbolic/ring.pyx", line 346, in sage.symbolic.ring.SymbolicRing._force_pyobject
Failed example:
    t.subs(x=x^2)
Exception raised:
    Traceback (most recent call last):
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 479, in _run
        self.execute(example, compiled, test.globs)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 838, in execute
        exec compiled in globs
      File "<doctest sage.symbolic.ring.SymbolicRing._force_pyobject[13]>", line 1, in <module>
        t.subs(x=x**Integer(2))
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "/scratch/buildbot/sage/redhawk-1/redhawk_full/build/sage-5.13.rc0/local/lib/python2.7/site-packages/sage/misc/displayhook.py", line 451, in __call__
        self.oldhook(obj)
      File "sage_object.pyx", line 154, in sage.structure.sage_object.SageObject.__repr__ (sage/structure/sage_object.c:1921)
      File "expression.pyx", line 521, in sage.symbolic.expression.Expression._repr_ (sage/symbolic/expression.cpp:4629)
      File "ring.pyx", line 666, in sage.symbolic.ring.SymbolicRing._repr_element_ (sage/symbolic/ring.cpp:7670)
    TypeError: std::bad_cast
**********************************************************************
```



---

archive/issue_comments_182854.json:
```json
{
    "body": "**Branch:** [t/14780/python_tuples_in_SR](https://github.com/sagemath/sagetrac-mirror/tree/t/14780/python_tuples_in_SR)",
    "created_at": "2013-12-22T22:01:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182854",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [t/14780/python_tuples_in_SR](https://github.com/sagemath/sagetrac-mirror/tree/t/14780/python_tuples_in_SR)



---

archive/issue_comments_182855.json:
```json
{
    "body": "**Changing branch** from \"[t/14780/python_tuples_in_SR](https://github.com/sagemath/sagetrac-mirror/tree/t/14780/python_tuples_in_SR)\" to \"[u/vbraun/python_tuples_in_SR](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_tuples_in_SR)\".",
    "created_at": "2013-12-22T22:02:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182855",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[t/14780/python_tuples_in_SR](https://github.com/sagemath/sagetrac-mirror/tree/t/14780/python_tuples_in_SR)" to "[u/vbraun/python_tuples_in_SR](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_tuples_in_SR)".



---

archive/issue_comments_182856.json:
```json
{
    "body": "<a id='comment:10'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6aa8ff\">d6aa8ff</a></td><td><code>Allow embedding tuples in SR.</code></td></tr></table>\n",
    "created_at": "2013-12-22T22:02:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182856",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6aa8ff">d6aa8ff</a></td><td><code>Allow embedding tuples in SR.</code></td></tr></table>




---

archive/issue_comments_182857.json:
```json
{
    "body": "**Commit:** [d6aa8ff7d1381db12a46e38cb9528127623ab346](https://github.com/sagemath/sagetrac-mirror/commit/d6aa8ff7d1381db12a46e38cb9528127623ab346)",
    "created_at": "2013-12-22T22:02:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182857",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [d6aa8ff7d1381db12a46e38cb9528127623ab346](https://github.com/sagemath/sagetrac-mirror/commit/d6aa8ff7d1381db12a46e38cb9528127623ab346)



---

archive/issue_comments_182858.json:
```json
{
    "body": "<a id='comment:11'></a>\nBacktrace (with gdb \"catch throw\"):\n\n```\n(gdb) bt\n#0  0x00007ffff3c17dc0 in __cxa_throw () from /usr/lib/libstdc++.so.6\n#1  0x00007ffff3c16ba2 in __cxa_bad_cast () from /usr/lib/libstdc++.so.6\n#2  0x00007fffcdecb9fc in GiNaC::print_memfun_handler<GiNaC::container<std::vector>, GiNaC::print_context>::operator()(GiNaC::basic const&, GiNaC::print_context const&, unsigned int) const ()\n   from /home/vbraun/Sage/git/local/lib/libpynac.so.0\n#3  0x00007fffcde90928 in GiNaC::print_functor::operator()(GiNaC::basic const&, GiNaC::print_context const&, unsigned int) const () from /home/vbraun/Sage/git/local/lib/libpynac.so.0\n#4  0x00007fffcde8cb92 in GiNaC::basic::print_dispatch(GiNaC::class_info<GiNaC::registered_class_options> const&, GiNaC::print_context const&, unsigned int) const () from /home/vbraun/Sage/git/local/lib/libpynac.so.0\n#5  0x00007fffcde8c756 in GiNaC::basic::print(GiNaC::print_context const&, unsigned int) const ()\n   from /home/vbraun/Sage/git/local/lib/libpynac.so.0\n#6  0x00007fffcdebc2e9 in GiNaC::ex::print(GiNaC::print_context const&, unsigned int) const ()\n   from /home/vbraun/Sage/git/local/lib/libpynac.so.0\n#7  0x00007fffcdf9ea66 in GiNaC::operator<<(std::ostream&, GiNaC::ex const&) ()\n   from /home/vbraun/Sage/git/local/lib/libpynac.so.0\n#8  0x00007fffcd654e9a in _to_PyString<GiNaC::ex> (x=<optimized out>)\n    at /home/vbraun/Sage/git/local/include/csage/ccobject.h:105\n```",
    "created_at": "2013-12-22T22:27:48Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182858",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
Backtrace (with gdb "catch throw"):

```
(gdb) bt
#0  0x00007ffff3c17dc0 in __cxa_throw () from /usr/lib/libstdc++.so.6
#1  0x00007ffff3c16ba2 in __cxa_bad_cast () from /usr/lib/libstdc++.so.6
#2  0x00007fffcdecb9fc in GiNaC::print_memfun_handler<GiNaC::container<std::vector>, GiNaC::print_context>::operator()(GiNaC::basic const&, GiNaC::print_context const&, unsigned int) const ()
   from /home/vbraun/Sage/git/local/lib/libpynac.so.0
#3  0x00007fffcde90928 in GiNaC::print_functor::operator()(GiNaC::basic const&, GiNaC::print_context const&, unsigned int) const () from /home/vbraun/Sage/git/local/lib/libpynac.so.0
#4  0x00007fffcde8cb92 in GiNaC::basic::print_dispatch(GiNaC::class_info<GiNaC::registered_class_options> const&, GiNaC::print_context const&, unsigned int) const () from /home/vbraun/Sage/git/local/lib/libpynac.so.0
#5  0x00007fffcde8c756 in GiNaC::basic::print(GiNaC::print_context const&, unsigned int) const ()
   from /home/vbraun/Sage/git/local/lib/libpynac.so.0
#6  0x00007fffcdebc2e9 in GiNaC::ex::print(GiNaC::print_context const&, unsigned int) const ()
   from /home/vbraun/Sage/git/local/lib/libpynac.so.0
#7  0x00007fffcdf9ea66 in GiNaC::operator<<(std::ostream&, GiNaC::ex const&) ()
   from /home/vbraun/Sage/git/local/lib/libpynac.so.0
#8  0x00007fffcd654e9a in _to_PyString<GiNaC::ex> (x=<optimized out>)
    at /home/vbraun/Sage/git/local/include/csage/ccobject.h:105
```



---

archive/issue_comments_182859.json:
```json
{
    "body": "<a id='comment:12'></a>\nI suspect that this is a case of http://gcc.gnu.org/faq.html#dso\n\nYou can't (without wonky workarounds) use RTTI across shared libraries. We instantiate GiNaC templates in Sage, and `std::dynamic_cast` does not consider those the same as instantiations in the pynac shared library. Toughts?",
    "created_at": "2013-12-23T12:40:51Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182859",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>
I suspect that this is a case of http://gcc.gnu.org/faq.html#dso

You can't (without wonky workarounds) use RTTI across shared libraries. We instantiate GiNaC templates in Sage, and `std::dynamic_cast` does not consider those the same as instantiations in the pynac shared library. Toughts?



---

archive/issue_comments_182860.json:
```json
{
    "body": "<a id='comment:13'></a>\nPossibly, but why does it only seem to fail on that specific machine? I would think if that really were the case, then it should fail across different machines, or at least different versions of Ubuntu...",
    "created_at": "2013-12-23T18:12:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182860",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
Possibly, but why does it only seem to fail on that specific machine? I would think if that really were the case, then it should fail across different machines, or at least different versions of Ubuntu...



---

archive/issue_comments_182861.json:
```json
{
    "body": "<a id='comment:14'></a>\nSome compiler/linker combination may leave unused instantiations around, or instantiate too much. Its possible to only be triggered on some machines...",
    "created_at": "2013-12-23T18:43:06Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182861",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>
Some compiler/linker combination may leave unused instantiations around, or instantiate too much. Its possible to only be triggered on some machines...



---

archive/issue_events_129358.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129358"
}
```



---

archive/issue_events_129359.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129359"
}
```



---

archive/issue_comments_182862.json:
```json
{
    "body": "<a id='comment:16'></a>\nAll tests pass on 6.2.base2 on an AMD Phenom II X6 1055T with OpenSuSE. Does the problem on the one machine still persist?",
    "created_at": "2014-02-21T17:57:53Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182862",
    "user": "https://github.com/rwst"
}
```

<a id='comment:16'></a>
All tests pass on 6.2.base2 on an AMD Phenom II X6 1055T with OpenSuSE. Does the problem on the one machine still persist?



---

archive/issue_comments_182863.json:
```json
{
    "body": "<a id='comment:17'></a>\nAfaik nothing changed, so it'll still fail on Sparc. If you want to help we can get you an account. Or start a post on sage-devel to remove Sparc from the list of first-class supported platforms. IMHO it would be way more useful to spend time on ARM and POWER7 than on a long-dead platform that is plagued by linker bugs.",
    "created_at": "2014-02-21T22:42:23Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182863",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'></a>
Afaik nothing changed, so it'll still fail on Sparc. If you want to help we can get you an account. Or start a post on sage-devel to remove Sparc from the list of first-class supported platforms. IMHO it would be way more useful to spend time on ARM and POWER7 than on a long-dead platform that is plagued by linker bugs.



---

archive/issue_comments_182864.json:
```json
{
    "body": "<a id='comment:18'></a>\nSo let's wait for answers to https://groups.google.com/forum/#!topic/sage-devel/8fkkRn4JJrw",
    "created_at": "2014-02-22T09:07:28Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182864",
    "user": "https://github.com/rwst"
}
```

<a id='comment:18'></a>
So let's wait for answers to https://groups.google.com/forum/#!topic/sage-devel/8fkkRn4JJrw



---

archive/issue_comments_182865.json:
```json
{
    "body": "<a id='comment:19'></a>\nFYI I have no bad_cast issue on a sparc/Solaris machine (UST2+) using FSF GCC 4.7.3 and the Sun linker.\n\n```\n$ uname -a\nSunOS blabliblu 5.10 Generic_139555-08 sun4v sparc SUNW,T5140\n$ gcc -v\nUtilisation des specs internes.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/infres/post/flori/local32+i1/libexec/gcc/sparc-sun-solaris2.10/4.7.3/lto-wrapper\nTarget: sparc-sun-solaris2.10\nConfigur\u00e9 avec: ../gcc-4.7.3/configure --prefix=/infres/post/flori/local32+i1/ --with-local-prefix=/infres/post/flori/local32+i1/ --with-gmp=/infres/post/flori/local32+i1/ --with-mpfr=/infres/post/flori/local32+i1/ --with-mpc=/infres/post/flori/local32+i1/ --with-as=/usr/ccs/bin/as --with-ld=/usr/ccs/bin/ld --program-suffix=-4.7.3 --enable-languages=c,c++,fortran,lto\nMod\u00e8le de thread: posix\ngcc version 4.7.3 (GCC)\n$ ld -V\nld: Software Generation Utilities - Solaris Link Editors: 5.10-1.493\n$ \n```\n\nBut as I'm looking at this ticket, I see `redhawk` is mentioned as the problematic machine and this isn't a sparc machine...\n\n```\njpflori@redhawk:~$ uname -a\nLinux redhawk 2.6.32-44-server #98-Ubuntu SMP Mon Sep 24 17:41:33 UTC 2012 x86_64 GNU/Linux\n```\nSo was the problem occuring on another machine? (mark?)",
    "created_at": "2014-02-25T09:34:14Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182865",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:19'></a>
FYI I have no bad_cast issue on a sparc/Solaris machine (UST2+) using FSF GCC 4.7.3 and the Sun linker.

```
$ uname -a
SunOS blabliblu 5.10 Generic_139555-08 sun4v sparc SUNW,T5140
$ gcc -v
Utilisation des specs internes.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/infres/post/flori/local32+i1/libexec/gcc/sparc-sun-solaris2.10/4.7.3/lto-wrapper
Target: sparc-sun-solaris2.10
Configur avec: ../gcc-4.7.3/configure --prefix=/infres/post/flori/local32+i1/ --with-local-prefix=/infres/post/flori/local32+i1/ --with-gmp=/infres/post/flori/local32+i1/ --with-mpfr=/infres/post/flori/local32+i1/ --with-mpc=/infres/post/flori/local32+i1/ --with-as=/usr/ccs/bin/as --with-ld=/usr/ccs/bin/ld --program-suffix=-4.7.3 --enable-languages=c,c++,fortran,lto
Modle de thread: posix
gcc version 4.7.3 (GCC)
$ ld -V
ld: Software Generation Utilities - Solaris Link Editors: 5.10-1.493
$ 
```

But as I'm looking at this ticket, I see `redhawk` is mentioned as the problematic machine and this isn't a sparc machine...

```
jpflori@redhawk:~$ uname -a
Linux redhawk 2.6.32-44-server #98-Ubuntu SMP Mon Sep 24 17:41:33 UTC 2012 x86_64 GNU/Linux
```
So was the problem occuring on another machine? (mark?)



---

archive/issue_comments_182866.json:
```json
{
    "body": "<a id='comment:20'></a>\nSo, rereading this, it was *not on a Sparc machine but a specific Ubuntu one. Can someone test this on a new Ubuntu installation? If it works then even if another specific Ubuntu version fails there should not be anything holding up this ticket any longer.",
    "created_at": "2014-03-06T15:31:29Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182866",
    "user": "https://github.com/rwst"
}
```

<a id='comment:20'></a>
So, rereading this, it was *not on a Sparc machine but a specific Ubuntu one. Can someone test this on a new Ubuntu installation? If it works then even if another specific Ubuntu version fails there should not be anything holding up this ticket any longer.



---

archive/issue_comments_182867.json:
```json
{
    "body": "<a id='comment:21'></a>\nFrom [comment:8](#comment%3A8), the Ubuntu version is the LTS one from 4 years ago.\nThere's been one two years ago and will be a new one next month, so I would be in favor of ignoring the redhawk problem (and maybe update the system there to 12.04, or even 14.04 when its out).",
    "created_at": "2014-03-06T15:52:37Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182867",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
From [comment:8](#comment%3A8), the Ubuntu version is the LTS one from 4 years ago.
There's been one two years ago and will be a new one next month, so I would be in favor of ignoring the redhawk problem (and maybe update the system there to 12.04, or even 14.04 when its out).



---

archive/issue_comments_182868.json:
```json
{
    "body": "<a id='comment:22'></a>\nJust for what it's worth, could you try adding\n\n```\nimport ctypes   \nflags = sys.getdlopenflags()\nsys.setdlopenflags(flags | ctypes.RTLD_GLOBAL)\n```\nto `src/sage/all.py` and retest on `redhawk`?",
    "created_at": "2014-03-07T14:53:10Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182868",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:22'></a>
Just for what it's worth, could you try adding

```
import ctypes   
flags = sys.getdlopenflags()
sys.setdlopenflags(flags | ctypes.RTLD_GLOBAL)
```
to `src/sage/all.py` and retest on `redhawk`?



---

archive/issue_comments_182869.json:
```json
{
    "body": "<a id='comment:23'></a>\nSetting `RTLD_GLOBAL` fixes the `std::bad_cast` on redhawk, interestingly. But it also leads to segfaults elsewhere...",
    "created_at": "2014-03-11T15:40:27Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182869",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>
Setting `RTLD_GLOBAL` fixes the `std::bad_cast` on redhawk, interestingly. But it also leads to segfaults elsewhere...



---

archive/issue_comments_182870.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [vbraun](#comment%3A23):\n> Setting `RTLD_GLOBAL` fixes the `std::bad_cast` on redhawk, interestingly. But it also leads to segfaults elsewhere...\n\nYeah, I guess it could have been expected and that it is not a completely random choice that Python does not set it by default as it might expect to load a bunch of libraries and get symbols conflicts.\nThough the fact that it is set by default on Darwin does not really point in that direction...\n\nWhat about linking sage/symbolic/ring.pyx/so with libpynac.so? that is modify module_list.py to achieve that.",
    "created_at": "2014-03-11T15:46:40Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182870",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:24'></a>
Replying to [vbraun](#comment%3A23):
> Setting `RTLD_GLOBAL` fixes the `std::bad_cast` on redhawk, interestingly. But it also leads to segfaults elsewhere...

Yeah, I guess it could have been expected and that it is not a completely random choice that Python does not set it by default as it might expect to load a bunch of libraries and get symbols conflicts.
Though the fact that it is set by default on Darwin does not really point in that direction...

What about linking sage/symbolic/ring.pyx/so with libpynac.so? that is modify module_list.py to achieve that.



---

archive/issue_comments_182871.json:
```json
{
    "body": "<a id='comment:25'></a>\nBuilding with `SAGE_INSTALL_GCC` seems to work... do we have a simple way to shitlist certain compilers by now?",
    "created_at": "2014-03-11T22:59:53Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182871",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>
Building with `SAGE_INSTALL_GCC` seems to work... do we have a simple way to shitlist certain compilers by now?



---

archive/issue_comments_182872.json:
```json
{
    "body": "<a id='comment:26'></a>\nI think so, look into the magic which decides when to automatically install GCC in !`build/install`.\n\nSome combinations are already \"forbidden\".",
    "created_at": "2014-03-11T23:07:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182872",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:26'></a>
I think so, look into the magic which decides when to automatically install GCC in !`build/install`.

Some combinations are already "forbidden".



---

archive/issue_comments_182873.json:
```json
{
    "body": "<a id='comment:27'></a>\nRebuild from scratch on redhawk and now all tests pass even without `SAGE_INSTALL_GCC` (??)",
    "created_at": "2014-03-12T07:30:55Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182873",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>
Rebuild from scratch on redhawk and now all tests pass even without `SAGE_INSTALL_GCC` (??)



---

archive/issue_comments_182874.json:
```json
{
    "body": "<a id='comment:28'></a>\nRecompiled, doctests fail grrr...",
    "created_at": "2014-03-13T02:38:06Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182874",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
Recompiled, doctests fail grrr...



---

archive/issue_comments_182875.json:
```json
{
    "body": "<a id='comment:29'></a>\nDid you try the linking trick?\nIt seems I have access to redhawk, I'll give it a shot anyway.",
    "created_at": "2014-03-14T10:47:33Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182875",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:29'></a>
Did you try the linking trick?
It seems I have access to redhawk, I'll give it a shot anyway.



---

archive/issue_comments_182876.json:
```json
{
    "body": "<a id='comment:30'></a>\nDoesn't change anything.\nAnd trying to link libcsage.so with pynac makes sage crash at startup.",
    "created_at": "2014-03-14T14:56:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182876",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:30'></a>
Doesn't change anything.
And trying to link libcsage.so with pynac makes sage crash at startup.



---

archive/issue_comments_182877.json:
```json
{
    "body": "<a id='comment:31'></a>\nIt does already link against libpynac due to the magic\n\n```\n# distutils: libraries = pynac gmp\n```\nin `ginac.pxd`",
    "created_at": "2014-03-15T03:11:32Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182877",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>
It does already link against libpynac due to the magic

```
# distutils: libraries = pynac gmp
```
in `ginac.pxd`



---

archive/issue_comments_182878.json:
```json
{
    "body": "<a id='comment:32'></a>\nI'm playing around with marking the pynac templates external in the Sage library (C++11 feature, but unofficial in gcc for a while now). This is one way to avoid the clash. The problems seems that, on redhawk, `GiNaC::exprseq` a.k.a. `GiNaC::container<std::vector>` is not completely instantiated inside `libpynac.so`:\n\n```\nvbraun@redhawk:~/test/pynac/sage$ readelf -sW local/lib/libpynac.so  | grep _ZN5GiNaC9containerISt6vectorEC.Ev\n  2014: 0000000000169620   162 FUNC    WEAK   DEFAULT   12 _ZN5GiNaC9containerISt6vectorEC2Ev\n  3594: 0000000000169620   162 FUNC    WEAK   DEFAULT   12 _ZN5GiNaC9containerISt6vectorEC2Ev\n```\nvs. on my laptop:\n\n```\n$ readelf -sW local/lib/libpynac.so  | grep _ZN5GiNaC9containerISt6vectorEC.Ev\n   468: 000000000017c46e   147 FUNC    WEAK   DEFAULT   11 _ZN5GiNaC9containerISt6vectorEC2Ev\n  7994: 000000000017c46e   147 FUNC    WEAK   DEFAULT   11 _ZN5GiNaC9containerISt6vectorEC1Ev\n  4012: 000000000017c46e   147 FUNC    WEAK   DEFAULT   11 _ZN5GiNaC9containerISt6vectorEC2Ev\n  5629: 000000000017c46e   147 FUNC    WEAK   DEFAULT   11 _ZN5GiNaC9containerISt6vectorEC1Ev\n```\nIf you know gcc name mangling by heart (and I don't blame you if you don't) then the `C1` is the full constructor while `C2` is only the base object constructor. If you use `c++filt` then that distinction is not shown (!).  \n\nSo after marking that template external in `ginac_wrap.h`, Sage still works on my lapop but fails on redhawk since the full constructor is never instantiated. I think we should just push explicit instantiation of all necessary templates into pynac, this will probably fix the bug here.",
    "created_at": "2014-03-15T17:37:51Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182878",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>
I'm playing around with marking the pynac templates external in the Sage library (C++11 feature, but unofficial in gcc for a while now). This is one way to avoid the clash. The problems seems that, on redhawk, `GiNaC::exprseq` a.k.a. `GiNaC::container<std::vector>` is not completely instantiated inside `libpynac.so`:

```
vbraun@redhawk:~/test/pynac/sage$ readelf -sW local/lib/libpynac.so  | grep _ZN5GiNaC9containerISt6vectorEC.Ev
  2014: 0000000000169620   162 FUNC    WEAK   DEFAULT   12 _ZN5GiNaC9containerISt6vectorEC2Ev
  3594: 0000000000169620   162 FUNC    WEAK   DEFAULT   12 _ZN5GiNaC9containerISt6vectorEC2Ev
```
vs. on my laptop:

```
$ readelf -sW local/lib/libpynac.so  | grep _ZN5GiNaC9containerISt6vectorEC.Ev
   468: 000000000017c46e   147 FUNC    WEAK   DEFAULT   11 _ZN5GiNaC9containerISt6vectorEC2Ev
  7994: 000000000017c46e   147 FUNC    WEAK   DEFAULT   11 _ZN5GiNaC9containerISt6vectorEC1Ev
  4012: 000000000017c46e   147 FUNC    WEAK   DEFAULT   11 _ZN5GiNaC9containerISt6vectorEC2Ev
  5629: 000000000017c46e   147 FUNC    WEAK   DEFAULT   11 _ZN5GiNaC9containerISt6vectorEC1Ev
```
If you know gcc name mangling by heart (and I don't blame you if you don't) then the `C1` is the full constructor while `C2` is only the base object constructor. If you use `c++filt` then that distinction is not shown (!).  

So after marking that template external in `ginac_wrap.h`, Sage still works on my lapop but fails on redhawk since the full constructor is never instantiated. I think we should just push explicit instantiation of all necessary templates into pynac, this will probably fix the bug here.



---

archive/issue_comments_182879.json:
```json
{
    "body": "<a id='comment:33'></a>\nImplemented in https://bitbucket.org/vbraun/pynac/commits/af5e2c913c4399459a955b7604547941a36df88e\n\nThis does fix the issue on redhawk...",
    "created_at": "2014-03-16T04:49:41Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182879",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>
Implemented in https://bitbucket.org/vbraun/pynac/commits/af5e2c913c4399459a955b7604547941a36df88e

This does fix the issue on redhawk...



---

archive/issue_comments_182880.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6d2bcb74df1a859fc572dcf00de09c8d0844345\">e6d2bcb</a></td><td><code>Merge remote-tracking branch 'trac/develop' into t/14780/python_tuples_in_SR</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd09d9713ff39eecae117d2591ced0c5ef3e5791\">fd09d97</a></td><td><code>declare the pynac templates extern</code></td></tr></table>\n",
    "created_at": "2014-03-17T21:28:58Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6d2bcb74df1a859fc572dcf00de09c8d0844345">e6d2bcb</a></td><td><code>Merge remote-tracking branch 'trac/develop' into t/14780/python_tuples_in_SR</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd09d9713ff39eecae117d2591ced0c5ef3e5791">fd09d97</a></td><td><code>declare the pynac templates extern</code></td></tr></table>




---

archive/issue_comments_182881.json:
```json
{
    "body": "**Changing commit** from \"[d6aa8ff7d1381db12a46e38cb9528127623ab346](https://github.com/sagemath/sagetrac-mirror/commit/d6aa8ff7d1381db12a46e38cb9528127623ab346)\" to \"[fd09d9713ff39eecae117d2591ced0c5ef3e5791](https://github.com/sagemath/sagetrac-mirror/commit/fd09d9713ff39eecae117d2591ced0c5ef3e5791)\".",
    "created_at": "2014-03-17T21:28:58Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182881",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d6aa8ff7d1381db12a46e38cb9528127623ab346](https://github.com/sagemath/sagetrac-mirror/commit/d6aa8ff7d1381db12a46e38cb9528127623ab346)" to "[fd09d9713ff39eecae117d2591ced0c5ef3e5791](https://github.com/sagemath/sagetrac-mirror/commit/fd09d9713ff39eecae117d2591ced0c5ef3e5791)".



---

archive/issue_comments_182882.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d07667b860634f438007d427353e2833c7ec9af\">0d07667</a></td><td><code>updated pynac tarball</code></td></tr></table>\n",
    "created_at": "2014-03-19T05:27:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d07667b860634f438007d427353e2833c7ec9af">0d07667</a></td><td><code>updated pynac tarball</code></td></tr></table>




---

archive/issue_comments_182883.json:
```json
{
    "body": "**Changing commit** from \"[fd09d9713ff39eecae117d2591ced0c5ef3e5791](https://github.com/sagemath/sagetrac-mirror/commit/fd09d9713ff39eecae117d2591ced0c5ef3e5791)\" to \"[0d07667b860634f438007d427353e2833c7ec9af](https://github.com/sagemath/sagetrac-mirror/commit/0d07667b860634f438007d427353e2833c7ec9af)\".",
    "created_at": "2014-03-19T05:27:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182883",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fd09d9713ff39eecae117d2591ced0c5ef3e5791](https://github.com/sagemath/sagetrac-mirror/commit/fd09d9713ff39eecae117d2591ced0c5ef3e5791)" to "[0d07667b860634f438007d427353e2833c7ec9af](https://github.com/sagemath/sagetrac-mirror/commit/0d07667b860634f438007d427353e2833c7ec9af)".



---

archive/issue_comments_182884.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,5 +12,5 @@\n x\n ```\n  \n-Apply: [attachment:trac_14780-embed_tuples_in_SR.patch](https://github.com/sagemath/sage/files/ticket14780/trac_14780-embed_tuples_in_SR.patch)\n+Updated tarball http://boxen.math.washington.edu/home/vbraun/upstream/pynac-4c798d4cb4b5.tar.bz2\n \n``````\n",
    "created_at": "2014-03-19T05:28:47Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182884",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,5 +12,5 @@
 x
 ```
  
-Apply: [attachment:trac_14780-embed_tuples_in_SR.patch](https://github.com/sagemath/sage/files/ticket14780/trac_14780-embed_tuples_in_SR.patch)
+Updated tarball http://boxen.math.washington.edu/home/vbraun/upstream/pynac-4c798d4cb4b5.tar.bz2
 
``````




---

archive/issue_comments_182885.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1cf3fc54366d600d84d6a9648eced5034ea10bc\">c1cf3fc</a></td><td><code>updated to pynac 0.3.2</code></td></tr></table>\n",
    "created_at": "2014-03-20T14:03:42Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182885",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1cf3fc54366d600d84d6a9648eced5034ea10bc">c1cf3fc</a></td><td><code>updated to pynac 0.3.2</code></td></tr></table>




---

archive/issue_comments_182886.json:
```json
{
    "body": "**Changing commit** from \"[0d07667b860634f438007d427353e2833c7ec9af](https://github.com/sagemath/sagetrac-mirror/commit/0d07667b860634f438007d427353e2833c7ec9af)\" to \"[c1cf3fc54366d600d84d6a9648eced5034ea10bc](https://github.com/sagemath/sagetrac-mirror/commit/c1cf3fc54366d600d84d6a9648eced5034ea10bc)\".",
    "created_at": "2014-03-20T14:03:42Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182886",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0d07667b860634f438007d427353e2833c7ec9af](https://github.com/sagemath/sagetrac-mirror/commit/0d07667b860634f438007d427353e2833c7ec9af)" to "[c1cf3fc54366d600d84d6a9648eced5034ea10bc](https://github.com/sagemath/sagetrac-mirror/commit/c1cf3fc54366d600d84d6a9648eced5034ea10bc)".



---

archive/issue_comments_182887.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,5 +12,7 @@\n x\n ```\n  \n-Updated tarball http://boxen.math.washington.edu/home/vbraun/upstream/pynac-4c798d4cb4b5.tar.bz2\n+Includes pynac 0.3.2 update for explicit template instantiatitons\n \n+http://boxen.math.washington.edu/home/vbraun/upstream/pynac-0.3.2.tar.bz2\n+\n``````\n",
    "created_at": "2014-03-20T14:07:54Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182887",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,5 +12,7 @@
 x
 ```
  
-Updated tarball http://boxen.math.washington.edu/home/vbraun/upstream/pynac-4c798d4cb4b5.tar.bz2
+Includes pynac 0.3.2 update for explicit template instantiatitons
 
+http://boxen.math.washington.edu/home/vbraun/upstream/pynac-0.3.2.tar.bz2
+
``````




---

archive/issue_events_129360.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-20T14:08:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129360"
}
```



---

archive/issue_events_129361.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-20T14:08:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129361"
}
```



---

archive/issue_comments_182888.json:
```json
{
    "body": "<a id='comment:40'></a>\nJean-Pierre, are you still reviewing this ticket?",
    "created_at": "2014-03-25T15:42:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182888",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'></a>
Jean-Pierre, are you still reviewing this ticket?



---

archive/issue_comments_182889.json:
```json
{
    "body": "<a id='comment:41'></a>\nUh... I wasn't even aware there was a 0.3.2 version of pynac!?",
    "created_at": "2014-03-28T16:44:23Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182889",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:41'></a>
Uh... I wasn't even aware there was a 0.3.2 version of pynac!?



---

archive/issue_comments_182890.json:
```json
{
    "body": "<a id='comment:42'></a>\nWell now there is ;-)  See also pynac-devel...",
    "created_at": "2014-03-28T17:30:40Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182890",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:42'></a>
Well now there is ;-)  See also pynac-devel...



---

archive/issue_comments_182891.json:
```json
{
    "body": "<a id='comment:43'></a>\nHow is the LT_VERSION_INFO problem?",
    "created_at": "2014-03-28T18:37:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182891",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:43'></a>
How is the LT_VERSION_INFO problem?



---

archive/issue_comments_182892.json:
```json
{
    "body": "<a id='comment:44'></a>\nI don't know what you are talking about. I'm not aware of any libtool versioning problem, but if there is then it has nothing to do with this ticket.",
    "created_at": "2014-03-28T18:46:55Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182892",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'></a>
I don't know what you are talking about. I'm not aware of any libtool versioning problem, but if there is then it has nothing to do with this ticket.



---

archive/issue_comments_182893.json:
```json
{
    "body": "<a id='comment:45'></a>\nI was away from the internet for one week.\nI'll review that at worst on monday.",
    "created_at": "2014-03-29T06:12:59Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182893",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:45'></a>
I was away from the internet for one week.
I'll review that at worst on monday.



---

archive/issue_comments_182894.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [jpflori](#comment%3A45):\n> I was away from the internet for one week.\n\nOMG thats terrible! How did you survive? ;-)",
    "created_at": "2014-03-29T11:55:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182894",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:46'></a>
Replying to [jpflori](#comment%3A45):
> I was away from the internet for one week.

OMG thats terrible! How did you survive? ;-)



---

archive/issue_comments_182895.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [Snark](#comment%3A43):\n> How is the LT_VERSION_INFO problem?\n\nStill here I guess...\nSee last post in https://groups.google.com/d/msg/pynac-devel/nNiFSb1VyKw/F7RJso8RjvwJ",
    "created_at": "2014-03-30T14:04:01Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182895",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:47'></a>
Replying to [Snark](#comment%3A43):
> How is the LT_VERSION_INFO problem?

Still here I guess...
See last post in https://groups.google.com/d/msg/pynac-devel/nNiFSb1VyKw/F7RJso8RjvwJ



---

archive/issue_comments_182896.json:
```json
{
    "body": "<a id='comment:48'></a>\nI had a look at the changes in Sage and in Pynac and both look fine (though I cannot completely ensure that some dark magic use of C++ features could still break the templating stuff).\n\nIt also compiles fine and passes long tests on a ppc system.\n\nThe only change in my branch is a typo correction.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa7287f676a96f486af609ea36554820e0b3d7bc\">aa7287f</a></td><td><code>Correct typo in sage/symbolic/ring.pyx.</code></td></tr></table>\n",
    "created_at": "2014-03-31T12:17:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182896",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:48'></a>
I had a look at the changes in Sage and in Pynac and both look fine (though I cannot completely ensure that some dark magic use of C++ features could still break the templating stuff).

It also compiles fine and passes long tests on a ppc system.

The only change in my branch is a typo correction.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa7287f676a96f486af609ea36554820e0b3d7bc">aa7287f</a></td><td><code>Correct typo in sage/symbolic/ring.pyx.</code></td></tr></table>




---

archive/issue_comments_182897.json:
```json
{
    "body": "**Changing commit** from \"[c1cf3fc54366d600d84d6a9648eced5034ea10bc](https://github.com/sagemath/sagetrac-mirror/commit/c1cf3fc54366d600d84d6a9648eced5034ea10bc)\" to \"[aa7287f676a96f486af609ea36554820e0b3d7bc](https://github.com/sagemath/sagetrac-mirror/commit/aa7287f676a96f486af609ea36554820e0b3d7bc)\".",
    "created_at": "2014-03-31T12:17:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182897",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing commit** from "[c1cf3fc54366d600d84d6a9648eced5034ea10bc](https://github.com/sagemath/sagetrac-mirror/commit/c1cf3fc54366d600d84d6a9648eced5034ea10bc)" to "[aa7287f676a96f486af609ea36554820e0b3d7bc](https://github.com/sagemath/sagetrac-mirror/commit/aa7287f676a96f486af609ea36554820e0b3d7bc)".



---

archive/issue_comments_182898.json:
```json
{
    "body": "**Changing author** from \"Burcin Erocal\" to \"Burcin Erocal, Volker Braun\".",
    "created_at": "2014-03-31T12:17:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182898",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing author** from "Burcin Erocal" to "Burcin Erocal, Volker Braun".



---

archive/issue_events_129362.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-03-31T12:17:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129362"
}
```



---

archive/issue_events_129363.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-03-31T12:17:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129363"
}
```



---

archive/issue_comments_182899.json:
```json
{
    "body": "**Changing reviewer** from \"Volker Braun\" to \"Volker Braun, Jean-Pierre Flori\".",
    "created_at": "2014-03-31T12:17:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182899",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing reviewer** from "Volker Braun" to "Volker Braun, Jean-Pierre Flori".



---

archive/issue_comments_182900.json:
```json
{
    "body": "**Changing branch** from \"[u/vbraun/python_tuples_in_SR](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_tuples_in_SR)\" to \"[u/jpflori/ticket/14780](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/14780)\".",
    "created_at": "2014-03-31T12:17:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182900",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing branch** from "[u/vbraun/python_tuples_in_SR](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_tuples_in_SR)" to "[u/jpflori/ticket/14780](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/14780)".



---

archive/issue_events_129364.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-31T14:59:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129364"
}
```



---

archive/issue_events_129365.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3b73d1644f1b0cd0ad441c20b999d3e0b9c425d2",
    "created_at": "2014-03-31T14:59:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14780#event-129365"
}
```



---

archive/issue_comments_182901.json:
```json
{
    "body": "**Changing branch** from \"[u/jpflori/ticket/14780](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/14780)\" to \"[aa7287f676a96f486af609ea36554820e0b3d7bc](https://github.com/sagemath/sagetrac-mirror/commit/aa7287f676a96f486af609ea36554820e0b3d7bc)\".",
    "created_at": "2014-03-31T14:59:23Z",
    "issue": "https://github.com/sagemath/sage/issues/14780",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14780#issuecomment-182901",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jpflori/ticket/14780](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/14780)" to "[aa7287f676a96f486af609ea36554820e0b3d7bc](https://github.com/sagemath/sagetrac-mirror/commit/aa7287f676a96f486af609ea36554820e0b3d7bc)".
