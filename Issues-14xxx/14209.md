# Issue 14209: Extra assumption kept by Maxima

archive/issues_014005.json:
```json
{
    "assignees": [],
    "body": "From: https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/jIjYSSCPrrY\n\n```\nInitial symptom:\nsage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           \n2*log(2)\nsage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n```\n\nA closer look:\n\n```\nsage: from sage.interfaces.maxima_lib import sr_to_max\nsage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))\n<ECL: ((MTIMES) ((%LOG) 2) 2)>\nsage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n```\n\nDepends on #13973\nDepends on #13712\nDepends on #11984\nDepends on #15386\n\nAssignee: **@burcin**\n\nKeywords: **maxima ecl**\n\nBranch/Commit: **[999e21f](https://github.com/sagemath/sagetrac-mirror/commit/999e21f109dd9741693987a91728129955c50056)**\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nReviewer: **Travis Scrimshaw, Peter Bruin**\n\nAuthor: **Karl-Dieter Crisman**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14209_\n\n",
    "closed_at": "2014-06-02T12:54:38Z",
    "created_at": "2013-03-01T14:13:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Extra assumption kept by Maxima",
    "type": "issue",
    "updated_at": "2014-06-02T12:54:38Z",
    "url": "https://github.com/sagemath/sage/issues/14209",
    "user": "https://github.com/pipedream"
}
```
From: https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/jIjYSSCPrrY

```
Initial symptom:
sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           
2*log(2)
sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
```

A closer look:

```
sage: from sage.interfaces.maxima_lib import sr_to_max
sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))
<ECL: ((MTIMES) ((%LOG) 2) 2)>
sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
```

Depends on #13973
Depends on #13712
Depends on #11984
Depends on #15386

Assignee: **@burcin**

Keywords: **maxima ecl**

Branch/Commit: **[999e21f](https://github.com/sagemath/sagetrac-mirror/commit/999e21f109dd9741693987a91728129955c50056)**

Upstream: **Fixed upstream, in a later stable release.**

Reviewer: **Travis Scrimshaw, Peter Bruin**

Author: **Karl-Dieter Crisman**

_Issue created by migration from https://trac.sagemath.org/ticket/14209_





---

archive/issue_events_177079.json:
```json
{
    "actor": "https://github.com/pipedream",
    "created_at": "2013-03-01T14:13:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177079"
}
```



---

archive/issue_events_177080.json:
```json
{
    "actor": "https://github.com/pipedream",
    "created_at": "2013-03-01T14:13:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177080"
}
```



---

archive/issue_events_177081.json:
```json
{
    "actor": "https://github.com/pipedream",
    "created_at": "2013-03-01T14:13:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177081"
}
```



---

archive/issue_comments_171973.json:
```json
{
    "body": "Replying to [ticket:14209 pipedream]:\n> From: https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/jIjYSSCPrrY\n> \n> Initial symptom:\n> sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           \n> 2*log(2)\n> sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)\n> \n> ---\n> ValueError                                Traceback (most recent call last)\n> \n> \n> A closer look:\n> sage: from sage.interfaces.maxima_lib import sr_to_max\n> sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))\n> <ECL: ((MTIMES) ((%LOG) 2) 2)>\n> sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))\n> \n> ---\n> ValueError                                Traceback (most recent call last)\n\n>",
    "created_at": "2013-03-01T14:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171973",
    "user": "https://github.com/pipedream"
}
```

Replying to [ticket:14209 pipedream]:
> From: https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/jIjYSSCPrrY
> 
> Initial symptom:
> sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           
> 2*log(2)
> sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)
> 
> ---
> ValueError                                Traceback (most recent call last)
> 
> 
> A closer look:
> sage: from sage.interfaces.maxima_lib import sr_to_max
> sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))
> <ECL: ((MTIMES) ((%LOG) 2) 2)>
> sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))
> 
> ---
> ValueError                                Traceback (most recent call last)

>



---

archive/issue_comments_171974.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n From: https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/jIjYSSCPrrY\n \n+\"\"\"\n Initial symptom:\n sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           \n 2*log(2)\n@@ -7,9 +8,10 @@\n \n ---\n ValueError                                Traceback (most recent call last)\n-\n+\"\"\"\n \n A closer look:\n+\"\"\"\n sage: from sage.interfaces.maxima_lib import sr_to_max\n sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))\n <ECL: ((MTIMES) ((%LOG) 2) 2)>\n@@ -17,5 +19,5 @@\n \n ---\n ValueError                                Traceback (most recent call last)\n+\"\"\"\n \n-\n``````\n",
    "created_at": "2013-03-01T14:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171974",
    "user": "https://github.com/pipedream"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 From: https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/jIjYSSCPrrY
 
+"""
 Initial symptom:
 sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           
 2*log(2)
@@ -7,9 +8,10 @@
 
 ---
 ValueError                                Traceback (most recent call last)
-
+"""
 
 A closer look:
+"""
 sage: from sage.interfaces.maxima_lib import sr_to_max
 sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))
 <ECL: ((MTIMES) ((%LOG) 2) 2)>
@@ -17,5 +19,5 @@
 
 ---
 ValueError                                Traceback (most recent call last)
+"""
 
-
``````




---

archive/issue_events_177082.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-03-01T16:05:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "component: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177082"
}
```



---

archive/issue_comments_171975.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,23 +1,21 @@\n From: https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/jIjYSSCPrrY\n \n-\"\"\"\n+```\n Initial symptom:\n sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           \n 2*log(2)\n sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)\n-\n----\n+---------------------------------------------------------------------------\n ValueError                                Traceback (most recent call last)\n-\"\"\"\n+```\n \n A closer look:\n-\"\"\"\n+\n+```\n sage: from sage.interfaces.maxima_lib import sr_to_max\n sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))\n <ECL: ((MTIMES) ((%LOG) 2) 2)>\n sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))\n-\n----\n+---------------------------------------------------------------------------\n ValueError                                Traceback (most recent call last)\n-\"\"\"\n-\n+```\n``````\n",
    "created_at": "2013-03-01T16:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171975",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,23 +1,21 @@
 From: https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/jIjYSSCPrrY
 
-"""
+```
 Initial symptom:
 sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           
 2*log(2)
 sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)
-
----
+---------------------------------------------------------------------------
 ValueError                                Traceback (most recent call last)
-"""
+```
 
 A closer look:
-"""
+
+```
 sage: from sage.interfaces.maxima_lib import sr_to_max
 sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))
 <ECL: ((MTIMES) ((%LOG) 2) 2)>
 sage: sr_to_max(integral(e^(-abs(x))/cosh(x),x,-infinity,infinity))
-
----
+---------------------------------------------------------------------------
 ValueError                                Traceback (most recent call last)
-"""
-
+```
``````




---

archive/issue_comments_171976.json:
```json
{
    "body": "Assignee: **@burcin**",
    "created_at": "2013-03-01T16:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171976",
    "user": "https://github.com/kcrisman"
}
```

Assignee: **@burcin**



---

archive/issue_comments_171977.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nJust a couple of notes:\n- we patch maxima to throw an error rather than print \"Principal Value\".\n- internally, maxima has a flag that gets set if Principal Value has already been printed, to prevent it from being printed repeatedly.\n- this flag also gets used to suppress the \"Principal Value\" warning in certain cases where their integration code apparently knows it's safe to take a principal value.\n- so we don't throw an error if maxima wouldn't print the warning.\n\nIt would seem something about this setting gets messed up. My guess it's the way maxima deals internally with the doubly infinite integral:\n\n```\nsage: integrate(exp(-abs(x))/cosh(x),x,-oo,0)\nlog(2)\nsage: integrate(exp(-abs(x))/cosh(x),x,0,oo)\nlog(2)\nsage: integrate(exp(-abs(x))/cosh(x),x,-oo,0)\nlog(2)\nsage: integrate(exp(-abs(x))/cosh(x),x,0,oo)\nlog(2)\nsage: integrate(exp(-abs(x))/cosh(x),x,-oo,oo)\n2*log(2)\nsage: integrate(exp(-abs(x))/cosh(x),x,0,oo)\nlog(2)\nsage: integrate(exp(-abs(x))/cosh(x),x,-oo,0)\nValueError: Integral is divergent.\nsage: integrate(exp(-abs(x))/cosh(x),x,0,oo)\nlog(2)\n```\nAt this point it can hardly be anything in the way we translate things for maxima. It's got to be in the internals in maxima. They may have changed something internally in maxima that doesn't jive well with our patch (see `maxima_lib.py`):\n\n```\necl_eval('(defun principal nil (cond ($noprincipal (diverg)) ((not pcprntd) (merror \"Divergent Integral\"))))')\n```\nFor instance, in sage 4.7.1, which uses maxima 5.23.2, this problem does not arise. \n\nIn fact, when you look at the message that is returned, it's:\n\n```\nECL says: Error executing code in Maxima: defint: integral is divergent.\n```\nwhich is the error message that gets generated by `diverg`. So it seems the second time around, this code is executed with `$noprincipal` set.\n\nBEWARE: both `noprincipal` and `pcprntd` are \"special\" variables, which means they are dynamically scoped. That's different from what you're probably used to.\n\nFurthermore, the definition of `diverg` is:\n\n```\n(defun diverg nil\n  (cond (*nodiverg (throw 'divergent 'divergent))\n\t(t (merror (intl:gettext \"defint: integral is divergent.\")))))\n```\nwhich shows the behaviour can be influenced by yet another special variable, `*nodiverg`. In `defint.lisp` this really gets used: they sometimes prefer a condition thrown that they catch rather than generate an `merror`. If you compare the `defint.lisp` between 5.26.0 and 5.29.1 (sage 5.0 uses the former and does not have this problem. sage 5.7 uses the latter), you'll find some changes that look like they might change behaviour around such constructs, but I wasn't able to detect a smoking gun. And of course the problem may lie in a different file and/or a bug in how the new ECL handles dynamic variables (which is unlikely and would be disconcerting, because they form a basic component of CL)",
    "created_at": "2013-03-01T18:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171977",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:3'>Comment 3:</a>
Just a couple of notes:
- we patch maxima to throw an error rather than print "Principal Value".
- internally, maxima has a flag that gets set if Principal Value has already been printed, to prevent it from being printed repeatedly.
- this flag also gets used to suppress the "Principal Value" warning in certain cases where their integration code apparently knows it's safe to take a principal value.
- so we don't throw an error if maxima wouldn't print the warning.

It would seem something about this setting gets messed up. My guess it's the way maxima deals internally with the doubly infinite integral:

```
sage: integrate(exp(-abs(x))/cosh(x),x,-oo,0)
log(2)
sage: integrate(exp(-abs(x))/cosh(x),x,0,oo)
log(2)
sage: integrate(exp(-abs(x))/cosh(x),x,-oo,0)
log(2)
sage: integrate(exp(-abs(x))/cosh(x),x,0,oo)
log(2)
sage: integrate(exp(-abs(x))/cosh(x),x,-oo,oo)
2*log(2)
sage: integrate(exp(-abs(x))/cosh(x),x,0,oo)
log(2)
sage: integrate(exp(-abs(x))/cosh(x),x,-oo,0)
ValueError: Integral is divergent.
sage: integrate(exp(-abs(x))/cosh(x),x,0,oo)
log(2)
```
At this point it can hardly be anything in the way we translate things for maxima. It's got to be in the internals in maxima. They may have changed something internally in maxima that doesn't jive well with our patch (see `maxima_lib.py`):

```
ecl_eval('(defun principal nil (cond ($noprincipal (diverg)) ((not pcprntd) (merror "Divergent Integral"))))')
```
For instance, in sage 4.7.1, which uses maxima 5.23.2, this problem does not arise. 

In fact, when you look at the message that is returned, it's:

```
ECL says: Error executing code in Maxima: defint: integral is divergent.
```
which is the error message that gets generated by `diverg`. So it seems the second time around, this code is executed with `$noprincipal` set.

BEWARE: both `noprincipal` and `pcprntd` are "special" variables, which means they are dynamically scoped. That's different from what you're probably used to.

Furthermore, the definition of `diverg` is:

```
(defun diverg nil
  (cond (*nodiverg (throw 'divergent 'divergent))
	(t (merror (intl:gettext "defint: integral is divergent.")))))
```
which shows the behaviour can be influenced by yet another special variable, `*nodiverg`. In `defint.lisp` this really gets used: they sometimes prefer a condition thrown that they catch rather than generate an `merror`. If you compare the `defint.lisp` between 5.26.0 and 5.29.1 (sage 5.0 uses the former and does not have this problem. sage 5.7 uses the latter), you'll find some changes that look like they might change behaviour around such constructs, but I wasn't able to detect a smoking gun. And of course the problem may lie in a different file and/or a bug in how the new ECL handles dynamic variables (which is unlikely and would be disconcerting, because they form a basic component of CL)



---

archive/issue_comments_171978.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI don't think it has anything to do with `principal` or with `diverg`. I think there is an assumption on `x` that sticks around so that `abs(x)` gets simplified to `x`. Of course, `integrate(exp(-abs(x))/cosh(x),x,-oo,oo)` really is divergent. Evidence:\n\n```\nsage: maxima_calculus.eval(\"facts()\")\n'[kind(sinh,one_to_one),kind(log,one_to_one),kind(tanh,one_to_one),kind(log,increasing)]'\nsage: integrate(exp(-abs(x))/cosh(x),x,-oo,oo)\n2*log(2)\nsage: maxima_calculus.eval(\"facts()\")\n'[kind(sinh,one_to_one),kind(log,one_to_one),kind(tanh,one_to_one),kind(log,increasing),x>0]'\n```\nIndeed, if we subsequently do\n\n```\nsage: maxima_calculus.eval(\"forget(x>0)\")\n'[x>0]'\nsage: integrate(exp(-abs(x))/cosh(x),x,-oo,oo)\n2*log(2)\n```\nwe see the damage is undone (and redone with the second line of course).\n\nThe fact that we have a problem here and maxima itself doesn't seem to have a problem suggests that we are handling contexts differently from what maxima is doing. See maxima's documentation.\n\nmaxima's `defint.lisp` contains plenty of `assume` commands, but very little seems to have changed in how they're used. I don't know where the change comes from.",
    "created_at": "2013-03-02T03:31:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171978",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:4'>Comment 4:</a>
I don't think it has anything to do with `principal` or with `diverg`. I think there is an assumption on `x` that sticks around so that `abs(x)` gets simplified to `x`. Of course, `integrate(exp(-abs(x))/cosh(x),x,-oo,oo)` really is divergent. Evidence:

```
sage: maxima_calculus.eval("facts()")
'[kind(sinh,one_to_one),kind(log,one_to_one),kind(tanh,one_to_one),kind(log,increasing)]'
sage: integrate(exp(-abs(x))/cosh(x),x,-oo,oo)
2*log(2)
sage: maxima_calculus.eval("facts()")
'[kind(sinh,one_to_one),kind(log,one_to_one),kind(tanh,one_to_one),kind(log,increasing),x>0]'
```
Indeed, if we subsequently do

```
sage: maxima_calculus.eval("forget(x>0)")
'[x>0]'
sage: integrate(exp(-abs(x))/cosh(x),x,-oo,oo)
2*log(2)
```
we see the damage is undone (and redone with the second line of course).

The fact that we have a problem here and maxima itself doesn't seem to have a problem suggests that we are handling contexts differently from what maxima is doing. See maxima's documentation.

maxima's `defint.lisp` contains plenty of `assume` commands, but very little seems to have changed in how they're used. I don't know where the change comes from.



---

archive/issue_comments_171979.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\n> \n> ```\n> sage: maxima_calculus.eval(\"facts()\")\n> '[kind(sinh,one_to_one),kind(log,one_to_one),kind(tanh,one_to_one),kind(log,increasing)]'\n> sage: integrate(exp(-abs(x))/cosh(x),x,-oo,oo)\n> 2*log(2)\n> sage: maxima_calculus.eval(\"facts()\")\n> '[kind(sinh,one_to_one),kind(log,one_to_one),kind(tanh,one_to_one),kind(log,increasing),x>0]'\n> ```\n\nYeah, that sounds like a bug or something.  Huh.",
    "created_at": "2013-03-02T04:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171979",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'>Comment 5:</a>
> 
> ```
> sage: maxima_calculus.eval("facts()")
> '[kind(sinh,one_to_one),kind(log,one_to_one),kind(tanh,one_to_one),kind(log,increasing)]'
> sage: integrate(exp(-abs(x))/cosh(x),x,-oo,oo)
> 2*log(2)
> sage: maxima_calculus.eval("facts()")
> '[kind(sinh,one_to_one),kind(log,one_to_one),kind(tanh,one_to_one),kind(log,increasing),x>0]'
> ```

Yeah, that sounds like a bug or something.  Huh.



---

archive/issue_comments_171980.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2013-03-02T05:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171980",
    "user": "https://github.com/nbruin"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_171981.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nCool. It's not our fault. It's an error in `abs_integrate.mac`, which we load:\n\n```\nMaxima 5.29.1 http://maxima.sourceforge.net\nusing Lisp ECL 12.12.1\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) load(abs_integrate);\ndefint(exp(-abs(x))/cosh(x),x,minf,inf);\ndefint(exp(-abs(x))/cosh(x),x,minf,inf);\n(%o1) /usr/local/sage/5.7/local/share/maxima/5.29.1/share/contrib/integration/\\\nabs_integrate.mac\n(%i2) (%o2)                              2 log(2)\n(%i3) \ndefint: integral is divergent.\n -- an error. To debug this try: debugmode(true);\n```\nThis is now [maxima #2557](https://sourceforge.net/p/maxima/bugs/2557/).",
    "created_at": "2013-03-02T05:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171981",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:6'>Comment 6:</a>
Cool. It's not our fault. It's an error in `abs_integrate.mac`, which we load:

```
Maxima 5.29.1 http://maxima.sourceforge.net
using Lisp ECL 12.12.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) load(abs_integrate);
defint(exp(-abs(x))/cosh(x),x,minf,inf);
defint(exp(-abs(x))/cosh(x),x,minf,inf);
(%o1) /usr/local/sage/5.7/local/share/maxima/5.29.1/share/contrib/integration/\
abs_integrate.mac
(%i2) (%o2)                              2 log(2)
(%i3) 
defint: integral is divergent.
 -- an error. To debug this try: debugmode(true);
```
This is now [maxima #2557](https://sourceforge.net/p/maxima/bugs/2557/).



---

archive/issue_comments_171982.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThere has been a fair amount of activity on this, see the [thread starting here](http://www.math.utexas.edu/pipermail/maxima/2013/032109.html) on the Maxima list.",
    "created_at": "2013-03-15T18:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171982",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'>Comment 7:</a>
There has been a fair amount of activity on this, see the [thread starting here](http://www.math.utexas.edu/pipermail/maxima/2013/032109.html) on the Maxima list.



---

archive/issue_comments_171983.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2013-03-15T18:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171983",
    "user": "https://github.com/kcrisman"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**



---

archive/issue_events_177083.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-03-15T18:54:22Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "title_is": "Extra assumption kept by Maxima",
    "title_was": "Interface to maxima / ecl broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177083"
}
```



---

archive/issue_comments_171984.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nMaxima bug #2557 [1] fixed by commit 4b8a98648d4 [2]. Thanks for the bug report.\n\n[1] https://sourceforge.net/p/maxima/bugs/2557/\n[2] https://sourceforge.net/p/maxima/code/ci/4b8a98648d4da26805ea3238eee216611245e14a/",
    "created_at": "2013-03-23T04:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171984",
    "user": "https://github.com/sagetrac-robert-dodier"
}
```

<a id='comment:9'>Comment 9:</a>
Maxima bug #2557 [1] fixed by commit 4b8a98648d4 [2]. Thanks for the bug report.

[1] https://sourceforge.net/p/maxima/bugs/2557/
[2] https://sourceforge.net/p/maxima/code/ci/4b8a98648d4da26805ea3238eee216611245e14a/



---

archive/issue_comments_171985.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nThis will be in the upcoming 5.30.  Needs patch to verify at that time.",
    "created_at": "2013-03-23T12:46:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171985",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'>Comment 10:</a>
This will be in the upcoming 5.30.  Needs patch to verify at that time.



---

archive/issue_comments_171986.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, in a later stable release.**",
    "created_at": "2013-03-23T12:46:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171986",
    "user": "https://github.com/kcrisman"
}
```

Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, in a later stable release.**



---

archive/issue_events_177084.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177084"
}
```



---

archive/issue_events_177085.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177085"
}
```



---

archive/issue_events_177086.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177086"
}
```



---

archive/issue_events_177087.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177087"
}
```



---

archive/issue_events_177088.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177088"
}
```



---

archive/issue_events_177089.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177089"
}
```



---

archive/issue_comments_171987.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nThis is indeed fixed upstream and after #13973 we get\n\n```\nsage: sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           \n2*log(2)\nsage: sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)\n2*log(2)\n```",
    "created_at": "2014-05-17T14:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171987",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:14'>Comment 14:</a>
This is indeed fixed upstream and after #13973 we get

```
sage: sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)           
2*log(2)
sage: sage: integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)
2*log(2)
```



---

archive/issue_comments_171988.json:
```json
{
    "body": "Dependencies: **#13973**",
    "created_at": "2014-05-17T14:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171988",
    "user": "https://github.com/pjbruin"
}
```

Dependencies: **#13973**



---

archive/issue_events_177090.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-30T13:10:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177090"
}
```



---

archive/issue_comments_171989.json:
```json
{
    "body": "Commit: **[54d0609](https://github.com/sagemath/sagetrac-mirror/commit/54d060972983ad223c7b7f572ffad308b8b4dc56)**",
    "created_at": "2014-05-30T13:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171989",
    "user": "https://github.com/kcrisman"
}
```

Commit: **[54d0609](https://github.com/sagemath/sagetrac-mirror/commit/54d060972983ad223c7b7f572ffad308b8b4dc56)**



---

archive/issue_comments_171990.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nAgain, my apologies for all the dependencies, not knowing how to do this so it doesn't depend on previous stuff - I'm still in the hg queue mode.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/741e9a430fff39a70476081e022d2bd7cd68533f\">741e9a4</a></td><td><code>Trac 13973: fix integration doctest with changed output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b4b0d0d526498b656bfbbd55535368eea5af340\">0b4b0d0</a></td><td><code>Trac 13973: use \"domain: real\" for example with integral</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13d48c244fa349d456ecd74cc426931433266102\">13d48c2</a></td><td><code>Trac 13973: fix doctests with changed floating point format/precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a130eed39a9e2e86301e94d9e16932fd38be64df\">a130eed</a></td><td><code>Trac 13973: realpart should be real_part</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d927bfd95309b5c4ba531046e2c980e68763ccf\">3d927bf</a></td><td><code>Merge remote-tracking branch 'trac/u/pbruin/13973-maxima_update' into ticket/13712</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c715aabd8d9125b87a49de04e8103aa9d1e153a1\">c715aab</a></td><td><code>Merge branch 'public/ticket/inf_sum_doctest-13712' of git://trac.sagemath.org/sage into ticket/11894-maxima_sum_zero_division</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dd0f05a2421b2ecda14066a0c1dbe4b5bd6f38e\">1dd0f05</a></td><td><code>Trac 11894: add doctest for error detection in Maxima sum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ede45cb1e226cdf37742f43ea8a24663afa0abc\">0ede45c</a></td><td><code>Merge branch 'u/pbruin/11894-maxima_sum_zero_division' of trac.sagemath.org:sage into maxima_upgrade</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6657b95ff01453ef73afb8e5390840f9cc314f2\">b6657b9</a></td><td><code>Trac #15386 - document that Maxima 5.33 fixes this limit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54d060972983ad223c7b7f572ffad308b8b4dc56\">54d0609</a></td><td><code>Trac #14209 - verify Maxima fix for doing improper integral twice</code></td></tr></table>\n",
    "created_at": "2014-05-30T13:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171990",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'>Comment 15:</a>
Again, my apologies for all the dependencies, not knowing how to do this so it doesn't depend on previous stuff - I'm still in the hg queue mode.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/741e9a430fff39a70476081e022d2bd7cd68533f">741e9a4</a></td><td><code>Trac 13973: fix integration doctest with changed output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b4b0d0d526498b656bfbbd55535368eea5af340">0b4b0d0</a></td><td><code>Trac 13973: use "domain: real" for example with integral</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13d48c244fa349d456ecd74cc426931433266102">13d48c2</a></td><td><code>Trac 13973: fix doctests with changed floating point format/precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a130eed39a9e2e86301e94d9e16932fd38be64df">a130eed</a></td><td><code>Trac 13973: realpart should be real_part</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d927bfd95309b5c4ba531046e2c980e68763ccf">3d927bf</a></td><td><code>Merge remote-tracking branch 'trac/u/pbruin/13973-maxima_update' into ticket/13712</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c715aabd8d9125b87a49de04e8103aa9d1e153a1">c715aab</a></td><td><code>Merge branch 'public/ticket/inf_sum_doctest-13712' of git://trac.sagemath.org/sage into ticket/11894-maxima_sum_zero_division</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dd0f05a2421b2ecda14066a0c1dbe4b5bd6f38e">1dd0f05</a></td><td><code>Trac 11894: add doctest for error detection in Maxima sum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ede45cb1e226cdf37742f43ea8a24663afa0abc">0ede45c</a></td><td><code>Merge branch 'u/pbruin/11894-maxima_sum_zero_division' of trac.sagemath.org:sage into maxima_upgrade</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6657b95ff01453ef73afb8e5390840f9cc314f2">b6657b9</a></td><td><code>Trac #15386 - document that Maxima 5.33 fixes this limit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54d060972983ad223c7b7f572ffad308b8b4dc56">54d0609</a></td><td><code>Trac #14209 - verify Maxima fix for doing improper integral twice</code></td></tr></table>




---

archive/issue_comments_171991.json:
```json
{
    "body": "Changed dependencies from **#13973** to **#13973, #13712, #11984, #15386**",
    "created_at": "2014-05-30T13:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171991",
    "user": "https://github.com/kcrisman"
}
```

Changed dependencies from **#13973** to **#13973, #13712, #11984, #15386**



---

archive/issue_comments_171992.json:
```json
{
    "body": "Author: **Karl-Dieter Crisman**",
    "created_at": "2014-05-30T13:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171992",
    "user": "https://github.com/kcrisman"
}
```

Author: **Karl-Dieter Crisman**



---

archive/issue_comments_171993.json:
```json
{
    "body": "Branch: **[u/kcrisman/14209_doc_fix_twoints](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/14209_doc_fix_twoints)**",
    "created_at": "2014-05-30T13:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171993",
    "user": "https://github.com/kcrisman"
}
```

Branch: **[u/kcrisman/14209_doc_fix_twoints](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/14209_doc_fix_twoints)**



---

archive/issue_comments_171994.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nJust commit 54d0609 matters.",
    "created_at": "2014-05-30T13:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171994",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'>Comment 16:</a>
Just commit 54d0609 matters.



---

archive/issue_comments_171995.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2014-05-30T13:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171995",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_171996.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nLGTM (as well `:p`)",
    "created_at": "2014-05-30T13:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171996",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'>Comment 17:</a>
LGTM (as well `:p`)



---

archive/issue_events_177091.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-30T13:50:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177091"
}
```



---

archive/issue_events_177092.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-30T13:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177092"
}
```



---

archive/issue_comments_171997.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nDoctests fail on my system:\n\n```\nsage -t --long src/sage/symbolic/integration/integral.py\n**********************************************************************\nFile \"src/sage/symbolic/integration/integral.py\", line 684, in sage.symbolic.int\negration.integral.integrate\nFailed example:\n    integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)\nException raised:\n    Traceback (most recent call last):\n    ...\n    ValueError: Integral is divergent.\n**********************************************************************\nFile \"src/sage/symbolic/integration/integral.py\", line 686, in sage.symbolic.int\negration.integral.integrate\nFailed example:\n    integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)\nException raised:\n    Traceback (most recent call last):\n    ...\n    ValueError: Integral is divergent.\n**********************************************************************\n```\nThere is no error when running the example directly from the Sage prompt.  Maybe a bad assumption made elsewhere in `integral.py` is creeping in?  [Edit: it seems to be caused by \"assume(x>0)\" a few lines above.]",
    "created_at": "2014-05-30T14:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171997",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:18'>Comment 18:</a>
Doctests fail on my system:

```
sage -t --long src/sage/symbolic/integration/integral.py
**********************************************************************
File "src/sage/symbolic/integration/integral.py", line 684, in sage.symbolic.int
egration.integral.integrate
Failed example:
    integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)
Exception raised:
    Traceback (most recent call last):
    ...
    ValueError: Integral is divergent.
**********************************************************************
File "src/sage/symbolic/integration/integral.py", line 686, in sage.symbolic.int
egration.integral.integrate
Failed example:
    integral(e^(-abs(x))/cosh(x),x,-infinity,infinity)
Exception raised:
    Traceback (most recent call last):
    ...
    ValueError: Integral is divergent.
**********************************************************************
```
There is no error when running the example directly from the Sage prompt.  Maybe a bad assumption made elsewhere in `integral.py` is creeping in?  [Edit: it seems to be caused by "assume(x>0)" a few lines above.]



---

archive/issue_events_177093.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-30T14:01:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177093"
}
```



---

archive/issue_events_177094.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-30T14:01:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177094"
}
```



---

archive/issue_comments_171998.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nIntegrating over *x* in **R** after assuming *x* > 0 is problematic in Maxima:\n\n```\n$ sage --maxima\n...\n(%i1) load(abs_integrate)$\n\n(%i2) defint(exp(-abs(x))/cosh(x),x,minf,inf);\n(%o2)                              2 log(2)\n(%i3) assume(x>0);\n(%o3)                               [x > 0]\n(%i4) defint(exp(-abs(x))/cosh(x),x,minf,inf);\n\ndefint: integral is divergent.\n -- an error. To debug this try: debugmode(true);\n```\nThe easiest solution is to put `forget(x > 0)` at the end of the doctest with `assume(x > 0)`.",
    "created_at": "2014-05-30T14:11:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171998",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:19'>Comment 19:</a>
Integrating over *x* in **R** after assuming *x* > 0 is problematic in Maxima:

```
$ sage --maxima
...
(%i1) load(abs_integrate)$

(%i2) defint(exp(-abs(x))/cosh(x),x,minf,inf);
(%o2)                              2 log(2)
(%i3) assume(x>0);
(%o3)                               [x > 0]
(%i4) defint(exp(-abs(x))/cosh(x),x,minf,inf);

defint: integral is divergent.
 -- an error. To debug this try: debugmode(true);
```
The easiest solution is to put `forget(x > 0)` at the end of the doctest with `assume(x > 0)`.



---

archive/issue_comments_171999.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\n> The easiest solution is to put `forget(x > 0)` at the end of the doctest with `assume(x > 0)`.\n\nSorry, I didn't run tests because it worked in my local Sage, as you say.  Certainly if we assumed this above we should forget it - preferably immediately after the assumption - that is the usual practice here.\n\nAnyway, I'll update this momentarily.",
    "created_at": "2014-05-30T16:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-171999",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'>Comment 20:</a>
> The easiest solution is to put `forget(x > 0)` at the end of the doctest with `assume(x > 0)`.

Sorry, I didn't run tests because it worked in my local Sage, as you say.  Certainly if we assumed this above we should forget it - preferably immediately after the assumption - that is the usual practice here.

Anyway, I'll update this momentarily.



---

archive/issue_comments_172000.json:
```json
{
    "body": "Changed commit from **[54d0609](https://github.com/sagemath/sagetrac-mirror/commit/54d060972983ad223c7b7f572ffad308b8b4dc56)** to **[999e21f](https://github.com/sagemath/sagetrac-mirror/commit/999e21f109dd9741693987a91728129955c50056)**",
    "created_at": "2014-05-30T16:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-172000",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[54d0609](https://github.com/sagemath/sagetrac-mirror/commit/54d060972983ad223c7b7f572ffad308b8b4dc56)** to **[999e21f](https://github.com/sagemath/sagetrac-mirror/commit/999e21f109dd9741693987a91728129955c50056)**



---

archive/issue_comments_172001.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/999e21f109dd9741693987a91728129955c50056\">999e21f</a></td><td><code>Trac #14209 - Forget assumptions from earlier doctest</code></td></tr></table>\n",
    "created_at": "2014-05-30T16:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-172001",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/999e21f109dd9741693987a91728129955c50056">999e21f</a></td><td><code>Trac #14209 - Forget assumptions from earlier doctest</code></td></tr></table>




---

archive/issue_events_177095.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-30T16:18:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177095"
}
```



---

archive/issue_events_177096.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-30T16:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177096"
}
```



---

archive/issue_comments_172002.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Peter Bruin**",
    "created_at": "2014-05-30T16:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-172002",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Peter Bruin**



---

archive/issue_events_177097.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-30T16:24:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177097"
}
```



---

archive/issue_events_177098.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-30T16:24:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177098"
}
```



---

archive/issue_comments_172003.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nThanks.",
    "created_at": "2014-05-30T16:36:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-172003",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:24'>Comment 24:</a>
Thanks.



---

archive/issue_comments_172004.json:
```json
{
    "body": "Changed branch from **[u/kcrisman/14209_doc_fix_twoints](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/14209_doc_fix_twoints)** to **[999e21f](https://github.com/sagemath/sagetrac-mirror/commit/999e21f109dd9741693987a91728129955c50056)**",
    "created_at": "2014-06-02T12:54:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14209#issuecomment-172004",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/kcrisman/14209_doc_fix_twoints](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/14209_doc_fix_twoints)** to **[999e21f](https://github.com/sagemath/sagetrac-mirror/commit/999e21f109dd9741693987a91728129955c50056)**



---

archive/issue_events_177099.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-02T12:54:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177099"
}
```



---

archive/issue_events_177100.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5f7ca96fcd166d4b9d4483f8c483c43593e0fbd8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-06-02T12:54:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14209",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14209#event-177100"
}
```
