# Issue 14161: add a _test_antipode method for Hopf algebras

archive/issues_013957.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "Add a method that tests the antipode of a Hopf algebra. We know that the antipode satisfies certain conditions, so check these conditions for the antipode method using the elements output by `some_elements`.\n\n```\nTest the antipode. \n\nAn *antipode* `S` of a Hopf algebra is a linear endomorphism of the \nHopf algebra that satisfies the following conditions (see \n:wikipedia:`HopfAlgebra`). \n\n- If `\\mu` and `\\Delta` denote the product and coproduct of the \n  Hopf algebra, respectively, then `S` satisfies \n\n  .. MATH:: \n\n      \\mu \\circ (S \\tensor 1) \\circ \\Delta = unit \\circ counit \n      \\mu \\circ (1 \\tensor S) \\circ \\Delta = unit \\circ counit \n\n- `S` is an *anti*-homomorphism \n\nThese properties are tested on :meth:`some_elements`. \n\nTESTS:: \n\n    sage: R = NonCommutativeSymmetricFunctions(QQ).ribbon() \n    sage: R._test_antipode() \n\n:: \n\n    sage: s = SymmetricFunctions(QQ).schur() \n    sage: s._test_antipode() \n```\nThis would have caught the bug in #14160.\n\nApply : [attachment: trac_14161-fs.2.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz) and [attachment: trac_14161-jhp.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz) and [attachment: trac_14161_review_mz.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161_review_mz.patch.gz)\n\nDepends on #14162\nDepends on #14163\nDepends on #14235\nDepends on #14237\n\nCC:  @zabrocki\n\nKeywords: **hopf algebras**\n\nReviewer: **Mike Zabrocki**\n\nAuthor: **Franco Saliola**\n\nMerged: **sage-5.10.rc0**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14161_\n\n",
    "closed_at": "2013-05-29T07:09:37Z",
    "created_at": "2013-02-22T05:09:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add a _test_antipode method for Hopf algebras",
    "type": "issue",
    "updated_at": "2013-05-29T07:09:37Z",
    "url": "https://github.com/sagemath/sage/issues/14161",
    "user": "https://github.com/saliola"
}
```
Add a method that tests the antipode of a Hopf algebra. We know that the antipode satisfies certain conditions, so check these conditions for the antipode method using the elements output by `some_elements`.

```
Test the antipode. 

An *antipode* `S` of a Hopf algebra is a linear endomorphism of the 
Hopf algebra that satisfies the following conditions (see 
:wikipedia:`HopfAlgebra`). 

- If `\mu` and `\Delta` denote the product and coproduct of the 
  Hopf algebra, respectively, then `S` satisfies 

  .. MATH:: 

      \mu \circ (S \tensor 1) \circ \Delta = unit \circ counit 
      \mu \circ (1 \tensor S) \circ \Delta = unit \circ counit 

- `S` is an *anti*-homomorphism 

These properties are tested on :meth:`some_elements`. 

TESTS:: 

    sage: R = NonCommutativeSymmetricFunctions(QQ).ribbon() 
    sage: R._test_antipode() 

:: 

    sage: s = SymmetricFunctions(QQ).schur() 
    sage: s._test_antipode() 
```
This would have caught the bug in #14160.

Apply : [attachment: trac_14161-fs.2.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz) and [attachment: trac_14161-jhp.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz) and [attachment: trac_14161_review_mz.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161_review_mz.patch.gz)

Depends on #14162
Depends on #14163
Depends on #14235
Depends on #14237

CC:  @zabrocki

Keywords: **hopf algebras**

Reviewer: **Mike Zabrocki**

Author: **Franco Saliola**

Merged: **sage-5.10.rc0**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/14161_





---

archive/issue_events_199380.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T05:09:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199380"
}
```



---

archive/issue_events_199381.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T05:09:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199381"
}
```



---

archive/issue_events_199382.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T05:09:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199382"
}
```



---

archive/issue_events_199383.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2013-02-22T05:09:34Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "subject": "https://github.com/saliola",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199383"
}
```



---

archive/issue_comments_168923.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,3 +9,5 @@\n                 sage: s = SymmetricFunctions(QQ).schur()\n                 sage: s._test_antipode()\n ```\n+\n+This would have caught the bug in #14160.\n``````\n",
    "created_at": "2013-02-22T05:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168923",
    "user": "https://github.com/saliola"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,3 +9,5 @@
                 sage: s = SymmetricFunctions(QQ).schur()
                 sage: s._test_antipode()
 ```
+
+This would have caught the bug in #14160.
``````




---

archive/issue_comments_168924.json:
```json
{
    "body": "Attachment: **[trac_14161-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.patch.gz)**",
    "created_at": "2013-02-22T05:16:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168924",
    "user": "https://github.com/saliola"
}
```

Attachment: **[trac_14161-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.patch.gz)**



---

archive/issue_comments_168925.json:
```json
{
    "body": "Dependencies: **14162**",
    "created_at": "2013-02-22T05:22:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168925",
    "user": "https://github.com/saliola"
}
```

Dependencies: **14162**



---

archive/issue_events_199384.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T05:23:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199384"
}
```



---

archive/issue_comments_168926.json:
```json
{
    "body": "Changed dependencies from **14162** to **#14162**",
    "created_at": "2013-02-22T05:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168926",
    "user": "https://github.com/saliola"
}
```

Changed dependencies from **14162** to **#14162**



---

archive/issue_comments_168927.json:
```json
{
    "body": "Changed dependencies from **#14162** to **#14162, #14163**",
    "created_at": "2013-02-22T05:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168927",
    "user": "https://github.com/saliola"
}
```

Changed dependencies from **#14162** to **#14162, #14163**



---

archive/issue_comments_168928.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt would also be nice to implement a proper `some_elements` method.",
    "created_at": "2013-02-22T05:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168928",
    "user": "https://github.com/saliola"
}
```

<div id="comment:4" align="right">comment:4</div>

It would also be nice to implement a proper `some_elements` method.



---

archive/issue_events_199385.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T05:29:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199385"
}
```



---

archive/issue_comments_168929.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI don't think that the antipode has to be an involution in general. This is automatic if the Hopf algebra is commutative or cocommutative, but may not hold otherwise.",
    "created_at": "2013-02-22T06:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168929",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

I don't think that the antipode has to be an involution in general. This is automatic if the Hopf algebra is commutative or cocommutative, but may not hold otherwise.



---

archive/issue_events_199386.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-02-22T17:22:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199386"
}
```



---

archive/issue_events_199387.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-02-22T17:22:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199387"
}
```



---

archive/issue_comments_168930.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[trac_14161-fs.2.patch.gz](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz)**\n\nThanks for catching that, John. I deleted the corresponding lines.\n\n(For the record, Mike and I discussed using `is_commutative` and `is_cocommutative`, but neither seems to be reliably implemented. So we won't test it until the appropriate categories are implemented.)",
    "created_at": "2013-02-22T21:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168930",
    "user": "https://github.com/saliola"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[trac_14161-fs.2.patch.gz](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz)**

Thanks for catching that, John. I deleted the corresponding lines.

(For the record, Mike and I discussed using `is_commutative` and `is_cocommutative`, but neither seems to be reliably implemented. So we won't test it until the appropriate categories are implemented.)



---

archive/issue_comments_168931.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,5 +9,6 @@\n                 sage: s = SymmetricFunctions(QQ).schur()\n                 sage: s._test_antipode()\n ```\n+This would have caught the bug in #14160.\n \n-This would have caught the bug in #14160.\n+Apply : trac_14161-fs.2.patch\n``````\n",
    "created_at": "2013-02-22T21:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168931",
    "user": "https://github.com/saliola"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,5 +9,6 @@
                 sage: s = SymmetricFunctions(QQ).schur()
                 sage: s._test_antipode()
 ```
+This would have caught the bug in #14160.
 
-This would have caught the bug in #14160.
+Apply : trac_14161-fs.2.patch
``````




---

archive/issue_comments_168932.json:
```json
{
    "body": "Author: **Franco Saliola**",
    "created_at": "2013-02-22T21:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168932",
    "user": "https://github.com/saliola"
}
```

Author: **Franco Saliola**



---

archive/issue_events_199388.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T21:13:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199388"
}
```



---

archive/issue_events_199389.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T21:13:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199389"
}
```



---

archive/issue_events_199390.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T21:21:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199390"
}
```



---

archive/issue_events_199391.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-02-22T21:21:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199391"
}
```



---

archive/issue_comments_168933.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHmm, I am seeing doctest failures in `k_dual` and `new_k_schur`. \n\nI guess these don't have antipodes implemented?\n\nSo, back to needs work.",
    "created_at": "2013-02-22T21:21:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168933",
    "user": "https://github.com/saliola"
}
```

<div id="comment:10" align="right">comment:10</div>

Hmm, I am seeing doctest failures in `k_dual` and `new_k_schur`. 

I guess these don't have antipodes implemented?

So, back to needs work.



---

archive/issue_comments_168934.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThe spaces implemented in `k_dual` and `new_k_schur` are not Hopf algebras.  It may be that they are in the wrong category.  They can be made into Hopf algebras but we would worry if this is done un-naturally.",
    "created_at": "2013-02-23T02:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168934",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:11" align="right">comment:11</div>

The spaces implemented in `k_dual` and `new_k_schur` are not Hopf algebras.  It may be that they are in the wrong category.  They can be made into Hopf algebras but we would worry if this is done un-naturally.



---

archive/issue_comments_168935.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAre they bialgebras ?",
    "created_at": "2013-02-23T02:12:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168935",
    "user": "https://github.com/saliola"
}
```

<div id="comment:12" align="right">comment:12</div>

Are they bialgebras ?



---

archive/issue_comments_168936.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nif you multiply two k-Schurs together the result may or may not be in the k-Schur space.  If not, then just `.lift()` the result in the `SymmetricFunctions`.  The coproduct is implemented and is k-Schur positive.\n\nThe coproduct of dual k-Schurs is not implemented.  It is a Hopf algebra if you use the usual coproduct, but it is not clear if this is the 'correct' thing to do.  If t=1 then it is probably 'correct' to use the usual coproduct.",
    "created_at": "2013-02-23T03:19:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168936",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:13" align="right">comment:13</div>

if you multiply two k-Schurs together the result may or may not be in the k-Schur space.  If not, then just `.lift()` the result in the `SymmetricFunctions`.  The coproduct is implemented and is k-Schur positive.

The coproduct of dual k-Schurs is not implemented.  It is a Hopf algebra if you use the usual coproduct, but it is not clear if this is the 'correct' thing to do.  If t=1 then it is probably 'correct' to use the usual coproduct.



---

archive/issue_comments_168937.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe failure only seems to occur when `t=1`, since the categories seem to be correctly defined for other `t`.\n\nSo the question is whether we should keep this space for `t=1` as a Hopf algebra or put it in the category of bialgebras instead.",
    "created_at": "2013-02-23T15:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168937",
    "user": "https://github.com/saliola"
}
```

<div id="comment:14" align="right">comment:14</div>

The failure only seems to occur when `t=1`, since the categories seem to be correctly defined for other `t`.

So the question is whether we should keep this space for `t=1` as a Hopf algebra or put it in the category of bialgebras instead.



---

archive/issue_comments_168938.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI vote to keep as a Hopf algebra! If you call something a Hopf algebra, do you have to implement the antipode? Isn't \"Not implemented\" acceptable? It's still a Hopf algebra even if it doesn't know how to compute the antipode.\n\nI think the description of this ticket could be a little more informative than just a few doctests. Without reading the code, I'm not exactly sure what this ticket is about.",
    "created_at": "2013-02-23T18:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168938",
    "user": "https://github.com/sagetrac-chrisjamesberg"
}
```

<div id="comment:15" align="right">comment:15</div>

I vote to keep as a Hopf algebra! If you call something a Hopf algebra, do you have to implement the antipode? Isn't "Not implemented" acceptable? It's still a Hopf algebra even if it doesn't know how to compute the antipode.

I think the description of this ticket could be a little more informative than just a few doctests. Without reading the code, I'm not exactly sure what this ticket is about.



---

archive/issue_comments_168939.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nFor `t=1` the antipode should be the usual antipode.",
    "created_at": "2013-02-23T18:51:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168939",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:16" align="right">comment:16</div>

For `t=1` the antipode should be the usual antipode.



---

archive/issue_comments_168940.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,33 @@\n-Desired doctests:\n+Add a method that tests the antipode of a Hopf algebra. We know that the antipode satisfies certain conditions, so check these conditions for the antipode method using the elements output by `some_elements`.\n \n ```\n-                sage: R = NonCommutativeSymmetricFunctions(QQ).ribbon()\n-                sage: R._test_antipode()\n+Test the antipode. \n \n-            ::\n+An *antipode* `S` of a Hopf algebra is a linear endomorphism of the \n+Hopf algebra that satisfies the following conditions (see \n+:wikipedia:`HopfAlgebra`). \n \n-                sage: s = SymmetricFunctions(QQ).schur()\n-                sage: s._test_antipode()\n+- If `\\mu` and `\\Delta` denote the product and coproduct of the \n+  Hopf algebra, respectively, then `S` satisfies \n+\n+  .. MATH:: \n+\n+      \\mu \\circ (S \\tensor 1) \\circ \\Delta = unit \\circ counit \n+      \\mu \\circ (1 \\tensor S) \\circ \\Delta = unit \\circ counit \n+\n+- `S` is an *anti*-homomorphism \n+\n+These properties are tested on :meth:`some_elements`. \n+\n+TESTS:: \n+\n+    sage: R = NonCommutativeSymmetricFunctions(QQ).ribbon() \n+    sage: R._test_antipode() \n+\n+:: \n+\n+    sage: s = SymmetricFunctions(QQ).schur() \n+    sage: s._test_antipode() \n ```\n This would have caught the bug in #14160.\n \n``````\n",
    "created_at": "2013-02-24T02:45:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168940",
    "user": "https://github.com/saliola"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,33 @@
-Desired doctests:
+Add a method that tests the antipode of a Hopf algebra. We know that the antipode satisfies certain conditions, so check these conditions for the antipode method using the elements output by `some_elements`.
 
 ```
-                sage: R = NonCommutativeSymmetricFunctions(QQ).ribbon()
-                sage: R._test_antipode()
+Test the antipode. 
 
-            ::
+An *antipode* `S` of a Hopf algebra is a linear endomorphism of the 
+Hopf algebra that satisfies the following conditions (see 
+:wikipedia:`HopfAlgebra`). 
 
-                sage: s = SymmetricFunctions(QQ).schur()
-                sage: s._test_antipode()
+- If `\mu` and `\Delta` denote the product and coproduct of the 
+  Hopf algebra, respectively, then `S` satisfies 
+
+  .. MATH:: 
+
+      \mu \circ (S \tensor 1) \circ \Delta = unit \circ counit 
+      \mu \circ (1 \tensor S) \circ \Delta = unit \circ counit 
+
+- `S` is an *anti*-homomorphism 
+
+These properties are tested on :meth:`some_elements`. 
+
+TESTS:: 
+
+    sage: R = NonCommutativeSymmetricFunctions(QQ).ribbon() 
+    sage: R._test_antipode() 
+
+:: 
+
+    sage: s = SymmetricFunctions(QQ).schur() 
+    sage: s._test_antipode() 
 ```
 This would have caught the bug in #14160.
 
``````




---

archive/issue_comments_168941.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@sagetrac-chrisjamesberg](#comment:15):\n> I vote to keep as a Hopf algebra! If you call something a Hopf algebra, do you have to implement the antipode? Isn't \"Not implemented\" acceptable? It's still a Hopf algebra even if it doesn't know how to compute the antipode.\n\nI'd like to keep it as a Hopf algebra, too. Especially since we know how to compute the antipode (see Mike's comment). Can you implement it?\n\n> I think the description of this ticket could be a little more informative than just a few doctests. Without reading the code, I'm not exactly sure what this ticket is about.\n\nI thought it was pretty self-explanatory based on the understanding that the purpose of all the `_test_*` methods is to make sure that something isn't obviously wrong with the code by running a few tests. Such a test would/should have caught the bug we found with the antipode of NSym because it failed the defining condition for an antipode.",
    "created_at": "2013-02-24T02:55:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168941",
    "user": "https://github.com/saliola"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@sagetrac-chrisjamesberg](#comment:15):
> I vote to keep as a Hopf algebra! If you call something a Hopf algebra, do you have to implement the antipode? Isn't "Not implemented" acceptable? It's still a Hopf algebra even if it doesn't know how to compute the antipode.

I'd like to keep it as a Hopf algebra, too. Especially since we know how to compute the antipode (see Mike's comment). Can you implement it?

> I think the description of this ticket could be a little more informative than just a few doctests. Without reading the code, I'm not exactly sure what this ticket is about.

I thought it was pretty self-explanatory based on the understanding that the purpose of all the `_test_*` methods is to make sure that something isn't obviously wrong with the code by running a few tests. Such a test would/should have caught the bug we found with the antipode of NSym because it failed the defining condition for an antipode.



---

archive/issue_comments_168942.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI opened ticket #14220 where I intend to do a little cleanup of the symmetric function code.  I will put the antipode for the k-bounded quotient in that patch.",
    "created_at": "2013-03-03T20:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168942",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:19" align="right">comment:19</div>

I opened ticket #14220 where I intend to do a little cleanup of the symmetric function code.  I will put the antipode for the k-bounded quotient in that patch.



---

archive/issue_comments_168943.json:
```json
{
    "body": "Changed dependencies from **#14162, #14163** to **#14162, #14163, #14220**",
    "created_at": "2013-03-04T01:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168943",
    "user": "https://github.com/saliola"
}
```

Changed dependencies from **#14162, #14163** to **#14162, #14163, #14220**



---

archive/issue_comments_168944.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThanks, Mike! I'll set it as a dependency for this ticket.",
    "created_at": "2013-03-04T01:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168944",
    "user": "https://github.com/saliola"
}
```

<div id="comment:20" align="right">comment:20</div>

Thanks, Mike! I'll set it as a dependency for this ticket.



---

archive/issue_comments_168945.json:
```json
{
    "body": "Changed dependencies from **#14162, #14163, #14220** to **#14162, #14163, #14235, #14237**",
    "created_at": "2013-03-06T13:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168945",
    "user": "https://github.com/zabrocki"
}
```

Changed dependencies from **#14162, #14163, #14220** to **#14162, #14163, #14235, #14237**



---

archive/issue_comments_168946.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI opened two more tickets which implements the coalgebra and Hopf structure in k_dual.py and new_kschur.py",
    "created_at": "2013-03-06T13:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168946",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:22" align="right">comment:22</div>

I opened two more tickets which implements the coalgebra and Hopf structure in k_dual.py and new_kschur.py



---

archive/issue_comments_168947.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThis patch seems to work but it now causes failures in algebras/steenrod/steenrod_algebra.py",
    "created_at": "2013-05-20T17:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168947",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:23" align="right">comment:23</div>

This patch seems to work but it now causes failures in algebras/steenrod/steenrod_algebra.py



---

archive/issue_comments_168948.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,4 +31,4 @@\n ```\n This would have caught the bug in #14160.\n \n-Apply : trac_14161-fs.2.patch\n+Apply : [attachment: trac_14161-fs.2.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz) and [attachment: trac_14161-jhp.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz)\n``````\n",
    "created_at": "2013-05-21T01:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168948",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,4 +31,4 @@
 ```
 This would have caught the bug in #14160.
 
-Apply : trac_14161-fs.2.patch
+Apply : [attachment: trac_14161-fs.2.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz) and [attachment: trac_14161-jhp.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz)
``````




---

archive/issue_comments_168949.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThat's because the Steenrod algebra code doesn't define a counit. See the attached patch.",
    "created_at": "2013-05-21T01:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168949",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:24" align="right">comment:24</div>

That's because the Steenrod algebra code doesn't define a counit. See the attached patch.



---

archive/issue_comments_168950.json:
```json
{
    "body": "Attachment: **[trac_14161-jhp.patch.gz](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz)**",
    "created_at": "2013-05-21T01:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168950",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_14161-jhp.patch.gz](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz)**



---

archive/issue_events_199392.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-05-22T11:45:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199392"
}
```



---

archive/issue_events_199393.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-05-22T11:45:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199393"
}
```



---

archive/issue_comments_168951.json:
```json
{
    "body": "Reviewer: **Mike Zabrocki, Anne Schilling**",
    "created_at": "2013-05-22T11:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168951",
    "user": "https://github.com/zabrocki"
}
```

Reviewer: **Mike Zabrocki, Anne Schilling**



---

archive/issue_comments_168952.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAttachment: **[trac_14161_review_mz.patch.gz](https://github.com/sagemath/sage/files/ticket14161/trac_14161_review_mz.patch.gz)**\n\nFranco, I've tested everything and would set positive review, but since it has sat for a while, you should look this over too.\n-Mike",
    "created_at": "2013-05-22T11:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168952",
    "user": "https://github.com/zabrocki"
}
```

<div id="comment:25" align="right">comment:25</div>

Attachment: **[trac_14161_review_mz.patch.gz](https://github.com/sagemath/sage/files/ticket14161/trac_14161_review_mz.patch.gz)**

Franco, I've tested everything and would set positive review, but since it has sat for a while, you should look this over too.
-Mike



---

archive/issue_comments_168953.json:
```json
{
    "body": "Changed reviewer from **Mike Zabrocki, Anne Schilling** to **Mike Zabrocki**",
    "created_at": "2013-05-22T11:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168953",
    "user": "https://github.com/zabrocki"
}
```

Changed reviewer from **Mike Zabrocki, Anne Schilling** to **Mike Zabrocki**



---

archive/issue_comments_168954.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,4 +31,4 @@\n ```\n This would have caught the bug in #14160.\n \n-Apply : [attachment: trac_14161-fs.2.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz) and [attachment: trac_14161-jhp.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz)\n+Apply : [attachment: trac_14161-fs.2.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz) and [attachment: trac_14161-jhp.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz) and [attachment: trac_14161_review_mz.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161_review_mz.patch.gz)\n``````\n",
    "created_at": "2013-05-22T11:49:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168954",
    "user": "https://github.com/zabrocki"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,4 +31,4 @@
 ```
 This would have caught the bug in #14160.
 
-Apply : [attachment: trac_14161-fs.2.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz) and [attachment: trac_14161-jhp.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz)
+Apply : [attachment: trac_14161-fs.2.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-fs.2.patch.gz) and [attachment: trac_14161-jhp.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161-jhp.patch.gz) and [attachment: trac_14161_review_mz.patch](https://github.com/sagemath/sage/files/ticket14161/trac_14161_review_mz.patch.gz)
``````




---

archive/issue_comments_168955.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nAll tests pass. It looks good to me!",
    "created_at": "2013-05-22T12:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168955",
    "user": "https://github.com/saliola"
}
```

<div id="comment:28" align="right">comment:28</div>

All tests pass. It looks good to me!



---

archive/issue_events_199394.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-05-22T12:58:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199394"
}
```



---

archive/issue_events_199395.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2013-05-22T12:58:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199395"
}
```



---

archive/issue_comments_168956.json:
```json
{
    "body": "Merged: **sage-5.10.rc0**",
    "created_at": "2013-05-29T07:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14161#issuecomment-168956",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.10.rc0**



---

archive/issue_events_199396.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T07:09:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199396"
}
```



---

archive/issue_events_199397.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T07:09:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14161",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14161#event-199397"
}
```
