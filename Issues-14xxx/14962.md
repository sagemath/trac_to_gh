# Issue 14962: make sure all optional packages work in the git repository

archive/issues_014725.json:
```json
{
    "body": "we support them, so we need to make sure they will continue to work\n\nScript to systematically try out all optional spkgs: http://boxen.math.washington.edu/home/vbraun/Sage/Testing/test_optional_packages.sh\n\nThe optional databases will be dealt with here, other packages should make separate tickets. Use the following new \"upstream\" tarballs:\n* http://boxen.math.washington.edu/home/vbraun/upstream/database_cremona_ellcurve-20121022.tar.bz2\n\nLeave for later, don't work and no SPKG.txt:\n* cunningham_tables\n* database_jones_numfield\n* database_kohel\n* database_odlyzko_zeta\n* database_sloane_oeis\n* database_stein_watkins_mini.p0\n\nMove to experimental (broken with or without git, probably for a long time):\n* fricas (doesn't build with our ecl)\n* fricas-aldor (dito)\n* libcocoa (doesn't build with our gmp/mpir)\n\nDelete for other reasons:\n* jsmath_image_fonts (we switched to mathjax)\n\n\nDepends on #15172\n\nDepends on #15261\n\nDepends on #15263\n\nDepends on #15370\n\nDepends on #15302\n\nDepends on #15814\n\n**CC:**  @haraldschilly\n\n**Branch:** [u/vbraun/optional_databases](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/optional_databases)\n\n**Commit:** [5b72359a8c98b14002e8a4e35600d9252280c7c7](https://github.com/sagemath/sagetrac-mirror/commit/5b72359a8c98b14002e8a4e35600d9252280c7c7)\n\n**Reviewer:** Volker Braun\n\n**Author:** Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/14962\n\n",
    "closed_at": "2013-12-16T13:53:16Z",
    "created_at": "2013-07-24T09:06:59Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.0",
    "title": "make sure all optional packages work in the git repository",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/14962",
    "user": "https://github.com/ohanar"
}
```
we support them, so we need to make sure they will continue to work

Script to systematically try out all optional spkgs: http://boxen.math.washington.edu/home/vbraun/Sage/Testing/test_optional_packages.sh

The optional databases will be dealt with here, other packages should make separate tickets. Use the following new "upstream" tarballs:
* http://boxen.math.washington.edu/home/vbraun/upstream/database_cremona_ellcurve-20121022.tar.bz2

Leave for later, don't work and no SPKG.txt:
* cunningham_tables
* database_jones_numfield
* database_kohel
* database_odlyzko_zeta
* database_sloane_oeis
* database_stein_watkins_mini.p0

Move to experimental (broken with or without git, probably for a long time):
* fricas (doesn't build with our ecl)
* fricas-aldor (dito)
* libcocoa (doesn't build with our gmp/mpir)

Delete for other reasons:
* jsmath_image_fonts (we switched to mathjax)


Depends on #15172

Depends on #15261

Depends on #15263

Depends on #15370

Depends on #15302

Depends on #15814

**CC:**  @haraldschilly

**Branch:** [u/vbraun/optional_databases](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/optional_databases)

**Commit:** [5b72359a8c98b14002e8a4e35600d9252280c7c7](https://github.com/sagemath/sagetrac-mirror/commit/5b72359a8c98b14002e8a4e35600d9252280c7c7)

**Reviewer:** Volker Braun

**Author:** Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/14962





---

archive/issue_comments_185757.json:
```json
{
    "body": "**Branch:** [u/ohanar/optional](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/optional)",
    "created_at": "2013-08-05T19:50:27Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185757",
    "user": "https://github.com/ohanar"
}
```

**Branch:** [u/ohanar/optional](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/optional)



---

archive/issue_comments_185758.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** Recent commits:\n|                   |                                         |\n|-------------------|-----------------------------------------|\n|[changeset:acbbe0d]|Merge branch 'build_system' into optional|\n|[changeset:2535903]|[FIXUP] optional: add git specific files|\n|[changeset:c463e93]|[CLEANUP] remove hgignores|\n|[changeset:8bb933a]|Merge in optional packages|\n|[changeset:4ea72f0]|Trac #14909: Add new dependencies of the HAP package|",
    "created_at": "2013-09-01T01:57:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** Recent commits:
|                   |                                         |
|-------------------|-----------------------------------------|
|[changeset:acbbe0d]|Merge branch 'build_system' into optional|
|[changeset:2535903]|[FIXUP] optional: add git specific files|
|[changeset:c463e93]|[CLEANUP] remove hgignores|
|[changeset:8bb933a]|Merge in optional packages|
|[changeset:4ea72f0]|Trac #14909: Add new dependencies of the HAP package|



---

archive/issue_comments_185759.json:
```json
{
    "body": "**Commit:** [acbbe0dce4ad570153083146a34e660dd620ab6f](https://github.com/sagemath/sagetrac-mirror/commit/acbbe0dce4ad570153083146a34e660dd620ab6f)",
    "created_at": "2013-09-01T01:57:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [acbbe0dce4ad570153083146a34e660dd620ab6f](https://github.com/sagemath/sagetrac-mirror/commit/acbbe0dce4ad570153083146a34e660dd620ab6f)



---

archive/issue_comments_185760.json:
```json
{
    "body": "**Changing branch** from \"[u/ohanar/optional](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/optional)\" to \"[u/ohanar/test](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/test)\".",
    "created_at": "2013-09-01T04:06:01Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185760",
    "user": "https://github.com/ohanar"
}
```

**Changing branch** from "[u/ohanar/optional](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/optional)" to "[u/ohanar/test](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/test)".



---

archive/issue_comments_185761.json:
```json
{
    "body": "**Changing commit** from \"[acbbe0dce4ad570153083146a34e660dd620ab6f](https://github.com/sagemath/sagetrac-mirror/commit/acbbe0dce4ad570153083146a34e660dd620ab6f)\" to \"[cfd9dd10cf3ff3dab9d10f61f82c418723b0e395](https://github.com/sagemath/sagetrac-mirror/commit/cfd9dd10cf3ff3dab9d10f61f82c418723b0e395)\".",
    "created_at": "2013-09-01T04:06:32Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185761",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[acbbe0dce4ad570153083146a34e660dd620ab6f](https://github.com/sagemath/sagetrac-mirror/commit/acbbe0dce4ad570153083146a34e660dd620ab6f)" to "[cfd9dd10cf3ff3dab9d10f61f82c418723b0e395](https://github.com/sagemath/sagetrac-mirror/commit/cfd9dd10cf3ff3dab9d10f61f82c418723b0e395)".



---

archive/issue_comments_185762.json:
```json
{
    "body": "**Changing commit** from \"[cfd9dd10cf3ff3dab9d10f61f82c418723b0e395](https://github.com/sagemath/sagetrac-mirror/commit/cfd9dd10cf3ff3dab9d10f61f82c418723b0e395)\" to \"[cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500](https://github.com/sagemath/sagetrac-mirror/commit/cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500)\".",
    "created_at": "2013-09-01T04:18:40Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185762",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cfd9dd10cf3ff3dab9d10f61f82c418723b0e395](https://github.com/sagemath/sagetrac-mirror/commit/cfd9dd10cf3ff3dab9d10f61f82c418723b0e395)" to "[cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500](https://github.com/sagemath/sagetrac-mirror/commit/cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500)".



---

archive/issue_comments_185763.json:
```json
{
    "body": "**Changing commit** from \"[cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500](https://github.com/sagemath/sagetrac-mirror/commit/cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500)\" to \"[728e542453259b59b7e012f382e141652671d425](https://github.com/sagemath/sagetrac-mirror/commit/728e542453259b59b7e012f382e141652671d425)\".",
    "created_at": "2013-09-01T04:53:15Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500](https://github.com/sagemath/sagetrac-mirror/commit/cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500)" to "[728e542453259b59b7e012f382e141652671d425](https://github.com/sagemath/sagetrac-mirror/commit/728e542453259b59b7e012f382e141652671d425)".



---

archive/issue_comments_185764.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** New commits:",
    "created_at": "2013-09-01T04:53:15Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** New commits:



---

archive/issue_comments_185765.json:
```json
{
    "body": "**Changing commit** from \"[728e542453259b59b7e012f382e141652671d425](https://github.com/sagemath/sagetrac-mirror/commit/728e542453259b59b7e012f382e141652671d425)\" to \"[cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500](https://github.com/sagemath/sagetrac-mirror/commit/cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500)\".",
    "created_at": "2013-09-01T04:53:22Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[728e542453259b59b7e012f382e141652671d425](https://github.com/sagemath/sagetrac-mirror/commit/728e542453259b59b7e012f382e141652671d425)" to "[cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500](https://github.com/sagemath/sagetrac-mirror/commit/cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500)".



---

archive/issue_comments_185766.json:
```json
{
    "body": "**Changing commit** from \"[cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500](https://github.com/sagemath/sagetrac-mirror/commit/cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500)\" to \"\".",
    "created_at": "2013-10-06T19:21:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185766",
    "user": "https://github.com/vbraun"
}
```

**Changing commit** from "[cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500](https://github.com/sagemath/sagetrac-mirror/commit/cf45f4588bbc4e8ec59cc11b96dd4afc1abc7500)" to "".



---

archive/issue_comments_185767.json:
```json
{
    "body": "**Dependencies:** #15172",
    "created_at": "2013-10-06T19:21:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185767",
    "user": "https://github.com/vbraun"
}
```

**Dependencies:** #15172



---

archive/issue_comments_185768.json:
```json
{
    "body": "<a id='comment:8'></a>\n4ti2 is currently broken (not related to the git transition) but works with the update at #15172.",
    "created_at": "2013-10-06T19:21:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185768",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
4ti2 is currently broken (not related to the git transition) but works with the update at #15172.



---

archive/issue_comments_185769.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n we support them, so we need to make sure they will continue to work\n+\n+Script to systematically try out all optional spkgs: http://boxen.math.washington.edu/home/vbraun/Sage/Testing/test_optional_packages.sh\n``````\n",
    "created_at": "2013-10-06T19:21:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185769",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 we support them, so we need to make sure they will continue to work
+
+Script to systematically try out all optional spkgs: http://boxen.math.washington.edu/home/vbraun/Sage/Testing/test_optional_packages.sh
``````




---

archive/issue_comments_185770.json:
```json
{
    "body": "**Changing branch** from \"[u/ohanar/test](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/test)\" to \"\".",
    "created_at": "2013-10-06T19:21:45Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185770",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/ohanar/test](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/test)" to "".



---

archive/issue_comments_185771.json:
```json
{
    "body": "**Changing dependencies** from \"#15172\" to \"#15172, #15258\".",
    "created_at": "2013-10-06T21:20:48Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185771",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "#15172" to "#15172, #15258".



---

archive/issue_comments_185772.json:
```json
{
    "body": "<a id='comment:10'></a>\n#15258 fails, because it implements a dependency check in the `spkg-install` using `newest-version`. How should optional spkgs handle dependencies when they transition to the new layout, by adding to `deps`? Or put the dependency rule in a `<packagename>/deps` file that is included from `deps`? Or no dependency management?",
    "created_at": "2013-10-06T21:20:48Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185772",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
#15258 fails, because it implements a dependency check in the `spkg-install` using `newest-version`. How should optional spkgs handle dependencies when they transition to the new layout, by adding to `deps`? Or put the dependency rule in a `<packagename>/deps` file that is included from `deps`? Or no dependency management?



---

archive/issue_comments_185773.json:
```json
{
    "body": "<a id='comment:11'></a>\nFor right now I would say no dependency management -- any other solution at this point in time would require messing with the build system, which I don't want to do at the moment (so that we can get through this git transition).\n\nOn top of our current faux package manager I would say the best solution would be to replace (at least most of) `deps` with `<packagename>/deps`, but I'm not particularly interested in continuing the development of the current build system.",
    "created_at": "2013-10-06T22:27:45Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185773",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:11'></a>
For right now I would say no dependency management -- any other solution at this point in time would require messing with the build system, which I don't want to do at the moment (so that we can get through this git transition).

On top of our current faux package manager I would say the best solution would be to replace (at least most of) `deps` with `<packagename>/deps`, but I'm not particularly interested in continuing the development of the current build system.



---

archive/issue_comments_185774.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe following spkgs failed to install:\n\n```\nbrian\ncunningham_tables\ndatabase_cremona_ellcurve\ndatabase_jones_numfield\ndatabase_kohel\ndatabase_odlyzko_zeta\ndatabase_sloane_oeis\ndatabase_stein_watkins_mini.p0\ndatabase_symbolic_data\nfricas\nfricasaldor\njsmath_image_fonts\nlibcocoa\nlibtheora\nmpi4py\nopenssl\np_group_cohomology\nPyQt_x11\nTOPCOM\nvalgrind\n```\nLogfiles are here: http://boxen.math.washington.edu/home/vbraun/Sage/Testing/optional/",
    "created_at": "2013-10-07T10:38:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185774",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>
The following spkgs failed to install:

```
brian
cunningham_tables
database_cremona_ellcurve
database_jones_numfield
database_kohel
database_odlyzko_zeta
database_sloane_oeis
database_stein_watkins_mini.p0
database_symbolic_data
fricas
fricasaldor
jsmath_image_fonts
libcocoa
libtheora
mpi4py
openssl
p_group_cohomology
PyQt_x11
TOPCOM
valgrind
```
Logfiles are here: http://boxen.math.washington.edu/home/vbraun/Sage/Testing/optional/



---

archive/issue_comments_185775.json:
```json
{
    "body": "**Branch:** [u/vbraun/optional_databases](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/optional_databases)",
    "created_at": "2013-10-07T12:59:57Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185775",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [u/vbraun/optional_databases](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/optional_databases)



---

archive/issue_comments_185776.json:
```json
{
    "body": "**Commit:** [5b72359a8c98b14002e8a4e35600d9252280c7c7](https://github.com/sagemath/sagetrac-mirror/commit/5b72359a8c98b14002e8a4e35600d9252280c7c7)",
    "created_at": "2013-10-07T12:59:57Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185776",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [5b72359a8c98b14002e8a4e35600d9252280c7c7](https://github.com/sagemath/sagetrac-mirror/commit/5b72359a8c98b14002e8a4e35600d9252280c7c7)



---

archive/issue_comments_185777.json:
```json
{
    "body": "<a id='comment:13'></a>\n**New commits:**\n<table><tr><td>[changeset:5b72359]</td><td><code>switched the large Cremona ellcurve database to the new git directory layout</code></td></tr></table>\n",
    "created_at": "2013-10-07T12:59:57Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185777",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
**New commits:**
<table><tr><td>[changeset:5b72359]</td><td><code>switched the large Cremona ellcurve database to the new git directory layout</code></td></tr></table>




---

archive/issue_comments_185778.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2013-10-07T12:59:57Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185778",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_185779.json:
```json
{
    "body": "<a id='comment:14'></a>\n`SAGE_DATA` is now `SAGE_LOCAL/share`, for the record.",
    "created_at": "2013-10-07T12:59:57Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185779",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'></a>
`SAGE_DATA` is now `SAGE_LOCAL/share`, for the record.



---

archive/issue_comments_185780.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n we support them, so we need to make sure they will continue to work\n \n Script to systematically try out all optional spkgs: http://boxen.math.washington.edu/home/vbraun/Sage/Testing/test_optional_packages.sh\n+\n+The optional databases will be dealt with here, other packages should make separate tickets. Use the following new \"upstream\" tarballs:\n+* http://boxen.math.washington.edu/home/vbraun/upstream/database_cremona_ellcurve-20121022.tar.bz2\n``````\n",
    "created_at": "2013-10-07T13:06:02Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185780",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 we support them, so we need to make sure they will continue to work
 
 Script to systematically try out all optional spkgs: http://boxen.math.washington.edu/home/vbraun/Sage/Testing/test_optional_packages.sh
+
+The optional databases will be dealt with here, other packages should make separate tickets. Use the following new "upstream" tarballs:
+* http://boxen.math.washington.edu/home/vbraun/upstream/database_cremona_ellcurve-20121022.tar.bz2
``````




---

archive/issue_comments_185781.json:
```json
{
    "body": "<a id='comment:16'></a>\nAlso, `extra_docs` barfs the extra docs into `SAGE_ROOT`.",
    "created_at": "2013-10-07T14:33:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185781",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
Also, `extra_docs` barfs the extra docs into `SAGE_ROOT`.



---

archive/issue_comments_185782.json:
```json
{
    "body": "<a id='comment:17'></a>\nI am not online with the git layout yet (need to attend a tutorial, at the least, though Volker's video was a helpful start) so I can't help with this writing or reviewing yet BUT I have diagnosed the brian problem.\n\n```\n./spkg-install: line 10: cd: /mnt/storage2TB/vbraun-data/Sage/spkg/standard/: No such file or directory\n./spkg-install: line 10: ./newest_version: No such file or directory\nFailed to find numpy.  Please install the numpy spkg.\n```\nThere are four tests of the following kind:\n\n```\nNUMPY=`cd $SAGE_ROOT/spkg/standard/; ./newest_version numpy`\n```\nSo where would we check the \"newest version\" now?   That's all one would need to do, or even check \"presence\" if the spkg placeholder txt files are no longer there.  (That said, I'm not sure if those checks are even really necessary, which would also fix it, I'm sure.  But if the fix is easy, then we should try that first.)",
    "created_at": "2013-10-07T14:47:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185782",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>
I am not online with the git layout yet (need to attend a tutorial, at the least, though Volker's video was a helpful start) so I can't help with this writing or reviewing yet BUT I have diagnosed the brian problem.

```
./spkg-install: line 10: cd: /mnt/storage2TB/vbraun-data/Sage/spkg/standard/: No such file or directory
./spkg-install: line 10: ./newest_version: No such file or directory
Failed to find numpy.  Please install the numpy spkg.
```
There are four tests of the following kind:

```
NUMPY=`cd $SAGE_ROOT/spkg/standard/; ./newest_version numpy`
```
So where would we check the "newest version" now?   That's all one would need to do, or even check "presence" if the spkg placeholder txt files are no longer there.  (That said, I'm not sure if those checks are even really necessary, which would also fix it, I'm sure.  But if the fix is easy, then we should try that first.)



---

archive/issue_comments_185783.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe brian spkg just needs to strip out all the dependency checking, then it should work. You can still make spkgs as in the old workflow. Git installation instructions are, by now, easy:\n\n```\ngit clone git://github.com/sagemath/sage.git\ncd sage\nmake\n```",
    "created_at": "2013-10-07T14:51:36Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185783",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>
The brian spkg just needs to strip out all the dependency checking, then it should work. You can still make spkgs as in the old workflow. Git installation instructions are, by now, easy:

```
git clone git://github.com/sagemath/sage.git
cd sage
make
```



---

archive/issue_comments_185784.json:
```json
{
    "body": "<a id='comment:19'></a>\n> The brian spkg just needs to strip out all the dependency checking, then it should work. \n\nAs I said:\n> > That said, I'm not sure if those checks are even really necessary, which would also fix it, I'm sure.\n\nI just don't remember why that was introduced.  #9675 doesn't make it clear, so when I open this ticket, I'll cc: the original author.  Otherwise I agree we should get rid of this.  I'll update the patch situation as well and perhaps upgrade Brian if I find time for all this- should be able to in the next couple days.\n> You can still make spkgs as in the old workflow. Git installation instructions are, by now, easy:\n\nGood to know!  And that includes all the spkg stuff.",
    "created_at": "2013-10-07T16:27:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185784",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:19'></a>
> The brian spkg just needs to strip out all the dependency checking, then it should work. 

As I said:
> > That said, I'm not sure if those checks are even really necessary, which would also fix it, I'm sure.

I just don't remember why that was introduced.  #9675 doesn't make it clear, so when I open this ticket, I'll cc: the original author.  Otherwise I agree we should get rid of this.  I'll update the patch situation as well and perhaps upgrade Brian if I find time for all this- should be able to in the next couple days.
> You can still make spkgs as in the old workflow. Git installation instructions are, by now, easy:

Good to know!  And that includes all the spkg stuff.



---

archive/issue_comments_185785.json:
```json
{
    "body": "<a id='comment:20'></a>\n> I just don't remember why that was introduced.  #9675 doesn't make it clear, so when I open this ticket, I'll cc: the original author.  Otherwise I agree we should get rid of this.  I'll update the patch situation as well and perhaps upgrade Brian if I find time for all this- should be able to in the next couple days.\n\nThis is now #15261.",
    "created_at": "2013-10-07T16:41:48Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185785",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>
> I just don't remember why that was introduced.  #9675 doesn't make it clear, so when I open this ticket, I'll cc: the original author.  Otherwise I agree we should get rid of this.  I'll update the patch situation as well and perhaps upgrade Brian if I find time for all this- should be able to in the next couple days.

This is now #15261.



---

archive/issue_comments_185786.json:
```json
{
    "body": "**Changing dependencies** from \"#15172, #15258\" to \"#15172, #15261\".",
    "created_at": "2013-10-07T23:09:17Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185786",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "#15172, #15258" to "#15172, #15261".



---

archive/issue_comments_185787.json:
```json
{
    "body": "<a id='comment:22'></a>\n* mpi4py actually works, just needs openmpi libraries/compiler wrapper installed",
    "created_at": "2013-10-17T20:33:53Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185787",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>
* mpi4py actually works, just needs openmpi libraries/compiler wrapper installed



---

archive/issue_comments_185788.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,20 @@\n \n The optional databases will be dealt with here, other packages should make separate tickets. Use the following new \"upstream\" tarballs:\n * http://boxen.math.washington.edu/home/vbraun/upstream/database_cremona_ellcurve-20121022.tar.bz2\n+\n+Move to experimental (broken with or without git, probably for a long time):\n+* fricas (doesn't build with our ecl)\n+* fricas-aldor (dito)\n+* libcocoa (doesn't build with our gmp/mpir)\n+\n+Delete because no copyright information (ask again on sage-devel first):\n+* cunningham_tables\n+* database_jones_numfield\n+* database_kohel\n+* database_odlyzko_zeta\n+* database_sloane_oeis\n+* database_stein_watkins_mini.p0\n+\n+Delete for other reasons:\n+* jsmath_image_fonts (we switched to mathjax)\n+\n``````\n",
    "created_at": "2013-10-17T20:33:53Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185788",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,20 @@
 
 The optional databases will be dealt with here, other packages should make separate tickets. Use the following new "upstream" tarballs:
 * http://boxen.math.washington.edu/home/vbraun/upstream/database_cremona_ellcurve-20121022.tar.bz2
+
+Move to experimental (broken with or without git, probably for a long time):
+* fricas (doesn't build with our ecl)
+* fricas-aldor (dito)
+* libcocoa (doesn't build with our gmp/mpir)
+
+Delete because no copyright information (ask again on sage-devel first):
+* cunningham_tables
+* database_jones_numfield
+* database_kohel
+* database_odlyzko_zeta
+* database_sloane_oeis
+* database_stein_watkins_mini.p0
+
+Delete for other reasons:
+* jsmath_image_fonts (we switched to mathjax)
+
``````




---

archive/issue_comments_185789.json:
```json
{
    "body": "**Changing dependencies** from \"#15172, #15261\" to \"#15172, #15261, #15263, #15302\".",
    "created_at": "2013-10-17T20:39:31Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185789",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "#15172, #15261" to "#15172, #15261, #15263, #15302".



---

archive/issue_comments_185790.json:
```json
{
    "body": "**Changing dependencies** from \"#15172, #15261, #15263, #15302\" to \"#15172, #15261, #15263, #15370 #15302\".",
    "created_at": "2013-11-07T18:46:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185790",
    "user": "https://github.com/ohanar"
}
```

**Changing dependencies** from "#15172, #15261, #15263, #15302" to "#15172, #15261, #15263, #15370 #15302".



---

archive/issue_events_130987.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-11-29T19:22:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14962#event-130987"
}
```



---

archive/issue_comments_185791.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n * fricas-aldor (dito)\n * libcocoa (doesn't build with our gmp/mpir)\n \n-Delete because no copyright information (ask again on sage-devel first):\n+Delete because no SPKG.txt:\n * cunningham_tables\n * database_jones_numfield\n * database_kohel\n``````\n",
    "created_at": "2013-11-29T19:22:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185791",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 * fricas-aldor (dito)
 * libcocoa (doesn't build with our gmp/mpir)
 
-Delete because no copyright information (ask again on sage-devel first):
+Delete because no SPKG.txt:
 * cunningham_tables
 * database_jones_numfield
 * database_kohel
``````




---

archive/issue_comments_185792.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,12 +5,7 @@\n The optional databases will be dealt with here, other packages should make separate tickets. Use the following new \"upstream\" tarballs:\n * http://boxen.math.washington.edu/home/vbraun/upstream/database_cremona_ellcurve-20121022.tar.bz2\n \n-Move to experimental (broken with or without git, probably for a long time):\n-* fricas (doesn't build with our ecl)\n-* fricas-aldor (dito)\n-* libcocoa (doesn't build with our gmp/mpir)\n-\n-Delete because no SPKG.txt:\n+Leave for later, don't work and no SPKG.txt:\n * cunningham_tables\n * database_jones_numfield\n * database_kohel\n@@ -18,6 +13,11 @@\n * database_sloane_oeis\n * database_stein_watkins_mini.p0\n \n+Move to experimental (broken with or without git, probably for a long time):\n+* fricas (doesn't build with our ecl)\n+* fricas-aldor (dito)\n+* libcocoa (doesn't build with our gmp/mpir)\n+\n Delete for other reasons:\n * jsmath_image_fonts (we switched to mathjax)\n \n``````\n",
    "created_at": "2013-12-16T13:43:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185792",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,12 +5,7 @@
 The optional databases will be dealt with here, other packages should make separate tickets. Use the following new "upstream" tarballs:
 * http://boxen.math.washington.edu/home/vbraun/upstream/database_cremona_ellcurve-20121022.tar.bz2
 
-Move to experimental (broken with or without git, probably for a long time):
-* fricas (doesn't build with our ecl)
-* fricas-aldor (dito)
-* libcocoa (doesn't build with our gmp/mpir)
-
-Delete because no SPKG.txt:
+Leave for later, don't work and no SPKG.txt:
 * cunningham_tables
 * database_jones_numfield
 * database_kohel
@@ -18,6 +13,11 @@
 * database_sloane_oeis
 * database_stein_watkins_mini.p0
 
+Move to experimental (broken with or without git, probably for a long time):
+* fricas (doesn't build with our ecl)
+* fricas-aldor (dito)
+* libcocoa (doesn't build with our gmp/mpir)
+
 Delete for other reasons:
 * jsmath_image_fonts (we switched to mathjax)
 
``````




---

archive/issue_comments_185793.json:
```json
{
    "body": "<a id='comment:26'></a>\nI'm setting this to positive review since clearly nobody else has the guts to review this ticket.\n\nThe `database_cremona_ellcurve-20121022.tar.bz2` tarball is already in the upstream dir, apparently.\n\nHarald, can you delete/move to trash: `fricas`, `fricas-aldor`, `libcocoa`, and `jsmath_image_fonts`? They are (and have been for a while) useless with or without git.",
    "created_at": "2013-12-16T13:43:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185793",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
I'm setting this to positive review since clearly nobody else has the guts to review this ticket.

The `database_cremona_ellcurve-20121022.tar.bz2` tarball is already in the upstream dir, apparently.

Harald, can you delete/move to trash: `fricas`, `fricas-aldor`, `libcocoa`, and `jsmath_image_fonts`? They are (and have been for a while) useless with or without git.



---

archive/issue_comments_185794.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2013-12-16T13:43:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185794",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_events_130988.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-16T13:43:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14962#event-130988"
}
```



---

archive/issue_events_130989.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-16T13:43:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14962#event-130989"
}
```



---

archive/issue_events_130990.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-16T13:53:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14962#event-130990"
}
```



---

archive/issue_events_130991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3e80db8cd602fc35b13fffad720250c2aa6b482f",
    "created_at": "2013-12-16T13:53:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14962#event-130991"
}
```



---

archive/issue_comments_185795.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [@vbraun](#comment%3A26):\n> Harald, can you delete/move to trash: `fricas`, `fricas-aldor`, `libcocoa`, and `jsmath_image_fonts`?\n\nok.",
    "created_at": "2013-12-16T17:52:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185795",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:29'></a>
Replying to [@vbraun](#comment%3A26):
> Harald, can you delete/move to trash: `fricas`, `fricas-aldor`, `libcocoa`, and `jsmath_image_fonts`?

ok.



---

archive/issue_comments_185796.json:
```json
{
    "body": "<a id='comment:30'></a>\nMy copy of database_stein_watkins_mini.p0.spkg does contain SPKG.txt:\n\n```\njec@atkin:~/spkg/database_stein_watkins_mini.p0$ ls -l\ntotal 12\n-rwx------ 1 jec jec   49 Mar 12  2010 spkg-install\n-rw------- 1 jec jec  389 Mar 13  2010 SPKG.txt\ndrwx------ 2 jec jec 4096 Nov  7  2005 stein-watkins-ecdb\n```\nso I think this one should be easy -- no compilaton, it just copies recurseively the directory to SAGE_DATA:\n\n```\njec@atkin:~/spkg/database_stein_watkins_mini.p0$ cat spkg-install \n#!/bin/sh\n\ncp -rf stein-watkins-ecdb $SAGE_DATA/\n```",
    "created_at": "2013-12-19T15:40:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185796",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:30'></a>
My copy of database_stein_watkins_mini.p0.spkg does contain SPKG.txt:

```
jec@atkin:~/spkg/database_stein_watkins_mini.p0$ ls -l
total 12
-rwx------ 1 jec jec   49 Mar 12  2010 spkg-install
-rw------- 1 jec jec  389 Mar 13  2010 SPKG.txt
drwx------ 2 jec jec 4096 Nov  7  2005 stein-watkins-ecdb
```
so I think this one should be easy -- no compilaton, it just copies recurseively the directory to SAGE_DATA:

```
jec@atkin:~/spkg/database_stein_watkins_mini.p0$ cat spkg-install 
#!/bin/sh

cp -rf stein-watkins-ecdb $SAGE_DATA/
```



---

archive/issue_comments_185797.json:
```json
{
    "body": "<a id='comment:31'></a>\nIf I was going to work on converting stein_watkins_mini, should I open a new ticket to hold the branch?",
    "created_at": "2013-12-20T11:29:04Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185797",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:31'></a>
If I was going to work on converting stein_watkins_mini, should I open a new ticket to hold the branch?



---

archive/issue_comments_185798.json:
```json
{
    "body": "<a id='comment:32'></a>\nPlease open a new ticket, this one is closed.\n\nstein_watkins_mini contains a skeleton SPKG.txt, but no description (what is it anyways?) and no license (=potentially not legal to distribute). William indicated in the ensuing thread on sage-devel that it is public domain afair.",
    "created_at": "2013-12-20T11:40:55Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185798",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>
Please open a new ticket, this one is closed.

stein_watkins_mini contains a skeleton SPKG.txt, but no description (what is it anyways?) and no license (=potentially not legal to distribute). William indicated in the ensuing thread on sage-devel that it is public domain afair.



---

archive/issue_comments_185799.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [@vbraun](#comment%3A32):\n> Please open a new ticket, this one is closed.\n\nSee #15556.\n\n> \n> stein_watkins_mini contains a skeleton SPKG.txt, but no description (what is it anyways?) and no license (=potentially not legal to distribute). William indicated in the ensuing thread on sage-devel that it is public domain afair.\n\nIt's a large collection of elliptic curves compiled by William Stein and Mark Watkins about 10 years ago, stored in simple compressed text files.  I'll put a reference to their paper in the SPKG.txt (it is already cited properly in the docstrings).",
    "created_at": "2013-12-20T12:18:15Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185799",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:33'></a>
Replying to [@vbraun](#comment%3A32):
> Please open a new ticket, this one is closed.

See #15556.

> 
> stein_watkins_mini contains a skeleton SPKG.txt, but no description (what is it anyways?) and no license (=potentially not legal to distribute). William indicated in the ensuing thread on sage-devel that it is public domain afair.

It's a large collection of elliptic curves compiled by William Stein and Mark Watkins about 10 years ago, stored in simple compressed text files.  I'll put a reference to their paper in the SPKG.txt (it is already cited properly in the docstrings).



---

archive/issue_comments_185800.json:
```json
{
    "body": "<a id='comment:34'></a>\nSee also #15814",
    "created_at": "2014-02-13T09:49:56Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185800",
    "user": "https://github.com/rwst"
}
```

<a id='comment:34'></a>
See also #15814



---

archive/issue_comments_185801.json:
```json
{
    "body": "**Changing dependencies** from \"#15172, #15261, #15263, #15370 #15302\" to \"#15172, #15261, #15263, #15370 #15302, #15814\".",
    "created_at": "2014-02-13T09:49:56Z",
    "issue": "https://github.com/sagemath/sage/issues/14962",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14962#issuecomment-185801",
    "user": "https://github.com/rwst"
}
```

**Changing dependencies** from "#15172, #15261, #15263, #15370 #15302" to "#15172, #15261, #15263, #15370 #15302, #15814".
