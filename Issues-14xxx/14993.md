# Issue 14993: Upgrade matplotlib to 1.3.1

archive/issues_014756.json:
```json
{
    "assignees": [],
    "body": "Matplotlib 1.3.1 was released.  Here is what is new: http://matplotlib.org/1.3.1/users/whats_new.html#new-in-matplotlib-1-3\n\nOf particular note is that pytz, dateutil, and pyparsing are no longer included and need to be installed separately: http://matplotlib.org/1.3.0/users/whats_new.html#new-setup-script\n\n---\n\nFiles to be added to the `upstream` directory:\n\n- http://sage.math.washington.edu/home/palmieri/SPKG/matplotlib-1.3.1.tar.gz (not vanilla source, as explained in SPKG.txt: a lot of graphics files have been removed)\n- http://sage.math.washington.edu/home/palmieri/SPKG/dateutil-2.2.tar.gz\n- http://sage.math.washington.edu/home/palmieri/SPKG/pyparsing-2.0.1.tar.gz\n- http://sage.math.washington.edu/home/palmieri/SPKG/six-1.4.1.tar.gz\n- http://sage.math.washington.edu/home/palmieri/SPKG/tornado-3.1.1.tar.gz\n\nRegarding the dependency on #15510: that ticket provides a recent version of `setuptools`. Without that, the matplotlib build will (on-the-fly) download the deprecated Python package `distribute`. It seems to work fine either way.\n\nRegarding all of these new files in `upstream`: as noted, matplotlib now no longer includes various dependencies. I thought it would be helpful to include them as separate files, in case other packages need them: then the dependencies in `build/deps` can be made precise and explicit.\n\nRegarding the patch to `setupext.py`: I'm not sure I converted it properly from the old version to the new one. It works on OS X 10.9, but there might very well be a better way to do it.\n\n\nDepends on #15510\nDepends on #15742\n\nBranch: **[`9a2bd33`](https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d)**\n\nReviewer: **Fran\u00e7ois Bissey, Volker Braun**\n\nAuthor: **John Palmieri**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14993_\n\n",
    "closed_at": "2014-03-19T18:27:22Z",
    "created_at": "2013-07-31T18:08:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade matplotlib to 1.3.1",
    "type": "issue",
    "updated_at": "2014-04-02T20:10:45Z",
    "url": "https://github.com/sagemath/sage/issues/14993",
    "user": "https://github.com/jasongrout"
}
```
Matplotlib 1.3.1 was released.  Here is what is new: http://matplotlib.org/1.3.1/users/whats_new.html#new-in-matplotlib-1-3

Of particular note is that pytz, dateutil, and pyparsing are no longer included and need to be installed separately: http://matplotlib.org/1.3.0/users/whats_new.html#new-setup-script

---

Files to be added to the `upstream` directory:

- http://sage.math.washington.edu/home/palmieri/SPKG/matplotlib-1.3.1.tar.gz (not vanilla source, as explained in SPKG.txt: a lot of graphics files have been removed)
- http://sage.math.washington.edu/home/palmieri/SPKG/dateutil-2.2.tar.gz
- http://sage.math.washington.edu/home/palmieri/SPKG/pyparsing-2.0.1.tar.gz
- http://sage.math.washington.edu/home/palmieri/SPKG/six-1.4.1.tar.gz
- http://sage.math.washington.edu/home/palmieri/SPKG/tornado-3.1.1.tar.gz

Regarding the dependency on #15510: that ticket provides a recent version of `setuptools`. Without that, the matplotlib build will (on-the-fly) download the deprecated Python package `distribute`. It seems to work fine either way.

Regarding all of these new files in `upstream`: as noted, matplotlib now no longer includes various dependencies. I thought it would be helpful to include them as separate files, in case other packages need them: then the dependencies in `build/deps` can be made precise and explicit.

Regarding the patch to `setupext.py`: I'm not sure I converted it properly from the old version to the new one. It works on OS X 10.9, but there might very well be a better way to do it.


Depends on #15510
Depends on #15742

Branch: **[`9a2bd33`](https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d)**

Reviewer: **François Bissey, Volker Braun**

Author: **John Palmieri**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/14993_





---

archive/issue_events_212868.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2013-07-31T18:08:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212868"
}
```



---

archive/issue_events_212869.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2013-07-31T18:08:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212869"
}
```



---

archive/issue_events_212870.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2013-07-31T18:08:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212870"
}
```



---

archive/issue_events_212871.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2013-07-31T18:08:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212871"
}
```



---

archive/issue_comments_183956.json:
```json
{
    "body": "Author: **nthiery**",
    "created_at": "2013-12-19T19:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183956",
    "user": "https://github.com/nathanncohen"
}
```

Author: **nthiery**



---

archive/issue_events_212872.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-12-19T19:42:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "title_is": "Upgrade matplotlib to 1.3.1",
    "title_was": "Upgrade matplotlib to 1.3.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212872"
}
```



---

archive/issue_comments_183957.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Matplotlib 1.3.0 was released today.  Here is what is new: http://matplotlib.org/1.3.0/users/whats_new.html#new-in-matplotlib-1-3\n+Matplotlib 1.3.1 was released.  Here is what is new: http://matplotlib.org/1.3.1/users/whats_new.html#new-in-matplotlib-1-3\n \n Of particular note is that pytz, dateutil, and pyparsing are no longer included and need to be installed separately: http://matplotlib.org/1.3.0/users/whats_new.html#new-setup-script\n \n``````\n",
    "created_at": "2013-12-19T19:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183957",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Matplotlib 1.3.0 was released today.  Here is what is new: http://matplotlib.org/1.3.0/users/whats_new.html#new-in-matplotlib-1-3
+Matplotlib 1.3.1 was released.  Here is what is new: http://matplotlib.org/1.3.1/users/whats_new.html#new-in-matplotlib-1-3
 
 Of particular note is that pytz, dateutil, and pyparsing are no longer included and need to be installed separately: http://matplotlib.org/1.3.0/users/whats_new.html#new-setup-script
 
``````




---

archive/issue_comments_183958.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI just gave it a try but gave up not very long after\n1) Sage patches matplotlib for some libpng detection issue, and this patch does not apply\n2) As it only seemed useful on Mac OS X I tried without that patch\n3) There is an error during the installation because of some \"https\" protocol that isn't supported\n\nThat's when I lost hope `^^;`\n\nNathann",
    "created_at": "2013-12-19T19:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183958",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1" align="right">comment:1</div>

I just gave it a try but gave up not very long after
1) Sage patches matplotlib for some libpng detection issue, and this patch does not apply
2) As it only seemed useful on Mac OS X I tried without that patch
3) There is an error during the installation because of some "https" protocol that isn't supported

That's when I lost hope `^^;`

Nathann



---

archive/issue_comments_183959.json:
```json
{
    "body": "Dependencies: **#15510**",
    "created_at": "2013-12-20T19:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183959",
    "user": "https://github.com/jhpalmieri"
}
```

Dependencies: **#15510**



---

archive/issue_events_212873.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2013-12-20T19:42:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212873"
}
```



---

archive/issue_comments_183960.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,19 @@\n \n Of particular note is that pytz, dateutil, and pyparsing are no longer included and need to be installed separately: http://matplotlib.org/1.3.0/users/whats_new.html#new-setup-script\n \n+---\n \n+Files to be added to the `upstream` directory:\n+\n+- http://sage.math.washington.edu/home/palmieri/SPKG/matplotlib-1.3.1.tar.gz (not vanilla source, as explained in SPKG.txt: a lot of graphics files have been removed)\n+- http://sage.math.washington.edu/home/palmieri/SPKG/dateutil-2.2.tar.gz\n+- http://sage.math.washington.edu/home/palmieri/SPKG/pyparsing-2.0.1.tar.gz\n+- http://sage.math.washington.edu/home/palmieri/SPKG/six-1.4.1.tar.gz\n+- http://sage.math.washington.edu/home/palmieri/SPKG/tornado-3.1.1.tar.gz\n+\n+Regarding the dependency on #15510: that ticket provides a recent version of `setuptools`. Without that, the matplotlib build will download the deprecated Python package `distribute`. It seems to work fine either way.\n+\n+Regarding all of these new files in `upstream`: as noted, matplotlib now no longer includes various dependencies. I thought it would be helpful to include them as separate files, in case other packages need them: then the dependencies in `build/deps` can be made precise and explicit.\n+\n+Regarding the patch to `setupext.py`: I'm not sure I converted it properly from the old version to the new one. It works on OS X 10.9, but there might very well be a better way to do it.\n+\n``````\n",
    "created_at": "2013-12-20T19:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183960",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,19 @@
 
 Of particular note is that pytz, dateutil, and pyparsing are no longer included and need to be installed separately: http://matplotlib.org/1.3.0/users/whats_new.html#new-setup-script
 
+---
 
+Files to be added to the `upstream` directory:
+
+- http://sage.math.washington.edu/home/palmieri/SPKG/matplotlib-1.3.1.tar.gz (not vanilla source, as explained in SPKG.txt: a lot of graphics files have been removed)
+- http://sage.math.washington.edu/home/palmieri/SPKG/dateutil-2.2.tar.gz
+- http://sage.math.washington.edu/home/palmieri/SPKG/pyparsing-2.0.1.tar.gz
+- http://sage.math.washington.edu/home/palmieri/SPKG/six-1.4.1.tar.gz
+- http://sage.math.washington.edu/home/palmieri/SPKG/tornado-3.1.1.tar.gz
+
+Regarding the dependency on #15510: that ticket provides a recent version of `setuptools`. Without that, the matplotlib build will download the deprecated Python package `distribute`. It seems to work fine either way.
+
+Regarding all of these new files in `upstream`: as noted, matplotlib now no longer includes various dependencies. I thought it would be helpful to include them as separate files, in case other packages need them: then the dependencies in `build/deps` can be made precise and explicit.
+
+Regarding the patch to `setupext.py`: I'm not sure I converted it properly from the old version to the new one. It works on OS X 10.9, but there might very well be a better way to do it.
+
``````




---

archive/issue_comments_183961.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI'm trying to attach the branch `u/jhpalmieri/14993` to this ticket, but trac isn't letting me. I'm attaching a diff, in case it helps with reviewing (and because I find the git/trac interface very slow).\n\nEdit: The branch `u/jhpalmieri/14993` exists, so you can test out my changes, but at the moment I can't attach it to this ticket in the `Branch` field.",
    "created_at": "2013-12-20T19:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183961",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">comment:2</div>

I'm trying to attach the branch `u/jhpalmieri/14993` to this ticket, but trac isn't letting me. I'm attaching a diff, in case it helps with reviewing (and because I find the git/trac interface very slow).

Edit: The branch `u/jhpalmieri/14993` exists, so you can test out my changes, but at the moment I can't attach it to this ticket in the `Branch` field.



---

archive/issue_comments_183962.json:
```json
{
    "body": "Changed author from **nthiery** to **jhpalmieri**",
    "created_at": "2013-12-20T19:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183962",
    "user": "https://github.com/jhpalmieri"
}
```

Changed author from **nthiery** to **jhpalmieri**



---

archive/issue_comments_183963.json:
```json
{
    "body": "Attachment: **[trac_14933.patch.gz](https://github.com/sagemath/sage/files/ticket14993/trac_14933.patch.gz)**\n\ndiff file, since I'm having problems uploading the relevant branch...",
    "created_at": "2013-12-20T21:30:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183963",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_14933.patch.gz](https://github.com/sagemath/sage/files/ticket14993/trac_14933.patch.gz)**

diff file, since I'm having problems uploading the relevant branch...



---

archive/issue_comments_183964.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n - http://sage.math.washington.edu/home/palmieri/SPKG/six-1.4.1.tar.gz\n - http://sage.math.washington.edu/home/palmieri/SPKG/tornado-3.1.1.tar.gz\n \n-Regarding the dependency on #15510: that ticket provides a recent version of `setuptools`. Without that, the matplotlib build will download the deprecated Python package `distribute`. It seems to work fine either way.\n+Regarding the dependency on #15510: that ticket provides a recent version of `setuptools`. Without that, the matplotlib build will (on-the-fly) download the deprecated Python package `distribute`. It seems to work fine either way.\n \n Regarding all of these new files in `upstream`: as noted, matplotlib now no longer includes various dependencies. I thought it would be helpful to include them as separate files, in case other packages need them: then the dependencies in `build/deps` can be made precise and explicit.\n \n``````\n",
    "created_at": "2013-12-20T21:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183964",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 - http://sage.math.washington.edu/home/palmieri/SPKG/six-1.4.1.tar.gz
 - http://sage.math.washington.edu/home/palmieri/SPKG/tornado-3.1.1.tar.gz
 
-Regarding the dependency on #15510: that ticket provides a recent version of `setuptools`. Without that, the matplotlib build will download the deprecated Python package `distribute`. It seems to work fine either way.
+Regarding the dependency on #15510: that ticket provides a recent version of `setuptools`. Without that, the matplotlib build will (on-the-fly) download the deprecated Python package `distribute`. It seems to work fine either way.
 
 Regarding all of these new files in `upstream`: as noted, matplotlib now no longer includes various dependencies. I thought it would be helpful to include them as separate files, in case other packages need them: then the dependencies in `build/deps` can be made precise and explicit.
 
``````




---

archive/issue_comments_183965.json:
```json
{
    "body": "Branch: **[u/jhpalmieri/14933](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14933)**",
    "created_at": "2013-12-21T00:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183965",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/jhpalmieri/14933](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14933)**



---

archive/issue_comments_183966.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSorry, I had a typo: it's `u/jhpalmieri/14993` (not `14933`). I can't set the branch to this: it leads to the error mentioned by Travis [on sage-devel](https://groups.google.com/d/topic/sage-devel/_fuMME8gUbk/discussion).",
    "created_at": "2013-12-21T00:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183966",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">comment:5</div>

Sorry, I had a typo: it's `u/jhpalmieri/14993` (not `14933`). I can't set the branch to this: it leads to the error mentioned by Travis [on sage-devel](https://groups.google.com/d/topic/sage-devel/_fuMME8gUbk/discussion).



---

archive/issue_comments_183967.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/14933](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14933)** to none",
    "created_at": "2013-12-21T00:24:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183967",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/jhpalmieri/14933](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14933)** to none



---

archive/issue_comments_183968.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHellooooooooooooO !\n\nCould you also provide the .tar.gz files for each package ? I tried to make mine but the hashes don't match, soo... `^^;`\n\nNathann",
    "created_at": "2013-12-21T09:33:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183968",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

HellooooooooooooO !

Could you also provide the .tar.gz files for each package ? I tried to make mine but the hashes don't match, soo... `^^;`

Nathann



---

archive/issue_comments_183969.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThe links for the tarballs are in the ticket description. Is that what you're looking for?",
    "created_at": "2013-12-21T16:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183969",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

The links for the tarballs are in the ticket description. Is that what you're looking for?



---

archive/issue_comments_183970.json:
```json
{
    "body": "Commit: **[`9c8bd0f`](https://github.com/sagemath/sagetrac-mirror/commit/9c8bd0f8fcab5d4119dbb7f72cd24dc96a0a4910)**",
    "created_at": "2013-12-21T16:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183970",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[`9c8bd0f`](https://github.com/sagemath/sagetrac-mirror/commit/9c8bd0f8fcab5d4119dbb7f72cd24dc96a0a4910)**



---

archive/issue_comments_183971.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c8bd0f\"><code>9c8bd0f</code></a></td><td><code>Trac 14993: remove extraneous backquote character in matplotlib/spkg-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98edf3c\"><code>98edf3c</code></a></td><td><code>Trac #14993: update dependencies for the dateutil package.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e9bffe\"><code>5e9bffe</code></a></td><td><code>Trac #14993: update matplotlib to version 1.3.1</code></td></tr></table>\n",
    "created_at": "2013-12-21T16:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183971",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:9"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c8bd0f"><code>9c8bd0f</code></a></td><td><code>Trac 14993: remove extraneous backquote character in matplotlib/spkg-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98edf3c"><code>98edf3c</code></a></td><td><code>Trac #14993: update dependencies for the dateutil package.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e9bffe"><code>5e9bffe</code></a></td><td><code>Trac #14993: update matplotlib to version 1.3.1</code></td></tr></table>




---

archive/issue_comments_183972.json:
```json
{
    "body": "Branch: **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)**",
    "created_at": "2013-12-21T16:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183972",
    "user": "https://github.com/jhpalmieri"
}
```

Branch: **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)**



---

archive/issue_comments_183973.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHelloooooo !\n\n> The links for the tarballs are in the ticket description. Is that what you're looking for?\n\nOoops sorry, I had not noticed you had updated it.\n\nWell, I gave it another try with those files and this part worked fine, but I still get the error I saw when I first tried it by myself :\nhttp://www.steinertriples.fr/m.log\n\nBy the way, for some reason the .log file that Sage claims should be located at /home/ncohen/.Sage/logs/pkgs/matplotlib-1.3.1.log does not exist.. But well `O_o`\n\nNathann",
    "created_at": "2013-12-22T10:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183973",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

Helloooooo !

> The links for the tarballs are in the ticket description. Is that what you're looking for?

Ooops sorry, I had not noticed you had updated it.

Well, I gave it another try with those files and this part worked fine, but I still get the error I saw when I first tried it by myself :
http://www.steinertriples.fr/m.log

By the way, for some reason the .log file that Sage claims should be located at /home/ncohen/.Sage/logs/pkgs/matplotlib-1.3.1.log does not exist.. But well `O_o`

Nathann



---

archive/issue_comments_183974.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI don't know why the error is occurring, but it looks like it is happening because of downloading the `distribute` package. \n\nOn one hand, I think if you updated `setuptools` (that is, ticket #15510), it would avoid this error. On the other hand, updating `setuptools` will cause problems with building and (if you get past that) doctesting the notebook.\n\nMaybe you can try downloading and installing `distribute` manually:\n\n```\ncurl -O http://pypi.python.org/packages/source/d/distribute/distribute-0.6.28.tar.gz\ntar xfz distribute-0.6.28.tar.gz\ncd distribute-0.6.28\nsage -sh\npython setup.py install\nexit\n```\n?",
    "created_at": "2013-12-22T16:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183974",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:11" align="right">comment:11</div>

I don't know why the error is occurring, but it looks like it is happening because of downloading the `distribute` package. 

On one hand, I think if you updated `setuptools` (that is, ticket #15510), it would avoid this error. On the other hand, updating `setuptools` will cause problems with building and (if you get past that) doctesting the notebook.

Maybe you can try downloading and installing `distribute` manually:

```
curl -O http://pypi.python.org/packages/source/d/distribute/distribute-0.6.28.tar.gz
tar xfz distribute-0.6.28.tar.gz
cd distribute-0.6.28
sage -sh
python setup.py install
exit
```
?



---

archive/issue_comments_183975.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nHMmmm... Well I prefer to keep my Sage install \"bad\", this way I will really be able to check whether this patch is okay when I will test it. If I install distribute I guess I won't be able to come back without recompiling Sage from scratch. So I guess my distribution is more useful, broken, to test this ticket `:-D`\n\nNathann",
    "created_at": "2013-12-22T16:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183975",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

HMmmm... Well I prefer to keep my Sage install "bad", this way I will really be able to check whether this patch is okay when I will test it. If I install distribute I guess I won't be able to come back without recompiling Sage from scratch. So I guess my distribution is more useful, broken, to test this ticket `:-D`

Nathann



---

archive/issue_comments_183976.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nNow #15510 should be okay to install, along with the new sagenb (#15569).",
    "created_at": "2013-12-24T06:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183976",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:13" align="right">comment:13</div>

Now #15510 should be okay to install, along with the new sagenb (#15569).



---

archive/issue_events_212874.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2013-12-26T20:02:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212874"
}
```



---

archive/issue_events_212875.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2013-12-26T20:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212875"
}
```



---

archive/issue_comments_183977.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI have been using it in sage-on-gentoo not long after it was released. There is no problem with it. The only issue here is because of matplotlib unbundling we have so many packages coming. I am positiving this.",
    "created_at": "2013-12-26T20:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183977",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:14" align="right">comment:14</div>

I have been using it in sage-on-gentoo not long after it was released. There is no problem with it. The only issue here is because of matplotlib unbundling we have so many packages coming. I am positiving this.



---

archive/issue_comments_183978.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHmmmmmmm `O_o`\n\nAnd so you have no problem with `distribute` it seems `O_o`\n\nNathann",
    "created_at": "2013-12-26T20:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183978",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

Hmmmmmmm `O_o`

And so you have no problem with `distribute` it seems `O_o`

Nathann



---

archive/issue_comments_183979.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI am cheating but going to a version of setuptools that is that recent is not necessary I believe but you need something more recent than 0.6.16 that I and Steve Trogdon put in sage for the upgrade to python 2.7 in sage 5.0 :)\nYou can blame me for the current version of setuptools in sage.",
    "created_at": "2013-12-26T22:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183979",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:16" align="right">comment:16</div>

I am cheating but going to a version of setuptools that is that recent is not necessary I believe but you need something more recent than 0.6.16 that I and Steve Trogdon put in sage for the upgrade to python 2.7 in sage 5.0 :)
You can blame me for the current version of setuptools in sage.



---

archive/issue_comments_183980.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOh, you think it is solved by #15510 and #15569 ? I'll try !\n\nNathann",
    "created_at": "2013-12-27T09:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183980",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

Oh, you think it is solved by #15510 and #15569 ? I'll try !

Nathann



---

archive/issue_events_212876.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212876"
}
```



---

archive/issue_events_212877.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212877"
}
```



---

archive/issue_comments_183981.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2014-01-31T23:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183981",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **François Bissey**



---

archive/issue_comments_183982.json:
```json
{
    "body": "Changed author from **jhpalmieri** to **John Palmieri**",
    "created_at": "2014-01-31T23:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183982",
    "user": "https://github.com/vbraun"
}
```

Changed author from **jhpalmieri** to **John Palmieri**



---

archive/issue_comments_183983.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nMerge conflict in build/pkgs/sagenb/checksums.ini, please fix",
    "created_at": "2014-01-31T23:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183983",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

Merge conflict in build/pkgs/sagenb/checksums.ini, please fix



---

archive/issue_events_212878.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-01-31T23:35:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212878"
}
```



---

archive/issue_events_212879.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-01-31T23:35:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212879"
}
```



---

archive/issue_comments_183984.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9793c95fc3c506036f910a8f639f8caf6935851b\"><code>9793c95</code></a></td><td><code>Merge branch 'develop' into matplotlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d17dc377c27c7cfb44d7559f220fcde7c21e52af\"><code>d17dc37</code></a></td><td><code>fix sagenb checksums.ini</code></td></tr></table>\n",
    "created_at": "2014-01-31T23:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183984",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9793c95fc3c506036f910a8f639f8caf6935851b"><code>9793c95</code></a></td><td><code>Merge branch 'develop' into matplotlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d17dc377c27c7cfb44d7559f220fcde7c21e52af"><code>d17dc37</code></a></td><td><code>fix sagenb checksums.ini</code></td></tr></table>




---

archive/issue_comments_183985.json:
```json
{
    "body": "Changed commit from **[`9c8bd0f`](https://github.com/sagemath/sagetrac-mirror/commit/9c8bd0f8fcab5d4119dbb7f72cd24dc96a0a4910)** to **[`d17dc37`](https://github.com/sagemath/sagetrac-mirror/commit/d17dc377c27c7cfb44d7559f220fcde7c21e52af)**",
    "created_at": "2014-01-31T23:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183985",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9c8bd0f`](https://github.com/sagemath/sagetrac-mirror/commit/9c8bd0f8fcab5d4119dbb7f72cd24dc96a0a4910)** to **[`d17dc37`](https://github.com/sagemath/sagetrac-mirror/commit/d17dc377c27c7cfb44d7559f220fcde7c21e52af)**



---

archive/issue_events_212880.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2014-01-31T23:36:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212880"
}
```



---

archive/issue_events_212881.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2014-01-31T23:36:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212881"
}
```



---

archive/issue_comments_183986.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThat should take care of it.",
    "created_at": "2014-01-31T23:36:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183986",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

That should take care of it.



---

archive/issue_comments_183987.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nFails to install with an infinite recursion\n\n```\n[...]\n                libagg: yes [pkg-config information for 'libagg' could not\n                        be found. Using local copy.]\n              freetype: yes [version 17.1.11]\nTraceback (most recent call last):\n  File \"setup.py\", line 148, in <module>\n    result = package.check()\n  File \"/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py\", line 915, in check\n    min_version='1.2')\n  File \"/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py\", line 434, in _check_for_pkg_config\n    ext = self.get_extension()\n  File \"/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py\", line 925, in get_extension\n    if self.check().find('Using unknown') == -1:\n  File \"/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py\", line 915, in check\n    min_version='1.2')\n  File \"/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py\", line 434, in _check_for_pkg_config\n[... repeat unil recursion limit...]\n```",
    "created_at": "2014-02-01T21:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183987",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

Fails to install with an infinite recursion

```
[...]
                libagg: yes [pkg-config information for 'libagg' could not
                        be found. Using local copy.]
              freetype: yes [version 17.1.11]
Traceback (most recent call last):
  File "setup.py", line 148, in <module>
    result = package.check()
  File "/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py", line 915, in check
    min_version='1.2')
  File "/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py", line 434, in _check_for_pkg_config
    ext = self.get_extension()
  File "/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py", line 925, in get_extension
    if self.check().find('Using unknown') == -1:
  File "/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py", line 915, in check
    min_version='1.2')
  File "/home/release/Sage/local/var/tmp/sage/build/matplotlib-1.3.1/src/setupext.py", line 434, in _check_for_pkg_config
[... repeat unil recursion limit...]
```



---

archive/issue_comments_183988.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nVery strange. Is pkg-config on the machine? That's the only thing I can think of looking at the code.",
    "created_at": "2014-02-02T02:01:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183988",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:24" align="right">comment:24</div>

Very strange. Is pkg-config on the machine? That's the only thing I can think of looking at the code.



---

archive/issue_comments_183989.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nYes, pkg-config is installed like on every modern machine.",
    "created_at": "2014-02-11T15:16:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183989",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Yes, pkg-config is installed like on every modern machine.



---

archive/issue_comments_183990.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI think we should try to drop the setupext.py patch. I think it is responsible for the problem Volker sees and I am not sure why it is needed at all.\nIf we end up with a problem without it, then ok we patch but in this case it will need revision. Even so I am not sure how it generates the recursion.",
    "created_at": "2014-02-24T01:30:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183990",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:26" align="right">comment:26</div>

I think we should try to drop the setupext.py patch. I think it is responsible for the problem Volker sees and I am not sure why it is needed at all.
If we end up with a problem without it, then ok we patch but in this case it will need revision. Even so I am not sure how it generates the recursion.



---

archive/issue_comments_183991.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI think that's a fine idea, but I don't have time to work on it right now. Can someone else produce a new version to see if that fixes Volker's problem (and also whether it builds on OS X)?",
    "created_at": "2014-02-24T03:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183991",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:27" align="right">comment:27</div>

I think that's a fine idea, but I don't have time to work on it right now. Can someone else produce a new version to see if that fixes Volker's problem (and also whether it builds on OS X)?



---

archive/issue_comments_183992.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOK so I tried things out a little bit. I reproduced Volker's problem locally (yuck). Removing setupext.py.patch enabled it to build and install on my linux x86_64 box. For various reasons I won't be starting testing things on maverick before Wednesday (OK Tuesday for most of you).",
    "created_at": "2014-02-24T09:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183992",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:28" align="right">comment:28</div>

OK so I tried things out a little bit. I reproduced Volker's problem locally (yuck). Removing setupext.py.patch enabled it to build and install on my linux x86_64 box. For various reasons I won't be starting testing things on maverick before Wednesday (OK Tuesday for most of you).



---

archive/issue_comments_183993.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI guess the big question is if it will build and work on an OS X machine without pkg-config.\n\nWhat's the status of Sage distributing pkg-config as a standard package?  That would make the patch a moot point.",
    "created_at": "2014-02-24T13:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183993",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:29" align="right">comment:29</div>

I guess the big question is if it will build and work on an OS X machine without pkg-config.

What's the status of Sage distributing pkg-config as a standard package?  That would make the patch a moot point.



---

archive/issue_comments_183994.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThere was an easier way of checking that. I renamed the pkg-config executable(s) on my system and tried to re-install matplotlib. It failed. So we either need a work around or make pkg-config a dependency of this ticket. I am favouring the later.",
    "created_at": "2014-02-25T00:28:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183994",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:30" align="right">comment:30</div>

There was an easier way of checking that. I renamed the pkg-config executable(s) on my system and tried to re-install matplotlib. It failed. So we either need a work around or make pkg-config a dependency of this ticket. I am favouring the later.



---

archive/issue_comments_183995.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAlso if we really want to patch, let's just not make it as a fallback but as a full blown configuration. After all the default you feed to build on OS X are just as valid on other platforms. I also notice that the building recommendations for matplotlib upstream for OS X will lead you to have pkg-config installed, either explicitly or as a dependency.",
    "created_at": "2014-02-25T07:29:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183995",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:31" align="right">comment:31</div>

Also if we really want to patch, let's just not make it as a fallback but as a full blown configuration. After all the default you feed to build on OS X are just as valid on other platforms. I also notice that the building recommendations for matplotlib upstream for OS X will lead you to have pkg-config installed, either explicitly or as a dependency.



---

archive/issue_comments_183996.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nActually I am not even sure how that patch is supposed to work on OS X, feels fishy to me. It certainly fail with that patch if I hide pkg-config.",
    "created_at": "2014-02-26T02:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183996",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

Actually I am not even sure how that patch is supposed to work on OS X, feels fishy to me. It certainly fail with that patch if I hide pkg-config.



---

archive/issue_comments_183997.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nJust confirmed, this doesn't work on my maverick laptop.",
    "created_at": "2014-02-26T08:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183997",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:33" align="right">comment:33</div>

Just confirmed, this doesn't work on my maverick laptop.



---

archive/issue_comments_183998.json:
```json
{
    "body": "Changed dependencies from **#15510** to **#15510, #15742**",
    "created_at": "2014-02-26T10:03:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183998",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#15510** to **#15510, #15742**



---

archive/issue_comments_183999.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nIMHO pkgconfig #15742 is ready to be merged. Just to clarify, Maverics with pkgconfig works for you?",
    "created_at": "2014-02-26T10:03:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-183999",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:34" align="right">comment:34</div>

IMHO pkgconfig #15742 is ready to be merged. Just to clarify, Maverics with pkgconfig works for you?



---

archive/issue_comments_184000.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nDidn't try that but I don't see how it wouldn't. Probably no time to test this tonight but will endeavour to do it sometimes tomorrow (past 11pm in my time zone).",
    "created_at": "2014-02-26T10:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184000",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

Didn't try that but I don't see how it wouldn't. Probably no time to test this tonight but will endeavour to do it sometimes tomorrow (past 11pm in my time zone).



---

archive/issue_comments_184001.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nOf course using pkg-config this ticket needs updating to reflect the dependency and remove the patch. I guess it needs a clean up.",
    "created_at": "2014-02-26T10:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184001",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:36" align="right">comment:36</div>

Of course using pkg-config this ticket needs updating to reflect the dependency and remove the patch. I guess it needs a clean up.



---

archive/issue_comments_184002.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOK so #15742 is a good help here. With it we can remove the setupext.py.patch and things install as they are meant too. I am not quite ready to make and push the two changes needed for this ticket:\n* Add pkgconf to matplotlib's dependencies\n* Remove the patch\nI'll give this a positive review if those things are done by someone else before me.",
    "created_at": "2014-02-27T09:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184002",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

OK so #15742 is a good help here. With it we can remove the setupext.py.patch and things install as they are meant too. I am not quite ready to make and push the two changes needed for this ticket:
* Add pkgconf to matplotlib's dependencies
* Remove the patch
I'll give this a positive review if those things are done by someone else before me.



---

archive/issue_comments_184003.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)** to **[u/vbraun/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/14993)**",
    "created_at": "2014-02-27T13:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184003",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)** to **[u/vbraun/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/14993)**



---

archive/issue_comments_184004.json:
```json
{
    "body": "Changed branch from **[u/vbraun/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/14993)** to **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)**",
    "created_at": "2014-02-27T16:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184004",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/vbraun/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/14993)** to **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)**



---

archive/issue_comments_184005.json:
```json
{
    "body": "Changed commit from **[`d17dc37`](https://github.com/sagemath/sagetrac-mirror/commit/d17dc377c27c7cfb44d7559f220fcde7c21e52af)** to **[`1daccdd`](https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec)**",
    "created_at": "2014-02-27T16:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184005",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`d17dc37`](https://github.com/sagemath/sagetrac-mirror/commit/d17dc377c27c7cfb44d7559f220fcde7c21e52af)** to **[`1daccdd`](https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec)**



---

archive/issue_comments_184006.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nThis fixes one or two other things: it adds licensing information for the new packages (tornado, etc.), it updates licensing information for matplotlib, it removes discussion of the deleted patch from SPKG.txt, and it fixes an error of mine in spkg-install.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec\"><code>1daccdd</code></a></td><td><code>remove setupext.py.patch and update license information</code></td></tr></table>\n",
    "created_at": "2014-02-27T16:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184006",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:39" align="right">comment:39</div>

This fixes one or two other things: it adds licensing information for the new packages (tornado, etc.), it updates licensing information for matplotlib, it removes discussion of the deleted patch from SPKG.txt, and it fixes an error of mine in spkg-install.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec"><code>1daccdd</code></a></td><td><code>remove setupext.py.patch and update license information</code></td></tr></table>




---

archive/issue_comments_184007.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)** to **[`1daccdd`](https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec)**",
    "created_at": "2014-02-27T21:28:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184007",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)** to **[`1daccdd`](https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec)**



---

archive/issue_events_212882.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-27T21:28:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212882"
}
```



---

archive/issue_events_212883.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-27T21:28:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212883"
}
```



---

archive/issue_comments_184008.json:
```json
{
    "body": "Changed commit from **[`1daccdd`](https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec)** to none",
    "created_at": "2014-02-28T13:33:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184008",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`1daccdd`](https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec)** to none



---

archive/issue_comments_184009.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nFails on SPARC Solaris:\n\n```\n/home/buildbot/build/sage/mark-1/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include/numpy/npy_deprecated_api.h:11:2: warning: #warning \"Using deprecated NumPy API, disable it by #defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION\" [-Wcpp]\nIn file included from lib/matplotlib/tri/_tri.cpp:8:0:\nlib/matplotlib/tri/_tri.h:821:33: error: expected unqualified-id before numeric constant\nlib/matplotlib/tri/_tri.cpp: In constructor 'RandomNumberGenerator::RandomNumberGenerator(long unsigned int)':\nlib/matplotlib/tri/_tri.cpp:2180:28: error: expected identifier before numeric constant\nlib/matplotlib/tri/_tri.cpp:2180:28: error: expected '{' before numeric constant\nlib/matplotlib/tri/_tri.cpp: At global scope:\nlib/matplotlib/tri/_tri.cpp:2180:28: error: expected unqualified-id before numeric constant\nerror: command 'gcc' failed with exit status 1\n```\nSee http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20mark%20%28SunOS%205.10-32%29%20incremental/builds/26/steps/compile/logs/matplotlib",
    "created_at": "2014-02-28T13:33:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184009",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:41" align="right">comment:41</div>

Fails on SPARC Solaris:

```
/home/buildbot/build/sage/mark-1/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include/numpy/npy_deprecated_api.h:11:2: warning: #warning "Using deprecated NumPy API, disable it by #defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
In file included from lib/matplotlib/tri/_tri.cpp:8:0:
lib/matplotlib/tri/_tri.h:821:33: error: expected unqualified-id before numeric constant
lib/matplotlib/tri/_tri.cpp: In constructor 'RandomNumberGenerator::RandomNumberGenerator(long unsigned int)':
lib/matplotlib/tri/_tri.cpp:2180:28: error: expected identifier before numeric constant
lib/matplotlib/tri/_tri.cpp:2180:28: error: expected '{' before numeric constant
lib/matplotlib/tri/_tri.cpp: At global scope:
lib/matplotlib/tri/_tri.cpp:2180:28: error: expected unqualified-id before numeric constant
error: command 'gcc' failed with exit status 1
```
See http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20mark%20%28SunOS%205.10-32%29%20incremental/builds/26/steps/compile/logs/matplotlib



---

archive/issue_comments_184010.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nHum, compiling c++ with a c compiler as well that was potential trouble anyway. Who has contact upstream?",
    "created_at": "2014-02-28T18:40:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184010",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:42" align="right">comment:42</div>

Hum, compiling c++ with a c compiler as well that was potential trouble anyway. Who has contact upstream?



---

archive/issue_comments_184011.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nFixed in this commit: https://github.com/matplotlib/matplotlib/pull/2464",
    "created_at": "2014-02-28T20:34:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184011",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:43" align="right">comment:43</div>

Fixed in this commit: https://github.com/matplotlib/matplotlib/pull/2464



---

archive/issue_comments_184012.json:
```json
{
    "body": "Commit: **[`def787e`](https://github.com/sagemath/sagetrac-mirror/commit/def787e444de039804cd3a416c140733aa1ad77f)**",
    "created_at": "2014-02-28T21:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184012",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[`def787e`](https://github.com/sagemath/sagetrac-mirror/commit/def787e444de039804cd3a416c140733aa1ad77f)**



---

archive/issue_comments_184013.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nOkay, I've imported their patch.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e9bffe79134dc328643e4eff36710b8d5637e93\"><code>5e9bffe</code></a></td><td><code>Trac #14993: update matplotlib to version 1.3.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98edf3c40a632162199fecfa18d9b77b56328a00\"><code>98edf3c</code></a></td><td><code>Trac #14993: update dependencies for the dateutil package.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c8bd0f8fcab5d4119dbb7f72cd24dc96a0a4910\"><code>9c8bd0f</code></a></td><td><code>Trac 14993: remove extraneous backquote character in matplotlib/spkg-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9793c95fc3c506036f910a8f639f8caf6935851b\"><code>9793c95</code></a></td><td><code>Merge branch 'develop' into matplotlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d17dc377c27c7cfb44d7559f220fcde7c21e52af\"><code>d17dc37</code></a></td><td><code>fix sagenb checksums.ini</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec\"><code>1daccdd</code></a></td><td><code>remove setupext.py.patch and update license information</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/def787e444de039804cd3a416c140733aa1ad77f\"><code>def787e</code></a></td><td><code>upstream patch to build on Solaris</code></td></tr></table>\n",
    "created_at": "2014-02-28T21:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184013",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:44" align="right">comment:44</div>

Okay, I've imported their patch.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e9bffe79134dc328643e4eff36710b8d5637e93"><code>5e9bffe</code></a></td><td><code>Trac #14993: update matplotlib to version 1.3.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98edf3c40a632162199fecfa18d9b77b56328a00"><code>98edf3c</code></a></td><td><code>Trac #14993: update dependencies for the dateutil package.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c8bd0f8fcab5d4119dbb7f72cd24dc96a0a4910"><code>9c8bd0f</code></a></td><td><code>Trac 14993: remove extraneous backquote character in matplotlib/spkg-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9793c95fc3c506036f910a8f639f8caf6935851b"><code>9793c95</code></a></td><td><code>Merge branch 'develop' into matplotlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d17dc377c27c7cfb44d7559f220fcde7c21e52af"><code>d17dc37</code></a></td><td><code>fix sagenb checksums.ini</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec"><code>1daccdd</code></a></td><td><code>remove setupext.py.patch and update license information</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/def787e444de039804cd3a416c140733aa1ad77f"><code>def787e</code></a></td><td><code>upstream patch to build on Solaris</code></td></tr></table>




---

archive/issue_comments_184014.json:
```json
{
    "body": "Changed branch from **[`1daccdd`](https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec)** to **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)**",
    "created_at": "2014-02-28T21:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184014",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[`1daccdd`](https://github.com/sagemath/sagetrac-mirror/commit/1daccdde68dc7fe607988c3a39c4720626dbdcec)** to **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)**



---

archive/issue_events_212884.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2014-02-28T21:38:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212884"
}
```



---

archive/issue_comments_184015.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d\"><code>9a2bd33</code></a></td><td><code>fix stupid typo in reserved_identifiers.patch</code></td></tr></table>\n",
    "created_at": "2014-02-28T22:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184015",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d"><code>9a2bd33</code></a></td><td><code>fix stupid typo in reserved_identifiers.patch</code></td></tr></table>




---

archive/issue_comments_184016.json:
```json
{
    "body": "Changed commit from **[`def787e`](https://github.com/sagemath/sagetrac-mirror/commit/def787e444de039804cd3a416c140733aa1ad77f)** to **[`9a2bd33`](https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d)**",
    "created_at": "2014-02-28T22:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184016",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`def787e`](https://github.com/sagemath/sagetrac-mirror/commit/def787e444de039804cd3a416c140733aa1ad77f)** to **[`9a2bd33`](https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d)**



---

archive/issue_comments_184017.json:
```json
{
    "body": "Changed reviewer from **Fran\u00e7ois Bissey** to **Fran\u00e7ois Bissey, Volker Braun**",
    "created_at": "2014-03-15T06:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184017",
    "user": "https://github.com/kiwifb"
}
```

Changed reviewer from **François Bissey** to **François Bissey, Volker Braun**



---

archive/issue_comments_184018.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nHum - oops let it slip. Now that all is well let's put it back to positive :)",
    "created_at": "2014-03-15T06:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184018",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:46" align="right">comment:46</div>

Hum - oops let it slip. Now that all is well let's put it back to positive :)



---

archive/issue_events_212885.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-03-15T06:38:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212885"
}
```



---

archive/issue_events_212886.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-03-15T06:38:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212886"
}
```



---

archive/issue_events_212887.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-19T18:27:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212887"
}
```



---

archive/issue_events_212888.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "de53f11e9bcec2d144628a02b705bc02ab409a24",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-03-19T18:27:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14993#event-212888"
}
```



---

archive/issue_comments_184019.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)** to **[`9a2bd33`](https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d)**",
    "created_at": "2014-03-19T18:27:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184019",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/14993](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/14993)** to **[`9a2bd33`](https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d)**



---

archive/issue_comments_184020.json:
```json
{
    "body": "Changed commit from **[`9a2bd33`](https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d)** to none",
    "created_at": "2014-03-29T16:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184020",
    "user": "https://github.com/anneschilling"
}
```

Changed commit from **[`9a2bd33`](https://github.com/sagemath/sagetrac-mirror/commit/9a2bd33e1c27a6330556da61f00fed06d6d8bd8d)** to none



---

archive/issue_comments_184021.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThis ticket seems to cause massive problems with view, dot2tex and latex. None of the crystal viewing tools work any longer! See comments on http://trac.sagemath.org/ticket/16026 . For example\n\n```\nd184:sage anne$ sage -i dot2tex\nAttempting to download package dot2tex\n>>> Checking online list of optional packages.\n[.]\n>>> Found dot2tex-2.8.7.p2\nPackage dot2tex-2.8.7.p2 is already installed.\nUse 'sage -f http://www.sagemath.org/spkg/optional/dot2tex-2.8.7.p2.spkg' to force a reinstallation.\nd184:sage anne$ sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Sage Version 6.2.beta5, Release Date: 2014-03-23                   \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: C = KirillovReshetikhinCrystal(['A',5,2], 3,1)\nsage: view(C)\ndot2tex not available.  Install after running 'sage -sh'\n```",
    "created_at": "2014-03-29T16:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184021",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:48" align="right">comment:48</div>

This ticket seems to cause massive problems with view, dot2tex and latex. None of the crystal viewing tools work any longer! See comments on http://trac.sagemath.org/ticket/16026 . For example

```
d184:sage anne$ sage -i dot2tex
Attempting to download package dot2tex
>>> Checking online list of optional packages.
[.]
>>> Found dot2tex-2.8.7.p2
Package dot2tex-2.8.7.p2 is already installed.
Use 'sage -f http://www.sagemath.org/spkg/optional/dot2tex-2.8.7.p2.spkg' to force a reinstallation.
d184:sage anne$ sage
┌────────────────────────────────────────────────────────────────────┐
│ Sage Version 6.2.beta5, Release Date: 2014-03-23                   │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: C = KirillovReshetikhinCrystal(['A',5,2], 3,1)
sage: view(C)
dot2tex not available.  Install after running 'sage -sh'
```



---

archive/issue_comments_184022.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI am having the same problem as Anne.\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Sage Version 6.2.beta5, Release Date: 2014-03-23                   \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: C = crystals.Tableaux(\"B2\",shape=[2,1])\nsage: view(C)\ndot2tex not available.  Install after running 'sage -sh'\nsage: quit\nBenBook:sage-git Ben$ sage -i dot2tex\nFound package dot2tex in /Users/Ben/sage-git/upstream/dot2tex-2.8.7.p2.spkg\nPackage dot2tex-2.8.7.p2 is already installed.\n```\n\nThe same problem also occurred after a forced reinstallation of dot2tex using `sage -i -f dot2tex`.  It should be noted that this problem only occurred after the upgrade from 6.2.beta4 to 6.2.beta5.",
    "created_at": "2014-03-29T16:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184022",
    "user": "https://github.com/bsalisbury1"
}
```

<div id="comment:49" align="right">comment:49</div>

I am having the same problem as Anne.

```
┌────────────────────────────────────────────────────────────────────┐
│ Sage Version 6.2.beta5, Release Date: 2014-03-23                   │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: C = crystals.Tableaux("B2",shape=[2,1])
sage: view(C)
dot2tex not available.  Install after running 'sage -sh'
sage: quit
BenBook:sage-git Ben$ sage -i dot2tex
Found package dot2tex in /Users/Ben/sage-git/upstream/dot2tex-2.8.7.p2.spkg
Package dot2tex-2.8.7.p2 is already installed.
```

The same problem also occurred after a forced reinstallation of dot2tex using `sage -i -f dot2tex`.  It should be noted that this problem only occurred after the upgrade from 6.2.beta4 to 6.2.beta5.



---

archive/issue_comments_184023.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nNote that #16047 is adding a patch to matplotlib (already in upstream) so if there is something similar to do to fix this crystal viewing problem with dot2tex one could add it at the same time.",
    "created_at": "2014-04-02T16:40:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184023",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:50" align="right">comment:50</div>

Note that #16047 is adding a patch to matplotlib (already in upstream) so if there is something similar to do to fix this crystal viewing problem with dot2tex one could add it at the same time.



---

archive/issue_comments_184024.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@kcrisman](#comment:50):\n> Note that #16047 is adding a patch to matplotlib (already in upstream) so if there is something similar to do to fix this crystal viewing problem with dot2tex one could add it at the same time.\n\nThe KR problem with dot2tex was fixed in #16026.",
    "created_at": "2014-04-02T20:10:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14993#issuecomment-184024",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@kcrisman](#comment:50):
> Note that #16047 is adding a patch to matplotlib (already in upstream) so if there is something similar to do to fix this crystal viewing problem with dot2tex one could add it at the same time.

The KR problem with dot2tex was fixed in #16026.
