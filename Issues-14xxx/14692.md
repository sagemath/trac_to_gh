# Issue 14692: Fix hardcoded 'make' in NTL's build scripts and track all files

archive/issues_014488.json:
```json
{
    "assignees": [
        "https://github.com/nexttime"
    ],
    "body": "**New spkg:** [http://boxen.math.washington.edu/home/vbraun/spkg/ntl-5.5.2.p3.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/ntl-5.5.2.p3.spkg)\n\n### ntl-5.5.2.p2 (Leif Leonhardy, Jean-Pierre Flori, 6 June 2013)\n* #14692: Patch upstream to use `$(MAKE)` (instead of `make`) in the generated\n  Makefile (and in two scripts called from the Makefile which in turn invoke\n  `make`).  As a consequence, also some parts are now properly built in\n  parallel if `make` was told to use multiple jobs.\n* Minor clean-up of `spkg-install` and `spkg-check`.\n* Refactor and rename patches.\n\n### ntl-5.5.2.p3 (Volker Braun, July 10 2013)\n* #14692: Add spkg-src and track all files.\n\n### For review purposes\n* p0->p1: [attachment: ntl-5.5.2.p0-p1.diff](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p0-p1.diff.gz)\n* p1->p2: [attachment: ntl-5.5.2.p2.patch](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz)\n* p2->p3: [attachment: ntl-p2-p3.diff](https://github.com/sagemath/sage/files/ticket14692/ntl-p2-p3.diff.gz)\n\nDepends on #2114\n\nCC:  @jpflori\n\nComponent: **packages: standard**\n\nKeywords: **spkg ntl**\n\nAuthor: **Leif Leonhardy, Jean-Pierre Flori, Volker Braun**\n\nReviewer: **Leif Leonhardy, Jean-Pierre Flori**\n\nMerged: **sage-5.12.beta0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14692_\n\n",
    "closed_at": "2013-08-02T14:18:56Z",
    "created_at": "2013-06-05T19:20:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.12",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix hardcoded 'make' in NTL's build scripts and track all files",
    "type": "issue",
    "updated_at": "2013-08-02T14:18:56Z",
    "url": "https://github.com/sagemath/sage/issues/14692",
    "user": "https://github.com/nexttime"
}
```
**New spkg:** [http://boxen.math.washington.edu/home/vbraun/spkg/ntl-5.5.2.p3.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/ntl-5.5.2.p3.spkg)

### ntl-5.5.2.p2 (Leif Leonhardy, Jean-Pierre Flori, 6 June 2013)
* #14692: Patch upstream to use `$(MAKE)` (instead of `make`) in the generated
  Makefile (and in two scripts called from the Makefile which in turn invoke
  `make`).  As a consequence, also some parts are now properly built in
  parallel if `make` was told to use multiple jobs.
* Minor clean-up of `spkg-install` and `spkg-check`.
* Refactor and rename patches.

### ntl-5.5.2.p3 (Volker Braun, July 10 2013)
* #14692: Add spkg-src and track all files.

### For review purposes
* p0->p1: [attachment: ntl-5.5.2.p0-p1.diff](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p0-p1.diff.gz)
* p1->p2: [attachment: ntl-5.5.2.p2.patch](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz)
* p2->p3: [attachment: ntl-p2-p3.diff](https://github.com/sagemath/sage/files/ticket14692/ntl-p2-p3.diff.gz)

Depends on #2114

CC:  @jpflori

Component: **packages: standard**

Keywords: **spkg ntl**

Author: **Leif Leonhardy, Jean-Pierre Flori, Volker Braun**

Reviewer: **Leif Leonhardy, Jean-Pierre Flori**

Merged: **sage-5.12.beta0**

_Issue created by migration from https://trac.sagemath.org/ticket/14692_





---

archive/issue_events_206478.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-05T19:20:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206478"
}
```



---

archive/issue_events_206479.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-05T19:20:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206479"
}
```



---

archive/issue_events_206480.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-05T19:20:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206480"
}
```



---

archive/issue_events_206481.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-05T19:20:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206481"
}
```



---

archive/issue_events_206482.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-05T19:20:48Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "subject": "https://github.com/nexttime",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206482"
}
```



---

archive/issue_comments_178476.json:
```json
{
    "body": "Diff between the `.p0` and the `.p1`.  For reference / review only.",
    "created_at": "2013-06-05T20:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178476",
    "user": "https://github.com/nexttime"
}
```

Diff between the `.p0` and the `.p1`.  For reference / review only.



---

archive/issue_comments_178477.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,14 @@\n-Fixed spkg on the way...\n+**New spkg:** [http://boxen.math.washington.edu/home/leif/Sage/spkgs/ntl-5.5.2.p1.spkg](http://boxen.math.washington.edu/home/leif/Sage/spkgs/ntl-5.5.2.p1.spkg)\n \n+**md5sum:** `0cc1f3b89be48a1a091a89f113ea549b  ntl-5.5.2.p1.spkg`\n+\n+\n+### ntl-5.5.2.p1 (Leif Leonhardy, June 5th 2013)\n+* #14692: Patch upstream to use `$(MAKE)` (instead of `make`) in the generated\n+  Makefile (and in two scripts called from the Makefile which in turn invoke\n+  `make`).  As a consequence, also some parts are now properly built in\n+  parallel if `make` was told to use multiple jobs.\n+* Minor clean-up of `spkg-install` and `spkg-check`.\n+\n+\n+\n``````\n",
    "created_at": "2013-06-05T20:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178477",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,14 @@
-Fixed spkg on the way...
+**New spkg:** [http://boxen.math.washington.edu/home/leif/Sage/spkgs/ntl-5.5.2.p1.spkg](http://boxen.math.washington.edu/home/leif/Sage/spkgs/ntl-5.5.2.p1.spkg)
 
+**md5sum:** `0cc1f3b89be48a1a091a89f113ea549b  ntl-5.5.2.p1.spkg`
+
+
+### ntl-5.5.2.p1 (Leif Leonhardy, June 5th 2013)
+* #14692: Patch upstream to use `$(MAKE)` (instead of `make`) in the generated
+  Makefile (and in two scripts called from the Makefile which in turn invoke
+  `make`).  As a consequence, also some parts are now properly built in
+  parallel if `make` was told to use multiple jobs.
+* Minor clean-up of `spkg-install` and `spkg-check`.
+
+
+
``````




---

archive/issue_comments_178478.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[ntl-5.5.2.p0-p1.diff.gz](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p0-p1.diff.gz)**",
    "created_at": "2013-06-05T20:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178478",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[ntl-5.5.2.p0-p1.diff.gz](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p0-p1.diff.gz)**



---

archive/issue_events_206483.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-05T20:57:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206483"
}
```



---

archive/issue_events_206484.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-06T09:17:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206484"
}
```



---

archive/issue_events_206485.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-06T09:17:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206485"
}
```



---

archive/issue_comments_178479.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI think it would be much better to have just one patch fixing this issue, instead of 3 (one per file). This makes it easier to document what the patch does (`SPKG.txt` should mention this patch).\n\nAlso, having just one patch makes it easier to report upstream (which should be done).",
    "created_at": "2013-06-06T09:17:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178479",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

I think it would be much better to have just one patch fixing this issue, instead of 3 (one per file). This makes it easier to document what the patch does (`SPKG.txt` should mention this patch).

Also, having just one patch makes it easier to report upstream (which should be done).



---

archive/issue_comments_178480.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSame feeling as Jeroen.\nIf you also feel like contacting Shoup to integrate all of our patches, please go ahead :)",
    "created_at": "2013-06-06T09:21:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178480",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:3" align="right">comment:3</div>

Same feeling as Jeroen.
If you also feel like contacting Shoup to integrate all of our patches, please go ahead :)



---

archive/issue_comments_178481.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThat's (to some extent) a matter of taste, although I actually prefer [cumulative] patches with \"verbose names\", too.  (It only sometimes gets messy when different patches patch the same files, and especially when they're applied in some \"random\" order.) \n\nBut there was already `patches/mfile.patch` (fixing Cygwin stuff<sup>*</sup>), so I followed the scheme that was already there.\n\n---\n\n<sup>*</sup> Does anyone recall OTOH who added that?  XD",
    "created_at": "2013-06-06T15:09:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178481",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:4" align="right">comment:4</div>

That's (to some extent) a matter of taste, although I actually prefer [cumulative] patches with "verbose names", too.  (It only sometimes gets messy when different patches patch the same files, and especially when they're applied in some "random" order.) 

But there was already `patches/mfile.patch` (fixing Cygwin stuff<sup>*</sup>), so I followed the scheme that was already there.

---

<sup>*</sup> Does anyone recall OTOH who added that?  XD



---

archive/issue_comments_178482.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI guess I'm the culprit for the Cygwin patch...\nAs all the previous patches only have one purpose and touch only one file, it may be a good time to rename them, DoConfig and mfile are not really talkative.\n\nOf course patching the same file multiple times with your new set of patches might be problematic.",
    "created_at": "2013-06-06T15:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178482",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:5" align="right">comment:5</div>

I guess I'm the culprit for the Cygwin patch...
As all the previous patches only have one purpose and touch only one file, it may be a good time to rename them, DoConfig and mfile are not really talkative.

Of course patching the same file multiple times with your new set of patches might be problematic.



---

archive/issue_comments_178483.json:
```json
{
    "body": "Dependencies: **#2114**",
    "created_at": "2013-06-06T15:23:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178483",
    "user": "https://github.com/jpflori"
}
```

Dependencies: **#2114**



---

archive/issue_comments_178484.json:
```json
{
    "body": "Work Issues: **rename and refactor patches, rebase on top of #2114**",
    "created_at": "2013-06-06T15:23:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178484",
    "user": "https://github.com/jpflori"
}
```

Work Issues: **rename and refactor patches, rebase on top of #2114**



---

archive/issue_comments_178485.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI'd say the easiest way to go now is to rebase this ticket on the trivial change of #2114.",
    "created_at": "2013-06-06T15:23:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178485",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:6" align="right">comment:6</div>

I'd say the easiest way to go now is to rebase this ticket on the trivial change of #2114.



---

archive/issue_comments_178486.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jpflori](#comment%3A6):\n> I'd say the easiest way to go now is to rebase this ticket on the trivial change of #2114.\n\nAu contraire I'd say (if that's correctly spelled).",
    "created_at": "2013-06-06T15:29:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178486",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jpflori](#comment%3A6):
> I'd say the easiest way to go now is to rebase this ticket on the trivial change of #2114.

Au contraire I'd say (if that's correctly spelled).



---

archive/issue_comments_178487.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIs \"refactor and rename patches\" in any way related to the ticket's subject, namely fixing a **defect** (which the current spkg properly does)?\n\nHonestly, if you feel all the patches should be restructured (including their documentation), that can be done on another ticket.",
    "created_at": "2013-06-06T15:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178487",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:8" align="right">comment:8</div>

Is "refactor and rename patches" in any way related to the ticket's subject, namely fixing a **defect** (which the current spkg properly does)?

Honestly, if you feel all the patches should be restructured (including their documentation), that can be done on another ticket.



---

archive/issue_comments_178488.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@nexttime](#comment%3A8):\n> Is \"refactor and rename patches\" in any way related to the ticket's subject, namely fixing a **defect** (which the current spkg properly does)?\n\nPerhaps what is meant is simply my comment about having *one* patch to fix `make` and documenting that patch in `SPKG.txt`.",
    "created_at": "2013-06-06T19:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178488",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@nexttime](#comment%3A8):
> Is "refactor and rename patches" in any way related to the ticket's subject, namely fixing a **defect** (which the current spkg properly does)?

Perhaps what is meant is simply my comment about having *one* patch to fix `make` and documenting that patch in `SPKG.txt`.



---

archive/issue_comments_178489.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nYeah, let's just do that.\n\nTo properly refactor we should split the libtool part in DoConfig.patch and merge it with mfile.patch into a libtool_flag.patch later and put the remaining part into a disable_help.patch.\nMaybe move new.h.patch to new_singular.patch.\nAnd properly document everything in SPKG.txt by reflecting what is done by which patch (although the names should be then more talkative).\nBut I can do that in a folow up ticket.",
    "created_at": "2013-06-06T19:53:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178489",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:10" align="right">comment:10</div>

Yeah, let's just do that.

To properly refactor we should split the libtool part in DoConfig.patch and merge it with mfile.patch into a libtool_flag.patch later and put the remaining part into a disable_help.patch.
Maybe move new.h.patch to new_singular.patch.
And properly document everything in SPKG.txt by reflecting what is done by which patch (although the names should be then more talkative).
But I can do that in a folow up ticket.



---

archive/issue_comments_178490.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI've put an spkg doing all the above and based on #2114 at:\n* http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg",
    "created_at": "2013-06-06T20:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178490",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:11" align="right">comment:11</div>

I've put an spkg doing all the above and based on #2114 at:
* http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg



---

archive/issue_comments_178491.json:
```json
{
    "body": "Attachment: **[ntl-5.5.2.p2.patch.gz](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz)**\n\nSpkg diff, for review only.",
    "created_at": "2013-06-06T20:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178491",
    "user": "https://github.com/jpflori"
}
```

Attachment: **[ntl-5.5.2.p2.patch.gz](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz)**

Spkg diff, for review only.



---

archive/issue_events_206486.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T20:34:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206486"
}
```



---

archive/issue_events_206487.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T20:34:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206487"
}
```



---

archive/issue_comments_178492.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,14 +1,12 @@\n-**New spkg:** [http://boxen.math.washington.edu/home/leif/Sage/spkgs/ntl-5.5.2.p1.spkg](http://boxen.math.washington.edu/home/leif/Sage/spkgs/ntl-5.5.2.p1.spkg)\n+**New spkg:** [http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg](http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg)\n \n-**md5sum:** `0cc1f3b89be48a1a091a89f113ea549b  ntl-5.5.2.p1.spkg`\n-\n-\n-### ntl-5.5.2.p1 (Leif Leonhardy, June 5th 2013)\n+### ntl-5.5.2.p2 (Leif Leonhardy, Jean-Pierre Flori, 6 June 2013)\n * #14692: Patch upstream to use `$(MAKE)` (instead of `make`) in the generated\n   Makefile (and in two scripts called from the Makefile which in turn invoke\n   `make`).  As a consequence, also some parts are now properly built in\n   parallel if `make` was told to use multiple jobs.\n * Minor clean-up of `spkg-install` and `spkg-check`.\n+* Refactor and rename patches.\n \n \n \n``````\n",
    "created_at": "2013-06-06T20:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178492",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,14 +1,12 @@
-**New spkg:** [http://boxen.math.washington.edu/home/leif/Sage/spkgs/ntl-5.5.2.p1.spkg](http://boxen.math.washington.edu/home/leif/Sage/spkgs/ntl-5.5.2.p1.spkg)
+**New spkg:** [http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg](http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg)
 
-**md5sum:** `0cc1f3b89be48a1a091a89f113ea549b  ntl-5.5.2.p1.spkg`
-
-
-### ntl-5.5.2.p1 (Leif Leonhardy, June 5th 2013)
+### ntl-5.5.2.p2 (Leif Leonhardy, Jean-Pierre Flori, 6 June 2013)
 * #14692: Patch upstream to use `$(MAKE)` (instead of `make`) in the generated
   Makefile (and in two scripts called from the Makefile which in turn invoke
   `make`).  As a consequence, also some parts are now properly built in
   parallel if `make` was told to use multiple jobs.
 * Minor clean-up of `spkg-install` and `spkg-check`.
+* Refactor and rename patches.
 
 
 
``````




---

archive/issue_comments_178493.json:
```json
{
    "body": "Changed keywords from **spkg** to **spkg ntl**",
    "created_at": "2013-06-06T20:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178493",
    "user": "https://github.com/jpflori"
}
```

Changed keywords from **spkg** to **spkg ntl**



---

archive/issue_comments_178494.json:
```json
{
    "body": "Changed author from **Leif Leonhardy** to **Leif Leonhardy, Jean-Pierre Flori**",
    "created_at": "2013-06-06T20:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178494",
    "user": "https://github.com/jpflori"
}
```

Changed author from **Leif Leonhardy** to **Leif Leonhardy, Jean-Pierre Flori**



---

archive/issue_comments_178495.json:
```json
{
    "body": "Changed work issues from **rename and refactor patches, rebase on top of #2114** to none",
    "created_at": "2013-06-06T20:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178495",
    "user": "https://github.com/jpflori"
}
```

Changed work issues from **rename and refactor patches, rebase on top of #2114** to none



---

archive/issue_comments_178496.json:
```json
{
    "body": "Reviewer: **Leif Leonhardy**",
    "created_at": "2013-06-07T13:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178496",
    "user": "https://github.com/nexttime"
}
```

Reviewer: **Leif Leonhardy**



---

archive/issue_comments_178497.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n`patches/make.patch` lacks the patch to `src/src/TestScript`.\n\n(I'd also rename the patch to `use_MAKE.patch` or smth like that.)",
    "created_at": "2013-06-07T13:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178497",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:13" align="right">comment:13</div>

`patches/make.patch` lacks the patch to `src/src/TestScript`.

(I'd also rename the patch to `use_MAKE.patch` or smth like that.)



---

archive/issue_events_206488.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-07T13:16:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206488"
}
```



---

archive/issue_events_206489.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-07T13:16:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206489"
}
```



---

archive/issue_comments_178498.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n\"Patches\" is usually a subsection of \"Special !Update/Build Instructions\", i.e., `=== Patches ===`.",
    "created_at": "2013-06-07T13:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178498",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">comment:14</div>

"Patches" is usually a subsection of "Special !Update/Build Instructions", i.e., `=== Patches ===`.



---

archive/issue_comments_178499.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAnd if you like, do\n\n```diff\n--- a/patches/make.patch\n+++ b/patches/make.patch\n@@ -31,7 +31,7 @@\n  \n  setup4:\n -\tsh Wizard $(WIZARD)\n-+\t+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking \\$MAKE\n++\t+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking $$MAKE\n  \n  \n  ntl.a:\t$(OBJ) \n@@ -44,7 +44,7 @@\n  \t./QuickTest\n  \tsh RemoveProg QuickTest\n -\tsh TestScript\n-+\t+sh TestScript # shell script invoking \\$MAKE\n++\t+sh TestScript # shell script invoking $$MAKE\n  \n  #################################################################\n  #\n```\nwhich fixes a minor flaw I only noticed after I had already uploaded my original spkg...",
    "created_at": "2013-06-07T13:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178499",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:15" align="right">comment:15</div>

And if you like, do

```diff
--- a/patches/make.patch
+++ b/patches/make.patch
@@ -31,7 +31,7 @@
  
  setup4:
 -	sh Wizard $(WIZARD)
-+	+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking \$MAKE
++	+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking $$MAKE
  
  
  ntl.a:	$(OBJ) 
@@ -44,7 +44,7 @@
  	./QuickTest
  	sh RemoveProg QuickTest
 -	sh TestScript
-+	+sh TestScript # shell script invoking \$MAKE
++	+sh TestScript # shell script invoking $$MAKE
  
  #################################################################
  #
```
which fixes a minor flaw I only noticed after I had already uploaded my original spkg...



---

archive/issue_comments_178500.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nWhy did you remove the patches involving `LIBTOOL_LINK_FLAGS`? This doesn't seem to be documented.",
    "created_at": "2013-06-07T14:20:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178500",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Why did you remove the patches involving `LIBTOOL_LINK_FLAGS`? This doesn't seem to be documented.



---

archive/issue_comments_178501.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jdemeyer](#comment%3A16):\n> Why did you remove the patches involving `LIBTOOL_LINK_FLAGS`?\n\n?  They're (now) in `patches/libtool_flag.patch`.\n\n> This doesn't seem to be documented.",
    "created_at": "2013-06-07T14:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178501",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jdemeyer](#comment%3A16):
> Why did you remove the patches involving `LIBTOOL_LINK_FLAGS`?

?  They're (now) in `patches/libtool_flag.patch`.

> This doesn't seem to be documented.



---

archive/issue_comments_178502.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nStill, we have\n\n```\n * libtool_flag.patch: modify mfile to enable the build of a shared library\n   on Cygwin\n```\nbut\n\n```sh\n$ grep '^+++' patches/libtool_flag.patch \n+++ src/src/DoConfig\t2012-08-07 12:17:12.828358360 +0200\n+++ src/src/mfile\t2013-06-05 20:43:25.845240069 +0200\n```\nI.e., add `DoConfig` to the patch's documentation.",
    "created_at": "2013-06-07T15:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178502",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:18" align="right">comment:18</div>

Still, we have

```
 * libtool_flag.patch: modify mfile to enable the build of a shared library
   on Cygwin
```
but

```sh
$ grep '^+++' patches/libtool_flag.patch 
+++ src/src/DoConfig	2012-08-07 12:17:12.828358360 +0200
+++ src/src/mfile	2013-06-05 20:43:25.845240069 +0200
```
I.e., add `DoConfig` to the patch's documentation.



---

archive/issue_comments_178503.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@nexttime](#comment%3A17):\n> They're (now) in `patches/libtool_flag.patch`.\n\nI don't see that file in [attachment: ntl-5.5.2.p2.patch](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz). Did you forget to `hg add` that file?",
    "created_at": "2013-06-08T08:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178503",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@nexttime](#comment%3A17):
> They're (now) in `patches/libtool_flag.patch`.

I don't see that file in [attachment: ntl-5.5.2.p2.patch](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz). Did you forget to `hg add` that file?



---

archive/issue_comments_178504.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nMaking some changes to the spkg, hang on...",
    "created_at": "2013-06-08T08:32:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178504",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Making some changes to the spkg, hang on...



---

archive/issue_comments_178505.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jdemeyer](#comment%3A19):\n> Replying to [@nexttime](#comment%3A17):\n> > They're (now) in `patches/libtool_flag.patch`.\n\n> I don't see that file in [attachment: ntl-5.5.2.p2.patch](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz). Did you forget to `hg add` that file?\n\n`.hgignore` is the problem.  (It contains `libtool` rather than `libtool/`.)",
    "created_at": "2013-06-08T10:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178505",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jdemeyer](#comment%3A19):
> Replying to [@nexttime](#comment%3A17):
> > They're (now) in `patches/libtool_flag.patch`.

> I don't see that file in [attachment: ntl-5.5.2.p2.patch](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz). Did you forget to `hg add` that file?

`.hgignore` is the problem.  (It contains `libtool` rather than `libtool/`.)



---

archive/issue_comments_178506.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@jdemeyer](#comment%3A19):\n> Replying to [@nexttime](#comment%3A17):\n> > They're (now) in `patches/libtool_flag.patch`.\n\n> Did you forget to `hg add` that file?\n\nAnd yes, fixing `.hgignore`, indeed one gets:\n\n```\n? patches/libtool_flag.patch\n```",
    "created_at": "2013-06-08T10:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178506",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@jdemeyer](#comment%3A19):
> Replying to [@nexttime](#comment%3A17):
> > They're (now) in `patches/libtool_flag.patch`.

> Did you forget to `hg add` that file?

And yes, fixing `.hgignore`, indeed one gets:

```
? patches/libtool_flag.patch
```



---

archive/issue_comments_178507.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nBetter wait for a review of #2114 first, otherwise we can be rebasing forever.",
    "created_at": "2013-06-08T11:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178507",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Better wait for a review of #2114 first, otherwise we can be rebasing forever.



---

archive/issue_events_206490.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-10T15:20:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206490"
}
```



---

archive/issue_events_206491.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-10T15:20:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206491"
}
```



---

archive/issue_comments_178508.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSuperseded by #14876",
    "created_at": "2013-07-10T15:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178508",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

Superseded by #14876



---

archive/issue_events_206492.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-10T15:20:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206492"
}
```



---

archive/issue_events_206493.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-10T17:48:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206493"
}
```



---

archive/issue_events_206494.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-10T17:48:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "title_is": "Fix hardcoded 'make' in NTL's build scripts and track all files",
    "title_was": "Fix hardcoded 'make' in NTL's build scripts",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206494"
}
```



---

archive/issue_comments_178509.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-**New spkg:** [http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg](http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg)\n+**New spkg:** [http://boxen.math.washington.edu/home/vbraun/spkg/ntl-5.5.2.p3.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/ntl-5.5.2.p3.spkg)\n \n ### ntl-5.5.2.p2 (Leif Leonhardy, Jean-Pierre Flori, 6 June 2013)\n * #14692: Patch upstream to use `$(MAKE)` (instead of `make`) in the generated\n``````\n",
    "created_at": "2013-07-10T17:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178509",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-**New spkg:** [http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg](http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg)
+**New spkg:** [http://boxen.math.washington.edu/home/vbraun/spkg/ntl-5.5.2.p3.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/ntl-5.5.2.p3.spkg)
 
 ### ntl-5.5.2.p2 (Leif Leonhardy, Jean-Pierre Flori, 6 June 2013)
 * #14692: Patch upstream to use `$(MAKE)` (instead of `make`) in the generated
``````




---

archive/issue_comments_178510.json:
```json
{
    "body": "Changed author from **Leif Leonhardy, Jean-Pierre Flori** to **Leif Leonhardy, Jean-Pierre Flori, Volker Braun**",
    "created_at": "2013-07-10T17:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178510",
    "user": "https://github.com/vbraun"
}
```

Changed author from **Leif Leonhardy, Jean-Pierre Flori** to **Leif Leonhardy, Jean-Pierre Flori, Volker Braun**



---

archive/issue_comments_178511.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,5 +8,10 @@\n * Minor clean-up of `spkg-install` and `spkg-check`.\n * Refactor and rename patches.\n \n+### ntl-5.5.2.p3 (Volker Braun, July 10 2013)\n+* #14692: Add spkg-src and track all files.\n \n-\n+### For review purposes\n+* p0->p1: [attachment: ntl-5.5.2.p0-p1.diff](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p0-p1.diff.gz)\n+* p1->p2: [attachment: ntl-5.5.2.p2.patch](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz)\n+* p2->p3: [attachment: ntl-p2-p3.diff](https://github.com/sagemath/sage/files/ticket14692/ntl-p2-p3.diff.gz)\n``````\n",
    "created_at": "2013-07-10T18:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178511",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,5 +8,10 @@
 * Minor clean-up of `spkg-install` and `spkg-check`.
 * Refactor and rename patches.
 
+### ntl-5.5.2.p3 (Volker Braun, July 10 2013)
+* #14692: Add spkg-src and track all files.
 
-
+### For review purposes
+* p0->p1: [attachment: ntl-5.5.2.p0-p1.diff](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p0-p1.diff.gz)
+* p1->p2: [attachment: ntl-5.5.2.p2.patch](https://github.com/sagemath/sage/files/ticket14692/ntl-5.5.2.p2.patch.gz)
+* p2->p3: [attachment: ntl-p2-p3.diff](https://github.com/sagemath/sage/files/ticket14692/ntl-p2-p3.diff.gz)
``````




---

archive/issue_comments_178512.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nSince the new upstream version is incompatible with our Singular, lets make a new spkg here with the fixes needed for the git transition. The version bump can wait until Singular is ready.",
    "created_at": "2013-07-10T18:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178512",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

Since the new upstream version is incompatible with our Singular, lets make a new spkg here with the fixes needed for the git transition. The version bump can wait until Singular is ready.



---

archive/issue_comments_178513.json:
```json
{
    "body": "Attachment: **[ntl-p2-p3.diff.gz](https://github.com/sagemath/sage/files/ticket14692/ntl-p2-p3.diff.gz)**\n\nFor review purposes only",
    "created_at": "2013-07-10T18:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178513",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[ntl-p2-p3.diff.gz](https://github.com/sagemath/sage/files/ticket14692/ntl-p2-p3.diff.gz)**

For review purposes only



---

archive/issue_comments_178514.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIs the \"Make everything writable\" part actually needed?\nI guess so, or you wouldn't have added it, but I was not aware of that.",
    "created_at": "2013-07-11T08:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178514",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:27" align="right">comment:27</div>

Is the "Make everything writable" part actually needed?
I guess so, or you wouldn't have added it, but I was not aware of that.



---

archive/issue_events_206495.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-07-11T08:25:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206495"
}
```



---

archive/issue_events_206496.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-07-11T11:56:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206496"
}
```



---

archive/issue_events_206497.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-07-11T11:56:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206497"
}
```



---

archive/issue_comments_178515.json:
```json
{
    "body": "Work Issues: **spkg-src**",
    "created_at": "2013-07-11T11:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178515",
    "user": "https://github.com/jpflori"
}
```

Work Issues: **spkg-src**



---

archive/issue_comments_178516.json:
```json
{
    "body": "Changed reviewer from **Leif Leonhardy** to **Leif Leonhardy, Jean-Pierre Flori**",
    "created_at": "2013-07-11T11:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178516",
    "user": "https://github.com/jpflori"
}
```

Changed reviewer from **Leif Leonhardy** to **Leif Leonhardy, Jean-Pierre Flori**



---

archive/issue_events_206498.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-07-11T11:56:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206498"
}
```



---

archive/issue_comments_178517.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIt would be nice to have a way to use a local copy of ntl tarball in spkg-src (just as you did for Singular in #14737).",
    "created_at": "2013-07-11T11:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178517",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:28" align="right">comment:28</div>

It would be nice to have a way to use a local copy of ntl tarball in spkg-src (just as you did for Singular in #14737).



---

archive/issue_comments_178518.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI haven't checked if the \"make writeable\" part is really needed. But since it also depends on umask and since wrong permissions in tarballs are not that uncommon, I think its better to include it.\n\nThe ntl tarball is tiny and on a fast server, so I didn't need an option to use a local copy for writing/testing the script. If you need it, feel free to open a ticket with that feature request.",
    "created_at": "2013-07-11T12:50:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178518",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

I haven't checked if the "make writeable" part is really needed. But since it also depends on umask and since wrong permissions in tarballs are not that uncommon, I think its better to include it.

The ntl tarball is tiny and on a fast server, so I didn't need an option to use a local copy for writing/testing the script. If you need it, feel free to open a ticket with that feature request.



---

archive/issue_events_206499.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-11T12:50:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206499"
}
```



---

archive/issue_events_206500.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-11T12:50:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206500"
}
```



---

archive/issue_comments_178519.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@vbraun](#comment%3A29):\n> I haven't checked if the \"make writeable\" part is really needed. But since it also depends on umask and since wrong permissions in tarballs are not that uncommon, I think its better to include it.\n> \n> The ntl tarball is tiny and on a fast server, so I didn't need an option to use a local copy for writing/testing the script. If you need it, feel free to open a ticket with that feature request.\n\nExcept when the site is down :)",
    "created_at": "2013-07-11T21:40:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178519",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@vbraun](#comment%3A29):
> I haven't checked if the "make writeable" part is really needed. But since it also depends on umask and since wrong permissions in tarballs are not that uncommon, I think its better to include it.
> 
> The ntl tarball is tiny and on a fast server, so I didn't need an option to use a local copy for writing/testing the script. If you need it, feel free to open a ticket with that feature request.

Except when the site is down :)



---

archive/issue_comments_178520.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nMaybe we could remove autom4te.cache from the libtool dir.",
    "created_at": "2013-07-11T21:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178520",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:31" align="right">comment:31</div>

Maybe we could remove autom4te.cache from the libtool dir.



---

archive/issue_comments_178521.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nOtherwise everything is fine.",
    "created_at": "2013-07-11T21:44:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178521",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:32" align="right">comment:32</div>

Otherwise everything is fine.



---

archive/issue_comments_178522.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI've added a `rm -rf autom4te.cache` to `spkg-src` and re-ran it.",
    "created_at": "2013-07-11T22:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178522",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

I've added a `rm -rf autom4te.cache` to `spkg-src` and re-ran it.



---

archive/issue_events_206501.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-11T22:27:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206501"
}
```



---

archive/issue_events_206502.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-07-11T22:27:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206502"
}
```



---

archive/issue_events_206503.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:11:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206503"
}
```



---

archive/issue_events_206504.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:11:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206504"
}
```



---

archive/issue_comments_178523.json:
```json
{
    "body": "Changed work issues from **spkg-src** to none",
    "created_at": "2013-07-30T10:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178523",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **spkg-src** to none



---

archive/issue_events_206505.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-02T14:18:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206505"
}
```



---

archive/issue_events_206506.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-02T14:18:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14692#event-206506"
}
```



---

archive/issue_comments_178524.json:
```json
{
    "body": "Merged: **sage-5.12.beta0**",
    "created_at": "2013-08-02T14:18:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14692",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14692#issuecomment-178524",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.12.beta0**
