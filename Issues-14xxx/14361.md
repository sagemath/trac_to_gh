# Issue 14361: Make the palp spkg cleaner

archive/issues_014157.json:
```json
{
    "body": "The current 2.1.p1 spkg builds the sources several times with different\nsettings by patching the sources each time.\n\nThe proposed 2.1.p2 spkg patches once, then changes the settings by modifying\nthe C flags.\n\nThe one patch has been forwarded upstream, as it makes sense.\n\n**CC:**  @fchapoton\n\n**Dependencies:** #29859\n\n**Resolution:** invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/14361\n\n",
    "closed_at": "2020-07-08T17:05:53Z",
    "created_at": "2013-03-26T22:39:31Z",
    "labels": [
        "component: packages: standard",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Make the palp spkg cleaner",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14361",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```
The current 2.1.p1 spkg builds the sources several times with different
settings by patching the sources each time.

The proposed 2.1.p2 spkg patches once, then changes the settings by modifying
the C flags.

The one patch has been forwarded upstream, as it makes sense.

**CC:**  @fchapoton

**Dependencies:** #29859

**Resolution:** invalid

Issue created by migration from https://trac.sagemath.org/ticket/14361





---

archive/issue_comments_227075.json:
```json
{
    "body": "New version for the palp spkg",
    "created_at": "2013-03-26T22:40:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14361#issuecomment-227075",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

New version for the palp spkg



---

archive/issue_comments_227076.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-03-26T22:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14361#issuecomment-227076",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_019379.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "palp-2.1.p2.spkg",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14361/palp-2.1.p2.spkg",
    "created_at": "2013-03-26T22:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.spkg",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```



---

archive/issue_comments_227077.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2013-03-26T22:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14361#issuecomment-227077",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

<a id='comment:1'></a>




---

archive/issue_events_046984.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46984"
}
```



---

archive/issue_events_046985.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46985"
}
```



---

archive/issue_events_046986.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46986"
}
```



---

archive/issue_comments_227078.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-03-26T15:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14361#issuecomment-227078",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_227079.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe \"new spkg style\" is to store all of Sage's code in SAGE_ROOT/build/pkgs.\n\nhttp://www.sagemath.org/doc/developer/packaging.html#inclusion-procedure-for-new-packages\n\nNathann",
    "created_at": "2014-03-26T15:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14361#issuecomment-227079",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
The "new spkg style" is to store all of Sage's code in SAGE_ROOT/build/pkgs.

http://www.sagemath.org/doc/developer/packaging.html#inclusion-procedure-for-new-packages

Nathann



---

archive/issue_events_046987.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46987"
}
```



---

archive/issue_events_046988.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46988"
}
```



---

archive/issue_events_046989.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46989"
}
```



---

archive/issue_events_046990.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46990"
}
```



---

archive/issue_comments_227080.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2020-07-08T16:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14361#issuecomment-227080",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_227081.json:
```json
{
    "body": "**Dependencies:** #29859",
    "created_at": "2020-07-08T16:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14361#issuecomment-227081",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #29859



---

archive/issue_events_046991.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-08T16:43:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46991"
}
```



---

archive/issue_events_046992.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-08T16:43:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46992"
}
```



---

archive/issue_events_046993.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-07-08T17:05:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14361#event-46993"
}
```



---

archive/issue_comments_227082.json:
```json
{
    "body": "**Resolution:** invalid",
    "created_at": "2020-07-08T17:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14361#issuecomment-227082",
    "user": "https://github.com/fchapoton"
}
```

**Resolution:** invalid
