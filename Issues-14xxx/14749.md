# Issue 14749: check whether gprc.expect exists

archive/issues_014545.json:
```json
{
    "body": "This additional doctest checks whether gprc.expect is where is is expected.\n\nWithout this test, it takes some time to figure out whats wrong.\n\n**Assignee:** Felix Salfelder\n\n**Keywords:** gp, expect, configuration\n\n**Branch:** [u/jdemeyer/ticket/14749](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/14749)\n\n**Commit:** [9d184af8dafb82353ee8280e9da0601aff3c736c](https://github.com/sagemath/sagetrac-mirror/commit/9d184af8dafb82353ee8280e9da0601aff3c736c)\n\n**Status:** needs_work\n\n**Dependencies:** #14750\n\nIssue created by migration from https://trac.sagemath.org/ticket/14749\n\n",
    "created_at": "2013-06-16T12:51:32Z",
    "labels": [
        "component: doctest coverage",
        "trivial",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "check whether gprc.expect exists",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14749",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```
This additional doctest checks whether gprc.expect is where is is expected.

Without this test, it takes some time to figure out whats wrong.

**Assignee:** Felix Salfelder

**Keywords:** gp, expect, configuration

**Branch:** [u/jdemeyer/ticket/14749](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/14749)

**Commit:** [9d184af8dafb82353ee8280e9da0601aff3c736c](https://github.com/sagemath/sagetrac-mirror/commit/9d184af8dafb82353ee8280e9da0601aff3c736c)

**Status:** needs_work

**Dependencies:** #14750

Issue created by migration from https://trac.sagemath.org/ticket/14749





---

archive/issue_events_048212.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48212"
}
```



---

archive/issue_comments_222300.json:
```json
{
    "body": "**Branch:** [u/felixs/gprc](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/gprc)",
    "created_at": "2013-08-26T08:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222300",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

**Branch:** [u/felixs/gprc](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/gprc)



---

archive/issue_comments_222301.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-08-26T08:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222301",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_222302.json:
```json
{
    "body": "**Commit:** [33ca380a373c0cbc10f00ea4e5c6ad4dd4aad6fc](https://github.com/sagemath/sagetrac-mirror/commit/33ca380a373c0cbc10f00ea4e5c6ad4dd4aad6fc)",
    "created_at": "2013-08-26T08:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222302",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

**Commit:** [33ca380a373c0cbc10f00ea4e5c6ad4dd4aad6fc](https://github.com/sagemath/sagetrac-mirror/commit/33ca380a373c0cbc10f00ea4e5c6ad4dd4aad6fc)



---

archive/issue_comments_222303.json:
```json
{
    "body": "**Dependencies:** #14750",
    "created_at": "2013-08-26T08:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222303",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

**Dependencies:** #14750



---

archive/issue_comments_222304.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2013-08-26T09:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222304",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_222305.json:
```json
{
    "body": "<a id='comment:4'></a>\n1) Why does this depend on #14750?\n\n2) The comment `We illustrate objects that wrap GP objects (gp is the PARI interpreter)::` has absolutely nothing to do with the test you added, so the comment should be fixed.\n\n3) It is better to use `os.path.isfile()` instead of `os.path.exists()` since it's a more specific test.\n\n4) Please make it clear whether the patch or the git branch should be merged. If you want the patch to be merged, it should be in Mercurial format.",
    "created_at": "2013-08-26T09:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222305",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
1) Why does this depend on #14750?

2) The comment `We illustrate objects that wrap GP objects (gp is the PARI interpreter)::` has absolutely nothing to do with the test you added, so the comment should be fixed.

3) It is better to use `os.path.isfile()` instead of `os.path.exists()` since it's a more specific test.

4) Please make it clear whether the patch or the git branch should be merged. If you want the patch to be merged, it should be in Mercurial format.



---

archive/issue_comments_222306.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2013-08-26T10:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222306",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_222307.json:
```json
{
    "body": "**Changing commit** from \"[33ca380a373c0cbc10f00ea4e5c6ad4dd4aad6fc](https://github.com/sagemath/sagetrac-mirror/commit/33ca380a373c0cbc10f00ea4e5c6ad4dd4aad6fc)\" to \"[f028367e6a6ee5a726b917dd3ed041e2fd476f7b](https://github.com/sagemath/sagetrac-mirror/commit/f028367e6a6ee5a726b917dd3ed041e2fd476f7b)\".",
    "created_at": "2013-08-26T10:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222307",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

**Changing commit** from "[33ca380a373c0cbc10f00ea4e5c6ad4dd4aad6fc](https://github.com/sagemath/sagetrac-mirror/commit/33ca380a373c0cbc10f00ea4e5c6ad4dd4aad6fc)" to "[f028367e6a6ee5a726b917dd3ed041e2fd476f7b](https://github.com/sagemath/sagetrac-mirror/commit/f028367e6a6ee5a726b917dd3ed041e2fd476f7b)".



---

archive/issue_comments_222308.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [jdemeyer](#comment%3A4):\n> 1) Why does this depend on #14750?\n\n\n#14750 provides `SAGE_ETC`. This way, the test does not need to be edited after #14750.\n\n> 2) The comment `We illustrate objects that wrap GP objects (gp is the PARI interpreter)::` has absolutely nothing to do with the test you added, so the comment should be fixed.\n\n\ndone.\n\n> 3) It is better to use `os.path.isfile()` instead of `os.path.exists()` since it's a more specific test.\n\n\nWhy should it not be a symlink? It's just a big pain if it does not exist at all.\n\n> 4) Please make it clear whether the patch or the git branch should be merged. If you want the patch to be merged, it should be in Mercurial format.\n\n\nThis is now two commits on top of #14750, and can be merged after #14750.\n\nthanks",
    "created_at": "2013-08-26T10:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222308",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

<a id='comment:5'></a>
Replying to [jdemeyer](#comment%3A4):
> 1) Why does this depend on #14750?


#14750 provides `SAGE_ETC`. This way, the test does not need to be edited after #14750.

> 2) The comment `We illustrate objects that wrap GP objects (gp is the PARI interpreter)::` has absolutely nothing to do with the test you added, so the comment should be fixed.


done.

> 3) It is better to use `os.path.isfile()` instead of `os.path.exists()` since it's a more specific test.


Why should it not be a symlink? It's just a big pain if it does not exist at all.

> 4) Please make it clear whether the patch or the git branch should be merged. If you want the patch to be merged, it should be in Mercurial format.


This is now two commits on top of #14750, and can be merged after #14750.

thanks



---

archive/issue_comments_222309.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [felixs](#comment%3A5):\n> Why should it not be a symlink? It's just a big pain if it does not exist at all.\n\nA name can be both a symlink and a file (a symlink to an ordinary file is both).\n\n> This is now two commits on top of #14750, and can be merged after #14750.\n\nIn that case I am removing the patch on this ticket, to reduce confusion.",
    "created_at": "2013-08-26T10:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222309",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Replying to [felixs](#comment%3A5):
> Why should it not be a symlink? It's just a big pain if it does not exist at all.

A name can be both a symlink and a file (a symlink to an ordinary file is both).

> This is now two commits on top of #14750, and can be merged after #14750.

In that case I am removing the patch on this ticket, to reduce confusion.



---

archive/issue_events_048213.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-26T10:19:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48213"
}
```



---

archive/issue_events_048214.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-26T10:19:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48214"
}
```



---

archive/issue_comments_222310.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [jdemeyer](#comment%3A6):\n> A name can be both a symlink and a file (a symlink to an ordinary file is both).\n\nindeed.\n\n> In that case I am removing the patch on this ticket, to reduce confusion.\n\nthanks",
    "created_at": "2013-08-26T10:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222310",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

<a id='comment:7'></a>
Replying to [jdemeyer](#comment%3A6):
> A name can be both a symlink and a file (a symlink to an ordinary file is both).

indeed.

> In that case I am removing the patch on this ticket, to reduce confusion.

thanks



---

archive/issue_comments_222311.json:
```json
{
    "body": "**Changing commit** from \"[f028367e6a6ee5a726b917dd3ed041e2fd476f7b](https://github.com/sagemath/sagetrac-mirror/commit/f028367e6a6ee5a726b917dd3ed041e2fd476f7b)\" to \"[05cda7723684f2fd7fed058d06f399a170a25423](https://github.com/sagemath/sagetrac-mirror/commit/05cda7723684f2fd7fed058d06f399a170a25423)\".",
    "created_at": "2013-08-26T10:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222311",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

**Changing commit** from "[f028367e6a6ee5a726b917dd3ed041e2fd476f7b](https://github.com/sagemath/sagetrac-mirror/commit/f028367e6a6ee5a726b917dd3ed041e2fd476f7b)" to "[05cda7723684f2fd7fed058d06f399a170a25423](https://github.com/sagemath/sagetrac-mirror/commit/05cda7723684f2fd7fed058d06f399a170a25423)".



---

archive/issue_events_048215.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2013-12-17T18:42:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48215"
}
```



---

archive/issue_events_048216.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2013-12-17T18:42:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48216"
}
```



---

archive/issue_comments_222312.json:
```json
{
    "body": "**Changing commit** from \"[05cda7723684f2fd7fed058d06f399a170a25423](https://github.com/sagemath/sagetrac-mirror/commit/05cda7723684f2fd7fed058d06f399a170a25423)\" to \"\".",
    "created_at": "2013-12-18T16:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222312",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[05cda7723684f2fd7fed058d06f399a170a25423](https://github.com/sagemath/sagetrac-mirror/commit/05cda7723684f2fd7fed058d06f399a170a25423)" to "".



---

archive/issue_comments_222313.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe branch seems to be gone...",
    "created_at": "2013-12-18T16:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222313",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
The branch seems to be gone...



---

archive/issue_comments_222314.json:
```json
{
    "body": "**Changing branch** from \"[u/felixs/gprc](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/gprc)\" to \"\".",
    "created_at": "2013-12-18T16:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222314",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/felixs/gprc](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/gprc)" to "".



---

archive/issue_comments_222315.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/ticket/14749](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/14749)",
    "created_at": "2013-12-18T16:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222315",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/ticket/14749](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/14749)



---

archive/issue_comments_222316.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2013-12-29T18:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222316",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_222317.json:
```json
{
    "body": "<a id='comment:11'></a>\nI still find the comment\n\n```\nEXAMPLES: We illustrate objects that wrap GP objects (gp is the \ninterpreter, gprc.expect is a requirement).::\n```\nvery confusing. Why not separate this in two pieces (such that is clear that you're first testing `gprc.expect`, then the `gp` interpreter).\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d184af\">9d184af</a></td><td><code>Merge commit '05cda7723684f2fd7fed058d06f399a170a25423' into ticket/14749</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05cda77\">05cda77</a></td><td><code>use \"isfile\", not just \"exists\" within gprc.expect check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f028367\">f028367</a></td><td><code>fix comment above gprc.expect check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33ca380\">33ca380</a></td><td><code>python-sage: check whether gprc.expect is available (#14749)</code></td></tr></table>\n",
    "created_at": "2013-12-29T18:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222317",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
I still find the comment

```
EXAMPLES: We illustrate objects that wrap GP objects (gp is the 
interpreter, gprc.expect is a requirement).::
```
very confusing. Why not separate this in two pieces (such that is clear that you're first testing `gprc.expect`, then the `gp` interpreter).

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d184af">9d184af</a></td><td><code>Merge commit '05cda7723684f2fd7fed058d06f399a170a25423' into ticket/14749</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05cda77">05cda77</a></td><td><code>use "isfile", not just "exists" within gprc.expect check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f028367">f028367</a></td><td><code>fix comment above gprc.expect check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33ca380">33ca380</a></td><td><code>python-sage: check whether gprc.expect is available (#14749)</code></td></tr></table>




---

archive/issue_comments_222318.json:
```json
{
    "body": "**Commit:** [9d184af8dafb82353ee8280e9da0601aff3c736c](https://github.com/sagemath/sagetrac-mirror/commit/9d184af8dafb82353ee8280e9da0601aff3c736c)",
    "created_at": "2013-12-29T18:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14749#issuecomment-222318",
    "user": "https://github.com/jdemeyer"
}
```

**Commit:** [9d184af8dafb82353ee8280e9da0601aff3c736c](https://github.com/sagemath/sagetrac-mirror/commit/9d184af8dafb82353ee8280e9da0601aff3c736c)



---

archive/issue_events_048217.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48217"
}
```



---

archive/issue_events_048218.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48218"
}
```



---

archive/issue_events_048219.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48219"
}
```



---

archive/issue_events_048220.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48220"
}
```



---

archive/issue_events_048221.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48221"
}
```



---

archive/issue_events_048222.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14749",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14749#event-48222"
}
```
