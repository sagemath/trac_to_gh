# Issue 14843: Minor improvements to 4ti2 interface

archive/issues_014639.json:
```json
{
    "assignees": [],
    "body": "Here is a patch that introduces these two minor improvements to 4ti2 interface:\n-It allows to pass the lattice to the methods instead of the matrix, using the lat parmeter.\n-Changes the verbose default to False, so we only get the output.\n\nExample:\n\n```\nsage: four_ti_2.graver(lat=[[1,2,3],[1,1,1]])\n[ 1  0 -1]\n[ 0  1  2]\n[ 1  1  1]\n[ 2  1  0]\n```\n\nAssignee: **@miguelmarco**\n\nCC:  @mwhansen broune mhampton\n\nKeywords: **4ti2**\n\nBranch/Commit: **[cd65177](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Miguel Marco**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14843_\n\n",
    "closed_at": "2014-07-26T17:05:52Z",
    "created_at": "2013-06-30T23:32:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Minor improvements to 4ti2 interface",
    "type": "issue",
    "updated_at": "2014-07-26T17:05:52Z",
    "url": "https://github.com/sagemath/sage/issues/14843",
    "user": "https://github.com/miguelmarco"
}
```
Here is a patch that introduces these two minor improvements to 4ti2 interface:
-It allows to pass the lattice to the methods instead of the matrix, using the lat parmeter.
-Changes the verbose default to False, so we only get the output.

Example:

```
sage: four_ti_2.graver(lat=[[1,2,3],[1,1,1]])
[ 1  0 -1]
[ 0  1  2]
[ 1  1  1]
[ 2  1  0]
```

Assignee: **@miguelmarco**

CC:  @mwhansen broune mhampton

Keywords: **4ti2**

Branch/Commit: **[cd65177](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)**

Reviewer: **Dima Pasechnik**

Author: **Miguel Marco**

_Issue created by migration from https://trac.sagemath.org/ticket/14843_





---

archive/issue_events_193718.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-06-30T23:32:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193718"
}
```



---

archive/issue_events_193719.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-06-30T23:32:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "component: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193719"
}
```



---

archive/issue_events_193720.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-06-30T23:32:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193720"
}
```



---

archive/issue_events_193721.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-06-30T23:32:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193721"
}
```



---

archive/issue_comments_184254.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttachment: **[14843.patch.gz](https://github.com/sagemath/sage/files/ticket14843/14843.patch.gz)**\n\nJust curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n\n(IIRC there's a ticket for doing so, but I don't recall right now.)",
    "created_at": "2013-07-01T10:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184254",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:1'>Comment 1:</a>
Attachment: **[14843.patch.gz](https://github.com/sagemath/sage/files/ticket14843/14843.patch.gz)**

Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?

(IIRC there's a ticket for doing so, but I don't recall right now.)



---

archive/issue_comments_184255.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nReplying to [@nexttime](#comment%3A1):\n> Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n> \n> (IIRC there's a ticket for doing so, but I don't recall right now.)\n\nThere's #13498 at least...",
    "created_at": "2013-07-01T11:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184255",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:2'>Comment 2:</a>
Replying to [@nexttime](#comment%3A1):
> Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?
> 
> (IIRC there's a ticket for doing so, but I don't recall right now.)

There's #13498 at least...



---

archive/issue_comments_184256.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nDo you mean #13498?\n\nIn my case, 4ti2 spkg compiled without complaining... but it didn't detect GMP, and hence, didn't build the 4ti2gmp binary (which is used, for instance, by the groebner binary).\n\nIn order to use it, i had to link my system-wide 4ti2gmp to $SAGE/local/bin",
    "created_at": "2013-07-01T12:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184256",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:3'>Comment 3:</a>
Do you mean #13498?

In my case, 4ti2 spkg compiled without complaining... but it didn't detect GMP, and hence, didn't build the 4ti2gmp binary (which is used, for instance, by the groebner binary).

In order to use it, i had to link my system-wide 4ti2gmp to $SAGE/local/bin



---

archive/issue_comments_184257.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@nexttime](#comment%3A2):\n> Replying to [@nexttime](#comment%3A1):\n> > Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n> > \n> > (IIRC there's a ticket for doing so, but I don't recall right now.)\n\n> \n> There's #13498 at least...\n\nthere is #15172.",
    "created_at": "2013-09-07T13:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184257",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@nexttime](#comment%3A2):
> Replying to [@nexttime](#comment%3A1):
> > Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?
> > 
> > (IIRC there's a ticket for doing so, but I don't recall right now.)

> 
> There's #13498 at least...

there is #15172.



---

archive/issue_comments_184258.json:
```json
{
    "body": "rebased for 4ti2-1.6, #15172",
    "created_at": "2013-09-08T12:58:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184258",
    "user": "https://github.com/dimpase"
}
```

rebased for 4ti2-1.6, #15172



---

archive/issue_comments_184259.json:
```json
{
    "body": "Dependencies: **#15172**",
    "created_at": "2013-09-08T13:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184259",
    "user": "https://github.com/dimpase"
}
```

Dependencies: **#15172**



---

archive/issue_comments_184260.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nAttachment: **[14843_rebased_for_15172.patch.gz](https://github.com/sagemath/sage/files/ticket14843/14843_rebased_for_15172.patch.gz)**\n\nThe work on the interface to `4ti2` ought to be based on the version 1.6, for 1.3 is very old. Thus I made the ticket dependent on #15172, and attached the corresponding rebased patch.\n\nIt seems that `lat=` only makes sense for `zsolve`, but not for `qsolve`, `circuits`, `rays`. This is confirmed by the doctests as well as by the source code comments. Please rectify this.",
    "created_at": "2013-09-08T13:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184260",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'>Comment 5:</a>
Attachment: **[14843_rebased_for_15172.patch.gz](https://github.com/sagemath/sage/files/ticket14843/14843_rebased_for_15172.patch.gz)**

The work on the interface to `4ti2` ought to be based on the version 1.6, for 1.3 is very old. Thus I made the ticket dependent on #15172, and attached the corresponding rebased patch.

It seems that `lat=` only makes sense for `zsolve`, but not for `qsolve`, `circuits`, `rays`. This is confirmed by the doctests as well as by the source code comments. Please rectify this.



---

archive/issue_events_193722.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-09-08T13:04:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193722"
}
```



---

archive/issue_events_193723.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193723"
}
```



---

archive/issue_events_193724.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193724"
}
```



---

archive/issue_events_193725.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193725"
}
```



---

archive/issue_events_193726.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193726"
}
```



---

archive/issue_comments_184261.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI made a branch from the patch. Got two failing doctests on 6.3.beta6 :\n\n```\nFailed example:\n    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 0  1  2]\n    [ 1  0 -1]\n    [ 2  1  0]\nGot:\n    Error: Unable to find 4ti2 executable `4ti2gmp'\n    []\n```\nand\n\n```\nFailed example:\n    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [-1  0  1]\n    [ 2  1  0]\nGot:\n    Error: Unable to find 4ti2 executable `4ti2gmp'\n    []\n\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761\">663e90b</a></td><td><code>No Subject. Modified: four_ti_2.py</code></td></tr></table>\n",
    "created_at": "2014-07-25T14:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184261",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
I made a branch from the patch. Got two failing doctests on 6.3.beta6 :

```
Failed example:
    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 0  1  2]
    [ 1  0 -1]
    [ 2  1  0]
Got:
    Error: Unable to find 4ti2 executable `4ti2gmp'
    []
```
and

```
Failed example:
    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])
Expected:
    [-1  0  1]
    [ 2  1  0]
Got:
    Error: Unable to find 4ti2 executable `4ti2gmp'
    []

```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761">663e90b</a></td><td><code>No Subject. Modified: four_ti_2.py</code></td></tr></table>




---

archive/issue_comments_184262.json:
```json
{
    "body": "Branch: **[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)**",
    "created_at": "2014-07-25T14:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184262",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)**



---

archive/issue_comments_184263.json:
```json
{
    "body": "Commit: **[663e90b](https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761)**",
    "created_at": "2014-07-25T14:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184263",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[663e90b](https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761)**



---

archive/issue_events_193727.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-25T14:57:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193727"
}
```



---

archive/issue_events_193728.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-25T14:57:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193728"
}
```



---

archive/issue_comments_184264.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@fchapoton](#comment%3A9):\nDid you do `sage -i 4ti2` ? If yes, then\ndo you have `4ti2gmp` in `SAGE_LOCAL/bin` ?",
    "created_at": "2014-07-25T15:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184264",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@fchapoton](#comment%3A9):
Did you do `sage -i 4ti2` ? If yes, then
do you have `4ti2gmp` in `SAGE_LOCAL/bin` ?



---

archive/issue_comments_184265.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI had just installed 4ti2, before running the tests. But there is no `4ti2gmp` in `SAGE_LOCAL/bin`, only 4ti2int32 and 4ti2int64.",
    "created_at": "2014-07-25T18:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184265",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
I had just installed 4ti2, before running the tests. But there is no `4ti2gmp` in `SAGE_LOCAL/bin`, only 4ti2int32 and 4ti2int64.



---

archive/issue_comments_184266.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI can't reproduce this, I just tried installing 4ti2 on the latest Sage beta (on 64-bit Fedora Linux), and got it all there:\n\n```\nsage-6.3.beta6/local/bin]$ ls -l 4ti*\n-rwxr-xr-x 1 dimpase tcs-staff 55501 Jul 25 16:17 4ti2gmp\n-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int32\n-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int64\n```\n\nplease look into your install log to see is something has failed...\n\nPS. It also works for me on OSX 10.9.4.",
    "created_at": "2014-07-25T18:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184266",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'>Comment 12:</a>
I can't reproduce this, I just tried installing 4ti2 on the latest Sage beta (on 64-bit Fedora Linux), and got it all there:

```
sage-6.3.beta6/local/bin]$ ls -l 4ti*
-rwxr-xr-x 1 dimpase tcs-staff 55501 Jul 25 16:17 4ti2gmp
-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int32
-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int64
```

please look into your install log to see is something has failed...

PS. It also works for me on OSX 10.9.4.



---

archive/issue_comments_184267.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nhmm, do you know where the log is ?\n\nfound in the log:\n\n```\nchecking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.\n4ti2 will be built without support for arbitrary-precision computations.\nconfigure: WARNING: Unable to use the GNU MP C++ library.\nPlease make sure that GNU MP was configured with \"--enable-cxx\".\n4ti2 will be built without support for arbitrary-precision computations.\n```",
    "created_at": "2014-07-25T18:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184267",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'>Comment 13:</a>
hmm, do you know where the log is ?

found in the log:

```
checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.
4ti2 will be built without support for arbitrary-precision computations.
configure: WARNING: Unable to use the GNU MP C++ library.
Please make sure that GNU MP was configured with "--enable-cxx".
4ti2 will be built without support for arbitrary-precision computations.
```



---

archive/issue_comments_184268.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nOn another machine (where 4ti2gmp is present), got just one failure:\n\n```\nFailed example:\n    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 0  1  2]\n    [ 1  0 -1]\n    [ 2  1  0]\nGot:\n    ERROR: No constraint matrix specified.\n    ERROR: Expected matrix in 'project_3.mat'\n    []\n```",
    "created_at": "2014-07-25T18:42:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184268",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'>Comment 14:</a>
On another machine (where 4ti2gmp is present), got just one failure:

```
Failed example:
    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 0  1  2]
    [ 1  0 -1]
    [ 2  1  0]
Got:
    ERROR: No constraint matrix specified.
    ERROR: Expected matrix in 'project_3.mat'
    []
```



---

archive/issue_comments_184269.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@fchapoton](#comment%3A13):\n> hmm, do you know where the log is ?\n> \n> found in the log:\n> \n> ```\n> checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.\n> 4ti2 will be built without support for arbitrary-precision computations.\n> configure: WARNING: Unable to use the GNU MP C++ library.\n> Please make sure that GNU MP was configured with \"--enable-cxx\".\n> 4ti2 will be built without support for arbitrary-precision computations.\n> ```\n\nIt all works for me. Looks like your're either installing a wrong spkg, or something along these lines.\nAttach the complete log here...",
    "created_at": "2014-07-25T19:03:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184269",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@fchapoton](#comment%3A13):
> hmm, do you know where the log is ?
> 
> found in the log:
> 
> ```
> checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.
> 4ti2 will be built without support for arbitrary-precision computations.
> configure: WARNING: Unable to use the GNU MP C++ library.
> Please make sure that GNU MP was configured with "--enable-cxx".
> 4ti2 will be built without support for arbitrary-precision computations.
> ```

It all works for me. Looks like your're either installing a wrong spkg, or something along these lines.
Attach the complete log here...



---

archive/issue_comments_184270.json:
```json
{
    "body": "Attachment: **[4ti2.log](https://github.com/sagemath/sage/files/ticket14843/4ti2.log)**\n\nlog of the install of 4ti2",
    "created_at": "2014-07-25T19:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184270",
    "user": "https://github.com/fchapoton"
}
```

Attachment: **[4ti2.log](https://github.com/sagemath/sage/files/ticket14843/4ti2.log)**

log of the install of 4ti2



---

archive/issue_comments_184271.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nI am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg\n\nHere is the log for the \"unique failure, gmp present\" case",
    "created_at": "2014-07-25T19:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184271",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'>Comment 16:</a>
I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg

Here is the log for the "unique failure, gmp present" case



---

archive/issue_comments_184272.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@fchapoton](#comment%3A16):\n> I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg\n> \n> Here is the log for the \"unique failure, gmp present\" case\n\nwell, there is nothing interesting in the log in this case, I gather.\n\nI think I never claimed that the patch I provided worked. Look at the comment 5 above. In particular it says that `circuits` don't seem to work with `lat=`.",
    "created_at": "2014-07-25T19:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184272",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@fchapoton](#comment%3A16):
> I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg
> 
> Here is the log for the "unique failure, gmp present" case

well, there is nothing interesting in the log in this case, I gather.

I think I never claimed that the patch I provided worked. Look at the comment 5 above. In particular it says that `circuits` don't seem to work with `lat=`.



---

archive/issue_comments_184273.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nSo i guess that means that the doctest is wrong. It should be removed, right?",
    "created_at": "2014-07-25T20:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184273",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:18'>Comment 18:</a>
So i guess that means that the doctest is wrong. It should be removed, right?



---

archive/issue_comments_184274.json:
```json
{
    "body": "Changed branch from **[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)** to **[u/mmarco/ticket/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/14843)**",
    "created_at": "2014-07-25T20:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184274",
    "user": "https://github.com/miguelmarco"
}
```

Changed branch from **[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)** to **[u/mmarco/ticket/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/14843)**



---

archive/issue_comments_184275.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2014-07-25T20:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184275",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_193729.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-07-25T20:57:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193729"
}
```



---

archive/issue_events_193730.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-07-25T20:57:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193730"
}
```



---

archive/issue_comments_184276.json:
```json
{
    "body": "Changed commit from **[663e90b](https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761)** to **[85d81c0](https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496)**",
    "created_at": "2014-07-25T20:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184276",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[663e90b](https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761)** to **[85d81c0](https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496)**



---

archive/issue_comments_184277.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nLooks good.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496\">85d81c0</a></td><td><code>Removed lat option from qsolve, rays, and circuits.</code></td></tr></table>\n",
    "created_at": "2014-07-25T20:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184277",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'>Comment 20:</a>
Looks good.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496">85d81c0</a></td><td><code>Removed lat option from qsolve, rays, and circuits.</code></td></tr></table>




---

archive/issue_comments_184278.json:
```json
{
    "body": "Changed dependencies from **#15172** to none",
    "created_at": "2014-07-26T00:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184278",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#15172** to none



---

archive/issue_comments_184279.json:
```json
{
    "body": "Changed author from **mmarco** to **Miguel Marco**",
    "created_at": "2014-07-26T00:06:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184279",
    "user": "https://github.com/vbraun"
}
```

Changed author from **mmarco** to **Miguel Marco**



---

archive/issue_comments_184280.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nFull name for author next time...",
    "created_at": "2014-07-26T00:06:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184280",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'>Comment 22:</a>
Full name for author next time...



---

archive/issue_events_193731.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T01:15:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193731"
}
```



---

archive/issue_events_193732.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T01:15:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193732"
}
```



---

archive/issue_comments_184281.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nI guess these should be `#optional`\n\n```\nsage -t --long src/sage/interfaces/four_ti_2.py\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 376, in sage.interfaces.four_ti_2.FourTi2.hilbert\nFailed example:\n    four_ti_2.hilbert(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [2 1 0]\n    [0 1 2]\n    [1 1 1]\nGot:\n    /bin/sh: hilbert: command not found\n    []\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 399, in sage.interfaces.four_ti_2.FourTi2.graver\nFailed example:\n    four_ti_2.graver(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 1  0 -1]\n    [ 0  1  2]\n    [ 1  1  1]\n    [ 2  1  0]\nGot:\n    /bin/sh: graver: command not found\n    []\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 474, in sage.interfaces.four_ti_2.FourTi2.groebner\nFailed example:\n    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [-1  0  1]\n    [ 2  1  0]\nGot:\n    /bin/sh: groebner: command not found\n    []\n**********************************************************************\n3 items had failures:\n   1 of   3 in sage.interfaces.four_ti_2.FourTi2.graver\n   1 of   4 in sage.interfaces.four_ti_2.FourTi2.groebner\n   1 of   3 in sage.interfaces.four_ti_2.FourTi2.hilbert\n    [41 tests, 3 failures, 0.17 s]\n```",
    "created_at": "2014-07-26T01:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184281",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'>Comment 23:</a>
I guess these should be `#optional`

```
sage -t --long src/sage/interfaces/four_ti_2.py
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 376, in sage.interfaces.four_ti_2.FourTi2.hilbert
Failed example:
    four_ti_2.hilbert(lat=[[1,2,3],[1,1,1]])
Expected:
    [2 1 0]
    [0 1 2]
    [1 1 1]
Got:
    /bin/sh: hilbert: command not found
    []
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 399, in sage.interfaces.four_ti_2.FourTi2.graver
Failed example:
    four_ti_2.graver(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 1  0 -1]
    [ 0  1  2]
    [ 1  1  1]
    [ 2  1  0]
Got:
    /bin/sh: graver: command not found
    []
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 474, in sage.interfaces.four_ti_2.FourTi2.groebner
Failed example:
    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])
Expected:
    [-1  0  1]
    [ 2  1  0]
Got:
    /bin/sh: groebner: command not found
    []
**********************************************************************
3 items had failures:
   1 of   3 in sage.interfaces.four_ti_2.FourTi2.graver
   1 of   4 in sage.interfaces.four_ti_2.FourTi2.groebner
   1 of   3 in sage.interfaces.four_ti_2.FourTi2.hilbert
    [41 tests, 3 failures, 0.17 s]
```



---

archive/issue_events_193733.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T01:15:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "title_is": "Minor improvements to 4ti2 interface",
    "title_was": "Minor improvments to 4ti2 interface",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193733"
}
```



---

archive/issue_comments_184282.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nI have added the optional to doctests where needed, plus replaced a few `...` by `....:` and a few `Runs` by `Run`\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f\">cd65177</a></td><td><code>trac #14843  adding optional to doctests and a few minor doc improvements</code></td></tr></table>\n",
    "created_at": "2014-07-26T07:56:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184282",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'>Comment 25:</a>
I have added the optional to doctests where needed, plus replaced a few `...` by `....:` and a few `Runs` by `Run`

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f">cd65177</a></td><td><code>trac #14843  adding optional to doctests and a few minor doc improvements</code></td></tr></table>




---

archive/issue_events_193734.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-26T07:56:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193734"
}
```



---

archive/issue_events_193735.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-26T07:56:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193735"
}
```



---

archive/issue_comments_184283.json:
```json
{
    "body": "Changed branch from **[u/mmarco/ticket/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/14843)** to **[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)**",
    "created_at": "2014-07-26T07:56:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184283",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/mmarco/ticket/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/14843)** to **[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)**



---

archive/issue_comments_184284.json:
```json
{
    "body": "Changed commit from **[85d81c0](https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496)** to **[cd65177](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)**",
    "created_at": "2014-07-26T07:56:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184284",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[85d81c0](https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496)** to **[cd65177](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)**



---

archive/issue_comments_184285.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nOK, it's now good. Sorry for missing proper #optional tags in the previous try.",
    "created_at": "2014-07-26T11:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184285",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'>Comment 26:</a>
OK, it's now good. Sorry for missing proper #optional tags in the previous try.



---

archive/issue_events_193736.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-07-26T11:37:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193736"
}
```



---

archive/issue_events_193737.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-07-26T11:37:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193737"
}
```



---

archive/issue_events_193738.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T17:05:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193738"
}
```



---

archive/issue_events_193739.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "dc721c495a07a373f5270748b34a94ed00b4086f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-07-26T17:05:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-193739"
}
```



---

archive/issue_comments_184286.json:
```json
{
    "body": "Changed branch from **[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)** to **[cd65177](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)**",
    "created_at": "2014-07-26T17:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184286",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)** to **[cd65177](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)**
