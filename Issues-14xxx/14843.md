# Issue 14843: Minor improvements to 4ti2 interface

archive/issues_014639.json:
```json
{
    "body": "Here is a patch that introduces these two minor improvements to 4ti2 interface:\n-It allows to pass the lattice to the methods instead of the matrix, using the lat parmeter.\n-Changes the verbose default to False, so we only get the output.\n\nExample:\n\n```\nsage: four_ti_2.graver(lat=[[1,2,3],[1,1,1]])\n[ 1  0 -1]\n[ 0  1  2]\n[ 1  1  1]\n[ 2  1  0]\n```\n\n**Assignee:** @miguelmarco\n\n**CC:**  @mwhansen broune mhampton\n\n**Keywords:** 4ti2\n\n**Branch/Commit:** [cd651770e23a204c3c34313f4120827ad8076c9f](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Miguel Marco\n\nIssue created by migration from https://trac.sagemath.org/ticket/14843\n\n",
    "closed_at": "2014-07-26T17:05:52Z",
    "created_at": "2013-06-30T23:32:35Z",
    "labels": [
        "component: interfaces",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "title": "Minor improvements to 4ti2 interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/14843",
    "user": "https://github.com/miguelmarco"
}
```
Here is a patch that introduces these two minor improvements to 4ti2 interface:
-It allows to pass the lattice to the methods instead of the matrix, using the lat parmeter.
-Changes the verbose default to False, so we only get the output.

Example:

```
sage: four_ti_2.graver(lat=[[1,2,3],[1,1,1]])
[ 1  0 -1]
[ 0  1  2]
[ 1  1  1]
[ 2  1  0]
```

**Assignee:** @miguelmarco

**CC:**  @mwhansen broune mhampton

**Keywords:** 4ti2

**Branch/Commit:** [cd651770e23a204c3c34313f4120827ad8076c9f](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)

**Reviewer:** Dima Pasechnik

**Author:** Miguel Marco

Issue created by migration from https://trac.sagemath.org/ticket/14843





---

archive/attachments_019978.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "14843.patch",
    "asset_url": "tarball://root/attachments/ticket14843/14843.patch",
    "created_at": "2013-07-01T10:46:32Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14843/14843.patch",
    "user": "https://github.com/nexttime"
}
```



---

archive/issue_comments_184186.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [14843.patch](https://github.com/sagemath/sage/files/ticket14843/14843.patch) by @nexttime created at 2013-07-01 10:46:32\n\nJust curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n\n(IIRC there's a ticket for doing so, but I don't recall right now.)",
    "created_at": "2013-07-01T10:46:32Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184186",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:1'></a>
Attachment [14843.patch](https://github.com/sagemath/sage/files/ticket14843/14843.patch) by @nexttime created at 2013-07-01 10:46:32

Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?

(IIRC there's a ticket for doing so, but I don't recall right now.)



---

archive/issue_comments_184187.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [leif](#comment%3A1):\n> Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n> \n> (IIRC there's a ticket for doing so, but I don't recall right now.)\n\n\nThere's #13498 at least...",
    "created_at": "2013-07-01T11:56:55Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184187",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:2'></a>
Replying to [leif](#comment%3A1):
> Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?
> 
> (IIRC there's a ticket for doing so, but I don't recall right now.)


There's #13498 at least...



---

archive/issue_comments_184188.json:
```json
{
    "body": "<a id='comment:3'></a>\nDo you mean #13498?\n\nIn my case, 4ti2 spkg compiled without complaining... but it didn't detect GMP, and hence, didn't build the 4ti2gmp binary (which is used, for instance, by the groebner binary).\n\nIn order to use it, i had to link my system-wide 4ti2gmp to $SAGE/local/bin",
    "created_at": "2013-07-01T12:07:25Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184188",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:3'></a>
Do you mean #13498?

In my case, 4ti2 spkg compiled without complaining... but it didn't detect GMP, and hence, didn't build the 4ti2gmp binary (which is used, for instance, by the groebner binary).

In order to use it, i had to link my system-wide 4ti2gmp to $SAGE/local/bin



---

archive/issue_comments_184189.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [leif](#comment%3A2):\n> Replying to [leif](#comment%3A1):\n> > Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n> > \n> > (IIRC there's a ticket for doing so, but I don't recall right now.)\n\n> \n> There's #13498 at least...\n\n\nthere is #15172.",
    "created_at": "2013-09-07T13:39:52Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184189",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
Replying to [leif](#comment%3A2):
> Replying to [leif](#comment%3A1):
> > Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?
> > 
> > (IIRC there's a ticket for doing so, but I don't recall right now.)

> 
> There's #13498 at least...


there is #15172.



---

archive/issue_comments_184190.json:
```json
{
    "body": "rebased for 4ti2-1.6, #15172",
    "created_at": "2013-09-08T12:58:58Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184190",
    "user": "https://github.com/dimpase"
}
```

rebased for 4ti2-1.6, #15172



---

archive/issue_comments_184191.json:
```json
{
    "body": "**Dependencies:** #15172",
    "created_at": "2013-09-08T13:04:33Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184191",
    "user": "https://github.com/dimpase"
}
```

**Dependencies:** #15172



---

archive/attachments_019979.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "14843_rebased_for_15172.patch",
    "asset_url": "tarball://root/attachments/ticket14843/14843_rebased_for_15172.patch",
    "created_at": "2013-09-08T13:04:33Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14843/14843_rebased_for_15172.patch",
    "user": "https://github.com/dimpase"
}
```



---

archive/issue_comments_184192.json:
```json
{
    "body": "<a id='comment:5'></a>\nAttachment [14843_rebased_for_15172.patch](https://github.com/sagemath/sage/files/ticket14843/14843_rebased_for_15172.patch) by @dimpase created at 2013-09-08 13:04:33\n\nThe work on the interface to `4ti2` ought to be based on the version 1.6, for 1.3 is very old. Thus I made the ticket dependent on #15172, and attached the corresponding rebased patch.\n\nIt seems that `lat=` only makes sense for `zsolve`, but not for `qsolve`, `circuits`, `rays`. This is confirmed by the doctests as well as by the source code comments. Please rectify this.",
    "created_at": "2013-09-08T13:04:33Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184192",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
Attachment [14843_rebased_for_15172.patch](https://github.com/sagemath/sage/files/ticket14843/14843_rebased_for_15172.patch) by @dimpase created at 2013-09-08 13:04:33

The work on the interface to `4ti2` ought to be based on the version 1.6, for 1.3 is very old. Thus I made the ticket dependent on #15172, and attached the corresponding rebased patch.

It seems that `lat=` only makes sense for `zsolve`, but not for `qsolve`, `circuits`, `rays`. This is confirmed by the doctests as well as by the source code comments. Please rectify this.



---

archive/issue_events_130076.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-09-08T13:04:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130076"
}
```



---

archive/issue_events_130077.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130077"
}
```



---

archive/issue_events_130078.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130078"
}
```



---

archive/issue_events_130079.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130079"
}
```



---

archive/issue_events_130080.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130080"
}
```



---

archive/issue_comments_184193.json:
```json
{
    "body": "<a id='comment:8'></a>\nI made a branch from the patch. Got two failing doctests on 6.3.beta6 :\n\n```\nFailed example:\n    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 0  1  2]\n    [ 1  0 -1]\n    [ 2  1  0]\nGot:\n    Error: Unable to find 4ti2 executable `4ti2gmp'\n    []\n```\nand\n\n```\nFailed example:\n    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [-1  0  1]\n    [ 2  1  0]\nGot:\n    Error: Unable to find 4ti2 executable `4ti2gmp'\n    []\n\n```\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761\">663e90b</a></td><td><code>No Subject. Modified: four_ti_2.py</code></td></tr></table>\n",
    "created_at": "2014-07-25T14:56:10Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184193",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I made a branch from the patch. Got two failing doctests on 6.3.beta6 :

```
Failed example:
    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 0  1  2]
    [ 1  0 -1]
    [ 2  1  0]
Got:
    Error: Unable to find 4ti2 executable `4ti2gmp'
    []
```
and

```
Failed example:
    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])
Expected:
    [-1  0  1]
    [ 2  1  0]
Got:
    Error: Unable to find 4ti2 executable `4ti2gmp'
    []

```

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761">663e90b</a></td><td><code>No Subject. Modified: four_ti_2.py</code></td></tr></table>




---

archive/issue_comments_184194.json:
```json
{
    "body": "**Branch:** [u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)",
    "created_at": "2014-07-25T14:56:10Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184194",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)



---

archive/issue_comments_184195.json:
```json
{
    "body": "**Commit:** [663e90ba39a47b2bb37ae9c03eee7005d113e761](https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761)",
    "created_at": "2014-07-25T14:56:10Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184195",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [663e90ba39a47b2bb37ae9c03eee7005d113e761](https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761)



---

archive/issue_events_130081.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-25T14:57:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130081"
}
```



---

archive/issue_events_130082.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-25T14:57:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130082"
}
```



---

archive/issue_comments_184196.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [chapoton](#comment%3A9):\nDid you do `sage -i 4ti2` ? If yes, then\ndo you have `4ti2gmp` in `SAGE_LOCAL/bin` ?",
    "created_at": "2014-07-25T15:07:08Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184196",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
Replying to [chapoton](#comment%3A9):
Did you do `sage -i 4ti2` ? If yes, then
do you have `4ti2gmp` in `SAGE_LOCAL/bin` ?



---

archive/issue_comments_184197.json:
```json
{
    "body": "<a id='comment:11'></a>\nI had just installed 4ti2, before running the tests. But there is no `4ti2gmp` in `SAGE_LOCAL/bin`, only 4ti2int32 and 4ti2int64.",
    "created_at": "2014-07-25T18:15:50Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184197",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
I had just installed 4ti2, before running the tests. But there is no `4ti2gmp` in `SAGE_LOCAL/bin`, only 4ti2int32 and 4ti2int64.



---

archive/issue_comments_184198.json:
```json
{
    "body": "<a id='comment:12'></a>\nI can't reproduce this, I just tried installing 4ti2 on the latest Sage beta (on 64-bit Fedora Linux), and got it all there:\n\n```\nsage-6.3.beta6/local/bin]$ ls -l 4ti*\n-rwxr-xr-x 1 dimpase tcs-staff 55501 Jul 25 16:17 4ti2gmp\n-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int32\n-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int64\n```\n\nplease look into your install log to see is something has failed...\n\nPS. It also works for me on OSX 10.9.4.",
    "created_at": "2014-07-25T18:24:21Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184198",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
I can't reproduce this, I just tried installing 4ti2 on the latest Sage beta (on 64-bit Fedora Linux), and got it all there:

```
sage-6.3.beta6/local/bin]$ ls -l 4ti*
-rwxr-xr-x 1 dimpase tcs-staff 55501 Jul 25 16:17 4ti2gmp
-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int32
-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int64
```

please look into your install log to see is something has failed...

PS. It also works for me on OSX 10.9.4.



---

archive/issue_comments_184199.json:
```json
{
    "body": "<a id='comment:13'></a>\nhmm, do you know where the log is ?\n\nfound in the log:\n\n```\nchecking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.\n4ti2 will be built without support for arbitrary-precision computations.\nconfigure: WARNING: Unable to use the GNU MP C++ library.\nPlease make sure that GNU MP was configured with \"--enable-cxx\".\n4ti2 will be built without support for arbitrary-precision computations.\n```",
    "created_at": "2014-07-25T18:34:47Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184199",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
hmm, do you know where the log is ?

found in the log:

```
checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.
4ti2 will be built without support for arbitrary-precision computations.
configure: WARNING: Unable to use the GNU MP C++ library.
Please make sure that GNU MP was configured with "--enable-cxx".
4ti2 will be built without support for arbitrary-precision computations.
```



---

archive/issue_comments_184200.json:
```json
{
    "body": "<a id='comment:14'></a>\nOn another machine (where 4ti2gmp is present), got just one failure:\n\n```\nFailed example:\n    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 0  1  2]\n    [ 1  0 -1]\n    [ 2  1  0]\nGot:\n    ERROR: No constraint matrix specified.\n    ERROR: Expected matrix in 'project_3.mat'\n    []\n```",
    "created_at": "2014-07-25T18:42:56Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184200",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
On another machine (where 4ti2gmp is present), got just one failure:

```
Failed example:
    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 0  1  2]
    [ 1  0 -1]
    [ 2  1  0]
Got:
    ERROR: No constraint matrix specified.
    ERROR: Expected matrix in 'project_3.mat'
    []
```



---

archive/issue_comments_184201.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [chapoton](#comment%3A13):\n> hmm, do you know where the log is ?\n> \n> found in the log:\n> \n> ```\n> checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.\n> 4ti2 will be built without support for arbitrary-precision computations.\n> configure: WARNING: Unable to use the GNU MP C++ library.\n> Please make sure that GNU MP was configured with \"--enable-cxx\".\n> 4ti2 will be built without support for arbitrary-precision computations.\n> ```\n\nIt all works for me. Looks like your're either installing a wrong spkg, or something along these lines.\nAttach the complete log here...",
    "created_at": "2014-07-25T19:03:03Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184201",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
Replying to [chapoton](#comment%3A13):
> hmm, do you know where the log is ?
> 
> found in the log:
> 
> ```
> checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.
> 4ti2 will be built without support for arbitrary-precision computations.
> configure: WARNING: Unable to use the GNU MP C++ library.
> Please make sure that GNU MP was configured with "--enable-cxx".
> 4ti2 will be built without support for arbitrary-precision computations.
> ```

It all works for me. Looks like your're either installing a wrong spkg, or something along these lines.
Attach the complete log here...



---

archive/attachments_019980.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "4ti2.log",
    "asset_url": "tarball://root/attachments/ticket14843/4ti2.log",
    "created_at": "2014-07-25T19:16:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14843/4ti2.log",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_184202.json:
```json
{
    "body": "Attachment [4ti2.log](https://github.com/sagemath/sage/files/ticket14843/4ti2.log) by @fchapoton created at 2014-07-25 19:16:30\n\nlog of the install of 4ti2",
    "created_at": "2014-07-25T19:16:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184202",
    "user": "https://github.com/fchapoton"
}
```

Attachment [4ti2.log](https://github.com/sagemath/sage/files/ticket14843/4ti2.log) by @fchapoton created at 2014-07-25 19:16:30

log of the install of 4ti2



---

archive/issue_comments_184203.json:
```json
{
    "body": "<a id='comment:16'></a>\nI am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg\n\nHere is the log for the \"unique failure, gmp present\" case",
    "created_at": "2014-07-25T19:17:33Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184203",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg

Here is the log for the "unique failure, gmp present" case



---

archive/issue_comments_184204.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [chapoton](#comment%3A16):\n> I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg\n> \n> Here is the log for the \"unique failure, gmp present\" case\n\nwell, there is nothing interesting in the log in this case, I gather.\n\nI think I never claimed that the patch I provided worked. Look at the comment 5 above. In particular it says that `circuits` don't seem to work with `lat=`.",
    "created_at": "2014-07-25T19:50:45Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184204",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
Replying to [chapoton](#comment%3A16):
> I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg
> 
> Here is the log for the "unique failure, gmp present" case

well, there is nothing interesting in the log in this case, I gather.

I think I never claimed that the patch I provided worked. Look at the comment 5 above. In particular it says that `circuits` don't seem to work with `lat=`.



---

archive/issue_comments_184205.json:
```json
{
    "body": "<a id='comment:18'></a>\nSo i guess that means that the doctest is wrong. It should be removed, right?",
    "created_at": "2014-07-25T20:09:05Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184205",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:18'></a>
So i guess that means that the doctest is wrong. It should be removed, right?



---

archive/issue_comments_184206.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)\" to \"[u/mmarco/ticket/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/14843)\".",
    "created_at": "2014-07-25T20:18:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184206",
    "user": "https://github.com/miguelmarco"
}
```

**Changing branch** from "[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)" to "[u/mmarco/ticket/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/14843)".



---

archive/issue_comments_184207.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2014-07-25T20:57:12Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184207",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_events_130083.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-07-25T20:57:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130083"
}
```



---

archive/issue_events_130084.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-07-25T20:57:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130084"
}
```



---

archive/issue_comments_184208.json:
```json
{
    "body": "**Changing commit** from \"[663e90ba39a47b2bb37ae9c03eee7005d113e761](https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761)\" to \"[85d81c0a916a4bcd9eeea9687fd5ea26ecbad496](https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496)\".",
    "created_at": "2014-07-25T20:57:12Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184208",
    "user": "https://github.com/dimpase"
}
```

**Changing commit** from "[663e90ba39a47b2bb37ae9c03eee7005d113e761](https://github.com/sagemath/sagetrac-mirror/commit/663e90ba39a47b2bb37ae9c03eee7005d113e761)" to "[85d81c0a916a4bcd9eeea9687fd5ea26ecbad496](https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496)".



---

archive/issue_comments_184209.json:
```json
{
    "body": "<a id='comment:20'></a>\nLooks good.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496\">85d81c0</a></td><td><code>Removed lat option from qsolve, rays, and circuits.</code></td></tr></table>\n",
    "created_at": "2014-07-25T20:57:12Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184209",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>
Looks good.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496">85d81c0</a></td><td><code>Removed lat option from qsolve, rays, and circuits.</code></td></tr></table>




---

archive/issue_comments_184210.json:
```json
{
    "body": "**Changing dependencies** from \"#15172\" to \"\".",
    "created_at": "2014-07-26T00:01:24Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184210",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "#15172" to "".



---

archive/issue_comments_184211.json:
```json
{
    "body": "**Changing author** from \"mmarco\" to \"Miguel Marco\".",
    "created_at": "2014-07-26T00:06:45Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184211",
    "user": "https://github.com/vbraun"
}
```

**Changing author** from "mmarco" to "Miguel Marco".



---

archive/issue_comments_184212.json:
```json
{
    "body": "<a id='comment:22'></a>\nFull name for author next time...",
    "created_at": "2014-07-26T00:06:45Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184212",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>
Full name for author next time...



---

archive/issue_events_130085.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T01:15:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130085"
}
```



---

archive/issue_events_130086.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T01:15:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130086"
}
```



---

archive/issue_comments_184213.json:
```json
{
    "body": "<a id='comment:23'></a>\nI guess these should be `#optional`\n\n```\nsage -t --long src/sage/interfaces/four_ti_2.py\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 376, in sage.interfaces.four_ti_2.FourTi2.hilbert\nFailed example:\n    four_ti_2.hilbert(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [2 1 0]\n    [0 1 2]\n    [1 1 1]\nGot:\n    /bin/sh: hilbert: command not found\n    []\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 399, in sage.interfaces.four_ti_2.FourTi2.graver\nFailed example:\n    four_ti_2.graver(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 1  0 -1]\n    [ 0  1  2]\n    [ 1  1  1]\n    [ 2  1  0]\nGot:\n    /bin/sh: graver: command not found\n    []\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 474, in sage.interfaces.four_ti_2.FourTi2.groebner\nFailed example:\n    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [-1  0  1]\n    [ 2  1  0]\nGot:\n    /bin/sh: groebner: command not found\n    []\n**********************************************************************\n3 items had failures:\n   1 of   3 in sage.interfaces.four_ti_2.FourTi2.graver\n   1 of   4 in sage.interfaces.four_ti_2.FourTi2.groebner\n   1 of   3 in sage.interfaces.four_ti_2.FourTi2.hilbert\n    [41 tests, 3 failures, 0.17 s]\n```",
    "created_at": "2014-07-26T01:15:13Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184213",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>
I guess these should be `#optional`

```
sage -t --long src/sage/interfaces/four_ti_2.py
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 376, in sage.interfaces.four_ti_2.FourTi2.hilbert
Failed example:
    four_ti_2.hilbert(lat=[[1,2,3],[1,1,1]])
Expected:
    [2 1 0]
    [0 1 2]
    [1 1 1]
Got:
    /bin/sh: hilbert: command not found
    []
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 399, in sage.interfaces.four_ti_2.FourTi2.graver
Failed example:
    four_ti_2.graver(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 1  0 -1]
    [ 0  1  2]
    [ 1  1  1]
    [ 2  1  0]
Got:
    /bin/sh: graver: command not found
    []
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 474, in sage.interfaces.four_ti_2.FourTi2.groebner
Failed example:
    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])
Expected:
    [-1  0  1]
    [ 2  1  0]
Got:
    /bin/sh: groebner: command not found
    []
**********************************************************************
3 items had failures:
   1 of   3 in sage.interfaces.four_ti_2.FourTi2.graver
   1 of   4 in sage.interfaces.four_ti_2.FourTi2.groebner
   1 of   3 in sage.interfaces.four_ti_2.FourTi2.hilbert
    [41 tests, 3 failures, 0.17 s]
```



---

archive/issue_events_130087.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T01:15:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "rename": {
        "from": "Minor improvments to 4ti2 interface",
        "to": "Minor improvements to 4ti2 interface"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130087"
}
```



---

archive/issue_comments_184214.json:
```json
{
    "body": "<a id='comment:25'></a>\nI have added the optional to doctests where needed, plus replaced a few `...` by `....:` and a few `Runs` by `Run`\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f\">cd65177</a></td><td><code>trac #14843  adding optional to doctests and a few minor doc improvements</code></td></tr></table>\n",
    "created_at": "2014-07-26T07:56:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184214",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>
I have added the optional to doctests where needed, plus replaced a few `...` by `....:` and a few `Runs` by `Run`

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f">cd65177</a></td><td><code>trac #14843  adding optional to doctests and a few minor doc improvements</code></td></tr></table>




---

archive/issue_events_130088.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-26T07:56:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130088"
}
```



---

archive/issue_events_130089.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-26T07:56:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130089"
}
```



---

archive/issue_comments_184215.json:
```json
{
    "body": "**Changing branch** from \"[u/mmarco/ticket/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/14843)\" to \"[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)\".",
    "created_at": "2014-07-26T07:56:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184215",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/mmarco/ticket/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/14843)" to "[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)".



---

archive/issue_comments_184216.json:
```json
{
    "body": "**Changing commit** from \"[85d81c0a916a4bcd9eeea9687fd5ea26ecbad496](https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496)\" to \"[cd651770e23a204c3c34313f4120827ad8076c9f](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)\".",
    "created_at": "2014-07-26T07:56:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184216",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[85d81c0a916a4bcd9eeea9687fd5ea26ecbad496](https://github.com/sagemath/sagetrac-mirror/commit/85d81c0a916a4bcd9eeea9687fd5ea26ecbad496)" to "[cd651770e23a204c3c34313f4120827ad8076c9f](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)".



---

archive/issue_comments_184217.json:
```json
{
    "body": "<a id='comment:26'></a>\nOK, it's now good. Sorry for missing proper #optional tags in the previous try.",
    "created_at": "2014-07-26T11:37:47Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184217",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
OK, it's now good. Sorry for missing proper #optional tags in the previous try.



---

archive/issue_events_130090.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-07-26T11:37:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130090"
}
```



---

archive/issue_events_130091.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-07-26T11:37:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130091"
}
```



---

archive/issue_events_130092.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T17:05:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130092"
}
```



---

archive/issue_events_130093.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T17:05:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14843#event-130093"
}
```



---

archive/issue_comments_184218.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)\" to \"[cd651770e23a204c3c34313f4120827ad8076c9f](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)\".",
    "created_at": "2014-07-26T17:05:52Z",
    "issue": "https://github.com/sagemath/sage/issues/14843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14843#issuecomment-184218",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/14843](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14843)" to "[cd651770e23a204c3c34313f4120827ad8076c9f](https://github.com/sagemath/sagetrac-mirror/commit/cd651770e23a204c3c34313f4120827ad8076c9f)".
