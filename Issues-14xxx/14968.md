# Issue 14968: Store actual tarball name in pkg metadata.

archive/issues_014731.json:
```json
{
    "body": "See discussion at https://groups.google.com/forum/#!topic/sage-git/Qkjey5OhVAo\n\nReviewer: Volker Braun\n\nAuthor: Robert Bradshaw\n\nBranch: u/vbraun/ticket/14968\n\nCommit: b6b4adb3112a47b466b72d2a564dbe39985b1bf9\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14968\n\n",
    "closed_at": "2013-12-16T14:45:03Z",
    "created_at": "2013-07-25T05:49:59Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.0",
    "title": "Store actual tarball name in pkg metadata.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14968",
    "user": "https://github.com/robertwb"
}
```
See discussion at https://groups.google.com/forum/#!topic/sage-git/Qkjey5OhVAo

Reviewer: Volker Braun

Author: Robert Bradshaw

Branch: u/vbraun/ticket/14968

Commit: b6b4adb3112a47b466b72d2a564dbe39985b1bf9

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14968





---

archive/issue_comments_232171.json:
```json
{
    "body": "Changing branch from \"\" to \"u/robertwb/14968-tarballs\"",
    "created_at": "2013-07-25T05:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232171",
    "user": "https://github.com/robertwb"
}
```

Changing branch from "" to "u/robertwb/14968-tarballs"



---

archive/issue_comments_232172.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-07-25T05:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232172",
    "user": "https://github.com/robertwb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_232173.json:
```json
{
    "body": "<a id='comment:2'></a>\nWe could also support supporting a URL as the tarball field. That would be useful during development: people who cannot upload to the mirror network can then just put the upstream URL there. Actually, that might even make sense in general, not only during development.",
    "created_at": "2013-07-25T08:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232173",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:2'></a>
We could also support supporting a URL as the tarball field. That would be useful during development: people who cannot upload to the mirror network can then just put the upstream URL there. Actually, that might even make sense in general, not only during development.



---

archive/issue_comments_232174.json:
```json
{
    "body": "<a id='comment:3'></a>\nPatch looks good to me.\n\nI don't think we should allow an arbitrary URL. Then we also have to make sure that every Sage release all URLs actually point to our servers. And for development its much easier to just put your tarball into the `/upstream` directory instead of uploading it to a remote server and then downloading it again. It it turns out to be a crucial feature we can always add it later.",
    "created_at": "2013-07-25T13:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232174",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
Patch looks good to me.

I don't think we should allow an arbitrary URL. Then we also have to make sure that every Sage release all URLs actually point to our servers. And for development its much easier to just put your tarball into the `/upstream` directory instead of uploading it to a remote server and then downloading it again. It it turns out to be a crucial feature we can always add it later.



---

archive/issue_comments_232175.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2013-07-25T14:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232175",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_232176.json:
```json
{
    "body": "Changing author from \"\" to \"Robert Bradshaw\"",
    "created_at": "2013-07-25T14:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232176",
    "user": "https://github.com/vbraun"
}
```

Changing author from "" to "Robert Bradshaw"



---

archive/issue_comments_232177.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-25T14:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232177",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_232178.json:
```json
{
    "body": "<a id='comment:5'></a>\nSo, now that this is positively reviewed, when/where does it get merged?",
    "created_at": "2013-08-06T05:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232178",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:5'></a>
So, now that this is positively reviewed, when/where does it get merged?



---

archive/issue_comments_232179.json:
```json
{
    "body": "Changing branch from \"u/robertwb/14968-tarballs\" to \"u/robertwb/ticket/14968\"",
    "created_at": "2013-08-29T06:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232179",
    "user": "https://github.com/robertwb"
}
```

Changing branch from "u/robertwb/14968-tarballs" to "u/robertwb/ticket/14968"



---

archive/issue_comments_232180.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                         |                                                  |\n|---------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[19382e1](https://github.com/sagemath/sagetrac-mirror/commit/19382e1)|Add missing tarballs, use VERSION in tarball path.|\n|[39080bf](https://github.com/sagemath/sagetrac-mirror/commit/39080bf)|Allow VERSION variable in spkg tarball specification.|\n|[652a892](https://github.com/sagemath/sagetrac-mirror/commit/652a892)|Merge branch 'master' into 14968|",
    "created_at": "2013-11-13T06:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                         |                                                  |
|---------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[19382e1](https://github.com/sagemath/sagetrac-mirror/commit/19382e1)|Add missing tarballs, use VERSION in tarball path.|
|[39080bf](https://github.com/sagemath/sagetrac-mirror/commit/39080bf)|Allow VERSION variable in spkg tarball specification.|
|[652a892](https://github.com/sagemath/sagetrac-mirror/commit/652a892)|Merge branch 'master' into 14968|



---

archive/issue_comments_232181.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2013-11-13T06:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232181",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_232182.json:
```json
{
    "body": "Changing commit from \"\" to \"19382e19fea8e664b8892867f6ac93beaaf4a01d\"",
    "created_at": "2013-11-13T06:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232182",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "19382e19fea8e664b8892867f6ac93beaaf4a01d"



---

archive/issue_comments_232183.json:
```json
{
    "body": "<a id='comment:8'></a>\nThere were some merge conflicts. I've resolved those and improved the path a bit, please take another look (and hopefully merge before it goes stale again).",
    "created_at": "2013-11-13T06:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232183",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:8'></a>
There were some merge conflicts. I've resolved those and improved the path a bit, please take another look (and hopefully merge before it goes stale again).



---

archive/issue_comments_232184.json:
```json
{
    "body": "Changing commit from \"19382e19fea8e664b8892867f6ac93beaaf4a01d\" to \"f1ad358ed59abdb691b7de0ad40e61460e8b57d9\"",
    "created_at": "2013-11-17T06:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232184",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "19382e19fea8e664b8892867f6ac93beaaf4a01d" to "f1ad358ed59abdb691b7de0ad40e61460e8b57d9"



---

archive/issue_comments_232185.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                         |               |\n|---------------------------------------------------------------------------------------------------------|---------------|\n|[f1ad358](https://github.com/sagemath/sagetrac-mirror/commit/f1ad358)|fix ppl tarball|",
    "created_at": "2013-11-17T06:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232185",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                         |               |
|---------------------------------------------------------------------------------------------------------|---------------|
|[f1ad358](https://github.com/sagemath/sagetrac-mirror/commit/f1ad358)|fix ppl tarball|



---

archive/issue_comments_232186.json:
```json
{
    "body": "<a id='comment:10'></a>\nlgtm",
    "created_at": "2013-12-01T13:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232186",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
lgtm



---

archive/issue_comments_232187.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-12-01T13:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232187",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_232188.json:
```json
{
    "body": "Changing branch from \"u/robertwb/ticket/14968\" to \"u/vbraun/ticket/14968\"",
    "created_at": "2013-12-16T14:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232188",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/robertwb/ticket/14968" to "u/vbraun/ticket/14968"



---

archive/issue_comments_232189.json:
```json
{
    "body": "<a id='comment:11'></a>\nI fixed conflicts in r and git by merging with the newer version....\n\n---\nLast 10 new commits:\n|                                                                                                         |                    |\n|---------------------------------------------------------------------------------------------------------|--------------------|\n|[b6b4adb](https://github.com/sagemath/sagetrac-mirror/commit/b6b4adb)|updated git checksum|\n|[a25d736](https://github.com/sagemath/sagetrac-mirror/commit/a25d736)|updated R checksum|\n|[326f347](https://github.com/sagemath/sagetrac-mirror/commit/326f347)|[FIXUP] 5.13.rc0: update git specific files|\n|[c1cd99c](https://github.com/sagemath/sagetrac-mirror/commit/c1cd99c)|Merge branch 'upstream' into u/ohanar/build_system|\n|[fbb6305](https://github.com/sagemath/sagetrac-mirror/commit/fbb6305)|5.13|\n|[f6fcc98](https://github.com/sagemath/sagetrac-mirror/commit/f6fcc98)|fixing git interface doctests for new git version|\n|[4dd4da5](https://github.com/sagemath/sagetrac-mirror/commit/4dd4da5)|Merge dev scripts branch since their doctests are changed by the new git|\n|[f3df294](https://github.com/sagemath/sagetrac-mirror/commit/f3df294)|update git to latest upstream version 1.8.4.4|\n|[946b5b4](https://github.com/sagemath/sagetrac-mirror/commit/946b5b4)|fix the commandline sage -dev script|\n|[2941308](https://github.com/sagemath/sagetrac-mirror/commit/2941308)|Use a DoctestSageDevWrapper for the global dev object during doctests|",
    "created_at": "2013-12-16T14:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232189",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
I fixed conflicts in r and git by merging with the newer version....

---
Last 10 new commits:
|                                                                                                         |                    |
|---------------------------------------------------------------------------------------------------------|--------------------|
|[b6b4adb](https://github.com/sagemath/sagetrac-mirror/commit/b6b4adb)|updated git checksum|
|[a25d736](https://github.com/sagemath/sagetrac-mirror/commit/a25d736)|updated R checksum|
|[326f347](https://github.com/sagemath/sagetrac-mirror/commit/326f347)|[FIXUP] 5.13.rc0: update git specific files|
|[c1cd99c](https://github.com/sagemath/sagetrac-mirror/commit/c1cd99c)|Merge branch 'upstream' into u/ohanar/build_system|
|[fbb6305](https://github.com/sagemath/sagetrac-mirror/commit/fbb6305)|5.13|
|[f6fcc98](https://github.com/sagemath/sagetrac-mirror/commit/f6fcc98)|fixing git interface doctests for new git version|
|[4dd4da5](https://github.com/sagemath/sagetrac-mirror/commit/4dd4da5)|Merge dev scripts branch since their doctests are changed by the new git|
|[f3df294](https://github.com/sagemath/sagetrac-mirror/commit/f3df294)|update git to latest upstream version 1.8.4.4|
|[946b5b4](https://github.com/sagemath/sagetrac-mirror/commit/946b5b4)|fix the commandline sage -dev script|
|[2941308](https://github.com/sagemath/sagetrac-mirror/commit/2941308)|Use a DoctestSageDevWrapper for the global dev object during doctests|



---

archive/issue_comments_232190.json:
```json
{
    "body": "Changing commit from \"f1ad358ed59abdb691b7de0ad40e61460e8b57d9\" to \"b6b4adb3112a47b466b72d2a564dbe39985b1bf9\"",
    "created_at": "2013-12-16T14:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232190",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "f1ad358ed59abdb691b7de0ad40e61460e8b57d9" to "b6b4adb3112a47b466b72d2a564dbe39985b1bf9"



---

archive/issue_events_057067.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-16T14:45:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14968#event-57067"
}
```



---

archive/issue_comments_232191.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-12-16T14:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14968#issuecomment-232191",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
