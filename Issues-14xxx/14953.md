# Issue 14953: Graph drawing in javascript using d3.js

archive/issues_014716.json:
```json
{
    "assignees": [],
    "body": "As the title says.\n\nThis drawing method will be as good as the examples that are used to tune its parameters `:-)`\n\nNathann\n\n**CC:**  bonfroy\n\n**Branch:** [76acf85eecadfaf3c64637b6f564ae51b6b5b940](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)\n\n**Reviewer:** Dima Pasechnik, Volker Braun\n\n**Author:** Nathann Cohen, Brice Onfroy\n\nIssue created by migration from https://trac.sagemath.org/ticket/14953\n\n",
    "closed_at": "2014-06-02T15:56:22Z",
    "created_at": "2013-07-22T21:29:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Graph drawing in javascript using d3.js",
    "type": "issue",
    "updated_at": "2014-06-04T15:36:25Z",
    "url": "https://github.com/sagemath/sage/issues/14953",
    "user": "https://github.com/nathanncohen"
}
```
As the title says.

This drawing method will be as good as the examples that are used to tune its parameters `:-)`

Nathann

**CC:**  bonfroy

**Branch:** [76acf85eecadfaf3c64637b6f564ae51b6b5b940](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)

**Reviewer:** Dima Pasechnik, Volker Braun

**Author:** Nathann Cohen, Brice Onfroy

Issue created by migration from https://trac.sagemath.org/ticket/14953





---

archive/issue_events_180121.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:29:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180121"
}
```



---

archive/issue_events_180122.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:29:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "08517b",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180122"
}
```



---

archive/issue_events_180123.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:29:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180123"
}
```



---

archive/issue_events_180124.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:34:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180124"
}
```



---

archive/issue_comments_185633.json:
```json
{
    "body": "**Attachment:** [trac_14953.patch.gz](https://github.com/sagemath/sage/files/ticket14953/trac_14953.patch.gz)",
    "created_at": "2013-08-13T16:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185633",
    "user": "https://github.com/nathanncohen"
}
```

**Attachment:** [trac_14953.patch.gz](https://github.com/sagemath/sage/files/ticket14953/trac_14953.patch.gz)



---

archive/issue_comments_185634.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\n**Attachment:** [trac_14953_review1.patch.gz](https://github.com/sagemath/sage/files/ticket14953/trac_14953_review1.patch.gz)\n\nvery nice tool. Here is a purely cosmetic review patch\n\nI still have to finish the review, but later",
    "created_at": "2013-08-29T12:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185634",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'>**Comment 3:**</a>
**Attachment:** [trac_14953_review1.patch.gz](https://github.com/sagemath/sage/files/ticket14953/trac_14953_review1.patch.gz)

very nice tool. Here is a purely cosmetic review patch

I still have to finish the review, but later



---

archive/issue_comments_185635.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nWell if you have some time to review that ?.... `:-P`",
    "created_at": "2013-10-30T13:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185635",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'>**Comment 4:**</a>
Well if you have some time to review that ?.... `:-P`



---

archive/issue_comments_185636.json:
```json
{
    "body": "**Branch:** [u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)",
    "created_at": "2013-11-05T10:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185636",
    "user": "https://github.com/nathanncohen"
}
```

**Branch:** [u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)



---

archive/issue_comments_185637.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nNow a GIT patch.",
    "created_at": "2013-11-05T10:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185637",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'>**Comment 5:**</a>
Now a GIT patch.



---

archive/issue_comments_185638.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[changeset:84b44ab]</td><td><code>Git directory layout</code></td></tr><tr><td>[changeset:465f9db]</td><td><code>trac #14953 cleanup, pep8 and details</code></td></tr><tr><td>[changeset:89bbece]</td><td><code>Graph drawing in javascript using d3.js</code></td></tr></table>\n",
    "created_at": "2013-11-05T10:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185638",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>**Comment 6:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[changeset:84b44ab]</td><td><code>Git directory layout</code></td></tr><tr><td>[changeset:465f9db]</td><td><code>trac #14953 cleanup, pep8 and details</code></td></tr><tr><td>[changeset:89bbece]</td><td><code>Graph drawing in javascript using d3.js</code></td></tr></table>




---

archive/issue_comments_185639.json:
```json
{
    "body": "**Commit:** [84b44ab8a2de5f53d203a34d405c4740ce137538](https://github.com/sagemath/sagetrac-mirror/commit/84b44ab8a2de5f53d203a34d405c4740ce137538)",
    "created_at": "2013-11-05T10:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185639",
    "user": "https://github.com/sagetrac-git"
}
```

**Commit:** [84b44ab8a2de5f53d203a34d405c4740ce137538](https://github.com/sagemath/sagetrac-mirror/commit/84b44ab8a2de5f53d203a34d405c4740ce137538)



---

archive/issue_events_180125.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180125"
}
```



---

archive/issue_events_180126.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180126"
}
```



---

archive/issue_events_180127.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180127"
}
```



---

archive/issue_events_180128.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180128"
}
```



---

archive/issue_comments_185640.json:
```json
{
    "body": "**Work Issues:** rebase",
    "created_at": "2014-05-09T10:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185640",
    "user": "https://github.com/rwst"
}
```

**Work Issues:** rebase



---

archive/issue_events_180129.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-09T10:07:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180129"
}
```



---

archive/issue_events_180130.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-09T10:07:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180130"
}
```



---

archive/issue_comments_185641.json:
```json
{
    "body": "**Changing commit** from \"[84b44ab8a2de5f53d203a34d405c4740ce137538](https://github.com/sagemath/sagetrac-mirror/commit/84b44ab8a2de5f53d203a34d405c4740ce137538)\" to \"[44265a5175644283faea92a98cdc869b274ff984](https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984)\".",
    "created_at": "2014-05-12T09:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185641",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[84b44ab8a2de5f53d203a34d405c4740ce137538](https://github.com/sagemath/sagetrac-mirror/commit/84b44ab8a2de5f53d203a34d405c4740ce137538)" to "[44265a5175644283faea92a98cdc869b274ff984](https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984)".



---

archive/issue_comments_185642.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984\">44265a5</a></td><td><code>trac #14953: Merged with 6.3.beta0</code></td></tr></table>\n",
    "created_at": "2014-05-12T09:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185642",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>**Comment 10:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984">44265a5</a></td><td><code>trac #14953: Merged with 6.3.beta0</code></td></tr></table>




---

archive/issue_events_180131.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-12T09:04:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180131"
}
```



---

archive/issue_events_180132.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-12T09:04:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180132"
}
```



---

archive/issue_comments_185643.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nFixed. If you feel like giving it a review ... It is 10 months old already `:-P`\n\nNathann",
    "created_at": "2014-05-12T09:04:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185643",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'>**Comment 11:**</a>
Fixed. If you feel like giving it a review ... It is 10 months old already `:-P`

Nathann



---

archive/issue_comments_185644.json:
```json
{
    "body": "**Changing work issues** from \"rebase\" to \"\".",
    "created_at": "2014-05-12T09:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185644",
    "user": "https://github.com/nathanncohen"
}
```

**Changing work issues** from "rebase" to "".



---

archive/issue_comments_185645.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nOne must be online to use this stuff, right?",
    "created_at": "2014-05-24T21:23:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185645",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'>**Comment 13:**</a>
One must be online to use this stuff, right?



---

archive/issue_comments_185646.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nRight now yes, but there is no \"technical\" reason. Right now, it loads the javascript files d3.js from some URL, all this is not contained in the patch. We can later change that or write a spkg containing those files, and there will be no need of that anymore.\n\nNathann",
    "created_at": "2014-05-25T06:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185646",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'>**Comment 14:**</a>
Right now yes, but there is no "technical" reason. Right now, it loads the javascript files d3.js from some URL, all this is not contained in the patch. We can later change that or write a spkg containing those files, and there will be no need of that anymore.

Nathann



---

archive/issue_comments_185647.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nlooks good. I'll check that the docs build, and then it should be good to go.",
    "created_at": "2014-05-27T08:42:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185647",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'>**Comment 15:**</a>
looks good. I'll check that the docs build, and then it should be good to go.



---

archive/issue_comments_185648.json:
```json
{
    "body": "**Changing branch** from \"[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)\" to \"[u/dimpase/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/14953)\".",
    "created_at": "2014-05-27T08:47:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185648",
    "user": "https://github.com/dimpase"
}
```

**Changing branch** from "[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)" to "[u/dimpase/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/14953)".



---

archive/issue_events_180133.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-05-27T23:23:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180133"
}
```



---

archive/issue_events_180134.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-05-27T23:23:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180134"
}
```



---

archive/issue_comments_185649.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2014-05-27T23:24:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185649",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_185650.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nWow ! Thank you very much ! `:-)`\n\nIf you do not feel like sleeping there is a combinatorial_map war on Sage-devel. It got so rewarding I even closed #16403 just stop talking.\n\nNathann",
    "created_at": "2014-05-27T23:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185650",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'>**Comment 19:**</a>
Wow ! Thank you very much ! `:-)`

If you do not feel like sleeping there is a combinatorial_map war on Sage-devel. It got so rewarding I even closed #16403 just stop talking.

Nathann



---

archive/issue_comments_185651.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\nPops up a browser window when running \"make ptestlong\"... please find a better way of automated testing ;-)",
    "created_at": "2014-05-29T15:27:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185651",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'>**Comment 20:**</a>
Pops up a browser window when running "make ptestlong"... please find a better way of automated testing ;-)



---

archive/issue_events_180135.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-29T15:27:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180135"
}
```



---

archive/issue_events_180136.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-29T15:27:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180136"
}
```



---

archive/issue_comments_185652.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nAlso, anything that requires internet must be marked as `# optional - internet`.",
    "created_at": "2014-05-29T15:28:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185652",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'>**Comment 21:**</a>
Also, anything that requires internet must be marked as `# optional - internet`.



---

archive/issue_comments_185653.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nHmmmmm... Is there a way to test anything that this patch does ?... `:-/`\n\nNathann",
    "created_at": "2014-05-29T16:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185653",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'>**Comment 22:**</a>
Hmmmmm... Is there a way to test anything that this patch does ?... `:-/`

Nathann



---

archive/issue_comments_185654.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\nYou can split the html generation from the show() function and doctest it as usual. Show can just check `DOCTEST_MODE` to avoid starting the browser.\n\nAlso, don't load the html template from `SAGE_SRC`. Thats the source code, if you need files at runtime then they must be installed under `SAGE_LOCAL`. You should probably put it somewhere under `src/ext` and then use `SAGE_EXTCODE` to refer to it.",
    "created_at": "2014-05-29T17:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185654",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'>**Comment 23:**</a>
You can split the html generation from the show() function and doctest it as usual. Show can just check `DOCTEST_MODE` to avoid starting the browser.

Also, don't load the html template from `SAGE_SRC`. Thats the source code, if you need files at runtime then they must be installed under `SAGE_LOCAL`. You should probably put it somewhere under `src/ext` and then use `SAGE_EXTCODE` to refer to it.



---

archive/issue_comments_185655.json:
```json
{
    "body": "**Changing commit** from \"[44265a5175644283faea92a98cdc869b274ff984](https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984)\" to \"[76acf85eecadfaf3c64637b6f564ae51b6b5b940](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)\".",
    "created_at": "2014-06-02T10:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185655",
    "user": "https://github.com/nathanncohen"
}
```

**Changing commit** from "[44265a5175644283faea92a98cdc869b274ff984](https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984)" to "[76acf85eecadfaf3c64637b6f564ae51b6b5b940](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)".



---

archive/issue_comments_185656.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\nHere is a commit to implement all that. The down side is that you have to run \"make\" for the .html file to be copied in SAGE_EXTCODE ..... That's what Volker wanted.\n\nNathann\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cbcc3605032c8fb50f955ef5881758cd42fca81\">9cbcc36</a></td><td><code>trac #14953: Merged with 6.3.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940\">76acf85</a></td><td><code>trac #14953: Moving the .html to EXT_CODE and using DOCTEST_MODE</code></td></tr></table>\n",
    "created_at": "2014-06-02T10:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185656",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'>**Comment 24:**</a>
Here is a commit to implement all that. The down side is that you have to run "make" for the .html file to be copied in SAGE_EXTCODE ..... That's what Volker wanted.

Nathann

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cbcc3605032c8fb50f955ef5881758cd42fca81">9cbcc36</a></td><td><code>trac #14953: Merged with 6.3.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940">76acf85</a></td><td><code>trac #14953: Moving the .html to EXT_CODE and using DOCTEST_MODE</code></td></tr></table>




---

archive/issue_events_180137.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-02T10:35:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180137"
}
```



---

archive/issue_events_180138.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-02T10:35:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180138"
}
```



---

archive/issue_comments_185657.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/14953)\" to \"[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)\".",
    "created_at": "2014-06-02T10:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185657",
    "user": "https://github.com/nathanncohen"
}
```

**Changing branch** from "[u/dimpase/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/14953)" to "[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)".



---

archive/issue_comments_185658.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nlgtm",
    "created_at": "2014-06-02T12:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185658",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'>**Comment 25:**</a>
lgtm



---

archive/issue_events_180139.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-02T12:58:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180139"
}
```



---

archive/issue_events_180140.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-02T12:58:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180140"
}
```



---

archive/issue_comments_185659.json:
```json
{
    "body": "**Changing reviewer** from \"Dima Pasechnik\" to \"Dima Pasechnik, Volker Braun\".",
    "created_at": "2014-06-02T12:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185659",
    "user": "https://github.com/vbraun"
}
```

**Changing reviewer** from "Dima Pasechnik" to "Dima Pasechnik, Volker Braun".



---

archive/issue_comments_185660.json:
```json
{
    "body": "**Changing branch** from \"[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)\" to \"[76acf85eecadfaf3c64637b6f564ae51b6b5b940](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)\".",
    "created_at": "2014-06-02T15:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185660",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)" to "[76acf85eecadfaf3c64637b6f564ae51b6b5b940](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)".



---

archive/issue_events_180141.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-02T15:56:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180141"
}
```



---

archive/issue_events_180142.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a72d606310a90090bb01b0c1e86d693fce35fed1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-06-02T15:56:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-180142"
}
```



---

archive/issue_comments_185661.json:
```json
{
    "body": "**Changing commit** from \"[76acf85eecadfaf3c64637b6f564ae51b6b5b940](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)\" to \"\".",
    "created_at": "2014-06-03T16:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185661",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Changing commit** from "[76acf85eecadfaf3c64637b6f564ae51b6b5b940](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)" to "".



---

archive/issue_comments_185662.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nHi, i do not like the need to fetch a file from the internet to let this work. My question for a future ticket is the following: if i understand correctly, `src/ext` is a kind of place where we put external source code that is not big enough to deserve a package, am i right ? In this case, is this the right place to copy the file d3.v3.min.js for offline use ?",
    "created_at": "2014-06-03T16:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185662",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:27'>**Comment 27:**</a>
Hi, i do not like the need to fetch a file from the internet to let this work. My question for a future ticket is the following: if i understand correctly, `src/ext` is a kind of place where we put external source code that is not big enough to deserve a package, am i right ? In this case, is this the right place to copy the file d3.v3.min.js for offline use ?



---

archive/issue_comments_185663.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nYoooooooooooooo !\n\n> Hi, i do not like the need to fetch a file from the internet to let this work. My question for a future ticket is the following: if i understand correctly, `src/ext` is a kind of place where we put external source code that is not big enough to deserve a package, am i right ? In this case, is this the right place to copy the file d3.v3.min.js for offline use ?\n\nHMmmmmmm.... I am interested by Volker's answer, but I would say that stuff in src/ should be reviewed... Sooooooo no third-party code should be there. Besides, it is very easy to write spkg now with git. \n\nThis being said, I do not know which files we are allowed to read at runtime...\n\nNathann",
    "created_at": "2014-06-03T16:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185663",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'>**Comment 28:**</a>
Yoooooooooooooo !

> Hi, i do not like the need to fetch a file from the internet to let this work. My question for a future ticket is the following: if i understand correctly, `src/ext` is a kind of place where we put external source code that is not big enough to deserve a package, am i right ? In this case, is this the right place to copy the file d3.v3.min.js for offline use ?

HMmmmmmm.... I am interested by Volker's answer, but I would say that stuff in src/ should be reviewed... Sooooooo no third-party code should be there. Besides, it is very easy to write spkg now with git. 

This being said, I do not know which files we are allowed to read at runtime...

Nathann



---

archive/issue_comments_185664.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\nNo, `SAGE_EXT` is where we install non-Python Sage source code. Its not a dump for third-party stuff that you don't want to package.",
    "created_at": "2014-06-03T16:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185664",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'>**Comment 29:**</a>
No, `SAGE_EXT` is where we install non-Python Sage source code. Its not a dump for third-party stuff that you don't want to package.



---

archive/issue_comments_185665.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\nVolker : if we package this code how can we access it at runtime ? What would the spkg-install do, and where would it copy the .js file ?\n\nNathann",
    "created_at": "2014-06-03T16:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185665",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'>**Comment 30:**</a>
Volker : if we package this code how can we access it at runtime ? What would the spkg-install do, and where would it copy the .js file ?

Nathann



---

archive/issue_comments_185666.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nOK, so we have to make a spkg that just copy the `d3.v3.min.js` file into `./local/share/d3.js/` directory, then we can use `from sage.misc.misc import SAGE_SHARE` to get it. It that the correct procedure ? Or do we need to recompile the .js file from sources ?",
    "created_at": "2014-06-03T16:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185666",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:31'>**Comment 31:**</a>
OK, so we have to make a spkg that just copy the `d3.v3.min.js` file into `./local/share/d3.js/` directory, then we can use `from sage.misc.misc import SAGE_SHARE` to get it. It that the correct procedure ? Or do we need to recompile the .js file from sources ?



---

archive/issue_comments_185667.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\nthere could be copyright issues that would preclude one from distributing it with Sage, so it will need to stay an optional Sage package, whether you like it or not. \n\nIANAL. Here is the licence:  https://github.com/mbostock/d3/blob/master/LICENSE",
    "created_at": "2014-06-03T16:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185667",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:32'>**Comment 32:**</a>
there could be copyright issues that would preclude one from distributing it with Sage, so it will need to stay an optional Sage package, whether you like it or not. 

IANAL. Here is the licence:  https://github.com/mbostock/d3/blob/master/LICENSE



---

archive/issue_comments_185668.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\nIANAL either, this is a [Modified BSD License](http://opensource.org/licenses/BSD-3-Clause), which is GPL-compatible according to the [FSF](https://www.gnu.org/licenses/license-list.html#ModifiedBSD) (see also [wikipedia](https://en.wikipedia.org/wiki/BSD_licenses#3-clause)). So it is OK to have it as a standard spkg, right ?",
    "created_at": "2014-06-03T18:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185668",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:33'>**Comment 33:**</a>
IANAL either, this is a [Modified BSD License](http://opensource.org/licenses/BSD-3-Clause), which is GPL-compatible according to the [FSF](https://www.gnu.org/licenses/license-list.html#ModifiedBSD) (see also [wikipedia](https://en.wikipedia.org/wiki/BSD_licenses#3-clause)). So it is OK to have it as a standard spkg, right ?



---

archive/issue_comments_185669.json:
```json
{
    "body": "<a id='comment:34'>**Comment 34:**</a>\nThis is now #16434 so that i will learn how to package.",
    "created_at": "2014-06-03T19:09:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185669",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:34'>**Comment 34:**</a>
This is now #16434 so that i will learn how to package.



---

archive/issue_comments_185670.json:
```json
{
    "body": "<a id='comment:35'>**Comment 35:**</a>\nSee also #16438 which links both features.",
    "created_at": "2014-06-04T15:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-185670",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:35'>**Comment 35:**</a>
See also #16438 which links both features.
