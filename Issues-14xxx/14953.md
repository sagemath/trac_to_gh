# Issue 14953: Graph drawing in javascript using d3.js

archive/issues_014716.json:
```json
{
    "assignees": [],
    "body": "As the title says.\n\nThis drawing method will be as good as the examples that are used to tune its parameters `:-)`\n\nNathann\n\nCC:  @sagetrac-bonfroy\n\nComponent: **graph theory**\n\nAuthor: **Nathann Cohen, Brice Onfroy**\n\nBranch: **[`76acf85`](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)**\n\nReviewer: **Dima Pasechnik, Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14953_\n\n",
    "closed_at": "2014-06-02T15:56:22Z",
    "created_at": "2013-07-22T21:29:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Graph drawing in javascript using d3.js",
    "type": "issue",
    "updated_at": "2014-06-04T15:36:25Z",
    "url": "https://github.com/sagemath/sage/issues/14953",
    "user": "https://github.com/nathanncohen"
}
```
As the title says.

This drawing method will be as good as the examples that are used to tune its parameters `:-)`

Nathann

CC:  @sagetrac-bonfroy

Component: **graph theory**

Author: **Nathann Cohen, Brice Onfroy**

Branch: **[`76acf85`](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)**

Reviewer: **Dima Pasechnik, Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/14953_





---

archive/issue_events_210258.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:29:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210258"
}
```



---

archive/issue_events_210259.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:29:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210259"
}
```



---

archive/issue_events_210260.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:29:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210260"
}
```



---

archive/issue_events_210261.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:29:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210261"
}
```



---

archive/issue_events_210262.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-22T21:34:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210262"
}
```



---

archive/issue_comments_183190.json:
```json
{
    "body": "Attachment: **[trac_14953.patch.gz](https://github.com/sagemath/sage/files/ticket14953/trac_14953.patch.gz)**",
    "created_at": "2013-08-13T16:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183190",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_14953.patch.gz](https://github.com/sagemath/sage/files/ticket14953/trac_14953.patch.gz)**



---

archive/issue_comments_183191.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[trac_14953_review1.patch.gz](https://github.com/sagemath/sage/files/ticket14953/trac_14953_review1.patch.gz)**\n\nvery nice tool. Here is a purely cosmetic review patch\n\nI still have to finish the review, but later",
    "created_at": "2013-08-29T12:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183191",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[trac_14953_review1.patch.gz](https://github.com/sagemath/sage/files/ticket14953/trac_14953_review1.patch.gz)**

very nice tool. Here is a purely cosmetic review patch

I still have to finish the review, but later



---

archive/issue_comments_183192.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nWell if you have some time to review that ?.... `:-P`",
    "created_at": "2013-10-30T13:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183192",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

Well if you have some time to review that ?.... `:-P`



---

archive/issue_comments_183193.json:
```json
{
    "body": "Branch: **[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)**",
    "created_at": "2013-11-05T10:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183193",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)**



---

archive/issue_comments_183194.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNow a GIT patch.",
    "created_at": "2013-11-05T10:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183194",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Now a GIT patch.



---

archive/issue_comments_183195.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[changeset:84b44ab]</code></td><td><code>Git directory layout</code></td></tr><tr><td><code>[changeset:465f9db]</code></td><td><code>trac #14953 cleanup, pep8 and details</code></td></tr><tr><td><code>[changeset:89bbece]</code></td><td><code>Graph drawing in javascript using d3.js</code></td></tr></table>\n",
    "created_at": "2013-11-05T10:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183195",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[changeset:84b44ab]</code></td><td><code>Git directory layout</code></td></tr><tr><td><code>[changeset:465f9db]</code></td><td><code>trac #14953 cleanup, pep8 and details</code></td></tr><tr><td><code>[changeset:89bbece]</code></td><td><code>Graph drawing in javascript using d3.js</code></td></tr></table>




---

archive/issue_comments_183196.json:
```json
{
    "body": "Commit: **[`84b44ab`](https://github.com/sagemath/sagetrac-mirror/commit/84b44ab8a2de5f53d203a34d405c4740ce137538)**",
    "created_at": "2013-11-05T10:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183196",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`84b44ab`](https://github.com/sagemath/sagetrac-mirror/commit/84b44ab8a2de5f53d203a34d405c4740ce137538)**



---

archive/issue_events_210263.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210263"
}
```



---

archive/issue_events_210264.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210264"
}
```



---

archive/issue_events_210265.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210265"
}
```



---

archive/issue_events_210266.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210266"
}
```



---

archive/issue_comments_183197.json:
```json
{
    "body": "Work Issues: **rebase**",
    "created_at": "2014-05-09T10:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183197",
    "user": "https://github.com/rwst"
}
```

Work Issues: **rebase**



---

archive/issue_events_210267.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-09T10:07:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210267"
}
```



---

archive/issue_events_210268.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-09T10:07:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210268"
}
```



---

archive/issue_comments_183198.json:
```json
{
    "body": "Changed commit from **[`84b44ab`](https://github.com/sagemath/sagetrac-mirror/commit/84b44ab8a2de5f53d203a34d405c4740ce137538)** to **[`44265a5`](https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984)**",
    "created_at": "2014-05-12T09:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183198",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`84b44ab`](https://github.com/sagemath/sagetrac-mirror/commit/84b44ab8a2de5f53d203a34d405c4740ce137538)** to **[`44265a5`](https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984)**



---

archive/issue_comments_183199.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984\"><code>44265a5</code></a></td><td><code>trac #14953: Merged with 6.3.beta0</code></td></tr></table>\n",
    "created_at": "2014-05-12T09:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183199",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984"><code>44265a5</code></a></td><td><code>trac #14953: Merged with 6.3.beta0</code></td></tr></table>




---

archive/issue_events_210269.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-12T09:04:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210269"
}
```



---

archive/issue_events_210270.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-12T09:04:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210270"
}
```



---

archive/issue_comments_183200.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nFixed. If you feel like giving it a review ... It is 10 months old already `:-P`\n\nNathann",
    "created_at": "2014-05-12T09:04:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183200",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Fixed. If you feel like giving it a review ... It is 10 months old already `:-P`

Nathann



---

archive/issue_comments_183201.json:
```json
{
    "body": "Changed work issues from **rebase** to none",
    "created_at": "2014-05-12T09:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183201",
    "user": "https://github.com/nathanncohen"
}
```

Changed work issues from **rebase** to none



---

archive/issue_comments_183202.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOne must be online to use this stuff, right?",
    "created_at": "2014-05-24T21:23:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183202",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

One must be online to use this stuff, right?



---

archive/issue_comments_183203.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nRight now yes, but there is no \"technical\" reason. Right now, it loads the javascript files d3.js from some URL, all this is not contained in the patch. We can later change that or write a spkg containing those files, and there will be no need of that anymore.\n\nNathann",
    "created_at": "2014-05-25T06:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183203",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Right now yes, but there is no "technical" reason. Right now, it loads the javascript files d3.js from some URL, all this is not contained in the patch. We can later change that or write a spkg containing those files, and there will be no need of that anymore.

Nathann



---

archive/issue_comments_183204.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nlooks good. I'll check that the docs build, and then it should be good to go.",
    "created_at": "2014-05-27T08:42:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183204",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

looks good. I'll check that the docs build, and then it should be good to go.



---

archive/issue_comments_183205.json:
```json
{
    "body": "Changed branch from **[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)** to **[u/dimpase/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/14953)**",
    "created_at": "2014-05-27T08:47:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183205",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)** to **[u/dimpase/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/14953)**



---

archive/issue_events_210271.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-05-27T23:23:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210271"
}
```



---

archive/issue_events_210272.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-05-27T23:23:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210272"
}
```



---

archive/issue_comments_183206.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2014-05-27T23:24:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183206",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_183207.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nWow ! Thank you very much ! `:-)`\n\nIf you do not feel like sleeping there is a combinatorial_map war on Sage-devel. It got so rewarding I even closed #16403 just stop talking.\n\nNathann",
    "created_at": "2014-05-27T23:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183207",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:19" align="right">comment:19</div>

Wow ! Thank you very much ! `:-)`

If you do not feel like sleeping there is a combinatorial_map war on Sage-devel. It got so rewarding I even closed #16403 just stop talking.

Nathann



---

archive/issue_comments_183208.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nPops up a browser window when running \"make ptestlong\"... please find a better way of automated testing ;-)",
    "created_at": "2014-05-29T15:27:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183208",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

Pops up a browser window when running "make ptestlong"... please find a better way of automated testing ;-)



---

archive/issue_events_210273.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-29T15:27:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210273"
}
```



---

archive/issue_events_210274.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-29T15:27:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210274"
}
```



---

archive/issue_comments_183209.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nAlso, anything that requires internet must be marked as `# optional - internet`.",
    "created_at": "2014-05-29T15:28:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183209",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

Also, anything that requires internet must be marked as `# optional - internet`.



---

archive/issue_comments_183210.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHmmmmm... Is there a way to test anything that this patch does ?... `:-/`\n\nNathann",
    "created_at": "2014-05-29T16:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183210",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

Hmmmmm... Is there a way to test anything that this patch does ?... `:-/`

Nathann



---

archive/issue_comments_183211.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYou can split the html generation from the show() function and doctest it as usual. Show can just check `DOCTEST_MODE` to avoid starting the browser.\n\nAlso, don't load the html template from `SAGE_SRC`. Thats the source code, if you need files at runtime then they must be installed under `SAGE_LOCAL`. You should probably put it somewhere under `src/ext` and then use `SAGE_EXTCODE` to refer to it.",
    "created_at": "2014-05-29T17:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183211",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

You can split the html generation from the show() function and doctest it as usual. Show can just check `DOCTEST_MODE` to avoid starting the browser.

Also, don't load the html template from `SAGE_SRC`. Thats the source code, if you need files at runtime then they must be installed under `SAGE_LOCAL`. You should probably put it somewhere under `src/ext` and then use `SAGE_EXTCODE` to refer to it.



---

archive/issue_comments_183212.json:
```json
{
    "body": "Changed commit from **[`44265a5`](https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984)** to **[`76acf85`](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)**",
    "created_at": "2014-06-02T10:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183212",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[`44265a5`](https://github.com/sagemath/sagetrac-mirror/commit/44265a5175644283faea92a98cdc869b274ff984)** to **[`76acf85`](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)**



---

archive/issue_comments_183213.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nHere is a commit to implement all that. The down side is that you have to run \"make\" for the .html file to be copied in SAGE_EXTCODE ..... That's what Volker wanted.\n\nNathann\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cbcc3605032c8fb50f955ef5881758cd42fca81\"><code>9cbcc36</code></a></td><td><code>trac #14953: Merged with 6.3.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940\"><code>76acf85</code></a></td><td><code>trac #14953: Moving the .html to EXT_CODE and using DOCTEST_MODE</code></td></tr></table>\n",
    "created_at": "2014-06-02T10:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183213",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

Here is a commit to implement all that. The down side is that you have to run "make" for the .html file to be copied in SAGE_EXTCODE ..... That's what Volker wanted.

Nathann

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cbcc3605032c8fb50f955ef5881758cd42fca81"><code>9cbcc36</code></a></td><td><code>trac #14953: Merged with 6.3.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940"><code>76acf85</code></a></td><td><code>trac #14953: Moving the .html to EXT_CODE and using DOCTEST_MODE</code></td></tr></table>




---

archive/issue_events_210275.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-02T10:35:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210275"
}
```



---

archive/issue_events_210276.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-02T10:35:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210276"
}
```



---

archive/issue_comments_183214.json:
```json
{
    "body": "Changed branch from **[u/dimpase/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/14953)** to **[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)**",
    "created_at": "2014-06-02T10:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183214",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/dimpase/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/14953)** to **[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)**



---

archive/issue_comments_183215.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nlgtm",
    "created_at": "2014-06-02T12:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183215",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

lgtm



---

archive/issue_events_210277.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-02T12:58:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210277"
}
```



---

archive/issue_events_210278.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-02T12:58:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210278"
}
```



---

archive/issue_comments_183216.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Volker Braun**",
    "created_at": "2014-06-02T12:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183216",
    "user": "https://github.com/vbraun"
}
```

Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Volker Braun**



---

archive/issue_comments_183217.json:
```json
{
    "body": "Changed branch from **[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)** to **[`76acf85`](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)**",
    "created_at": "2014-06-02T15:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183217",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ncohen/14953](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/14953)** to **[`76acf85`](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)**



---

archive/issue_events_210279.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-02T15:56:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210279"
}
```



---

archive/issue_events_210280.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a72d606310a90090bb01b0c1e86d693fce35fed1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-06-02T15:56:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14953#event-210280"
}
```



---

archive/issue_comments_183218.json:
```json
{
    "body": "Changed commit from **[`76acf85`](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)** to none",
    "created_at": "2014-06-03T16:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183218",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed commit from **[`76acf85`](https://github.com/sagemath/sagetrac-mirror/commit/76acf85eecadfaf3c64637b6f564ae51b6b5b940)** to none



---

archive/issue_comments_183219.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nHi, i do not like the need to fetch a file from the internet to let this work. My question for a future ticket is the following: if i understand correctly, `src/ext` is a kind of place where we put external source code that is not big enough to deserve a package, am i right ? In this case, is this the right place to copy the file d3.v3.min.js for offline use ?",
    "created_at": "2014-06-03T16:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183219",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:27" align="right">comment:27</div>

Hi, i do not like the need to fetch a file from the internet to let this work. My question for a future ticket is the following: if i understand correctly, `src/ext` is a kind of place where we put external source code that is not big enough to deserve a package, am i right ? In this case, is this the right place to copy the file d3.v3.min.js for offline use ?



---

archive/issue_comments_183220.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nYoooooooooooooo !\n\n> Hi, i do not like the need to fetch a file from the internet to let this work. My question for a future ticket is the following: if i understand correctly, `src/ext` is a kind of place where we put external source code that is not big enough to deserve a package, am i right ? In this case, is this the right place to copy the file d3.v3.min.js for offline use ?\n\nHMmmmmmm.... I am interested by Volker's answer, but I would say that stuff in src/ should be reviewed... Sooooooo no third-party code should be there. Besides, it is very easy to write spkg now with git. \n\nThis being said, I do not know which files we are allowed to read at runtime...\n\nNathann",
    "created_at": "2014-06-03T16:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183220",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

Yoooooooooooooo !

> Hi, i do not like the need to fetch a file from the internet to let this work. My question for a future ticket is the following: if i understand correctly, `src/ext` is a kind of place where we put external source code that is not big enough to deserve a package, am i right ? In this case, is this the right place to copy the file d3.v3.min.js for offline use ?

HMmmmmmm.... I am interested by Volker's answer, but I would say that stuff in src/ should be reviewed... Sooooooo no third-party code should be there. Besides, it is very easy to write spkg now with git. 

This being said, I do not know which files we are allowed to read at runtime...

Nathann



---

archive/issue_comments_183221.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nNo, `SAGE_EXT` is where we install non-Python Sage source code. Its not a dump for third-party stuff that you don't want to package.",
    "created_at": "2014-06-03T16:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183221",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

No, `SAGE_EXT` is where we install non-Python Sage source code. Its not a dump for third-party stuff that you don't want to package.



---

archive/issue_comments_183222.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nVolker : if we package this code how can we access it at runtime ? What would the spkg-install do, and where would it copy the .js file ?\n\nNathann",
    "created_at": "2014-06-03T16:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183222",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

Volker : if we package this code how can we access it at runtime ? What would the spkg-install do, and where would it copy the .js file ?

Nathann



---

archive/issue_comments_183223.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOK, so we have to make a spkg that just copy the `d3.v3.min.js` file into `./local/share/d3.js/` directory, then we can use `from sage.misc.misc import SAGE_SHARE` to get it. It that the correct procedure ? Or do we need to recompile the .js file from sources ?",
    "created_at": "2014-06-03T16:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183223",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:31" align="right">comment:31</div>

OK, so we have to make a spkg that just copy the `d3.v3.min.js` file into `./local/share/d3.js/` directory, then we can use `from sage.misc.misc import SAGE_SHARE` to get it. It that the correct procedure ? Or do we need to recompile the .js file from sources ?



---

archive/issue_comments_183224.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nthere could be copyright issues that would preclude one from distributing it with Sage, so it will need to stay an optional Sage package, whether you like it or not. \n\nIANAL. Here is the licence:  https://github.com/mbostock/d3/blob/master/LICENSE",
    "created_at": "2014-06-03T16:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183224",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">comment:32</div>

there could be copyright issues that would preclude one from distributing it with Sage, so it will need to stay an optional Sage package, whether you like it or not. 

IANAL. Here is the licence:  https://github.com/mbostock/d3/blob/master/LICENSE



---

archive/issue_comments_183225.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nIANAL either, this is a [Modified BSD License](http://opensource.org/licenses/BSD-3-Clause), which is GPL-compatible according to the [FSF](https://www.gnu.org/licenses/license-list.html#ModifiedBSD) (see also [wikipedia](https://en.wikipedia.org/wiki/BSD_licenses#3-clause)). So it is OK to have it as a standard spkg, right ?",
    "created_at": "2014-06-03T18:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183225",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:33" align="right">comment:33</div>

IANAL either, this is a [Modified BSD License](http://opensource.org/licenses/BSD-3-Clause), which is GPL-compatible according to the [FSF](https://www.gnu.org/licenses/license-list.html#ModifiedBSD) (see also [wikipedia](https://en.wikipedia.org/wiki/BSD_licenses#3-clause)). So it is OK to have it as a standard spkg, right ?



---

archive/issue_comments_183226.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThis is now #16434 so that i will learn how to package.",
    "created_at": "2014-06-03T19:09:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183226",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:34" align="right">comment:34</div>

This is now #16434 so that i will learn how to package.



---

archive/issue_comments_183227.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nSee also #16438 which links both features.",
    "created_at": "2014-06-04T15:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14953#issuecomment-183227",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:35" align="right">comment:35</div>

See also #16438 which links both features.
