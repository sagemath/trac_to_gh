# Issue 14789: Implement hyperplane arrangements

archive/issues_014585.json:
```json
{
    "body": "This is an active area of research, closely connected to\n* Graph Theory\n* Matroids\n* Linear Algebra\n\n\n**Assignee:** sage-combinat\n\n**CC:**  dperkinson Stefan @nathanncohen @rbeezer @vbraun\n\n**Keywords:** days54\n\n**Branch:** [public/geometry/14789-hyperplane_arrangements](https://github.com/sagemath/sagetrac-mirror/tree/public/geometry/14789-hyperplane_arrangements)\n\n**Commit:** [ba798c03b8e7cc810c5068a7cff0e47570188e0b](https://github.com/sagemath/sagetrac-mirror/commit/ba798c03b8e7cc810c5068a7cff0e47570188e0b)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** David Perkinson, Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/14789\n\n",
    "closed_at": "2013-12-26T14:50:15Z",
    "created_at": "2013-06-20T21:08:32Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.1",
    "title": "Implement hyperplane arrangements",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/14789",
    "user": "https://github.com/kcrisman"
}
```
This is an active area of research, closely connected to
* Graph Theory
* Matroids
* Linear Algebra


**Assignee:** sage-combinat

**CC:**  dperkinson Stefan @nathanncohen @rbeezer @vbraun

**Keywords:** days54

**Branch:** [public/geometry/14789-hyperplane_arrangements](https://github.com/sagemath/sagetrac-mirror/tree/public/geometry/14789-hyperplane_arrangements)

**Commit:** [ba798c03b8e7cc810c5068a7cff0e47570188e0b](https://github.com/sagemath/sagetrac-mirror/commit/ba798c03b8e7cc810c5068a7cff0e47570188e0b)

**Reviewer:** Travis Scrimshaw

**Author:** David Perkinson, Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/14789





---

archive/issue_comments_183010.json:
```json
{
    "body": "<a id='comment:1'></a>\nPing just because Trac doesn't send auto-updates when people attach things for some reason... Thanks, David!  Just think how long it will be once there are doctests ;-)",
    "created_at": "2013-06-24T20:21:40Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183010",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
Ping just because Trac doesn't send auto-updates when people attach things for some reason... Thanks, David!  Just think how long it will be once there are doctests ;-)



---

archive/issue_comments_183011.json:
```json
{
    "body": "Something to get the ball rolling ...",
    "created_at": "2013-07-06T20:58:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183011",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

Something to get the ball rolling ...



---

archive/attachments_020575.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "hyperplane.sage",
    "asset_url": "tarball://root/attachments/ticket14789/hyperplane.sage",
    "created_at": "2013-07-11T20:02:49Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14789/hyperplane.sage",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_183012.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Attachment:** [hyperplane.sage](https://github.com/sagemath/sage/files/ticket14789/hyperplane.sage)\n\nhere is a patch, build from the proposed file\n\nit need a lot of work, first to put coverage to 100% and make all tests pass..\n\nfor the moment, the coverage is\n\nSCORE sage/geometry/hyperplane_arrangement.py: 61.6% (45 of 73)\n\nand already 16 tests are failing",
    "created_at": "2013-07-11T20:02:49Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183012",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
**Attachment:** [hyperplane.sage](https://github.com/sagemath/sage/files/ticket14789/hyperplane.sage)

here is a patch, build from the proposed file

it need a lot of work, first to put coverage to 100% and make all tests pass..

for the moment, the coverage is

SCORE sage/geometry/hyperplane_arrangement.py: 61.6% (45 of 73)

and already 16 tests are failing



---

archive/issue_comments_183013.json:
```json
{
    "body": "<a id='comment:3'></a>\nhere is better patch, passing all tests.",
    "created_at": "2013-07-12T09:03:59Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183013",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
here is better patch, passing all tests.



---

archive/attachments_020576.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14789_hyperplane_arrgt.patch",
    "asset_url": "tarball://root/attachments/ticket14789/trac_14789_hyperplane_arrgt.patch",
    "created_at": "2013-07-18T12:02:03Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyperplane_arrgt.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_183014.json:
```json
{
    "body": "**Attachment:** [trac_14789_hyperplane_arrgt.patch](https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyperplane_arrgt.patch)",
    "created_at": "2013-07-18T12:02:03Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183014",
    "user": "https://github.com/fchapoton"
}
```

**Attachment:** [trac_14789_hyperplane_arrgt.patch](https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyperplane_arrgt.patch)



---

archive/issue_comments_183015.json:
```json
{
    "body": "<a id='comment:4'></a>\nnew patch, with coverage reaching 66% and tests passing",
    "created_at": "2013-07-18T12:02:36Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183015",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
new patch, with coverage reaching 66% and tests passing



---

archive/issue_events_129449.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dperkinson",
    "created_at": "2013-07-30T06:21:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129449"
}
```



---

archive/issue_comments_183016.json:
```json
{
    "body": "A screenshot.",
    "created_at": "2013-07-30T06:25:53Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183016",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

A screenshot.



---

archive/attachments_020577.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "hyp_screenshot.png",
    "asset_url": "tarball://root/attachments/ticket14789/hyp_screenshot.png",
    "created_at": "2013-07-30T07:40:17Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14789/hyp_screenshot.png",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_183017.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Attachment:** [hyp_screenshot.png](https://github.com/sagemath/sage/files/ticket14789/hyp_screenshot.png)\n\nwhich patch has to be applied ?",
    "created_at": "2013-07-30T07:40:17Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183017",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
**Attachment:** [hyp_screenshot.png](https://github.com/sagemath/sage/files/ticket14789/hyp_screenshot.png)

which patch has to be applied ?



---

archive/issue_comments_183018.json:
```json
{
    "body": "<a id='comment:7'></a>\ntrac_14789_hyp_arrangement_7_29_13.patch is the only patch that should to be applied.\u200b",
    "created_at": "2013-08-01T07:15:50Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183018",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

<a id='comment:7'></a>
trac_14789_hyp_arrangement_7_29_13.patch is the only patch that should to be applied.​



---

archive/issue_comments_183019.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,7 @@\n * Linear Algebra\n \n I'm putting this in combinatorics, but I'm not sure where it belongs.\n+\n+Apply:\n+\n+* [attachment:trac_14789_hyp_arrangement_7_29_13.patch](https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyp_arrangement_7_29_13.patch)\n``````\n",
    "created_at": "2013-08-01T07:23:34Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183019",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,7 @@
 * Linear Algebra
 
 I'm putting this in combinatorics, but I'm not sure where it belongs.
+
+Apply:
+
+* [attachment:trac_14789_hyp_arrangement_7_29_13.patch](https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyp_arrangement_7_29_13.patch)
``````




---

archive/issue_comments_183020.json:
```json
{
    "body": "<a id='comment:8'></a>\nfor the bot:\n\napply trac_14789_hyp_arrangement_7_29_13.patch",
    "created_at": "2013-08-01T07:23:34Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183020",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
for the bot:

apply trac_14789_hyp_arrangement_7_29_13.patch



---

archive/issue_events_129450.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-08-01T17:52:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129450"
}
```



---

archive/issue_events_129451.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-08-01T17:52:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129451"
}
```



---

archive/issue_comments_183021.json:
```json
{
    "body": "<a id='comment:9'></a>\nsomething is wrong with the hg patch, it's almost empty.",
    "created_at": "2013-08-01T17:52:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183021",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
something is wrong with the hg patch, it's almost empty.



---

archive/issue_comments_183022.json:
```json
{
    "body": "<a id='comment:11'></a>\nI made a mistake when creating trac_14789_hyp_arrangement_7_29_13.patch (by not using hg add correctly).  I have fixed the problem and replaced \u200btrac_14789_hyp_arrangement_7_29_13.patch, using the same name.  I applied the patch to a fresh clone, just to make sure, and it is seems fine now.",
    "created_at": "2013-08-02T00:11:28Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183022",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

<a id='comment:11'></a>
I made a mistake when creating trac_14789_hyp_arrangement_7_29_13.patch (by not using hg add correctly).  I have fixed the problem and replaced ​trac_14789_hyp_arrangement_7_29_13.patch, using the same name.  I applied the patch to a fresh clone, just to make sure, and it is seems fine now.



---

archive/issue_events_129452.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dperkinson",
    "created_at": "2013-08-02T00:30:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129452"
}
```



---

archive/issue_events_129453.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/dperkinson",
    "created_at": "2013-08-02T00:30:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129453"
}
```



---

archive/attachments_020578.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14789_hyp_arrangement_7_29_13.patch",
    "asset_url": "tarball://root/attachments/ticket14789/trac_14789_hyp_arrangement_7_29_13.patch",
    "created_at": "2013-08-02T01:04:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyp_arrangement_7_29_13.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```



---

archive/issue_comments_183023.json:
```json
{
    "body": "**Attachment:** [trac_14789_hyp_arrangement_7_29_13.patch](https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyp_arrangement_7_29_13.patch)\n\nFirst complete version candidate; passes all tests, 100% coverage",
    "created_at": "2013-08-02T01:04:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183023",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

**Attachment:** [trac_14789_hyp_arrangement_7_29_13.patch](https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyp_arrangement_7_29_13.patch)

First complete version candidate; passes all tests, 100% coverage



---

archive/issue_comments_183024.json:
```json
{
    "body": "<a id='comment:13'></a>\nVery nice! I like the functionality but have a couple of suggestions to integrate it with the rest of Sage.\n\nThere is a lot of needless copy/deepcopy-ing. Most objects in Sage are immutable and don't need to be copied ever, you can just use/return the existing object. E.g. polyhedra are immutable. You should figure out whether you want your objects to be immutable, too. I suggest you make everything immutable, it is generally a big source of errors to make caching work with mutable stuff.\n\nCaching can be done with the `@cached_method` decorator, this is much easier to understand/maintain than a `__getattr__` hack.\n\nPlease no version number for individual files, Sage already has a version number.\n\nInstead of `__repr__`, you should implement `_repr_`, see http://www.sagemath.org/doc/developer/coding_in_python.html#special-sage-functions\n\nI think its confusing to have a `Hyperplane` in the global namespace that is not a `Polyhedron`. How about you replace it essentially with the arrangement consisting of a single-hyperplane. So instead of a special `add_hyperplane`, just use union:\n\n```\n    A = HyperplaneArrangement([[1,0,0],[0,1,1],[0,1,-1],[1,-1,0],[1,1,0]]) \n    B = A.union(HyperplaneArrangement([[1,1,1]]) \n    B = A.union([[1,1,1]])    # syntactic sugar for adding list of hyperplanes\n    B = A.union([1,1,1])      # syntactic sugar for adding single hyperplane\n    B = A & [1,1,1]           # operator notation\n```\nand pick an operator to overload (probably either plus or ampersand) as an alias for union.\n\nThe HyperplaneArrangement should be a Parent and individual hyperplanes its elements. Roughly:\n\n```\nclass Hyperplane(AffineSubspace, Element):\n\n    def __init__(self, parent, ...):\n        Element.__init__(self, parent=parent) \n\nclass HyperplaneArrangement(Parent):\n    \n    Element = Hyperplane\n\n    def __init__(self, ...):\n        Parent.__init__(self, base=base_ring, category=Sets())\n```\nand always use `hyperplane_arrangement.element_class()` instead of the plain `Hyperplane` class. This automatically gives you a `base_ring()` method (Sage generally uses `base_ring` instead of `base_field` even if it is only implemented for fields).",
    "created_at": "2013-08-02T03:12:13Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183024",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
Very nice! I like the functionality but have a couple of suggestions to integrate it with the rest of Sage.

There is a lot of needless copy/deepcopy-ing. Most objects in Sage are immutable and don't need to be copied ever, you can just use/return the existing object. E.g. polyhedra are immutable. You should figure out whether you want your objects to be immutable, too. I suggest you make everything immutable, it is generally a big source of errors to make caching work with mutable stuff.

Caching can be done with the `@cached_method` decorator, this is much easier to understand/maintain than a `__getattr__` hack.

Please no version number for individual files, Sage already has a version number.

Instead of `__repr__`, you should implement `_repr_`, see http://www.sagemath.org/doc/developer/coding_in_python.html#special-sage-functions

I think its confusing to have a `Hyperplane` in the global namespace that is not a `Polyhedron`. How about you replace it essentially with the arrangement consisting of a single-hyperplane. So instead of a special `add_hyperplane`, just use union:

```
    A = HyperplaneArrangement([[1,0,0],[0,1,1],[0,1,-1],[1,-1,0],[1,1,0]]) 
    B = A.union(HyperplaneArrangement([[1,1,1]]) 
    B = A.union([[1,1,1]])    # syntactic sugar for adding list of hyperplanes
    B = A.union([1,1,1])      # syntactic sugar for adding single hyperplane
    B = A & [1,1,1]           # operator notation
```
and pick an operator to overload (probably either plus or ampersand) as an alias for union.

The HyperplaneArrangement should be a Parent and individual hyperplanes its elements. Roughly:

```
class Hyperplane(AffineSubspace, Element):

    def __init__(self, parent, ...):
        Element.__init__(self, parent=parent) 

class HyperplaneArrangement(Parent):
    
    Element = Hyperplane

    def __init__(self, ...):
        Parent.__init__(self, base=base_ring, category=Sets())
```
and always use `hyperplane_arrangement.element_class()` instead of the plain `Hyperplane` class. This automatically gives you a `base_ring()` method (Sage generally uses `base_ring` instead of `base_field` even if it is only implemented for fields).



---

archive/issue_comments_183025.json:
```json
{
    "body": "<a id='comment:14'></a>\nfor the bot:\n\napply only trac_14789_hyp_arrangement_7_29_13.patch\u200b",
    "created_at": "2013-08-02T09:18:38Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183025",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
for the bot:

apply only trac_14789_hyp_arrangement_7_29_13.patch​



---

archive/issue_comments_183026.json:
```json
{
    "body": "<a id='comment:15'></a>\nThanks very much for these thoughtful comments!  I will get to work on them (although I am on hiatus for a week+ to attend a conference).",
    "created_at": "2013-08-02T14:29:54Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183026",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

<a id='comment:15'></a>
Thanks very much for these thoughtful comments!  I will get to work on them (although I am on hiatus for a week+ to attend a conference).



---

archive/issue_comments_183027.json:
```json
{
    "body": "<a id='comment:16'></a>\nSure, I'm at a conference right now ;-) Implementing the Parent / Element thing the first time is relatively difficult, don't hesitate to ask if you run into any problems.",
    "created_at": "2013-08-02T14:39:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183027",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
Sure, I'm at a conference right now ;-) Implementing the Parent / Element thing the first time is relatively difficult, don't hesitate to ask if you run into any problems.



---

archive/issue_comments_183028.json:
```json
{
    "body": "<a id='comment:17'></a>\nThis is a wonderful addition to Sage. Just a couple comments (not a review, not even close):\n\n- There needs to be a way to call the empty hyperplane arrangement; this should not happen:\n\n```\nsage:  b = HyperplaneArrangement([])\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n<ipython-input-5-df3005fcbc9c> in <module>()\n----> 1 b = HyperplaneArrangement([])\n\n/home/darij/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in __init__(self, A, K, check_for_duplicates)\n   1398             self._hyperplanes = [Hyperplane(h,K) for h in eqns]\n   1399         self._base_field = K\n-> 1400         self._dim = len(eqns[0])-1 # we trust the user on this point\n   1401         self._ambient_space = VectorSpace(K,self._dim)\n   1402 \n\nIndexError: list index out of range\nsage: \n```\n\n- The reference [RS] is available online ( http://math.mit.edu/~rstan/arrangements/arr.html ), and you should also correct its title (it's \"An Introduction to Hyperplane Arrangements\").\n\n- \"The default base field is QQ\": when you write something like that in a docstring, there is no reason not to put the QQ in double-backticks (``QQ``).\n\n- \"A hyperplane arrangement is *essential* is the normals to its hyperplane span \" the \"is\" should be an \"if\".\n\n- \"    Class for an affine space (a translation of a linear subspace). \" You want to say \"affine subspace\", not \"affine space\"!\n\n- Not sure if this is a good thing:\n\n```\nsage:  a = HyperplaneArrangement([[2,4,6],[1,0,1]])\nsage:  b = HyperplaneArrangement([[1,0,1],[2,4,6]])\nsage: a == b\nTrue\nsage: a.sign_vector((2, -2))\n[-1, 1]\nsage: b.sign_vector((2, -2))\n[1, -1]\n```\n\nThis, of course, is hard to avert unless you either make equality much more restrictive or use hyperplane arrangements that are lists, rather than sets, of hyperplanes. The latter might in fact be more useful in the long run -- e. g., what if I need to keep track of what happens to each hyperplane when I am changing base field, and I cannot assume that the hyperplanes keep their indices in the `.hyperplanes()` list because some hyperplanes might collapse on base change? I assume restriction to a hyperplane would lead to the same problem.\n\n- Double \"is\" in \"A *face* is is the\".\n\n- The [GZ] reference, like any other Transactions paper, is online: http://www.ams.org/journals/tran/1983-280-01/S0002-9947-1983-0712251-1/\n\n- In the definitions of the Catalan and braid arrangements (in their respective docstrings), replace i \\leq j by i < j.",
    "created_at": "2013-08-03T13:52:22Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183028",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:17'></a>
This is a wonderful addition to Sage. Just a couple comments (not a review, not even close):

- There needs to be a way to call the empty hyperplane arrangement; this should not happen:

```
sage:  b = HyperplaneArrangement([])
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
<ipython-input-5-df3005fcbc9c> in <module>()
----> 1 b = HyperplaneArrangement([])

/home/darij/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in __init__(self, A, K, check_for_duplicates)
   1398             self._hyperplanes = [Hyperplane(h,K) for h in eqns]
   1399         self._base_field = K
-> 1400         self._dim = len(eqns[0])-1 # we trust the user on this point
   1401         self._ambient_space = VectorSpace(K,self._dim)
   1402 

IndexError: list index out of range
sage: 
```

- The reference [RS] is available online ( http://math.mit.edu/~rstan/arrangements/arr.html ), and you should also correct its title (it's "An Introduction to Hyperplane Arrangements").

- "The default base field is QQ": when you write something like that in a docstring, there is no reason not to put the QQ in double-backticks (``QQ``).

- "A hyperplane arrangement is *essential* is the normals to its hyperplane span " the "is" should be an "if".

- "    Class for an affine space (a translation of a linear subspace). " You want to say "affine subspace", not "affine space"!

- Not sure if this is a good thing:

```
sage:  a = HyperplaneArrangement([[2,4,6],[1,0,1]])
sage:  b = HyperplaneArrangement([[1,0,1],[2,4,6]])
sage: a == b
True
sage: a.sign_vector((2, -2))
[-1, 1]
sage: b.sign_vector((2, -2))
[1, -1]
```

This, of course, is hard to avert unless you either make equality much more restrictive or use hyperplane arrangements that are lists, rather than sets, of hyperplanes. The latter might in fact be more useful in the long run -- e. g., what if I need to keep track of what happens to each hyperplane when I am changing base field, and I cannot assume that the hyperplanes keep their indices in the `.hyperplanes()` list because some hyperplanes might collapse on base change? I assume restriction to a hyperplane would lead to the same problem.

- Double "is" in "A *face* is is the".

- The [GZ] reference, like any other Transactions paper, is online: http://www.ams.org/journals/tran/1983-280-01/S0002-9947-1983-0712251-1/

- In the definitions of the Catalan and braid arrangements (in their respective docstrings), replace i \leq j by i < j.



---

archive/issue_comments_183029.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [darij](#comment%3A17):\n[...]\n> - Not sure if this is a good thing:\n> \n> ```\n> sage:  a = HyperplaneArrangement([[2,4,6],[1,0,1]])\n> sage:  b = HyperplaneArrangement([[1,0,1],[2,4,6]])\n> sage: a == b\n> True\n> ```\n\n\nto me, this is an indication of an issue that has to be carefully sorted out: namely, a notion of equality vs isomorphism.\nEspecially as one might think about creating arrangements from other data, e.g. often in my work I see arrangements obtained from a set of points by taking all the possible hyperplanes on them.\n\nUntil this is sorted out, I'd rather think of disabling `==` all together.",
    "created_at": "2013-08-04T06:55:45Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183029",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
Replying to [darij](#comment%3A17):
[...]
> - Not sure if this is a good thing:
> 
> ```
> sage:  a = HyperplaneArrangement([[2,4,6],[1,0,1]])
> sage:  b = HyperplaneArrangement([[1,0,1],[2,4,6]])
> sage: a == b
> True
> ```


to me, this is an indication of an issue that has to be carefully sorted out: namely, a notion of equality vs isomorphism.
Especially as one might think about creating arrangements from other data, e.g. often in my work I see arrangements obtained from a set of points by taking all the possible hyperplanes on them.

Until this is sorted out, I'd rather think of disabling `==` all together.



---

archive/issue_comments_183030.json:
```json
{
    "body": "<a id='comment:19'></a>\nA hyperplane arrangement is a *set* of hyperplanes.  Two hyperplane arrangements are equal if their set of hyperplanes are equal.  So \"==\" perfectly clear and useful as it is.\n\nThe issue of isomorphism is separable and it would be nice to implement this.  There can be an isomorphism that arises from an affine change of coordinates of the ambient space, and there can be a combinatorial isomorphism, meaning an isomorphism of intersection posets (e.g., an arrangement and its essentialization).\n\nCould you be more precise about the other type of data that should determine a hyperplane arrangement?  The input would be a set of points.  From this set, how does one create a hyperplane arrangement?\n\nThanks very much for you comments.\n\n\nReplying to [dimpase](#comment%3A18):\n> Replying to [darij](#comment%3A17):\n> [...]\n> > - Not sure if this is a good thing:\n> > \n> > ```\n> > sage:  a = HyperplaneArrangement([[2,4,6],[1,0,1]])\n> > sage:  b = HyperplaneArrangement([[1,0,1],[2,4,6]])\n> > sage: a == b\n> > True\n> > ```\n\n> \n> to me, this is an indication of an issue that has to be carefully sorted out: namely, a notion of equality vs isomorphism.\n> Especially as one might think about creating arrangements from other data, e.g. often in my work I see arrangements obtained from a set of points by taking all the possible hyperplanes on them.\n> \n> Until this is sorted out, I'd rather think of disabling `==` all together.\n",
    "created_at": "2013-08-04T18:14:51Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183030",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

<a id='comment:19'></a>
A hyperplane arrangement is a *set* of hyperplanes.  Two hyperplane arrangements are equal if their set of hyperplanes are equal.  So "==" perfectly clear and useful as it is.

The issue of isomorphism is separable and it would be nice to implement this.  There can be an isomorphism that arises from an affine change of coordinates of the ambient space, and there can be a combinatorial isomorphism, meaning an isomorphism of intersection posets (e.g., an arrangement and its essentialization).

Could you be more precise about the other type of data that should determine a hyperplane arrangement?  The input would be a set of points.  From this set, how does one create a hyperplane arrangement?

Thanks very much for you comments.


Replying to [dimpase](#comment%3A18):
> Replying to [darij](#comment%3A17):
> [...]
> > - Not sure if this is a good thing:
> > 
> > ```
> > sage:  a = HyperplaneArrangement([[2,4,6],[1,0,1]])
> > sage:  b = HyperplaneArrangement([[1,0,1],[2,4,6]])
> > sage: a == b
> > True
> > ```

> 
> to me, this is an indication of an issue that has to be carefully sorted out: namely, a notion of equality vs isomorphism.
> Especially as one might think about creating arrangements from other data, e.g. often in my work I see arrangements obtained from a set of points by taking all the possible hyperplanes on them.
> 
> Until this is sorted out, I'd rather think of disabling `==` all together.




---

archive/issue_comments_183031.json:
```json
{
    "body": "<a id='comment:20'></a>\nSorry.  I meant to write: \"Two hyperplane arrangements are equal if their sets of hyperplanes are equal.  So \"==\" is perfectly clear and useful as it is.\"  I am traveling at the moment and a bit distracted. \n\nReplying to [dperkinson](#comment%3A19):\n> A hyperplane arrangement is a *set* of hyperplanes.  Two hyperplane arrangements are equal if their set of hyperplanes are equal.  So \"==\" perfectly clear and useful as it is.\n> \n> The issue of isomorphism is separable and it would be nice to implement this.  There can be an isomorphism that arises from an affine change of coordinates of the ambient space, and there can be a combinatorial isomorphism, meaning an isomorphism of intersection posets (e.g., an arrangement and its essentialization).\n> \n> Could you be more precise about the other type of data that should determine a hyperplane arrangement?  The input would be a set of points.  From this set, how does one create a hyperplane arrangement?\n> \n> Thanks very much for you comments.\n> \n> \n> Replying to [dimpase](#comment%3A18):\n> > Replying to [darij](#comment%3A17):\n> > [...]\n> > > - Not sure if this is a good thing:\n> > > \n> > > ```\n> > > sage:  a = HyperplaneArrangement([[2,4,6],[1,0,1]])\n> > > sage:  b = HyperplaneArrangement([[1,0,1],[2,4,6]])\n> > > sage: a == b\n> > > True\n> > > ```\n\n> > \n> > to me, this is an indication of an issue that has to be carefully sorted out: namely, a notion of equality vs isomorphism.\n> > Especially as one might think about creating arrangements from other data, e.g. often in my work I see arrangements obtained from a set of points by taking all the possible hyperplanes on them.\n> > \n> > Until this is sorted out, I'd rather think of disabling `==` all together.\n",
    "created_at": "2013-08-04T18:31:48Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183031",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

<a id='comment:20'></a>
Sorry.  I meant to write: "Two hyperplane arrangements are equal if their sets of hyperplanes are equal.  So "==" is perfectly clear and useful as it is."  I am traveling at the moment and a bit distracted. 

Replying to [dperkinson](#comment%3A19):
> A hyperplane arrangement is a *set* of hyperplanes.  Two hyperplane arrangements are equal if their set of hyperplanes are equal.  So "==" perfectly clear and useful as it is.
> 
> The issue of isomorphism is separable and it would be nice to implement this.  There can be an isomorphism that arises from an affine change of coordinates of the ambient space, and there can be a combinatorial isomorphism, meaning an isomorphism of intersection posets (e.g., an arrangement and its essentialization).
> 
> Could you be more precise about the other type of data that should determine a hyperplane arrangement?  The input would be a set of points.  From this set, how does one create a hyperplane arrangement?
> 
> Thanks very much for you comments.
> 
> 
> Replying to [dimpase](#comment%3A18):
> > Replying to [darij](#comment%3A17):
> > [...]
> > > - Not sure if this is a good thing:
> > > 
> > > ```
> > > sage:  a = HyperplaneArrangement([[2,4,6],[1,0,1]])
> > > sage:  b = HyperplaneArrangement([[1,0,1],[2,4,6]])
> > > sage: a == b
> > > True
> > > ```

> > 
> > to me, this is an indication of an issue that has to be carefully sorted out: namely, a notion of equality vs isomorphism.
> > Especially as one might think about creating arrangements from other data, e.g. often in my work I see arrangements obtained from a set of points by taking all the possible hyperplanes on them.
> > 
> > Until this is sorted out, I'd rather think of disabling `==` all together.




---

archive/issue_comments_183032.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [dperkinson](#comment%3A19):\n> A hyperplane arrangement is a *set* of hyperplanes.\n\nThis needs to be said in the docs then. Indeed, currently one sees:\n\n``` \nString Form:<class 'sage.geometry.hyperplane_arrangement.HyperplaneArrangement'>\nFile:       /usr/local/src/sage/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.py\nDocstring:\n   The argument \"A\" is normally a list of hyperplanes or a list of\n   lists representing hyperplanes...\n```\n\n \n> Could you be more precise about the other type of data that should determine a hyperplane arrangement?  The input would be a set of points.  From this set, how does one create a hyperplane arrangement?\n\n\nJust take all the hyperplanes one obtains as affine spans of d-subsets of these points in d-dimensional space.\n\nI have also seen papers talking about the arrangement associated with a triangulation (there one takes  the facets of the\nsimplices in the triangulation as hyperplanes).",
    "created_at": "2013-08-04T20:46:32Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183032",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
Replying to [dperkinson](#comment%3A19):
> A hyperplane arrangement is a *set* of hyperplanes.

This needs to be said in the docs then. Indeed, currently one sees:

``` 
String Form:<class 'sage.geometry.hyperplane_arrangement.HyperplaneArrangement'>
File:       /usr/local/src/sage/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.py
Docstring:
   The argument "A" is normally a list of hyperplanes or a list of
   lists representing hyperplanes...
```

 
> Could you be more precise about the other type of data that should determine a hyperplane arrangement?  The input would be a set of points.  From this set, how does one create a hyperplane arrangement?


Just take all the hyperplanes one obtains as affine spans of d-subsets of these points in d-dimensional space.

I have also seen papers talking about the arrangement associated with a triangulation (there one takes  the facets of the
simplices in the triangulation as hyperplanes).



---

archive/issue_comments_183033.json:
```json
{
    "body": "<a id='comment:22'></a>\nI think it would be admissible for `==` to return `True` even if the hypersurface equations differ by an overall factor. But it might still be a good idea to pick some convention where the hypersurface equation is unique, e.g. scaling the first non-zero coordinate (or maybe largest absolute value) to one. This would also speed up comparison.\n\nOn the other hand, `==` should **not** check whether two arrangements are isomorphic by a GL rotation, or combinatorially, or any other version of a not necessarily unique isomorphism.",
    "created_at": "2013-08-04T21:28:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183033",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>
I think it would be admissible for `==` to return `True` even if the hypersurface equations differ by an overall factor. But it might still be a good idea to pick some convention where the hypersurface equation is unique, e.g. scaling the first non-zero coordinate (or maybe largest absolute value) to one. This would also speed up comparison.

On the other hand, `==` should **not** check whether two arrangements are isomorphic by a GL rotation, or combinatorially, or any other version of a not necessarily unique isomorphism.



---

archive/issue_comments_183034.json:
```json
{
    "body": "<a id='comment:23'></a>\nI think the original comment was that it is a little odd that you can have `a==b` return True while `a.sign_vector((2, -2))` returns something different from `b.sign_vector((2, -2))`. If they are really sets of hyperplanes, then the order in which those hyperplanes are specified should have no impact. So are they sets, or are they lists?",
    "created_at": "2013-08-05T01:22:06Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183034",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:23'></a>
I think the original comment was that it is a little odd that you can have `a==b` return True while `a.sign_vector((2, -2))` returns something different from `b.sign_vector((2, -2))`. If they are really sets of hyperplanes, then the order in which those hyperplanes are specified should have no impact. So are they sets, or are they lists?



---

archive/issue_comments_183035.json:
```json
{
    "body": "<a id='comment:24'></a>\n(Could you add the new file to the reference manual ?)",
    "created_at": "2013-08-06T08:29:49Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183035",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
(Could you add the new file to the reference manual ?)



---

archive/issue_events_129454.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129454"
}
```



---

archive/issue_events_129455.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129455"
}
```



---

archive/issue_comments_183036.json:
```json
{
    "body": "<a id='comment:26'></a>\nJust as an FYI (not necessarily needed to implement this now!) we now have matroids in Sage at #7477.  So an enhancement request could be to have an arrangement return its associated matroid - and, for that matter, vice versa, if I understand correctly that matroids may be interpreted thus under some circumstances (but not related to the matroid of a central arrangement).  Anyway, whatever is right, we might want to do it someday.",
    "created_at": "2013-08-18T00:35:06Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183036",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>
Just as an FYI (not necessarily needed to implement this now!) we now have matroids in Sage at #7477.  So an enhancement request could be to have an arrangement return its associated matroid - and, for that matter, vice versa, if I understand correctly that matroids may be interpreted thus under some circumstances (but not related to the matroid of a central arrangement).  Anyway, whatever is right, we might want to do it someday.



---

archive/issue_comments_183037.json:
```json
{
    "body": "<a id='comment:27'></a>\n> I think the original comment was that it is a little odd that you can have `a==b` return True while `a.sign_vector((2, -2))` returns something different from `b.sign_vector((2, -2))`. If they are really sets of hyperplanes, then the order in which those hyperplanes are specified should have no impact. So are they sets, or are they lists?\n\n+1 to the question\n\nHowever, in this case maybe (maybe) it's okay.  Because the question is about \"which side of the hyperplane the point is on\" and that of course requires an orientation to each hyperplane, given by the equation, and naturally this list will depend on the order.  However, the documentation probably should include this example to point out that it definitely depends on the order you give the hyperplanes in, just in case some unsuspecting user might think otherwise.  A sign set probably wouldn't be of very much use.\n\nBy the way, I assume that we don't get\n\n```\na is b\nTrue\n```\nwhich I think *would* be a bug.",
    "created_at": "2013-08-18T00:42:49Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183037",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'></a>
> I think the original comment was that it is a little odd that you can have `a==b` return True while `a.sign_vector((2, -2))` returns something different from `b.sign_vector((2, -2))`. If they are really sets of hyperplanes, then the order in which those hyperplanes are specified should have no impact. So are they sets, or are they lists?

+1 to the question

However, in this case maybe (maybe) it's okay.  Because the question is about "which side of the hyperplane the point is on" and that of course requires an orientation to each hyperplane, given by the equation, and naturally this list will depend on the order.  However, the documentation probably should include this example to point out that it definitely depends on the order you give the hyperplanes in, just in case some unsuspecting user might think otherwise.  A sign set probably wouldn't be of very much use.

By the way, I assume that we don't get

```
a is b
True
```
which I think *would* be a bug.



---

archive/issue_comments_183038.json:
```json
{
    "body": "wrong plot",
    "created_at": "2013-08-30T16:20:16Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183038",
    "user": "https://github.com/dimpase"
}
```

wrong plot



---

archive/attachments_020579.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "plot4.png",
    "asset_url": "tarball://root/attachments/ticket14789/plot4.png",
    "created_at": "2013-08-30T16:21:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14789/plot4.png",
    "user": "https://github.com/dimpase"
}
```



---

archive/issue_comments_183039.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Attachment:** [plot4.png](https://github.com/sagemath/sage/files/ticket14789/plot4.png)\n\nThere is something strange happening with plotting the following \n\n```\nHyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])\n```\nSee the attached plot. Some lines are cut short...",
    "created_at": "2013-08-30T16:21:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183039",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
**Attachment:** [plot4.png](https://github.com/sagemath/sage/files/ticket14789/plot4.png)

There is something strange happening with plotting the following 

```
HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])
```
See the attached plot. Some lines are cut short...



---

archive/issue_comments_183040.json:
```json
{
    "body": "<a id='comment:29'></a>\nPlease try:\n\nsage: a = HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])\nsage: a.show(ranges=5)\n\nFor finer control of the ranges, please see the \"ranges\" option for a.plot and a.show.  Try a.plot? or a.show? .  Perhaps we could think about computing the \"optimal\" ranges for an arbitrary arrangement.\n\n\nReplying to [dimpase](#comment%3A28):\n> There is something strange happening with plotting the following \n> \n> ```\n> HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])\n> ```\n> See the attached plot. Some lines are cut short...\n",
    "created_at": "2013-08-30T16:36:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183040",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

<a id='comment:29'></a>
Please try:

sage: a = HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])
sage: a.show(ranges=5)

For finer control of the ranges, please see the "ranges" option for a.plot and a.show.  Try a.plot? or a.show? .  Perhaps we could think about computing the "optimal" ranges for an arbitrary arrangement.


Replying to [dimpase](#comment%3A28):
> There is something strange happening with plotting the following 
> 
> ```
> HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])
> ```
> See the attached plot. Some lines are cut short...




---

archive/issue_comments_183041.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [dperkinson](#comment%3A29):\n> Please try:\n> \n> sage: a = HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])\n> sage: a.show(ranges=5)\n\n\nthe layout is still weird, as I'd expect a box to be selected  and each line extending to the boundaries of the box. Currently it seems that each line has its own box, and they don't play together well.",
    "created_at": "2013-08-31T14:42:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183041",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
Replying to [dperkinson](#comment%3A29):
> Please try:
> 
> sage: a = HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])
> sage: a.show(ranges=5)


the layout is still weird, as I'd expect a box to be selected  and each line extending to the boundaries of the box. Currently it seems that each line has its own box, and they don't play together well.



---

archive/issue_comments_183042.json:
```json
{
    "body": "<a id='comment:31'></a>\nYes.  Each hyperplane is parametrized.  The \"ranges\" option allows the plotting parameters to be adjusted individually, e.g.,\n\nsage: a.show(ranges=[[-10,6],[-3,10],[-3,3],[-6,6],[-6,6],[-5,5]])\n\nPerhaps there is a way to make the parameters all large, then constrict the bounding box.\n\nReplying to [dimpase](#comment%3A30):\n> Replying to [dperkinson](#comment%3A29):\n> > Please try:\n> > \n> > sage: a = HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])\n> > sage: a.show(ranges=5)\n\n> \n> the layout is still weird, as I'd expect a box to be selected  and each line extending to the boundaries of the box. Currently it seems that each line has its own box, and they don't play together well.\n> \n\n>",
    "created_at": "2013-08-31T15:32:22Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183042",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

<a id='comment:31'></a>
Yes.  Each hyperplane is parametrized.  The "ranges" option allows the plotting parameters to be adjusted individually, e.g.,

sage: a.show(ranges=[[-10,6],[-3,10],[-3,3],[-6,6],[-6,6],[-5,5]])

Perhaps there is a way to make the parameters all large, then constrict the bounding box.

Replying to [dimpase](#comment%3A30):
> Replying to [dperkinson](#comment%3A29):
> > Please try:
> > 
> > sage: a = HyperplaneArrangement([[1, 2, 5], [1, -2, -3], [3, -1, 1], [0, 1, 1], [2, -3, 3], [2, 1, -1]])
> > sage: a.show(ranges=5)

> 
> the layout is still weird, as I'd expect a box to be selected  and each line extending to the boundaries of the box. Currently it seems that each line has its own box, and they don't play together well.
> 

>



---

archive/issue_comments_183043.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [dperkinson](#comment%3A31):\n> Yes.  Each hyperplane is parametrized.  The \"ranges\" option allows the plotting parameters to be adjusted individually, e.g.,\n> \n> `sage: a.show(ranges=[[-10,6],[-3,10],[-3,3],[-6,6],[-6,6],[-5,5]])`\n> \n> Perhaps there is a way to make the parameters all large, then constrict the bounding box.\n\n\n\nInspect the current layout, hyperplane by hyperplane, and find the box by computing maxima and minima of coordinates.\nThen adjust each hyperplane  to fit in the box.\n\nWell, I'm not saying this must happen on this ticket, but please open a followup ticket to address this.",
    "created_at": "2013-09-06T06:16:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183043",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:32'></a>
Replying to [dperkinson](#comment%3A31):
> Yes.  Each hyperplane is parametrized.  The "ranges" option allows the plotting parameters to be adjusted individually, e.g.,
> 
> `sage: a.show(ranges=[[-10,6],[-3,10],[-3,3],[-6,6],[-6,6],[-5,5]])`
> 
> Perhaps there is a way to make the parameters all large, then constrict the bounding box.



Inspect the current layout, hyperplane by hyperplane, and find the box by computing maxima and minima of coordinates.
Then adjust each hyperplane  to fit in the box.

Well, I'm not saying this must happen on this ticket, but please open a followup ticket to address this.



---

archive/issue_comments_183044.json:
```json
{
    "body": "<a id='comment:33'></a>\nThis looks like a bug in `num_regions()`:\n(stumbled upon this example in  a large set of 2d arrangements)\n\n```\nsage: a=HyperplaneArrangement([[1, 106, 106266],[83, 101, 157866],[111, 110, 186150], [453, 221, 532686], [407, 237, 516882],\n [55, 32, 75620], [221, 114, 289346], [452, 115, 474217], [406, 131, 453521], [28, 9, 32446], [287, 19, 271774], [241, 35, 244022],\n [231, 1, 210984], [185, 17, 181508], [23, -8, 16609]])\nsage: a.num_regions()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-3-cf364604935f> in <module>()\n----> 1 a.num_regions()\n\n/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in num_regions(self)\n   2283         if self.base_field().characteristic() != 0:\n   2284             raise TypeError('base field must have characteristic zero')\n-> 2285         return (-1)**self._dim*self.characteristic_polynomial(-1)\n   2286 \n   2287     def num_hyperplanes(self):\n\n/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in characteristic_polynomial(self, a)\n   2190             return self._characteristic_polynomial\n   2191         else:\n-> 2192             return self._characteristic_polynomial.subs(x=a)\n   2193 \n   2194     def poincare_polynomial(self, a=None):\n\n[...]\n\n/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in restriction(self, H)\n   3003         for T in new_hyperplanes:\n   3004             basis = T.linear_part().matrix()\n-> 3005             p = H._isomorphism_with_Kn(T.point())\n   3006             if basis.nrows() == 0:\n   3007                 eqn = [1] + list(p)\n\n/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in _isomorphism_with_Kn(self, v)\n    813             q = q.apply_map(lambda x: QQ(round(RR(x),2)))\n    814             u = q*G  # u is the approximately orthonormalized W\n--> 815             return u.solve_left(v-self.point())\n    816         else: # finite field\n    817             p = self.point()\n\n/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/matrix/matrix2.so in sage.matrix.matrix2.Matrix.solve_left (sage/matrix/matrix2.c:4386)()\n\n/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/matrix/matrix2.so in sage.matrix.matrix2.Matrix.solve_right (sage/matrix/matrix2.c:5242)()\n\n/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/matrix/matrix2.so in sage.matrix.matrix2.Matrix._solve_right_general (sage/matrix/matrix2.c:6182)()\n\nValueError: matrix equation has no solutions\nsage: \n\n```",
    "created_at": "2013-09-11T05:54:41Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183044",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'></a>
This looks like a bug in `num_regions()`:
(stumbled upon this example in  a large set of 2d arrangements)

```
sage: a=HyperplaneArrangement([[1, 106, 106266],[83, 101, 157866],[111, 110, 186150], [453, 221, 532686], [407, 237, 516882],
 [55, 32, 75620], [221, 114, 289346], [452, 115, 474217], [406, 131, 453521], [28, 9, 32446], [287, 19, 271774], [241, 35, 244022],
 [231, 1, 210984], [185, 17, 181508], [23, -8, 16609]])
sage: a.num_regions()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-3-cf364604935f> in <module>()
----> 1 a.num_regions()

/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in num_regions(self)
   2283         if self.base_field().characteristic() != 0:
   2284             raise TypeError('base field must have characteristic zero')
-> 2285         return (-1)**self._dim*self.characteristic_polynomial(-1)
   2286 
   2287     def num_hyperplanes(self):

/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in characteristic_polynomial(self, a)
   2190             return self._characteristic_polynomial
   2191         else:
-> 2192             return self._characteristic_polynomial.subs(x=a)
   2193 
   2194     def poincare_polynomial(self, a=None):

[...]

/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in restriction(self, H)
   3003         for T in new_hyperplanes:
   3004             basis = T.linear_part().matrix()
-> 3005             p = H._isomorphism_with_Kn(T.point())
   3006             if basis.nrows() == 0:
   3007                 eqn = [1] + list(p)

/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement.pyc in _isomorphism_with_Kn(self, v)
    813             q = q.apply_map(lambda x: QQ(round(RR(x),2)))
    814             u = q*G  # u is the approximately orthonormalized W
--> 815             return u.solve_left(v-self.point())
    816         else: # finite field
    817             p = self.point()

/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/matrix/matrix2.so in sage.matrix.matrix2.Matrix.solve_left (sage/matrix/matrix2.c:4386)()

/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/matrix/matrix2.so in sage.matrix.matrix2.Matrix.solve_right (sage/matrix/matrix2.c:5242)()

/home/dima/sage/sage-5.12.beta4/local/lib/python2.7/site-packages/sage/matrix/matrix2.so in sage.matrix.matrix2.Matrix._solve_right_general (sage/matrix/matrix2.c:6182)()

ValueError: matrix equation has no solutions
sage: 

```



---

archive/issue_events_129456.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-09-11T05:54:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129456"
}
```



---

archive/issue_events_129457.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-09-11T05:54:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129457"
}
```



---

archive/issue_comments_183045.json:
```json
{
    "body": "<a id='comment:34'></a>\nI'm still not particularly happy with the syntax. Especially handing around tuples isn't really that userfriendly. I would propose the following:\n\n```\nsage: H.<x,y,z> = HyperplaneArrangements(QQ)\n```\nas shortcut for\n\n```\nsage: H = HyperplaneArrangements(QQ, names='x, y, z')\nsage: H.inject_variables()\n```\nand then construct hyperplanes as \n\n```\nsage: hyperplane = x + 2*y + 3*z - 4\n```\nand hyperplane arrangements as \n\n```\nsage: arrangement = (x + 2*y + 3*z - 4) and (y - 7) and (x + z)\nsage: arrangement == x + 2*y + 3*z - 4 and y - 7 and x + z     # brackets are optional\nTrue\n```\nIf nobody objects then I'll work on that since I kind of need hyperplane arrangements now...",
    "created_at": "2013-10-10T22:14:22Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183045",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:34'></a>
I'm still not particularly happy with the syntax. Especially handing around tuples isn't really that userfriendly. I would propose the following:

```
sage: H.<x,y,z> = HyperplaneArrangements(QQ)
```
as shortcut for

```
sage: H = HyperplaneArrangements(QQ, names='x, y, z')
sage: H.inject_variables()
```
and then construct hyperplanes as 

```
sage: hyperplane = x + 2*y + 3*z - 4
```
and hyperplane arrangements as 

```
sage: arrangement = (x + 2*y + 3*z - 4) and (y - 7) and (x + z)
sage: arrangement == x + 2*y + 3*z - 4 and y - 7 and x + z     # brackets are optional
True
```
If nobody objects then I'll work on that since I kind of need hyperplane arrangements now...



---

archive/issue_comments_183046.json:
```json
{
    "body": "<a id='comment:35'></a>\nThe syntax you suggest is very nice for very small examples.  Using tuples is convenient for larger or for computer-generated examples.  (It's similar to the syntax for polyhedra in Sage, of course.)  So I would support your suggestion as long as it does not interfere with using tuples.\n\nThanks!",
    "created_at": "2013-10-10T22:57:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183046",
    "user": "https://trac.sagemath.org/admin/accounts/users/dperkinson"
}
```

<a id='comment:35'></a>
The syntax you suggest is very nice for very small examples.  Using tuples is convenient for larger or for computer-generated examples.  (It's similar to the syntax for polyhedra in Sage, of course.)  So I would support your suggestion as long as it does not interfere with using tuples.

Thanks!



---

archive/issue_comments_183047.json:
```json
{
    "body": "<a id='comment:36'></a>\nYes, agree. That would be natural using conversion syntax:\n\n```\nsage: H.<x,y,z> = HyperplaneArrangements(QQ)\nsage: H([4, 1, 2, 3])\nx + 2*y + 3*z + 4\n```\n\nOn a related note, I think the constant should be first for consistency with polyhedra:\n\n```\nsage: Polyhedron(ieqs=[(4,1,2,3)]).Hrepresentation()\n(An inequality (1, 2, 3) x + 4 >= 0,)\n```",
    "created_at": "2013-10-11T10:29:03Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183047",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:36'></a>
Yes, agree. That would be natural using conversion syntax:

```
sage: H.<x,y,z> = HyperplaneArrangements(QQ)
sage: H([4, 1, 2, 3])
x + 2*y + 3*z + 4
```

On a related note, I think the constant should be first for consistency with polyhedra:

```
sage: Polyhedron(ieqs=[(4,1,2,3)]).Hrepresentation()
(An inequality (1, 2, 3) x + 4 >= 0,)
```



---

archive/issue_comments_183048.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [vbraun](#comment%3A34):\n> \n> ```\n> sage: arrangement = (x + 2*y + 3*z - 4) and (y - 7) and (x + z)\n> sage: arrangement == x + 2*y + 3*z - 4 and y - 7 and x + z     # brackets are optional\n> True\n> ```\n> If nobody objects then I'll work on that since I kind of need hyperplane arrangements now...\n\n\nDon't use \"and\". It explicitly has shortcutting behaviour specified on it:\n\n```\nsage: 1 and 2\n2\nsage: a = 1; b = 2\nsage: b if a else a #it's specified to do this\n2\n```\nso departing from this behaviour would be very surprising.\n\nThe operator possibly available would be the \"bitwise\" `&`, but I doubt you want to repurpose it for union.? Being smart with overloading operators often comes back to bite you (see `%` for string formatting in python).\n\nAlso, since these are hyperplanes given by equations describing them, `and` could easily be interpreted as *intersection*. That's the most direct interpretation coming from the boolean meaning of the operator in sage.\n\nMultiplication would come closer if you think about the arrangement as a union of hyperplanes. Do you keep multiplicities?\n\nIf you think of the hyperplane arrangement as a collection of hyperplanes, then they should probably be modelled as a set of hyperplanes, and python does not overload any binary operation to take unions of sets.",
    "created_at": "2013-10-11T17:16:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183048",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:37'></a>
Replying to [vbraun](#comment%3A34):
> 
> ```
> sage: arrangement = (x + 2*y + 3*z - 4) and (y - 7) and (x + z)
> sage: arrangement == x + 2*y + 3*z - 4 and y - 7 and x + z     # brackets are optional
> True
> ```
> If nobody objects then I'll work on that since I kind of need hyperplane arrangements now...


Don't use "and". It explicitly has shortcutting behaviour specified on it:

```
sage: 1 and 2
2
sage: a = 1; b = 2
sage: b if a else a #it's specified to do this
2
```
so departing from this behaviour would be very surprising.

The operator possibly available would be the "bitwise" `&`, but I doubt you want to repurpose it for union.? Being smart with overloading operators often comes back to bite you (see `%` for string formatting in python).

Also, since these are hyperplanes given by equations describing them, `and` could easily be interpreted as *intersection*. That's the most direct interpretation coming from the boolean meaning of the operator in sage.

Multiplication would come closer if you think about the arrangement as a union of hyperplanes. Do you keep multiplicities?

If you think of the hyperplane arrangement as a collection of hyperplanes, then they should probably be modelled as a set of hyperplanes, and python does not overload any binary operation to take unions of sets.



---

archive/issue_comments_183049.json:
```json
{
    "body": "<a id='comment:38'></a>\nGood point, forgot about the short-circuiting. Of course one could override `__nonzero__` but I'd rather not if it can be avoided.\n\nMultiplication has the wrong precedence, so thats out. Also, I don't think we should keep mulitplicities. \n\nBit ops are probably best. How about bit-or = `|`:\n\n```\nsage: arrangement = x + 2*y + 3*z - 4 | y - 7 | x + z\n```",
    "created_at": "2013-10-11T18:26:01Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183049",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:38'></a>
Good point, forgot about the short-circuiting. Of course one could override `__nonzero__` but I'd rather not if it can be avoided.

Multiplication has the wrong precedence, so thats out. Also, I don't think we should keep mulitplicities. 

Bit ops are probably best. How about bit-or = `|`:

```
sage: arrangement = x + 2*y + 3*z - 4 | y - 7 | x + z
```



---

archive/issue_comments_183050.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [vbraun](#comment%3A38):\n\n> Bit ops are probably best. How about bit-or = `|`:\n\n\nOut of the binary ops available that's probably the one that makes most sense. I don't think overloading binops has much precedent in sage/python, though, so it looks a little odd to me. Given how non-compact this notation is anyway, do we really need a compact way of combining hyperplanes?\n\nThere's another small problem: vector spaces in sage do not have variable names. In principle, given a vector space, there is a well-defined set of all hyperplane arrangements in that space. If we insist on giving names to the standard basis of the dual vector space, there would be multiple (determined by the names) and the user would be forced to come up with names if he/she wants to construct the collection.\n\nI agree that describing a hyperplane in n-space with a tuple of length n+1 feels a little uncomfortable: It should really be a vector in the dual space together with a scalar, i.e., a pair of an n-tuple and a scalar, which is awkward to work with by itself.\n\nWould it be better to let (a,b,c,d) mean a*x+b*y+c*z+d=0 (note the sign on the constant)? That's a little more like standard homogenization.\n\nPrecedent in other software dealing with hyperplane arrangements might be instructive?",
    "created_at": "2013-10-12T20:58:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183050",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:39'></a>
Replying to [vbraun](#comment%3A38):

> Bit ops are probably best. How about bit-or = `|`:


Out of the binary ops available that's probably the one that makes most sense. I don't think overloading binops has much precedent in sage/python, though, so it looks a little odd to me. Given how non-compact this notation is anyway, do we really need a compact way of combining hyperplanes?

There's another small problem: vector spaces in sage do not have variable names. In principle, given a vector space, there is a well-defined set of all hyperplane arrangements in that space. If we insist on giving names to the standard basis of the dual vector space, there would be multiple (determined by the names) and the user would be forced to come up with names if he/she wants to construct the collection.

I agree that describing a hyperplane in n-space with a tuple of length n+1 feels a little uncomfortable: It should really be a vector in the dual space together with a scalar, i.e., a pair of an n-tuple and a scalar, which is awkward to work with by itself.

Would it be better to let (a,b,c,d) mean a*x+b*y+c*z+d=0 (note the sign on the constant)? That's a little more like standard homogenization.

Precedent in other software dealing with hyperplane arrangements might be instructive?



---

archive/issue_comments_183051.json:
```json
{
    "body": "<a id='comment:40'></a>\nI'm working on making (d,a,b,c) mean a*x+b*y+c*z+d=0. So the sign is expected. And the order as well as the sign matches the notation used for polyhedra. If you want to avoid ambiguity then list/tuple plus scalar also define a hyperplane::\n\n```\nsage: H.<x,y> = HyperplaneArrangements(QQ)\nsage: H(x, y, x+y-1)\nArrangement <y | x | x + y - 1>\nsage: H([0,1,0], [0,0,1], [-1,1,1])\nArrangement <y | x | x + y - 1>\nsage: H([(1,1),0], [(2,3),-1], [(4,5),3])\nArrangement <x + y | 2*x + 3*y - 1 | 4*x + 5*y + 3>\n```",
    "created_at": "2013-10-13T14:35:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183051",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'></a>
I'm working on making (d,a,b,c) mean a*x+b*y+c*z+d=0. So the sign is expected. And the order as well as the sign matches the notation used for polyhedra. If you want to avoid ambiguity then list/tuple plus scalar also define a hyperplane::

```
sage: H.<x,y> = HyperplaneArrangements(QQ)
sage: H(x, y, x+y-1)
Arrangement <y | x | x + y - 1>
sage: H([0,1,0], [0,0,1], [-1,1,1])
Arrangement <y | x | x + y - 1>
sage: H([(1,1),0], [(2,3),-1], [(4,5),3])
Arrangement <x + y | 2*x + 3*y - 1 | 4*x + 5*y + 3>
```



---

archive/issue_comments_183052.json:
```json
{
    "body": "**Commit:** [2ba65503dfad7432564e21bc0672c219dcbc254c](https://github.com/sagemath/sagetrac-mirror/commit/2ba65503dfad7432564e21bc0672c219dcbc254c)",
    "created_at": "2013-10-13T21:46:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183052",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [2ba65503dfad7432564e21bc0672c219dcbc254c](https://github.com/sagemath/sagetrac-mirror/commit/2ba65503dfad7432564e21bc0672c219dcbc254c)



---

archive/issue_comments_183053.json:
```json
{
    "body": "**Branch:** [u/vbraun/hyperplane_arrangements](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/hyperplane_arrangements)",
    "created_at": "2013-10-13T21:46:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183053",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [u/vbraun/hyperplane_arrangements](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/hyperplane_arrangements)



---

archive/issue_events_129458.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-10-13T21:46:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129458"
}
```



---

archive/issue_events_129459.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-10-13T21:46:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129459"
}
```



---

archive/issue_comments_183054.json:
```json
{
    "body": "<a id='comment:41'></a>\n**New commits:**\n<table><tr><td>[changeset:2ba6550]</td><td><code>Ported hyperplanes and arrangements to linear expressions</code></td></tr><tr><td>[changeset:e2f4d13]</td><td><code>implemented linear expressions</code></td></tr><tr><td>[changeset:d8cb75e]</td><td><code>split up into manageable source files</code></td></tr><tr><td>[changeset:b528d68]</td><td><code>Trac 14789: hyperplane arrangement package</code></td></tr></table>\n",
    "created_at": "2013-10-13T21:46:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183054",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'></a>
**New commits:**
<table><tr><td>[changeset:2ba6550]</td><td><code>Ported hyperplanes and arrangements to linear expressions</code></td></tr><tr><td>[changeset:e2f4d13]</td><td><code>implemented linear expressions</code></td></tr><tr><td>[changeset:d8cb75e]</td><td><code>split up into manageable source files</code></td></tr><tr><td>[changeset:b528d68]</td><td><code>Trac 14789: hyperplane arrangement package</code></td></tr></table>




---

archive/issue_comments_183055.json:
```json
{
    "body": "<a id='comment:42'></a>\nAlmost finished...  here is Dima's example:\n\n```\n    sage: H.<x,y> = HyperplaneArrangements(QQ)\n    sage: h = H([(1, 106), 106266], [(83, 101), 157866], [(111, 110), 186150], [(453, 221), 532686], \n    ....:       [(407, 237), 516882], [(55, 32), 75620], [(221, 114), 289346], [(452, 115), 474217], \n    ....:       [(406, 131), 453521], [(28, 9), 32446], [(287, 19), 271774], [(241, 35), 244022],\n    ....:       [(231, 1), 210984], [(185, 17), 181508], [(23, -8), 16609])\n    sage: h.n_regions()\n    85\n```",
    "created_at": "2013-10-13T21:46:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183055",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:42'></a>
Almost finished...  here is Dima's example:

```
    sage: H.<x,y> = HyperplaneArrangements(QQ)
    sage: h = H([(1, 106), 106266], [(83, 101), 157866], [(111, 110), 186150], [(453, 221), 532686], 
    ....:       [(407, 237), 516882], [(55, 32), 75620], [(221, 114), 289346], [(452, 115), 474217], 
    ....:       [(406, 131), 453521], [(28, 9), 32446], [(287, 19), 271774], [(241, 35), 244022],
    ....:       [(231, 1), 210984], [(185, 17), 181508], [(23, -8), 16609])
    sage: h.n_regions()
    85
```



---

archive/issue_comments_183056.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [vbraun](#comment%3A42):\n> Almost finished...  here is Dima's example:\n> \n> ```\n> ...\n>     sage: h.n_regions()\n>     85\n> ```\n\nHas it magically got fixed? ;\u2013)",
    "created_at": "2013-10-13T22:15:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183056",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:43'></a>
Replying to [vbraun](#comment%3A42):
> Almost finished...  here is Dima's example:
> 
> ```
> ...
>     sage: h.n_regions()
>     85
> ```

Has it magically got fixed? ;–)



---

archive/issue_comments_183057.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [dimpase](#comment%3A43):\n\n> Has it magically got fixed? ;\u2013)\n\n\nAll sufficiently hard work is indistinguishable from magic ;-)\n\nIn case I haven't made it clear, the branch contains quite extensive modifications of the original patch.",
    "created_at": "2013-10-14T09:38:06Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183057",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'></a>
Replying to [dimpase](#comment%3A43):

> Has it magically got fixed? ;–)


All sufficiently hard work is indistinguishable from magic ;-)

In case I haven't made it clear, the branch contains quite extensive modifications of the original patch.



---

archive/issue_comments_183058.json:
```json
{
    "body": "<a id='comment:45'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[changeset:f7c4b81]</td><td><code>added remaining functionality, fixed documentation</code></td></tr></table>\n",
    "created_at": "2013-10-14T12:31:05Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183058",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[changeset:f7c4b81]</td><td><code>added remaining functionality, fixed documentation</code></td></tr></table>




---

archive/issue_comments_183059.json:
```json
{
    "body": "**Changing commit** from \"[2ba65503dfad7432564e21bc0672c219dcbc254c](https://github.com/sagemath/sagetrac-mirror/commit/2ba65503dfad7432564e21bc0672c219dcbc254c)\" to \"[f7c4b81d6bf1c4a1d6ef7351ce9a15e0607e6932](https://github.com/sagemath/sagetrac-mirror/commit/f7c4b81d6bf1c4a1d6ef7351ce9a15e0607e6932)\".",
    "created_at": "2013-10-14T12:31:05Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2ba65503dfad7432564e21bc0672c219dcbc254c](https://github.com/sagemath/sagetrac-mirror/commit/2ba65503dfad7432564e21bc0672c219dcbc254c)" to "[f7c4b81d6bf1c4a1d6ef7351ce9a15e0607e6932](https://github.com/sagemath/sagetrac-mirror/commit/f7c4b81d6bf1c4a1d6ef7351ce9a15e0607e6932)".



---

archive/issue_comments_183060.json:
```json
{
    "body": "<a id='comment:46'></a>\nIMHO this is now finished. I'm happy to give positive review to everything that I haven't changed ;-)",
    "created_at": "2013-10-14T12:33:31Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183060",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:46'></a>
IMHO this is now finished. I'm happy to give positive review to everything that I haven't changed ;-)



---

archive/issue_events_129460.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-10-14T12:33:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129460"
}
```



---

archive/issue_events_129461.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-10-14T12:33:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129461"
}
```



---

archive/issue_comments_183061.json:
```json
{
    "body": "**Author:** dperkinson, vbraun",
    "created_at": "2013-10-14T12:33:31Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183061",
    "user": "https://github.com/vbraun"
}
```

**Author:** dperkinson, vbraun



---

archive/issue_comments_183062.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,8 +3,3 @@\n * Matroids\n * Linear Algebra\n \n-I'm putting this in combinatorics, but I'm not sure where it belongs.\n-\n-Apply:\n-\n-* [attachment:trac_14789_hyp_arrangement_7_29_13.patch](https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyp_arrangement_7_29_13.patch)\n``````\n",
    "created_at": "2013-10-14T12:35:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183062",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,8 +3,3 @@
 * Matroids
 * Linear Algebra
 
-I'm putting this in combinatorics, but I'm not sure where it belongs.
-
-Apply:
-
-* [attachment:trac_14789_hyp_arrangement_7_29_13.patch](https://github.com/sagemath/sage/files/ticket14789/trac_14789_hyp_arrangement_7_29_13.patch)
``````




---

archive/issue_comments_183063.json:
```json
{
    "body": "**Changing commit** from \"[f7c4b81d6bf1c4a1d6ef7351ce9a15e0607e6932](https://github.com/sagemath/sagetrac-mirror/commit/f7c4b81d6bf1c4a1d6ef7351ce9a15e0607e6932)\" to \"[343ac2c2a1c20a060d7a7b3a40efb1a1d02bc053](https://github.com/sagemath/sagetrac-mirror/commit/343ac2c2a1c20a060d7a7b3a40efb1a1d02bc053)\".",
    "created_at": "2013-10-16T12:39:26Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f7c4b81d6bf1c4a1d6ef7351ce9a15e0607e6932](https://github.com/sagemath/sagetrac-mirror/commit/f7c4b81d6bf1c4a1d6ef7351ce9a15e0607e6932)" to "[343ac2c2a1c20a060d7a7b3a40efb1a1d02bc053](https://github.com/sagemath/sagetrac-mirror/commit/343ac2c2a1c20a060d7a7b3a40efb1a1d02bc053)".



---

archive/issue_comments_183064.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[changeset:343ac2c]</td><td><code>lazy import hyperplane arrangements</code></td></tr></table>\n",
    "created_at": "2013-10-16T12:39:26Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[changeset:343ac2c]</td><td><code>lazy import hyperplane arrangements</code></td></tr></table>




---

archive/issue_comments_183065.json:
```json
{
    "body": "<a id='comment:49'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[changeset:722c844]</td><td><code>made the construction of the regions much faster</code></td></tr></table>\n",
    "created_at": "2013-10-27T22:20:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[changeset:722c844]</td><td><code>made the construction of the regions much faster</code></td></tr></table>




---

archive/issue_comments_183066.json:
```json
{
    "body": "**Changing commit** from \"[343ac2c2a1c20a060d7a7b3a40efb1a1d02bc053](https://github.com/sagemath/sagetrac-mirror/commit/343ac2c2a1c20a060d7a7b3a40efb1a1d02bc053)\" to \"[722c8449b9c02e01e4f8b0ed17ce239963c3189e](https://github.com/sagemath/sagetrac-mirror/commit/722c8449b9c02e01e4f8b0ed17ce239963c3189e)\".",
    "created_at": "2013-10-27T22:20:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[343ac2c2a1c20a060d7a7b3a40efb1a1d02bc053](https://github.com/sagemath/sagetrac-mirror/commit/343ac2c2a1c20a060d7a7b3a40efb1a1d02bc053)" to "[722c8449b9c02e01e4f8b0ed17ce239963c3189e](https://github.com/sagemath/sagetrac-mirror/commit/722c8449b9c02e01e4f8b0ed17ce239963c3189e)".



---

archive/issue_comments_183067.json:
```json
{
    "body": "<a id='comment:50'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[changeset:42b1aa5]</td><td><code>new vertices() method to compute the vertices of the arrangement</code></td></tr></table>\n",
    "created_at": "2013-10-29T21:48:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[changeset:42b1aa5]</td><td><code>new vertices() method to compute the vertices of the arrangement</code></td></tr></table>




---

archive/issue_comments_183068.json:
```json
{
    "body": "**Changing commit** from \"[722c8449b9c02e01e4f8b0ed17ce239963c3189e](https://github.com/sagemath/sagetrac-mirror/commit/722c8449b9c02e01e4f8b0ed17ce239963c3189e)\" to \"[42b1aa531d73ec9fe94f5acd7c50ad885164aeb5](https://github.com/sagemath/sagetrac-mirror/commit/42b1aa531d73ec9fe94f5acd7c50ad885164aeb5)\".",
    "created_at": "2013-10-29T21:48:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183068",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[722c8449b9c02e01e4f8b0ed17ce239963c3189e](https://github.com/sagemath/sagetrac-mirror/commit/722c8449b9c02e01e4f8b0ed17ce239963c3189e)" to "[42b1aa531d73ec9fe94f5acd7c50ad885164aeb5](https://github.com/sagemath/sagetrac-mirror/commit/42b1aa531d73ec9fe94f5acd7c50ad885164aeb5)".



---

archive/issue_comments_183069.json:
```json
{
    "body": "<a id='comment:51'></a>\nI've been using this ticket in #15328 and it works for me. If you want to review this ticket you can review up to [changeset:343ac2c], the further additions can easily be split into a separate ticket.",
    "created_at": "2013-10-30T14:41:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183069",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:51'></a>
I've been using this ticket in #15328 and it works for me. If you want to review this ticket you can review up to [changeset:343ac2c], the further additions can easily be split into a separate ticket.



---

archive/issue_comments_183070.json:
```json
{
    "body": "<a id='comment:52'></a>\nThe thing I was beefing about with my `sign_vector` copypasta wasn't so much the handling of `==` (which would require us to fix the definition of a hyperplane arrangement in place more formally than mathematicians do), as the unpredictability of the output:\n\n```\nsage: h = H(x, y, x-1, y-1, y-1)\nsage: h.sign_vector((2,-2))\n(-1, -1, 1, 1)\nsage: h.restriction(y).sign_vector((2,))\n(-1, 1)\n```\nHow do I tell (without lots of overhead) which entry of the vector corresponds to which line?\n\nEDIT: Also there is a failing longtime doctest (failing because you forgot to provide the answer):\n\n```\nFile \"src/sage/geometry/hyperplane_arrangement/arrangement.py\", line 1438, in sage.geometry.hyperplane_arrangement.arrangement.HyperplaneArrangementElement.regions\nFailed example:\n    len(chessboard.bounded_regions())   # long time, 359 ms on a Core i7\nExpected nothing\nGot:\n    64\n```\n\nEDIT2: Unfitting docstring:\n\n```\n    def unbounded_regions(self):\n        r\"\"\"\n        Return the relatively bounded regions of the arrangement.\n```\n\nEDIT3: It would be best to redefine `_an_element_` since it currently returns a hyperplane instead of a hyperplane arrangement:\n\n```\nsage: HyperplaneArrangements(QQ, ('x','y')).an_element()\nHyperplane x + 0*y + 0\n```\n\nEDIT4: Also, pyflakes report:\n\n```\nsrc/sage/geometry/hyperplane_arrangement/library.py:16: 'identity_matrix' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:21: 'expand' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:25: 'flatten' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:26: 'random' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:27: 'powerset' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:28: 'line' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:29: 'Color' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:30: 'Graphics' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:31: 'plot' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:31: 'parametric_plot' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:32: 'point' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:33: 'text' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:34: 'parametric_plot3d' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:35: 'text3d' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:36: 'lcm' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:37: 'GF' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:40: 'PolynomialRing' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:41: redefinition of unused 'QQ' from line 17\nsrc/sage/geometry/hyperplane_arrangement/library.py:42: 'RR' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:43: 'SageObject' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:44: 'var' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/library.py:44: 'SR' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/affine_subspace.py:71: 'QQ' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/affine_subspace.py:72: 'matrix' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/arrangement.py:327: 'coerce_binop' imported but unused\nsrc/sage/geometry/hyperplane_arrangement/arrangement.py:644: local variable 'AA' is assigned to but never used\nsrc/sage/geometry/hyperplane_arrangement/arrangement.py:873: local variable 'n' is assigned to but never used\n```",
    "created_at": "2013-11-07T00:13:50Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183070",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:52'></a>
The thing I was beefing about with my `sign_vector` copypasta wasn't so much the handling of `==` (which would require us to fix the definition of a hyperplane arrangement in place more formally than mathematicians do), as the unpredictability of the output:

```
sage: h = H(x, y, x-1, y-1, y-1)
sage: h.sign_vector((2,-2))
(-1, -1, 1, 1)
sage: h.restriction(y).sign_vector((2,))
(-1, 1)
```
How do I tell (without lots of overhead) which entry of the vector corresponds to which line?

EDIT: Also there is a failing longtime doctest (failing because you forgot to provide the answer):

```
File "src/sage/geometry/hyperplane_arrangement/arrangement.py", line 1438, in sage.geometry.hyperplane_arrangement.arrangement.HyperplaneArrangementElement.regions
Failed example:
    len(chessboard.bounded_regions())   # long time, 359 ms on a Core i7
Expected nothing
Got:
    64
```

EDIT2: Unfitting docstring:

```
    def unbounded_regions(self):
        r"""
        Return the relatively bounded regions of the arrangement.
```

EDIT3: It would be best to redefine `_an_element_` since it currently returns a hyperplane instead of a hyperplane arrangement:

```
sage: HyperplaneArrangements(QQ, ('x','y')).an_element()
Hyperplane x + 0*y + 0
```

EDIT4: Also, pyflakes report:

```
src/sage/geometry/hyperplane_arrangement/library.py:16: 'identity_matrix' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:21: 'expand' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:25: 'flatten' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:26: 'random' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:27: 'powerset' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:28: 'line' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:29: 'Color' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:30: 'Graphics' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:31: 'plot' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:31: 'parametric_plot' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:32: 'point' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:33: 'text' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:34: 'parametric_plot3d' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:35: 'text3d' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:36: 'lcm' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:37: 'GF' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:40: 'PolynomialRing' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:41: redefinition of unused 'QQ' from line 17
src/sage/geometry/hyperplane_arrangement/library.py:42: 'RR' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:43: 'SageObject' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:44: 'var' imported but unused
src/sage/geometry/hyperplane_arrangement/library.py:44: 'SR' imported but unused
src/sage/geometry/hyperplane_arrangement/affine_subspace.py:71: 'QQ' imported but unused
src/sage/geometry/hyperplane_arrangement/affine_subspace.py:72: 'matrix' imported but unused
src/sage/geometry/hyperplane_arrangement/arrangement.py:327: 'coerce_binop' imported but unused
src/sage/geometry/hyperplane_arrangement/arrangement.py:644: local variable 'AA' is assigned to but never used
src/sage/geometry/hyperplane_arrangement/arrangement.py:873: local variable 'n' is assigned to but never used
```



---

archive/issue_comments_183071.json:
```json
{
    "body": "<a id='comment:53'></a>\nHere's the current version with my state of review. However there are two doctest failures. The first is that\n\n```\nsage: H.<x,y,z> = HyperplaneArrangements(QQ)\nsage: H(x) == 0\nException raised:\n    Traceback (most recent call last):\n      File \"/home/travis/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/travis/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.geometry.hyperplane_arrangement.arrangement.HyperplaneArrangementElement.__cmp__[2]>\", line 1, in <module>\n        H(x) == Integer(0)\n      File \"element.pyx\", line 914, in sage.structure.element.Element.__richcmp__ (sage/structure/element.c:8876)\n      File \"element.pyx\", line 855, in sage.structure.element.Element._richcmp (sage/structure/element.c:8221)\n      File \"coerce.pyx\", line 921, in sage.structure.coerce.CoercionModel_cache_maps.canonical_coercion (sage/structure/coerce.c:8568)\n      File \"coerce_maps.pyx\", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3856)\n      File \"coerce_maps.pyx\", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3757)\n      File \"/home/travis/sage/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement/arrangement.py\", line 2124, in _element_constructor_\n        raise ValueError('linear expression must be non-constant to define a hyperplane')\n    ValueError: linear expression must be non-constant to define a hyperplane\n```\nso it seems like it's trying to coerce 0 into `H`, but that is failing. The second is that 0-dimensional hyperplane arrangements don't have an `_an_element_()`. If we can't create 0-dim hyperplane arrangements, then we shouldn't allow things like `HyperplaneArrangements(QQ)`.\n\nI've taken care of the pyflakes report and the long doctest failure.\n\n---\n**Last 10 new commits:**\n<table><tr><td>[7a7c6ac](https://github.com/sagemath/sagetrac-mirror/commit/7a7c6ac)</td><td><code>Fixed long doctest.</code></td></tr><tr><td>[d19efda](https://github.com/sagemath/sagetrac-mirror/commit/d19efda)</td><td><code>Doctest fixes.</code></td></tr><tr><td>[9383197](https://github.com/sagemath/sagetrac-mirror/commit/9383197)</td><td><code>More fixes and pyflakes cleanup.</code></td></tr><tr><td>[1052df7](https://github.com/sagemath/sagetrac-mirror/commit/1052df7)</td><td><code>Initial documentation fixes.</code></td></tr><tr><td>[0a85ee2](https://github.com/sagemath/sagetrac-mirror/commit/0a85ee2)</td><td><code>Merge branch 'master' into ticket/14789</code></td></tr><tr><td>[253e472](https://github.com/sagemath/sagetrac-mirror/commit/253e472)</td><td><code>new vertices() method to compute the vertices of the arrangement</code></td></tr><tr><td>[ddfbe52](https://github.com/sagemath/sagetrac-mirror/commit/ddfbe52)</td><td><code>made the construction of the regions much faster</code></td></tr><tr><td>[47ac1cf](https://github.com/sagemath/sagetrac-mirror/commit/47ac1cf)</td><td><code>lazy import hyperplane arrangements</code></td></tr><tr><td>[0786df0](https://github.com/sagemath/sagetrac-mirror/commit/0786df0)</td><td><code>added remaining functionality, fixed documentation</code></td></tr><tr><td>[577d09c](https://github.com/sagemath/sagetrac-mirror/commit/577d09c)</td><td><code>Ported hyperplanes and arrangements to linear expressions</code></td></tr></table>\n",
    "created_at": "2013-11-08T01:24:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183071",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:53'></a>
Here's the current version with my state of review. However there are two doctest failures. The first is that

```
sage: H.<x,y,z> = HyperplaneArrangements(QQ)
sage: H(x) == 0
Exception raised:
    Traceback (most recent call last):
      File "/home/travis/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/home/travis/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.geometry.hyperplane_arrangement.arrangement.HyperplaneArrangementElement.__cmp__[2]>", line 1, in <module>
        H(x) == Integer(0)
      File "element.pyx", line 914, in sage.structure.element.Element.__richcmp__ (sage/structure/element.c:8876)
      File "element.pyx", line 855, in sage.structure.element.Element._richcmp (sage/structure/element.c:8221)
      File "coerce.pyx", line 921, in sage.structure.coerce.CoercionModel_cache_maps.canonical_coercion (sage/structure/coerce.c:8568)
      File "coerce_maps.pyx", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3856)
      File "coerce_maps.pyx", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3757)
      File "/home/travis/sage/local/lib/python2.7/site-packages/sage/geometry/hyperplane_arrangement/arrangement.py", line 2124, in _element_constructor_
        raise ValueError('linear expression must be non-constant to define a hyperplane')
    ValueError: linear expression must be non-constant to define a hyperplane
```
so it seems like it's trying to coerce 0 into `H`, but that is failing. The second is that 0-dimensional hyperplane arrangements don't have an `_an_element_()`. If we can't create 0-dim hyperplane arrangements, then we shouldn't allow things like `HyperplaneArrangements(QQ)`.

I've taken care of the pyflakes report and the long doctest failure.

---
**Last 10 new commits:**
<table><tr><td>[7a7c6ac](https://github.com/sagemath/sagetrac-mirror/commit/7a7c6ac)</td><td><code>Fixed long doctest.</code></td></tr><tr><td>[d19efda](https://github.com/sagemath/sagetrac-mirror/commit/d19efda)</td><td><code>Doctest fixes.</code></td></tr><tr><td>[9383197](https://github.com/sagemath/sagetrac-mirror/commit/9383197)</td><td><code>More fixes and pyflakes cleanup.</code></td></tr><tr><td>[1052df7](https://github.com/sagemath/sagetrac-mirror/commit/1052df7)</td><td><code>Initial documentation fixes.</code></td></tr><tr><td>[0a85ee2](https://github.com/sagemath/sagetrac-mirror/commit/0a85ee2)</td><td><code>Merge branch 'master' into ticket/14789</code></td></tr><tr><td>[253e472](https://github.com/sagemath/sagetrac-mirror/commit/253e472)</td><td><code>new vertices() method to compute the vertices of the arrangement</code></td></tr><tr><td>[ddfbe52](https://github.com/sagemath/sagetrac-mirror/commit/ddfbe52)</td><td><code>made the construction of the regions much faster</code></td></tr><tr><td>[47ac1cf](https://github.com/sagemath/sagetrac-mirror/commit/47ac1cf)</td><td><code>lazy import hyperplane arrangements</code></td></tr><tr><td>[0786df0](https://github.com/sagemath/sagetrac-mirror/commit/0786df0)</td><td><code>added remaining functionality, fixed documentation</code></td></tr><tr><td>[577d09c](https://github.com/sagemath/sagetrac-mirror/commit/577d09c)</td><td><code>Ported hyperplanes and arrangements to linear expressions</code></td></tr></table>




---

archive/issue_comments_183072.json:
```json
{
    "body": "**Changing commit** from \"[42b1aa531d73ec9fe94f5acd7c50ad885164aeb5](https://github.com/sagemath/sagetrac-mirror/commit/42b1aa531d73ec9fe94f5acd7c50ad885164aeb5)\" to \"[7a7c6aca580a7fc1481d60f8deb37129aa2b90f8](https://github.com/sagemath/sagetrac-mirror/commit/7a7c6aca580a7fc1481d60f8deb37129aa2b90f8)\".",
    "created_at": "2013-11-08T01:24:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183072",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[42b1aa531d73ec9fe94f5acd7c50ad885164aeb5](https://github.com/sagemath/sagetrac-mirror/commit/42b1aa531d73ec9fe94f5acd7c50ad885164aeb5)" to "[7a7c6aca580a7fc1481d60f8deb37129aa2b90f8](https://github.com/sagemath/sagetrac-mirror/commit/7a7c6aca580a7fc1481d60f8deb37129aa2b90f8)".



---

archive/issue_comments_183073.json:
```json
{
    "body": "**Changing branch** from \"[u/vbraun/hyperplane_arrangements](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/hyperplane_arrangements)\" to \"[public/geometry/14789-hyperplane_arrangements](https://github.com/sagemath/sagetrac-mirror/tree/public/geometry/14789-hyperplane_arrangements)\".",
    "created_at": "2013-11-08T01:24:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183073",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/vbraun/hyperplane_arrangements](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/hyperplane_arrangements)" to "[public/geometry/14789-hyperplane_arrangements](https://github.com/sagemath/sagetrac-mirror/tree/public/geometry/14789-hyperplane_arrangements)".



---

archive/issue_comments_183074.json:
```json
{
    "body": "**Changing author** from \"dperkinson, vbraun\" to \"David Perkinson, Volker Braun\".",
    "created_at": "2013-11-08T01:24:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183074",
    "user": "https://github.com/tscrim"
}
```

**Changing author** from "dperkinson, vbraun" to "David Perkinson, Volker Braun".



---

archive/issue_comments_183075.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2013-11-08T01:24:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183075",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_183076.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"days54\".",
    "created_at": "2013-11-09T00:11:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183076",
    "user": "https://github.com/tscrim"
}
```

**Changing keywords** from "" to "days54".



---

archive/issue_comments_183077.json:
```json
{
    "body": "<a id='comment:55'></a>\nWhat is \n\n```\nsage: H.<x,y,z> = HyperplaneArrangements(QQ)\nsage: H(0)\n```\nsupposed to return? You could either argue the empty arrangement (neutral element in the additive semigroup) or the entire space defined by the degenerate \"hyperplane\" 0=0. I really don't want to allow that kind of degenerate hyperplanes. So that leaves us with the former, but I still find `H(0)` confusing and, by extension, `H(x) == 0`. \n\nThere is no easy way to find out which ambient hyperplane went where in `restriction()`, in particular it involves choices:\n\n```\nsage: H.<x,y> = HyperplaneArrangements(QQ)\nsage: H(x-y, x+y, x).restriction(x)\nArrangement <y>\n```\nSo its alwasy going to be convoluted. If you need to know the sign vector of a point in terms of the ambient space arrangement then just compute the sign vector there.\n\nI can fix up the 0-dimensional and empty arrangement case...",
    "created_at": "2013-12-23T14:17:23Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183077",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:55'></a>
What is 

```
sage: H.<x,y,z> = HyperplaneArrangements(QQ)
sage: H(0)
```
supposed to return? You could either argue the empty arrangement (neutral element in the additive semigroup) or the entire space defined by the degenerate "hyperplane" 0=0. I really don't want to allow that kind of degenerate hyperplanes. So that leaves us with the former, but I still find `H(0)` confusing and, by extension, `H(x) == 0`. 

There is no easy way to find out which ambient hyperplane went where in `restriction()`, in particular it involves choices:

```
sage: H.<x,y> = HyperplaneArrangements(QQ)
sage: H(x-y, x+y, x).restriction(x)
Arrangement <y>
```
So its alwasy going to be convoluted. If you need to know the sign vector of a point in terms of the ambient space arrangement then just compute the sign vector there.

I can fix up the 0-dimensional and empty arrangement case...



---

archive/issue_comments_183078.json:
```json
{
    "body": "<a id='comment:56'></a>\nOk since `H()` is equivalent to `H(0)` we'll have to go with it...",
    "created_at": "2013-12-23T14:39:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183078",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:56'></a>
Ok since `H()` is equivalent to `H(0)` we'll have to go with it...



---

archive/issue_comments_183079.json:
```json
{
    "body": "**Changing commit** from \"[7a7c6aca580a7fc1481d60f8deb37129aa2b90f8](https://github.com/sagemath/sagetrac-mirror/commit/7a7c6aca580a7fc1481d60f8deb37129aa2b90f8)\" to \"[e8c36efd11f20785f7cee696d890f9b79da15126](https://github.com/sagemath/sagetrac-mirror/commit/e8c36efd11f20785f7cee696d890f9b79da15126)\".",
    "created_at": "2013-12-23T14:49:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183079",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7a7c6aca580a7fc1481d60f8deb37129aa2b90f8](https://github.com/sagemath/sagetrac-mirror/commit/7a7c6aca580a7fc1481d60f8deb37129aa2b90f8)" to "[e8c36efd11f20785f7cee696d890f9b79da15126](https://github.com/sagemath/sagetrac-mirror/commit/e8c36efd11f20785f7cee696d890f9b79da15126)".



---

archive/issue_comments_183080.json:
```json
{
    "body": "<a id='comment:57'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8c36ef\">e8c36ef</a></td><td><code>Allow empty hyperplane arrangement, docstring fixes</code></td></tr></table>\n",
    "created_at": "2013-12-23T14:49:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8c36ef">e8c36ef</a></td><td><code>Allow empty hyperplane arrangement, docstring fixes</code></td></tr></table>




---

archive/issue_comments_183081.json:
```json
{
    "body": "<a id='comment:58'></a>\nReplying to [vbraun](#comment%3A56):\n> Ok since `H()` is equivalent to `H(0)` we'll have to go with it... \n\n\nThis is #8648.\n\nCurrently this works\n\n```\nsage: H.<x,y,z> = HyperplaneArrangements(QQ)\nsage: 0*x\nHyperplane 0*x + 0*y + 0*z + 0\nsage: H(0*x)\nEmpty hyperplane arrangement of dimension 3\n```\nbut this doesn't:\n\n```\nsage: H(0*x, 0*x)\nValueError: linear expression must be non-constant to define a hyperplane\n```\nI think the best course of action is to make this consistent by stripping out the degenerate hyperplanes. Alternatively we could treat the special case of a non-hyperplane `0` as referring to the empty arrangement as a workaround for #8648 and the equality test. Your thoughts?",
    "created_at": "2013-12-23T17:21:21Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183081",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:58'></a>
Replying to [vbraun](#comment%3A56):
> Ok since `H()` is equivalent to `H(0)` we'll have to go with it... 


This is #8648.

Currently this works

```
sage: H.<x,y,z> = HyperplaneArrangements(QQ)
sage: 0*x
Hyperplane 0*x + 0*y + 0*z + 0
sage: H(0*x)
Empty hyperplane arrangement of dimension 3
```
but this doesn't:

```
sage: H(0*x, 0*x)
ValueError: linear expression must be non-constant to define a hyperplane
```
I think the best course of action is to make this consistent by stripping out the degenerate hyperplanes. Alternatively we could treat the special case of a non-hyperplane `0` as referring to the empty arrangement as a workaround for #8648 and the equality test. Your thoughts?



---

archive/issue_comments_183082.json:
```json
{
    "body": "**Changing commit** from \"[e8c36efd11f20785f7cee696d890f9b79da15126](https://github.com/sagemath/sagetrac-mirror/commit/e8c36efd11f20785f7cee696d890f9b79da15126)\" to \"[ba798c03b8e7cc810c5068a7cff0e47570188e0b](https://github.com/sagemath/sagetrac-mirror/commit/ba798c03b8e7cc810c5068a7cff0e47570188e0b)\".",
    "created_at": "2013-12-24T20:58:51Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e8c36efd11f20785f7cee696d890f9b79da15126](https://github.com/sagemath/sagetrac-mirror/commit/e8c36efd11f20785f7cee696d890f9b79da15126)" to "[ba798c03b8e7cc810c5068a7cff0e47570188e0b](https://github.com/sagemath/sagetrac-mirror/commit/ba798c03b8e7cc810c5068a7cff0e47570188e0b)".



---

archive/issue_comments_183083.json:
```json
{
    "body": "<a id='comment:59'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba798c0\">ba798c0</a></td><td><code>do not allow the degenerate hyperplane to define the empty arrangement</code></td></tr></table>\n",
    "created_at": "2013-12-24T20:58:51Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba798c0">ba798c0</a></td><td><code>do not allow the degenerate hyperplane to define the empty arrangement</code></td></tr></table>




---

archive/issue_comments_183084.json:
```json
{
    "body": "<a id='comment:60'></a>\nAgree, I disallowed `H(0*x)` in the new commit.",
    "created_at": "2013-12-24T21:02:13Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183084",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:60'></a>
Agree, I disallowed `H(0*x)` in the new commit.



---

archive/issue_events_129462.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-12-24T23:13:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129462"
}
```



---

archive/issue_events_129463.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-12-24T23:13:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129463"
}
```



---

archive/issue_comments_183085.json:
```json
{
    "body": "<a id='comment:61'></a>\nLooks good. Thanks.",
    "created_at": "2013-12-24T23:13:38Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183085",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:61'></a>
Looks good. Thanks.



---

archive/issue_events_129464.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-12-26T14:50:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129464"
}
```



---

archive/issue_events_129465.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "42f0bc086f9cfec58ccb02c15b8da87c03c566f4",
    "created_at": "2013-12-26T14:50:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14789#event-129465"
}
```



---

archive/issue_comments_183086.json:
```json
{
    "body": "<a id='comment:63'></a>\nHello. I'm playing around with this branch now and I have a few questions.\n\nPerhaps the first question should be: since this is marked as \"closed\", should I ask my questions elsewhere?",
    "created_at": "2014-01-25T18:48:55Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183086",
    "user": "https://github.com/saliola"
}
```

<a id='comment:63'></a>
Hello. I'm playing around with this branch now and I have a few questions.

Perhaps the first question should be: since this is marked as "closed", should I ask my questions elsewhere?



---

archive/issue_comments_183087.json:
```json
{
    "body": "<a id='comment:64'></a>\nyes, this is merged. Open a new ticket for defects/enhancements or ask general questions on sage-devel.",
    "created_at": "2014-01-25T23:35:53Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183087",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:64'></a>
yes, this is merged. Open a new ticket for defects/enhancements or ask general questions on sage-devel.



---

archive/issue_comments_183088.json:
```json
{
    "body": "<a id='comment:65'></a>\nSee #18133 for Orlik-Solomon algebra.",
    "created_at": "2015-04-07T13:11:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14789#issuecomment-183088",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:65'></a>
See #18133 for Orlik-Solomon algebra.
