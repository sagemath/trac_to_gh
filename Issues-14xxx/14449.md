# Issue 14449: digraphs.Tournament(1) has 0 vertices

archive/issues_014449.json:
```json
{
    "body": "Assignee: jason, ncohen, rlm\n\nCC:  @nathanncohen\n\nKeywords: days47.5\n\n```\nsage: digraphs.Tournament(1)\nTournament on 1 vertices: Digraph on 0 vertices\nsage: digraphs.Tournament(1).vertices()\n[]\n```\n\nCauses the following.\n\n```\nsage: digraphs.Tournament(3) + digraphs.Tournament(1)\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n<ipython-input-50-0b88bd757fb1> in <module>()\n----> 1 digraphs.Tournament(Integer(3)) + digraphs.Tournament(Integer(1))\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __add__(self, other_graph)\n    363         \"\"\"\n    364         if isinstance(other_graph, GenericGraph):\n--> 365             return self.disjoint_union(other_graph, verbose_relabel=False)\n    366 \n    367     def __eq__(self, other):\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in disjoint_union(self, other, verbose_relabel)\n  13289             for v in other:\n  13290                 r_other[v] = i; i += 1\n> 13291             G = self.relabel(r_self, inplace=False).union(other.relabel(r_other, inplace=False))\n  13292         elif any(u==v for u in self for v in other):\n  13293             r_self = dict([[v,(0,v)] for v in self])\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in relabel(self, perm, inplace, return_map, check_input, complete_partial_function)\n  16024                               return_map= return_map,\n  16025                               check_input = check_input,\n> 16026                               complete_partial_function = complete_partial_function)\n  16027 \n  16028             if return_map:\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in relabel(self, perm, inplace, return_map, check_input, complete_partial_function)\n  16096                 new_attr = {}\n  16097                 for v,value in getattr(self, attr).iteritems():\n> 16098                     new_attr[perm[v]] = value\n  16099 \n  16100                 setattr(self, attr, new_attr)\n\nKeyError: 0\n```\n\nFound while implementing #14099\n\nIssue created by migration from https://trac.sagemath.org/ticket/14653\n\n",
    "closed_at": "2013-06-11T09:41:29Z",
    "created_at": "2013-05-28T16:04:18Z",
    "labels": [
        "component: graph theory",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "digraphs.Tournament(1) has 0 vertices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14449",
    "user": "https://trac.sagemath.org/admin/accounts/users/rowland"
}
```
Assignee: jason, ncohen, rlm

CC:  @nathanncohen

Keywords: days47.5

```
sage: digraphs.Tournament(1)
Tournament on 1 vertices: Digraph on 0 vertices
sage: digraphs.Tournament(1).vertices()
[]
```

Causes the following.

```
sage: digraphs.Tournament(3) + digraphs.Tournament(1)
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
<ipython-input-50-0b88bd757fb1> in <module>()
----> 1 digraphs.Tournament(Integer(3)) + digraphs.Tournament(Integer(1))

/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __add__(self, other_graph)
    363         """
    364         if isinstance(other_graph, GenericGraph):
--> 365             return self.disjoint_union(other_graph, verbose_relabel=False)
    366 
    367     def __eq__(self, other):

/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in disjoint_union(self, other, verbose_relabel)
  13289             for v in other:
  13290                 r_other[v] = i; i += 1
> 13291             G = self.relabel(r_self, inplace=False).union(other.relabel(r_other, inplace=False))
  13292         elif any(u==v for u in self for v in other):
  13293             r_self = dict([[v,(0,v)] for v in self])

/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in relabel(self, perm, inplace, return_map, check_input, complete_partial_function)
  16024                               return_map= return_map,
  16025                               check_input = check_input,
> 16026                               complete_partial_function = complete_partial_function)
  16027 
  16028             if return_map:

/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in relabel(self, perm, inplace, return_map, check_input, complete_partial_function)
  16096                 new_attr = {}
  16097                 for v,value in getattr(self, attr).iteritems():
> 16098                     new_attr[perm[v]] = value
  16099 
  16100                 setattr(self, attr, new_attr)

KeyError: 0
```

Found while implementing #14099

Issue created by migration from https://trac.sagemath.org/ticket/14653





---

archive/issue_comments_182566.json:
```json
{
    "body": "What about fixing this as a review of #14536 ? It renames the Tournament method `:-)`\n\nNathann",
    "created_at": "2013-05-28T21:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14449#issuecomment-182566",
    "user": "https://github.com/nathanncohen"
}
```

What about fixing this as a review of #14536 ? It renames the Tournament method `:-)`

Nathann



---

archive/issue_comments_182567.json:
```json
{
    "body": "But renaming it won't fix the errors in\n\n```\nsage: digraphs.Tournament(3) + digraphs.Tournament(1)\n```",
    "created_at": "2013-05-29T00:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14449#issuecomment-182567",
    "user": "https://trac.sagemath.org/admin/accounts/users/rowland"
}
```

But renaming it won't fix the errors in

```
sage: digraphs.Tournament(3) + digraphs.Tournament(1)
```



---

archive/issue_comments_182568.json:
```json
{
    "body": "Indeed.\n\nI had forgotten thant #14653 had been reviewed already. Well, then you can fix it by replacing `DiGraph()` by `DiGraph(n)` in the source code of the new `TransitiveTournament`  method, formerly known at `Tournament` `:-)`\n\nNathann",
    "created_at": "2013-05-29T12:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14449#issuecomment-182568",
    "user": "https://github.com/nathanncohen"
}
```

Indeed.

I had forgotten thant #14653 had been reviewed already. Well, then you can fix it by replacing `DiGraph()` by `DiGraph(n)` in the source code of the new `TransitiveTournament`  method, formerly known at `Tournament` `:-)`

Nathann



---

archive/issue_comments_182569.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-05-31T19:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14449#issuecomment-182569",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_182570.json:
```json
{
    "body": "Well, this has been solved in #14536. I think therefore this ticket can be closed.",
    "created_at": "2013-05-31T19:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14449#issuecomment-182570",
    "user": "https://github.com/fchapoton"
}
```

Well, this has been solved in #14536. I think therefore this ticket can be closed.



---

archive/issue_events_041854.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-31T19:01:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14449#event-41854"
}
```



---

archive/issue_comments_182571.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-10T18:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14449#issuecomment-182571",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_182572.json:
```json
{
    "body": "confirm that the issue is solved in 5.10.rc1, positive review",
    "created_at": "2013-06-10T18:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14449#issuecomment-182572",
    "user": "https://github.com/fchapoton"
}
```

confirm that the issue is solved in 5.10.rc1, positive review



---

archive/issue_comments_182573.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2013-06-11T09:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14449#issuecomment-182573",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_events_041855.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-11T09:41:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14449",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14449#event-41855"
}
```
