# Issue 14378: Upgrade GCC to 4.7.2

archive/issues_014174.json:
```json
{
    "body": "**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])\n\n**apply** [attachment:14378_gcc_version.patch] to `SAGE_ROOT`.\n\n### gcc-4.7.2.p1 (Jeroen Demeyer, 4 April 2013)\n* Trac #14378: Use $SAGE_SPKG_INST variable.\n* Disable bootstrap-debug on all systems.\n* Remove libitm which is broken on OS X 10.4 PPC.\n\nAssignee: @jdemeyer\n\nCC:  jpflori\n\nKeywords: spkg\n\nReviewer: Volker Braun, Jean-Pierre Flori\n\nAuthor: Jeroen Demeyer\n\nMerged: sage-5.9.beta4\n\nDependencies: #14226, #14415\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14378\n\n",
    "closed_at": "2013-04-06T14:49:47Z",
    "created_at": "2013-03-29T03:54:56Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.9",
    "title": "Upgrade GCC to 4.7.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14378",
    "user": "https://github.com/jdemeyer"
}
```
**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])

**apply** [attachment:14378_gcc_version.patch] to `SAGE_ROOT`.

### gcc-4.7.2.p1 (Jeroen Demeyer, 4 April 2013)
* Trac #14378: Use $SAGE_SPKG_INST variable.
* Disable bootstrap-debug on all systems.
* Remove libitm which is broken on OS X 10.4 PPC.

Assignee: @jdemeyer

CC:  jpflori

Keywords: spkg

Reviewer: Volker Braun, Jean-Pierre Flori

Author: Jeroen Demeyer

Merged: sage-5.9.beta4

Dependencies: #14226, #14415

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14378





---

archive/issue_comments_222472.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,7 @@\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff] diff)\n \n+### gcc-4.7.2.p1 (Jeroen Demeyer, 28 March 2013)\n+* Trac #14378: Use $SAGE_SPKG_INST variable.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2013-03-29T04:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222472",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,7 @@
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff] diff)
 
+### gcc-4.7.2.p1 (Jeroen Demeyer, 28 March 2013)
+* Trac #14378: Use $SAGE_SPKG_INST variable.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_222473.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#14226\"",
    "created_at": "2013-03-29T04:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222473",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#14226"



---

archive/issue_comments_222474.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,7 @@\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])\n \n+### gcc-4.7.2.p1 (Jeroen Demeyer, 28 March 2013)\n+* Trac #14378: Use $SAGE_SPKG_INST variable.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2013-03-29T04:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222474",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,7 @@
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])
 
+### gcc-4.7.2.p1 (Jeroen Demeyer, 28 March 2013)
+* Trac #14378: Use $SAGE_SPKG_INST variable.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_222475.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])\n \n+**apply** [attachment:14378_gcc_version.patch] to `SAGE_ROOT`.\n+\n+### gcc-4.7.2.p1 (Jeroen Demeyer, 28 March 2013)\n+* Trac #14378: Use $SAGE_SPKG_INST variable.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2013-03-29T04:16:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222475",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])
 
+**apply** [attachment:14378_gcc_version.patch] to `SAGE_ROOT`.
+
+### gcc-4.7.2.p1 (Jeroen Demeyer, 28 March 2013)
+* Trac #14378: Use $SAGE_SPKG_INST variable.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_222476.json:
```json
{
    "body": "<a id='comment:5'></a>Could you include the Solaris fix to prevent debug things as we discussed on sage-???.\nThis is the same fix as for old OS X.",
    "created_at": "2013-03-29T10:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222476",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:5'></a>Could you include the Solaris fix to prevent debug things as we discussed on sage-???.
This is the same fix as for old OS X.



---

archive/issue_comments_222477.json:
```json
{
    "body": "Changing keywords from \"\" to \"spkg\".",
    "created_at": "2013-03-29T13:04:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222477",
    "user": "https://github.com/nexttime"
}
```

Changing keywords from "" to "spkg".



---

archive/issue_comments_222478.json:
```json
{
    "body": "<a id='comment:6'></a>Afterwards create an optional GCC 4.8.0 spkg ... :-)\n\n[Needs a C++ compiler to bootstrap, I know, but nvm.]\n\n---\n\nHaven't looked or tried whether that's still an issue, but at some point in the past the GCC spkg failed to build when encountering parts of CLooG and/or PPL.  (We may add `--without-*` and/or `--disable-lto`.)",
    "created_at": "2013-03-29T13:04:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222478",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>Afterwards create an optional GCC 4.8.0 spkg ... :-)

[Needs a C++ compiler to bootstrap, I know, but nvm.]

---

Haven't looked or tried whether that's still an issue, but at some point in the past the GCC spkg failed to build when encountering parts of CLooG and/or PPL.  (We may add `--without-*` and/or `--disable-lto`.)



---

archive/issue_comments_222479.json:
```json
{
    "body": "<a id='comment:7'></a>I think we should also keep the 4.6.x series as optional spkg.\nJeroen proposed to do it IIRC, so consider this message to be just a reminder.",
    "created_at": "2013-03-29T16:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222479",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:7'></a>I think we should also keep the 4.6.x series as optional spkg.
Jeroen proposed to do it IIRC, so consider this message to be just a reminder.



---

archive/issue_comments_222480.json:
```json
{
    "body": "<a id='comment:8'></a>And I agree with the patch you posted for GCC versions checks.\nJust a little typo:\n\n```\necho >&2 \"gcc <= 4.5 fails to compile PARI/GP om ia64.\" \n```",
    "created_at": "2013-03-29T16:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222480",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>And I agree with the patch you posted for GCC versions checks.
Just a little typo:

```
echo >&2 "gcc <= 4.5 fails to compile PARI/GP om ia64." 
```



---

archive/issue_comments_222481.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:5 jpflori]:\n> Could you include the Solaris fix to prevent debug things as we discussed on sage-???.\n> This is the same fix as for old OS X.\n\nSorry, I don't know what you mean.",
    "created_at": "2013-03-29T16:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222481",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>Replying to [comment:5 jpflori]:
> Could you include the Solaris fix to prevent debug things as we discussed on sage-???.
> This is the same fix as for old OS X.

Sorry, I don't know what you mean.



---

archive/issue_comments_222482.json:
```json
{
    "body": "<a id='comment:10'></a>This fix:\nhttps://groups.google.com/d/msg/sage-release/eNtnQ5jWuag/Yyce8bZgyUIJ",
    "created_at": "2013-03-29T16:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222482",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>This fix:
https://groups.google.com/d/msg/sage-release/eNtnQ5jWuag/Yyce8bZgyUIJ



---

archive/issue_comments_222483.json:
```json
{
    "body": "Attachment [14378_gcc_version.patch](tarball://root/attachments/some-uuid/ticket14378/14378_gcc_version.patch) by @jdemeyer created at 2013-03-29 18:15:27",
    "created_at": "2013-03-29T18:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222483",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [14378_gcc_version.patch](tarball://root/attachments/some-uuid/ticket14378/14378_gcc_version.patch) by @jdemeyer created at 2013-03-29 18:15:27



---

archive/issue_comments_222484.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])\n \n+**apply** [attachment:14378_gcc_version.patch] to `SAGE_ROOT`.\n+\n+### gcc-4.7.2.p1 (Jeroen Demeyer, 29 March 2013)\n+* Trac #14378: Use $SAGE_SPKG_INST variable.\n+* Disable bootstrap-debug on all systems.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2013-03-29T18:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222484",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,10 @@
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])
 
+**apply** [attachment:14378_gcc_version.patch] to `SAGE_ROOT`.
+
+### gcc-4.7.2.p1 (Jeroen Demeyer, 29 March 2013)
+* Trac #14378: Use $SAGE_SPKG_INST variable.
+* Disable bootstrap-debug on all systems.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_222485.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-29T20:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222485",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_222486.json:
```json
{
    "body": "<a id='comment:13'></a>FYI, I rebuilt GCC more \"correctly\" using Sun as and ld and the BUILD_CONFIG trick was not needed anymore, not that I'm suggesting to do as before and only use it on OS X 10.4.",
    "created_at": "2013-03-30T10:00:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222486",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:13'></a>FYI, I rebuilt GCC more "correctly" using Sun as and ld and the BUILD_CONFIG trick was not needed anymore, not that I'm suggesting to do as before and only use it on OS X 10.4.



---

archive/issue_comments_222487.json:
```json
{
    "body": "<a id='comment:14'></a>I have tested this on the buildbot and there are no problems at all.",
    "created_at": "2013-04-01T10:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222487",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>I have tested this on the buildbot and there are no problems at all.



---

archive/issue_comments_222488.json:
```json
{
    "body": "<a id='comment:15'></a>Looks good to me.\n\nHow are we keeping gcc 4.6 as optional spkg? Rename it to `gcc46-4.6.3.spkg`?",
    "created_at": "2013-04-01T10:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222488",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>Looks good to me.

How are we keeping gcc 4.6 as optional spkg? Rename it to `gcc46-4.6.3.spkg`?



---

archive/issue_comments_222489.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-01T10:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222489",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_222490.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2013-04-01T10:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222490",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_222491.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.9.beta3\"",
    "created_at": "2013-04-01T10:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222491",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.9.beta3"



---

archive/issue_events_040805.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-01T10:48:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14378#event-40805"
}
```



---

archive/issue_comments_222492.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-01T10:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222492",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_222493.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:15 vbraun]:\n> How are we keeping gcc 4.6 as optional spkg? Rename it to `gcc46-4.6.3.spkg`?\n\nJust put it with the optional packages, no need to rename it.",
    "created_at": "2013-04-01T10:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222493",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>Replying to [comment:15 vbraun]:
> How are we keeping gcc 4.6 as optional spkg? Rename it to `gcc46-4.6.3.spkg`?

Just put it with the optional packages, no need to rename it.



---

archive/issue_comments_222494.json:
```json
{
    "body": "<a id='comment:18'></a>Is there a way to disambiguate between standard and optional spkg when running `sage -f <package>`?",
    "created_at": "2013-04-01T12:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222494",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>Is there a way to disambiguate between standard and optional spkg when running `sage -f <package>`?



---

archive/issue_comments_222495.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 vbraun]:\n> Is there a way to disambiguate between standard and optional spkg when running `sage -f <package>`?\n\nYou can always do\n\n```\n./sage -i spkg/standard/gcc-4.7.2.p1.spkg\n```\nor\n\n```\n./sage -i http://www.sagemath.org/packages/optional/gcc-4.6.3.spkg\n```\nNo need to differentiate then.\n\nOr also\n\n```\n./sage -i gcc-4.6.3.spkg\n```",
    "created_at": "2013-04-01T13:19:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222495",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>Replying to [comment:18 vbraun]:
> Is there a way to disambiguate between standard and optional spkg when running `sage -f <package>`?

You can always do

```
./sage -i spkg/standard/gcc-4.7.2.p1.spkg
```
or

```
./sage -i http://www.sagemath.org/packages/optional/gcc-4.6.3.spkg
```
No need to differentiate then.

Or also

```
./sage -i gcc-4.6.3.spkg
```



---

archive/issue_comments_222496.json:
```json
{
    "body": "Changing merged from \"sage-5.9.beta3\" to \"sage-5.9.beta4\"",
    "created_at": "2013-04-03T08:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222496",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "sage-5.9.beta3" to "sage-5.9.beta4"



---

archive/issue_comments_222497.json:
```json
{
    "body": "<a id='comment:21'></a>This doesn't actually build on OS X 10.4 PPC (as reported on sage-devel). But it seems that the problem lies with libitm, which is a non-critical part of GCC.",
    "created_at": "2013-04-04T18:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222497",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>This doesn't actually build on OS X 10.4 PPC (as reported on sage-devel). But it seems that the problem lies with libitm, which is a non-critical part of GCC.



---

archive/issue_comments_222498.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2013-04-04T18:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222498",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from closed to new.



---

archive/issue_events_040806.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-04T18:04:53Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14378#event-40806"
}
```



---

archive/issue_comments_222499.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2013-04-04T18:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222499",
    "user": "https://github.com/jdemeyer"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_222500.json:
```json
{
    "body": "Changing merged from \"sage-5.9.beta4\" to \"\"",
    "created_at": "2013-04-04T18:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222500",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "sage-5.9.beta4" to ""



---

archive/issue_comments_222501.json:
```json
{
    "body": "<a id='comment:23'></a>Attachment [gcc-4.7.2.p1.diff](tarball://root/attachments/some-uuid/ticket14378/gcc-4.7.2.p1.diff) by @jdemeyer created at 2013-04-04 18:46:16\n\nRemoved libitm, testing now on OS X 10.4 PPC.",
    "created_at": "2013-04-04T18:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222501",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>Attachment [gcc-4.7.2.p1.diff](tarball://root/attachments/some-uuid/ticket14378/gcc-4.7.2.p1.diff) by @jdemeyer created at 2013-04-04 18:46:16

Removed libitm, testing now on OS X 10.4 PPC.



---

archive/issue_comments_222502.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,11 @@\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])\n \n+**apply** [attachment:14378_gcc_version.patch] to `SAGE_ROOT`.\n+\n+### gcc-4.7.2.p1 (Jeroen Demeyer, 4 April 2013)\n+* Trac #14378: Use $SAGE_SPKG_INST variable.\n+* Disable bootstrap-debug on all systems.\n+* Remove libitm which is broken on OS X 10.4 PPC.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2013-04-05T08:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222502",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,11 @@
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/gcc-4.7.2.p1.spkg) ([attachment:gcc-4.7.2.p1.diff diff])
 
+**apply** [attachment:14378_gcc_version.patch] to `SAGE_ROOT`.
+
+### gcc-4.7.2.p1 (Jeroen Demeyer, 4 April 2013)
+* Trac #14378: Use $SAGE_SPKG_INST variable.
+* Disable bootstrap-debug on all systems.
+* Remove libitm which is broken on OS X 10.4 PPC.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_222503.json:
```json
{
    "body": "Changing dependencies from \"#14226\" to \"#14226, #14415\"",
    "created_at": "2013-04-05T08:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222503",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#14226" to "#14226, #14415"



---

archive/issue_comments_222504.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-04-05T08:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222504",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_222505.json:
```json
{
    "body": "<a id='comment:25'></a>For future reference, the bug linked in the sage-devel post at https://groups.google.com/d/msg/sage-devel/DhJcPuFIlPo/wu3sv6nQLIgJ seems to be the upstream report:\nhttp://gcc.gnu.org/bugzilla/show_bug.cgi?id=52482\n(as reported in the post itself, nothing new here).",
    "created_at": "2013-04-05T08:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222505",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:25'></a>For future reference, the bug linked in the sage-devel post at https://groups.google.com/d/msg/sage-devel/DhJcPuFIlPo/wu3sv6nQLIgJ seems to be the upstream report:
http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52482
(as reported in the post itself, nothing new here).



---

archive/issue_comments_222506.json:
```json
{
    "body": "Changing reviewer from \"Volker Braun\" to \"Volker Braun, Jean-Pierre Flori\"",
    "created_at": "2013-04-05T09:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222506",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing reviewer from "Volker Braun" to "Volker Braun, Jean-Pierre Flori"



---

archive/issue_comments_222507.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-05T09:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222507",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_222508.json:
```json
{
    "body": "<a id='comment:27'></a>Looks fine, compile on a usual Linux and works there.\nAlso seems to be going fine on a Linux ppc, so positive review.",
    "created_at": "2013-04-05T09:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222508",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:27'></a>Looks fine, compile on a usual Linux and works there.
Also seems to be going fine on a Linux ppc, so positive review.



---

archive/issue_comments_222509.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.9.beta4\"",
    "created_at": "2013-04-06T14:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222509",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.9.beta4"



---

archive/issue_comments_222510.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-06T14:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222510",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_040807.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-06T14:49:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14378#event-40807"
}
```



---

archive/issue_comments_222511.json:
```json
{
    "body": "<a id='comment:29'></a>Follow-up: #14441",
    "created_at": "2013-04-11T11:25:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222511",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'></a>Follow-up: #14441



---

archive/issue_comments_222512.json:
```json
{
    "body": "<a id='comment:30'></a>I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log). Note that it actually creates the various binaries in local/bin, so that further attempts (using, say, the 4.7.3 package at #14441 fail because \"configure: error: C compiler cannot create executables\". I'm trying to clear out local/bin and try 4.7.3 again. Other suggestions?",
    "created_at": "2013-04-12T19:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222512",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:30'></a>I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log). Note that it actually creates the various binaries in local/bin, so that further attempts (using, say, the 4.7.3 package at #14441 fail because "configure: error: C compiler cannot create executables". I'm trying to clear out local/bin and try 4.7.3 again. Other suggestions?



---

archive/issue_comments_222513.json:
```json
{
    "body": "<a id='comment:31'></a>Replying to [comment:30 jhpalmieri]:\n> I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).\n\nCould you please try a serial build (no MAKE -jN) and post the log file of that if it fails.\n\n> I'm trying to clear out local/bin and try 4.7.3 again.\n\nRemoving just the `gcc`, `g++` and `gfortran` executables should be sufficient to force the use of the system gcc to build GCC.",
    "created_at": "2013-04-12T19:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222513",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>Replying to [comment:30 jhpalmieri]:
> I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).

Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.

> I'm trying to clear out local/bin and try 4.7.3 again.

Removing just the `gcc`, `g++` and `gfortran` executables should be sufficient to force the use of the system gcc to build GCC.



---

archive/issue_comments_222514.json:
```json
{
    "body": "<a id='comment:32'></a>Replying to [comment:31 jdemeyer]:\n> Replying to [comment:30 jhpalmieri]:\n> > I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).\n\n> Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.\n\nA serial build of 4.7.2 succeeded. Should the spkg force that on ia64 machines?",
    "created_at": "2013-04-13T02:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222514",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:32'></a>Replying to [comment:31 jdemeyer]:
> Replying to [comment:30 jhpalmieri]:
> > I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).

> Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.

A serial build of 4.7.2 succeeded. Should the spkg force that on ia64 machines?



---

archive/issue_comments_222515.json:
```json
{
    "body": "<a id='comment:33'></a>Replying to [comment:32 jhpalmieri]:\n> Replying to [comment:31 jdemeyer]:\n> > Replying to [comment:30 jhpalmieri]:\n> > > I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).\n\n> > Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.\n> \n> A serial build of 4.7.2 succeeded. Should the spkg force that on ia64 machines?\n\n\nWithout having looked at the log:  Are you sure this is related to the architecture (and not just caused by the usual clock skew on Skynet)?",
    "created_at": "2013-04-16T17:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222515",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:33'></a>Replying to [comment:32 jhpalmieri]:
> Replying to [comment:31 jdemeyer]:
> > Replying to [comment:30 jhpalmieri]:
> > > I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).

> > Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.
> 
> A serial build of 4.7.2 succeeded. Should the spkg force that on ia64 machines?


Without having looked at the log:  Are you sure this is related to the architecture (and not just caused by the usual clock skew on Skynet)?



---

archive/issue_comments_222516.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:33 leif]:\n> Replying to [comment:32 jhpalmieri]:\n> > Replying to [comment:31 jdemeyer]:\n> > > Replying to [comment:30 jhpalmieri]:\n> > > > I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).\n\n> > > Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.\n> > \n> > A serial build of 4.7.2 succeeded. Should the spkg force that on ia64 machines?\n\n> \n> Without having looked at the log:  Are you sure this is related to the architecture (and not just caused by the usual clock skew on Skynet)?\n\n\nI have no idea. How would I check?",
    "created_at": "2013-04-16T17:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222516",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:34'></a>Replying to [comment:33 leif]:
> Replying to [comment:32 jhpalmieri]:
> > Replying to [comment:31 jdemeyer]:
> > > Replying to [comment:30 jhpalmieri]:
> > > > I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).

> > > Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.
> > 
> > A serial build of 4.7.2 succeeded. Should the spkg force that on ia64 machines?

> 
> Without having looked at the log:  Are you sure this is related to the architecture (and not just caused by the usual clock skew on Skynet)?


I have no idea. How would I check?



---

archive/issue_comments_222517.json:
```json
{
    "body": "<a id='comment:35'></a>Replying to [comment:34 jhpalmieri]:\n> Replying to [comment:33 leif]:\n> > Replying to [comment:32 jhpalmieri]:\n> > > Replying to [comment:31 jdemeyer]:\n> > > > Replying to [comment:30 jhpalmieri]:\n> > > > > I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).\n\n> > > > Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.\n> > > \n> > > A serial build of 4.7.2 succeeded. Should the spkg force that on ia64 machines?\n\n> > \n> > Without having looked at the log:  Are you sure this is related to the architecture (and not just caused by the usual clock skew on Skynet)?\n\n> \n> I have no idea. How would I check?\n\n\n(Move the whole Sage installation and) build the GCC spkg (in parallel) below `/tmp` (which on Skynet is always on local media I think)?",
    "created_at": "2013-04-16T18:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222517",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:35'></a>Replying to [comment:34 jhpalmieri]:
> Replying to [comment:33 leif]:
> > Replying to [comment:32 jhpalmieri]:
> > > Replying to [comment:31 jdemeyer]:
> > > > Replying to [comment:30 jhpalmieri]:
> > > > > I can't get this to build in iras: see [log file](http://sage.math.washington.edu/home/palmieri/misc/iras-gcc-4.7.2.p1.log).

> > > > Could you please try a serial build (no MAKE -jN) and post the log file of that if it fails.
> > > 
> > > A serial build of 4.7.2 succeeded. Should the spkg force that on ia64 machines?

> > 
> > Without having looked at the log:  Are you sure this is related to the architecture (and not just caused by the usual clock skew on Skynet)?

> 
> I have no idea. How would I check?


(Move the whole Sage installation and) build the GCC spkg (in parallel) below `/tmp` (which on Skynet is always on local media I think)?



---

archive/issue_comments_222518.json:
```json
{
    "body": "<a id='comment:36'></a>Replying to [comment:35 leif]:\n> (Move the whole Sage installation and) build the GCC spkg (in parallel) below `/tmp` (which on Skynet is always on local media I think)?\n\n\nI tried that, but it failed with \"no space left on device\". There are close to 40000 files and/or directories in /tmp on iras, most or all of which should be cleaned out...",
    "created_at": "2013-04-17T01:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222518",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:36'></a>Replying to [comment:35 leif]:
> (Move the whole Sage installation and) build the GCC spkg (in parallel) below `/tmp` (which on Skynet is always on local media I think)?


I tried that, but it failed with "no space left on device". There are close to 40000 files and/or directories in /tmp on iras, most or all of which should be cleaned out...



---

archive/issue_comments_222519.json:
```json
{
    "body": "<a id='comment:37'></a>Replying to [comment:36 jhpalmieri]:\n> Replying to [comment:35 leif]:\n> > (Move the whole Sage installation and) build the GCC spkg (in parallel) below `/tmp` (which on Skynet is always on local media I think)?\n\n> \n> I tried that, but it failed with \"no space left on device\". There are close to 40000 files and/or directories in /tmp on iras, most or all of which should be cleaned out...\n\n\nOMG, I see...\n\nI deleted my own left-overs, but probably the buildbot, Volker and Jeroen should do so as well...\n\n(FWIW, I reported Sage still leaving a lot of temporary crap a couple of times on sage-devel.)",
    "created_at": "2013-04-17T12:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222519",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:37'></a>Replying to [comment:36 jhpalmieri]:
> Replying to [comment:35 leif]:
> > (Move the whole Sage installation and) build the GCC spkg (in parallel) below `/tmp` (which on Skynet is always on local media I think)?

> 
> I tried that, but it failed with "no space left on device". There are close to 40000 files and/or directories in /tmp on iras, most or all of which should be cleaned out...


OMG, I see...

I deleted my own left-overs, but probably the buildbot, Volker and Jeroen should do so as well...

(FWIW, I reported Sage still leaving a lot of temporary crap a couple of times on sage-devel.)



---

archive/issue_comments_222520.json:
```json
{
    "body": "<a id='comment:38'></a>Oh boy, no tmpwatch %-)",
    "created_at": "2013-04-17T12:42:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14378#issuecomment-222520",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:38'></a>Oh boy, no tmpwatch %-)
