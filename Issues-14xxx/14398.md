# Issue 14398: Add warning when downloading experimental/archive packages

archive/issues_014194.json:
```json
{
    "assignees": [],
    "body": "When the user does\n\n```\n./sage -i graphviz\n```\nthere is no obvious clue that an experimental package is being installed.\n\nWith the patch, when downloading an experimental package, there is a warning:\n\n```\njdemeyer@boxen:/release/merger/sage-5.9.beta3$ ./sage -i graphviz\nAttempting to download package graphviz\n>>> Checking online list of optional packages.\n[.]\n>>> Checking online list of experimental packages.\n[.]\n>>> Found graphviz-2.16.1.p0\n\nWARNING: you are about to download and install an experimental package.\nThis probably won't work at all for you! There is no guarantee that it\nhas ever been built correctly! Use at your own risk!\nAre you sure you want to continue [Y/n]?\n```\n\nSomething analogous happens for archive packages.\n\n**Apply** [attachment: 14398_warn_experimental.patch.gz](https://github.com/sagemath/sage/files/ticket14398/14398_warn_experimental.patch.gz) to `SAGE_ROOT`.\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Jeroen Demeyer**\n\nMerged: **sage-5.9.beta4**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14398_\n\n",
    "closed_at": "2013-04-04T17:40:53Z",
    "created_at": "2013-04-02T13:12:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add warning when downloading experimental/archive packages",
    "type": "issue",
    "updated_at": "2013-04-04T17:40:53Z",
    "url": "https://github.com/sagemath/sage/issues/14398",
    "user": "https://github.com/nthiery"
}
```
When the user does

```
./sage -i graphviz
```
there is no obvious clue that an experimental package is being installed.

With the patch, when downloading an experimental package, there is a warning:

```
jdemeyer@boxen:/release/merger/sage-5.9.beta3$ ./sage -i graphviz
Attempting to download package graphviz
>>> Checking online list of optional packages.
[.]
>>> Checking online list of experimental packages.
[.]
>>> Found graphviz-2.16.1.p0

WARNING: you are about to download and install an experimental package.
This probably won't work at all for you! There is no guarantee that it
has ever been built correctly! Use at your own risk!
Are you sure you want to continue [Y/n]?
```

Something analogous happens for archive packages.

**Apply** [attachment: 14398_warn_experimental.patch.gz](https://github.com/sagemath/sage/files/ticket14398/14398_warn_experimental.patch.gz) to `SAGE_ROOT`.

Reviewer: **Nathann Cohen**

Author: **Jeroen Demeyer**

Merged: **sage-5.9.beta4**

_Issue created by migration from https://trac.sagemath.org/ticket/14398_





---

archive/issue_events_186694.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2013-04-02T13:12:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "milestone_number": null,
    "milestone_title": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186694"
}
```



---

archive/issue_events_186695.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2013-04-02T13:12:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186695"
}
```



---

archive/issue_events_186696.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2013-04-02T13:12:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186696"
}
```



---

archive/issue_events_186697.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2013-04-02T13:12:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186697"
}
```



---

archive/issue_comments_175626.json:
```json
{
    "body": "Removed assignee **@jasongrout, @nathanncohen, @rlmill**",
    "created_at": "2013-04-02T13:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175626",
    "user": "https://github.com/jdemeyer"
}
```

Removed assignee **@jasongrout, @nathanncohen, @rlmill**



---

archive/issue_comments_175627.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nIs it really that confusing to have a broken **experimental** package? On [http://www.sagemath.org/packages/experimental](http://www.sagemath.org/packages/experimental), it clearly says\n> These are EXPERIMENTAL! They probably won't work at all for you! Use at your own risk! Many of these have **never** been successfully built on any platform! (But still, if you can figure out how to build them, I'd like to know about it.)",
    "created_at": "2013-04-02T13:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175627",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'>Comment 1:</a>
Is it really that confusing to have a broken **experimental** package? On [http://www.sagemath.org/packages/experimental](http://www.sagemath.org/packages/experimental), it clearly says
> These are EXPERIMENTAL! They probably won't work at all for you! Use at your own risk! Many of these have **never** been successfully built on any platform! (But still, if you can figure out how to build them, I'd like to know about it.)



---

archive/issue_events_186698.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T13:29:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186698"
}
```



---

archive/issue_events_186699.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T13:29:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "component: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186699"
}
```



---

archive/issue_comments_175628.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\n> Is it really that confusing to have a broken **experimental** package? On [http://www.sagemath.org/packages/experimental](http://www.sagemath.org/packages/experimental), it clearly says\n> > These are EXPERIMENTAL! They probably won't work at all for you! Use at your own risk! Many of these have **never** been successfully built on any platform! (But still, if you can figure out how to build them, I'd like to know about it.)\n\nExactly.\n\nThe problem is apparently simple lack of dependencies (pango and libperl-dev, perhaps).  See #11433 and #4864.  I suppose this is a duplicate of #7438, in some sense.",
    "created_at": "2013-04-02T13:35:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175628",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'>Comment 2:</a>
> Is it really that confusing to have a broken **experimental** package? On [http://www.sagemath.org/packages/experimental](http://www.sagemath.org/packages/experimental), it clearly says
> > These are EXPERIMENTAL! They probably won't work at all for you! Use at your own risk! Many of these have **never** been successfully built on any platform! (But still, if you can figure out how to build them, I'd like to know about it.)

Exactly.

The problem is apparently simple lack of dependencies (pango and libperl-dev, perhaps).  See #11433 and #4864.  I suppose this is a duplicate of #7438, in some sense.



---

archive/issue_comments_175629.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nwell, this one just does not work. It looks like the problem is 4 years old, so there's nothing to hope for either #4864. And the fact that it's almost impossible to find in Sage's doc how this software should be installed makes \"sage -i graphviz\" the first guess, which ends with an error.\n\nNathann",
    "created_at": "2013-04-02T13:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175629",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'>Comment 3:</a>
well, this one just does not work. It looks like the problem is 4 years old, so there's nothing to hope for either #4864. And the fact that it's almost impossible to find in Sage's doc how this software should be installed makes "sage -i graphviz" the first guess, which ends with an error.

Nathann



---

archive/issue_comments_175630.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\n(and I think that all these trac tickets above clearly give proof that many of us have already lost a lot of time because of this broken spkg)\n\nNathann",
    "created_at": "2013-04-02T13:39:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175630",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'>Comment 4:</a>
(and I think that all these trac tickets above clearly give proof that many of us have already lost a lot of time because of this broken spkg)

Nathann



---

archive/issue_comments_175631.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nYeah, and the problems seem different from before.\n\n```\ncreating libgvplugin_gd_C.la\n(cd .libs && rm -f libgvplugin_gd_C.la && ln -s ../libgvplugin_gd_C.la libgvplugin_gd_C.la)\n/bin/bash ../../libtool --tag=CC   --mode=link gcc  -g -O2 -Wno-unknown-pragmas -Wstrict-prototypes -Wpointer-arith -Wall -ffast-math -version-info 5:0:0 -L/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/lib -L/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/lib -o libgvplugin_gd.la -rpath /home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/lib/graphviz gvplugin_gd.lo gvrender_gd.lo gvrender_gd_vrml.lo gvtextlayout_gd.lo gvloadimage_gd.lo gvdevice_gd.lo ../../lib/gvc/libgvc.la -L/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/include -lgd -lfontconfig -lfreetype -lpng12 -lz -lm -lm \nlibtool: link: warning: `/usr/lib64/libexpat.la' seems to be moved\nlibtool: link: warning: library `/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/lib/libgd.la' was moved.\ngrep: /release/merger/sage-5.8/local/lib/libfreetype.la: No such file or directory\n/bin/sed: can't read /release/merger/sage-5.8/local/lib/libfreetype.la: No such file or directory\nlibtool: link: `/release/merger/sage-5.8/local/lib/libfreetype.la' is not a valid libtool archive\nmake[3]: *** [libgvplugin_gd.la] Error 1\nmake[3]: Leaving directory `/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/spkg/build/graphviz-2.16.1.p0/src/plugin/gd'\nmake[2]: *** [all-recursive] Error 1\nmake[2]: Leaving directory `/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/spkg/build/graphviz-2.16.1.p0/src/plugin'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory `/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/spkg/build/graphviz-2.16.1.p0/src'\nmake: *** [all] Error 2\nError building Graphviz\n\nreal\t3m39.740s\nuser\t1m29.320s\nsys\t1m41.210s\n************************************************************************\nError installing package graphviz-2.16.1.p0\n************************************************************************\n```\nAnyway, I propose this continues at #7438.  There is zero guarantee that anything from experimental works.",
    "created_at": "2013-04-02T13:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175631",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'>Comment 5:</a>
Yeah, and the problems seem different from before.

```
creating libgvplugin_gd_C.la
(cd .libs && rm -f libgvplugin_gd_C.la && ln -s ../libgvplugin_gd_C.la libgvplugin_gd_C.la)
/bin/bash ../../libtool --tag=CC   --mode=link gcc  -g -O2 -Wno-unknown-pragmas -Wstrict-prototypes -Wpointer-arith -Wall -ffast-math -version-info 5:0:0 -L/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/lib -L/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/lib -o libgvplugin_gd.la -rpath /home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/lib/graphviz gvplugin_gd.lo gvrender_gd.lo gvrender_gd_vrml.lo gvtextlayout_gd.lo gvloadimage_gd.lo gvdevice_gd.lo ../../lib/gvc/libgvc.la -L/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/include -lgd -lfontconfig -lfreetype -lpng12 -lz -lm -lm 
libtool: link: warning: `/usr/lib64/libexpat.la' seems to be moved
libtool: link: warning: library `/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/local/lib/libgd.la' was moved.
grep: /release/merger/sage-5.8/local/lib/libfreetype.la: No such file or directory
/bin/sed: can't read /release/merger/sage-5.8/local/lib/libfreetype.la: No such file or directory
libtool: link: `/release/merger/sage-5.8/local/lib/libfreetype.la' is not a valid libtool archive
make[3]: *** [libgvplugin_gd.la] Error 1
make[3]: Leaving directory `/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/spkg/build/graphviz-2.16.1.p0/src/plugin/gd'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/spkg/build/graphviz-2.16.1.p0/src/plugin'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/kcrisman/sage-5.8-sage.math.washington.edu-x86_64-Linux/spkg/build/graphviz-2.16.1.p0/src'
make: *** [all] Error 2
Error building Graphviz

real	3m39.740s
user	1m29.320s
sys	1m41.210s
************************************************************************
Error installing package graphviz-2.16.1.p0
************************************************************************
```
Anyway, I propose this continues at #7438.  There is zero guarantee that anything from experimental works.



---

archive/issue_events_186700.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-04-02T13:44:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "milestone_number": null,
    "milestone_title": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186700"
}
```



---

archive/issue_events_186701.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-04-02T13:44:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186701"
}
```



---

archive/issue_events_186702.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-04-02T13:44:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186702"
}
```



---

archive/issue_comments_175632.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman, Jeroen Demeyer**",
    "created_at": "2013-04-02T13:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175632",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman, Jeroen Demeyer**



---

archive/issue_events_186703.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-04-02T13:44:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186703"
}
```



---

archive/issue_comments_175633.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nWhy should we keep this if nobody can install it ? The problem could even be solved if there was on some page of the manual some instructions saying that we do not know how to fix this bug (it's not our fault after all) but that one library should be installed manually ?\n\nBut then again the bug you get is even different from mine `-_-`\n\nHonestly, why do we care ? It's not \"experimental\", it's just plain broken.\n\nNathann",
    "created_at": "2013-04-02T13:47:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175633",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'>Comment 7:</a>
Why should we keep this if nobody can install it ? The problem could even be solved if there was on some page of the manual some instructions saying that we do not know how to fix this bug (it's not our fault after all) but that one library should be installed manually ?

But then again the bug you get is even different from mine `-_-`

Honestly, why do we care ? It's not "experimental", it's just plain broken.

Nathann



---

archive/issue_comments_175634.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\n> Why should we keep this if nobody can install it ? The problem could even be solved if there was on some page of the manual some instructions saying that we do not know how to fix this bug (it's not our fault after all) but that one library should be installed manually ?\n\nWe don't have anything about experimental packages elsewhere, do we? \n> Honestly, why do we care ? It's not \"experimental\", it's just plain broken.\n\nSee #7438; it builds fine on boxen.math.  Let's continue the discussion about graphviz there.  \n\nIf you want to open a sage-devel discussion about how non-broken experimental packages should be, that's fine.  In my view - and as you know, I am pretty conservative on such things - experimental can be as broken as they want to be.  *Someone* probably does have the expertise to fix each of them, and removing them completely means no one will even have the chance.",
    "created_at": "2013-04-02T14:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175634",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'>Comment 8:</a>
> Why should we keep this if nobody can install it ? The problem could even be solved if there was on some page of the manual some instructions saying that we do not know how to fix this bug (it's not our fault after all) but that one library should be installed manually ?

We don't have anything about experimental packages elsewhere, do we? 
> Honestly, why do we care ? It's not "experimental", it's just plain broken.

See #7438; it builds fine on boxen.math.  Let's continue the discussion about graphviz there.  

If you want to open a sage-devel discussion about how non-broken experimental packages should be, that's fine.  In my view - and as you know, I am pretty conservative on such things - experimental can be as broken as they want to be.  *Someone* probably does have the expertise to fix each of them, and removing them completely means no one will even have the chance.



---

archive/issue_events_186704.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-04-02T14:13:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186704"
}
```



---

archive/issue_events_186705.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-04-02T14:13:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186705"
}
```



---

archive/issue_comments_175635.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@kcrisman](#comment%3A8):\n> experimental can be as broken as they want to be.  *Someone* probably does have the expertise to fix each of them, and removing them completely means no one will even have the chance.\n\nI agree with this. There is a reason we differentiate between *optional* and *experimental*.\n\nHowever, there is one thing that could be improved: when the user does\n\n```\n./sage -i graphviz\n```\nthere is no obvious clue that an experimental package is being installed.\n\nSo, we could make it so that downloading an experimental package this way would first print a warning along the lines of\n\n```\nWARNING: you are about to download and install an experimental package. This\nprobably won't work at all for you! Use at your own risk!\nAre you sure you want to continue [Y/n]?\n```",
    "created_at": "2013-04-02T15:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175635",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@kcrisman](#comment%3A8):
> experimental can be as broken as they want to be.  *Someone* probably does have the expertise to fix each of them, and removing them completely means no one will even have the chance.

I agree with this. There is a reason we differentiate between *optional* and *experimental*.

However, there is one thing that could be improved: when the user does

```
./sage -i graphviz
```
there is no obvious clue that an experimental package is being installed.

So, we could make it so that downloading an experimental package this way would first print a warning along the lines of

```
WARNING: you are about to download and install an experimental package. This
probably won't work at all for you! Use at your own risk!
Are you sure you want to continue [Y/n]?
```



---

archive/issue_comments_175636.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\n+1 ! \n\nBut I still think that \"experimental\" should mean \"we don't know if the code runs everywhere, we just want to give it a 'real-life' try before making it optional or standard\". Not \"it does not work, everybody forgot about it, and 'experimental' is our spkg garbage folder\".\n\nNathann",
    "created_at": "2013-04-02T15:20:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175636",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'>Comment 10:</a>
+1 ! 

But I still think that "experimental" should mean "we don't know if the code runs everywhere, we just want to give it a 'real-life' try before making it optional or standard". Not "it does not work, everybody forgot about it, and 'experimental' is our spkg garbage folder".

Nathann



---

archive/issue_comments_175637.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@nathanncohen](#comment%3A10):\n> we don't know if the code runs everywhere, we just want to give it a 'real-life' try\n\nI think that's more or less what I understand as the definition of \"optional\" packages.\n\nI don't think we need another category of packages (standard, optional, experimental, garbage, archive).",
    "created_at": "2013-04-02T15:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175637",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@nathanncohen](#comment%3A10):
> we don't know if the code runs everywhere, we just want to give it a 'real-life' try

I think that's more or less what I understand as the definition of "optional" packages.

I don't think we need another category of packages (standard, optional, experimental, garbage, archive).



---

archive/issue_events_186706.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:27:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186706"
}
```



---

archive/issue_events_186707.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:27:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186707"
}
```



---

archive/issue_events_186708.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:27:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "component: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186708"
}
```



---

archive/issue_events_186709.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:27:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186709"
}
```



---

archive/issue_comments_175638.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,15 @@\n-The graphviz spkg has been broken forever, and people get confused trying to install it rather than installing graphviz in their system. Let's remove it from experimental.\n+When the user does\n+\n+```\n+./sage -i graphviz\n+```\n+there is no obvious clue that an experimental package is being installed.\n+\n+So, we should make it so that downloading an experimental package this way would first print a warning along the lines of\n+\n+```\n+WARNING: you are about to download and install an experimental package. This\n+probably won't work at all for you! Use at your own risk!\n+Are you sure you want to continue [Y/n]?\n+```\n+Something analogous for archive packages.\n``````\n",
    "created_at": "2013-04-02T15:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175638",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,15 @@
-The graphviz spkg has been broken forever, and people get confused trying to install it rather than installing graphviz in their system. Let's remove it from experimental.
+When the user does
+
+```
+./sage -i graphviz
+```
+there is no obvious clue that an experimental package is being installed.
+
+So, we should make it so that downloading an experimental package this way would first print a warning along the lines of
+
+```
+WARNING: you are about to download and install an experimental package. This
+probably won't work at all for you! Use at your own risk!
+Are you sure you want to continue [Y/n]?
+```
+Something analogous for archive packages.
``````




---

archive/issue_comments_175639.json:
```json
{
    "body": "Changed reviewer from **Karl-Dieter Crisman, Jeroen Demeyer** to none",
    "created_at": "2013-04-02T15:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175639",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Karl-Dieter Crisman, Jeroen Demeyer** to none



---

archive/issue_events_186710.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:27:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "milestone_number": null,
    "milestone_title": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186710"
}
```



---

archive/issue_events_186711.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:27:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "title_is": "Add warning when downloading experimental/archive packages",
    "title_was": "Remove graphviz from experimental.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186711"
}
```



---

archive/issue_events_186712.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:27:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186712"
}
```



---

archive/issue_events_186713.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:27:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186713"
}
```



---

archive/issue_comments_175640.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\n> > we don't know if the code runs everywhere, we just want to give it a 'real-life' try\n\n> I think that's more or less what I understand as the definition of \"optional\" packages.\n\nMany optional packages are optional because they are not gpl-compatible, or because they are too heavy to be standard. I don't get why a spkg would be optional otherwise... Either way, there is \"experiment\" in \"experimental\". That's actually the largest part of it. I stand by the rather bold claim that experimental packages should consist in... an experiment. And I don't see what could make this graphviz spkg an experiment.\n\nNathann",
    "created_at": "2013-04-02T15:33:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175640",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'>Comment 13:</a>
> > we don't know if the code runs everywhere, we just want to give it a 'real-life' try

> I think that's more or less what I understand as the definition of "optional" packages.

Many optional packages are optional because they are not gpl-compatible, or because they are too heavy to be standard. I don't get why a spkg would be optional otherwise... Either way, there is "experiment" in "experimental". That's actually the largest part of it. I stand by the rather bold claim that experimental packages should consist in... an experiment. And I don't see what could make this graphviz spkg an experiment.

Nathann



---

archive/issue_comments_175641.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,11 +5,21 @@\n ```\n there is no obvious clue that an experimental package is being installed.\n \n-So, we should make it so that downloading an experimental package this way would first print a warning along the lines of\n+With the patch, when downloading an experimental package, there is a warning:\n \n ```\n-WARNING: you are about to download and install an experimental package. This\n-probably won't work at all for you! Use at your own risk!\n+jdemeyer@boxen:/release/merger/sage-5.9.beta3$ ./sage -i graphviz\n+Attempting to download package graphviz\n+>>> Checking online list of optional packages.\n+[.]\n+>>> Checking online list of experimental packages.\n+[.]\n+>>> Found graphviz-2.16.1.p0\n+\n+WARNING: you are about to download and install an experimental package.\n+This probably won't work at all for you! There is no guarantee that it\n+has ever been built correctly! Use at your own risk!\n Are you sure you want to continue [Y/n]?\n ```\n-Something analogous for archive packages.\n+\n+Something analogous happens for archive packages.\n``````\n",
    "created_at": "2013-04-02T15:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175641",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,11 +5,21 @@
 ```
 there is no obvious clue that an experimental package is being installed.
 
-So, we should make it so that downloading an experimental package this way would first print a warning along the lines of
+With the patch, when downloading an experimental package, there is a warning:
 
 ```
-WARNING: you are about to download and install an experimental package. This
-probably won't work at all for you! Use at your own risk!
+jdemeyer@boxen:/release/merger/sage-5.9.beta3$ ./sage -i graphviz
+Attempting to download package graphviz
+>>> Checking online list of optional packages.
+[.]
+>>> Checking online list of experimental packages.
+[.]
+>>> Found graphviz-2.16.1.p0
+
+WARNING: you are about to download and install an experimental package.
+This probably won't work at all for you! There is no guarantee that it
+has ever been built correctly! Use at your own risk!
 Are you sure you want to continue [Y/n]?
 ```
-Something analogous for archive packages.
+
+Something analogous happens for archive packages.
``````




---

archive/issue_comments_175642.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2013-04-02T15:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175642",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_175643.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nAttachment: **[14398_warn_experimental.patch.gz](https://github.com/sagemath/sage/files/ticket14398/14398_warn_experimental.patch.gz)**",
    "created_at": "2013-04-02T15:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175643",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'>Comment 14:</a>
Attachment: **[14398_warn_experimental.patch.gz](https://github.com/sagemath/sage/files/ticket14398/14398_warn_experimental.patch.gz)**



---

archive/issue_events_186714.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:43:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186714"
}
```



---

archive/issue_events_186715.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-02T15:43:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186715"
}
```



---

archive/issue_comments_175644.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -23,3 +23,5 @@\n ```\n \n Something analogous happens for archive packages.\n+\n+**Apply** [attachment: 14398_warn_experimental.patch.gz](https://github.com/sagemath/sage/files/ticket14398/14398_warn_experimental.patch.gz) to `SAGE_ROOT`.\n``````\n",
    "created_at": "2013-04-02T15:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175644",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -23,3 +23,5 @@
 ```
 
 Something analogous happens for archive packages.
+
+**Apply** [attachment: 14398_warn_experimental.patch.gz](https://github.com/sagemath/sage/files/ticket14398/14398_warn_experimental.patch.gz) to `SAGE_ROOT`.
``````




---

archive/issue_comments_175645.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nWell. It will install the spkg even if the user answers \"I don't want to install this SPKG\" instead of \"n\", but that's not soooooooooooo bad `:-P`\n\n```\nAre you sure you want to continue [Y/n]? I don't want to install this SPKG !!\n>>> Downloading graphviz-2.16.1.p0.spkg.\n[...\n```\n\nThanks for this patch ! `:-)`\n\nNathann",
    "created_at": "2013-04-02T15:52:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175645",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'>Comment 16:</a>
Well. It will install the spkg even if the user answers "I don't want to install this SPKG" instead of "n", but that's not soooooooooooo bad `:-P`

```
Are you sure you want to continue [Y/n]? I don't want to install this SPKG !!
>>> Downloading graphviz-2.16.1.p0.spkg.
[...
```

Thanks for this patch ! `:-)`

Nathann



---

archive/issue_events_186716.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-04-02T15:52:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186716"
}
```



---

archive/issue_events_186717.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-04-02T15:52:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186717"
}
```



---

archive/issue_comments_175646.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2013-04-02T16:24:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175646",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_175647.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\n> Well. It will install the spkg even if the user answers \"I don't want to install this SPKG\" instead of \"n\", but that's not soooooooooooo bad `:-P`\n\nLOL\n> Thanks for this patch ! `:-)`\n\nIndeed, this is a great solution, thanks for intervening here, Jeroen.  (It does say something about trying experimental when you download such things, but of course Nathann's point is well-taken about people perhaps not knowing just how experimental that is.)",
    "created_at": "2013-04-02T16:45:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175647",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'>Comment 18:</a>
> Well. It will install the spkg even if the user answers "I don't want to install this SPKG" instead of "n", but that's not soooooooooooo bad `:-P`

LOL
> Thanks for this patch ! `:-)`

Indeed, this is a great solution, thanks for intervening here, Jeroen.  (It does say something about trying experimental when you download such things, but of course Nathann's point is well-taken about people perhaps not knowing just how experimental that is.)



---

archive/issue_events_186718.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-04T17:40:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186718"
}
```



---

archive/issue_events_186719.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-04T17:40:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14398#event-186719"
}
```



---

archive/issue_comments_175648.json:
```json
{
    "body": "Merged: **sage-5.9.beta4**",
    "created_at": "2013-04-04T17:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14398#issuecomment-175648",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.9.beta4**
