# Issue 14309: IPython breaks a couple of doctests if Python didn't build `_ctypes`

archive/issues_014105.json:
```json
{
    "body": "Assignee: mvngu\n\nKeywords: Got WARNING %gui event loop SunOS Solaris SPARC GCC 4.7.x\n\nSee [comment:ticket:14265:26] ff.\n\n(Previously, e.g. in Sage 5.2, and probably later releases as well, this didn't cause any problems.)\n\nI've so far only seen this on Solaris SPARC (with GCC 4.7.0), presumably just because it's the only configuration where Python currently fails to build `_ctypes` (which in my case is a Python bug, to be fixed on another ticket).\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/14309\n\n",
    "closed_at": "2021-10-04T23:44:13Z",
    "created_at": "2013-03-19T10:49:54Z",
    "labels": [
        "component: doctest coverage",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "IPython breaks a couple of doctests if Python didn't build `_ctypes`",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14309",
    "user": "https://github.com/nexttime"
}
```
Assignee: mvngu

Keywords: Got WARNING %gui event loop SunOS Solaris SPARC GCC 4.7.x

See [comment:ticket:14265:26] ff.

(Previously, e.g. in Sage 5.2, and probably later releases as well, this didn't cause any problems.)

I've so far only seen this on Solaris SPARC (with GCC 4.7.0), presumably just because it's the only configuration where Python currently fails to build `_ctypes` (which in my case is a Python bug, to be fixed on another ticket).


Issue created by migration from https://trac.sagemath.org/ticket/14309





---

archive/issue_comments_176603.json:
```json
{
    "body": "This is an IPython bug imho. It has been introduced in https://github.com/ipython/ipython/issues/1394/",
    "created_at": "2013-03-24T19:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14309#issuecomment-176603",
    "user": "https://github.com/vbraun"
}
```

This is an IPython bug imho. It has been introduced in https://github.com/ipython/ipython/issues/1394/



---

archive/issue_comments_176604.json:
```json
{
    "body": "Also, why is it a problem? We now check in the Python spkg that `_ctypes` can be imported.",
    "created_at": "2013-04-11T13:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14309#issuecomment-176604",
    "user": "https://github.com/jdemeyer"
}
```

Also, why is it a problem? We now check in the Python spkg that `_ctypes` can be imported.



---

archive/issue_events_040528.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40528"
}
```



---

archive/issue_events_040529.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40529"
}
```



---

archive/issue_events_040530.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40530"
}
```



---

archive/issue_events_040531.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40531"
}
```



---

archive/issue_events_040532.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40532"
}
```



---

archive/issue_events_040533.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40533"
}
```



---

archive/issue_events_040534.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40534"
}
```



---

archive/issue_events_040535.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T08:03:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40535"
}
```



---

archive/issue_events_040536.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T08:03:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40536"
}
```



---

archive/issue_comments_176605.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-07T08:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14309#issuecomment-176605",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_176606.json:
```json
{
    "body": "outdated, should close",
    "created_at": "2021-09-07T08:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14309#issuecomment-176606",
    "user": "https://github.com/mkoeppe"
}
```

outdated, should close



---

archive/issue_comments_176607.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-04T23:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14309#issuecomment-176607",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_176608.json:
```json
{
    "body": "python3's `spkg-configure.m4` checks for ctypes.",
    "created_at": "2021-10-04T23:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14309#issuecomment-176608",
    "user": "https://github.com/orlitzky"
}
```

python3's `spkg-configure.m4` checks for ctypes.



---

archive/issue_comments_176609.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-10-04T23:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14309#issuecomment-176609",
    "user": "https://github.com/mkoeppe"
}
```

Resolution: invalid



---

archive/issue_events_040537.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-04T23:44:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14309",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14309#event-40537"
}
```
