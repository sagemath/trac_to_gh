# Issue 14587: Named finitely presented groups

archive/issues_014587.json:
```json
{
    "body": "Assignee: joyner\n\nCC:  @rbeezer @vbraun @miguelmarco\n\nKeywords: group presentations, free groups\n\nUsing the existing groups catalog framework, users are given the capability to\ncreate \"named\" groups as finite presentations. The goal of this addition to Sage is to make the concepts of free groups and group presentations more accessible to the typical undergrad, allowing them to work with standard groups introduced in an introductory level abstract algebra course. \n\n```\nsage: groups.presentation.Cyclic(17)\nFinitely presented group < a | a^17 >\nsage: groups.presentation.Dihedral(8)\nFinitely presented group < a, b | a^8, b^2, a*b*a*b >\nsage: groups.presentation.DiCyclic(5)\nFinitely presented group < a, b | a^10, b^2*a^-5, b^-1*a*b*a >\nsage: groups.presentation.KleinFour()\nFinitely presented group < a, b | a^2, b^2, a^-1*b^-1*a*b >\n```\n\nMore groups are to be implemented soon. Feedback/suggestions on implementation\ndetails are highly encouraged. \n\n__Apply__\n\n* [attachment:trac_14791_named_fpgroups.2.patch]\n* [attachment:trac_14791-review-ts.patch]\n\nIssue created by migration from https://trac.sagemath.org/ticket/14791\n\n",
    "closed_at": "2013-10-02T06:35:28Z",
    "created_at": "2013-06-21T00:56:38Z",
    "labels": [
        "component: group theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.13",
    "title": "Named finitely presented groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14587",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```
Assignee: joyner

CC:  @rbeezer @vbraun @miguelmarco

Keywords: group presentations, free groups

Using the existing groups catalog framework, users are given the capability to
create "named" groups as finite presentations. The goal of this addition to Sage is to make the concepts of free groups and group presentations more accessible to the typical undergrad, allowing them to work with standard groups introduced in an introductory level abstract algebra course. 

```
sage: groups.presentation.Cyclic(17)
Finitely presented group < a | a^17 >
sage: groups.presentation.Dihedral(8)
Finitely presented group < a, b | a^8, b^2, a*b*a*b >
sage: groups.presentation.DiCyclic(5)
Finitely presented group < a, b | a^10, b^2*a^-5, b^-1*a*b*a >
sage: groups.presentation.KleinFour()
Finitely presented group < a, b | a^2, b^2, a^-1*b^-1*a*b >
```

More groups are to be implemented soon. Feedback/suggestions on implementation
details are highly encouraged. 

__Apply__

* [attachment:trac_14791_named_fpgroups.2.patch]
* [attachment:trac_14791-review-ts.patch]

Issue created by migration from https://trac.sagemath.org/ticket/14791





---

archive/issue_comments_185130.json:
```json
{
    "body": "Patch",
    "created_at": "2013-06-21T00:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185130",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Patch



---

archive/issue_comments_185131.json:
```json
{
    "body": "Attachment [trac_14791_named_fpgroups.patch](tarball://root/attachments/some-uuid/ticket14791/trac_14791_named_fpgroups.patch) by dshurbert created at 2013-06-21 01:01:11",
    "created_at": "2013-06-21T01:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185131",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Attachment [trac_14791_named_fpgroups.patch](tarball://root/attachments/some-uuid/ticket14791/trac_14791_named_fpgroups.patch) by dshurbert created at 2013-06-21 01:01:11



---

archive/issue_comments_185132.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2013-06-21T01:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185132",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_185133.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-06-25T01:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185133",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_185134.json:
```json
{
    "body": "The printing of free group elements changed in the latest GAP update, this leads to doctest failures of the kind\n\n```\nFailed example:\n    D = groups.presentation.Dihedral(7); D\nExpected:\n    Finitely presented group < a, b | a^7, b^2, a*b*a*b >\nGot:\n    Finitely presented group < a, b | a^7, b^2, (a*b)^2 >\n```\nThe patch should be rebased to the latest sage beta (5.11.beta3 as of today)\n\nMinor nitpick: Don't end docstrings with a blank line. It just wastes vertical space needlessly. The `\"\"\"` end marker is enough visual cue that the docstring is finished.",
    "created_at": "2013-07-19T13:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185134",
    "user": "https://github.com/vbraun"
}
```

The printing of free group elements changed in the latest GAP update, this leads to doctest failures of the kind

```
Failed example:
    D = groups.presentation.Dihedral(7); D
Expected:
    Finitely presented group < a, b | a^7, b^2, a*b*a*b >
Got:
    Finitely presented group < a, b | a^7, b^2, (a*b)^2 >
```
The patch should be rebased to the latest sage beta (5.11.beta3 as of today)

Minor nitpick: Don't end docstrings with a blank line. It just wastes vertical space needlessly. The `"""` end marker is enough visual cue that the docstring is finished.



---

archive/issue_comments_185135.json:
```json
{
    "body": "Fixed doctest failures caused by the new printing of free group elements.\n(And removed unnecessary blank lines)",
    "created_at": "2013-07-20T20:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185135",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Fixed doctest failures caused by the new printing of free group elements.
(And removed unnecessary blank lines)



---

archive/issue_comments_185136.json:
```json
{
    "body": "I get a big fat warning that libgap is being loaded on Sage startup. You should `lazy_import` in `sage/groups/groups_catalog.py`.",
    "created_at": "2013-07-26T02:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185136",
    "user": "https://github.com/vbraun"
}
```

I get a big fat warning that libgap is being loaded on Sage startup. You should `lazy_import` in `sage/groups/groups_catalog.py`.



---

archive/issue_comments_185137.json:
```json
{
    "body": "The following code placed in `sage/groups/groups_catalog.py`:\n\n```\nfrom sage.misc.lazy_import import lazy_import\nlazy_import( 'sage.groups', 'finitely_presented_catalog', 'presentation' )\n```\nHas the desired effect (libgap is no longer loaded on startup), however `groups.lazy_import`\nis now part of the global name-space. Any suggestions for removing this side-effect?",
    "created_at": "2013-07-26T21:08:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185137",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

The following code placed in `sage/groups/groups_catalog.py`:

```
from sage.misc.lazy_import import lazy_import
lazy_import( 'sage.groups', 'finitely_presented_catalog', 'presentation' )
```
Has the desired effect (libgap is no longer loaded on startup), however `groups.lazy_import`
is now part of the global name-space. Any suggestions for removing this side-effect?



---

archive/issue_comments_185138.json:
```json
{
    "body": "How about this change instead:\n\n```diff\ndiff --git a/sage/groups/all.py b/sage/groups/all.py\n--- a/sage/groups/all.py\n+++ b/sage/groups/all.py\n@@ -21,4 +21,4 @@\n lazy_import('sage.groups.affine_gps.affine_group', 'AffineGroup')\n lazy_import('sage.groups.affine_gps.euclidean_group', 'EuclideanGroup')\n \n-import groups_catalog as groups\n+lazy_import('sage.groups', 'groups_catalog', 'groups')\n```",
    "created_at": "2013-07-26T21:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185138",
    "user": "https://github.com/jhpalmieri"
}
```

How about this change instead:

```diff
diff --git a/sage/groups/all.py b/sage/groups/all.py
--- a/sage/groups/all.py
+++ b/sage/groups/all.py
@@ -21,4 +21,4 @@
 lazy_import('sage.groups.affine_gps.affine_group', 'AffineGroup')
 lazy_import('sage.groups.affine_gps.euclidean_group', 'EuclideanGroup')
 
-import groups_catalog as groups
+lazy_import('sage.groups', 'groups_catalog', 'groups')
```



---

archive/issue_comments_185139.json:
```json
{
    "body": "Yes, the whole groups catalog should be lazy.",
    "created_at": "2013-07-26T21:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185139",
    "user": "https://github.com/vbraun"
}
```

Yes, the whole groups catalog should be lazy.



---

archive/issue_comments_185140.json:
```json
{
    "body": "Just made the `groups_catalog` import in `sage/groups/all.py` lazy. Added some documentation and more tests.",
    "created_at": "2013-07-26T23:04:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185140",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Just made the `groups_catalog` import in `sage/groups/all.py` lazy. Added some documentation and more tests.



---

archive/issue_comments_185141.json:
```json
{
    "body": "Looks good to me",
    "created_at": "2013-07-28T03:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185141",
    "user": "https://github.com/vbraun"
}
```

Looks good to me



---

archive/issue_comments_185142.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-28T03:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185142",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_185143.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-08-17T08:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185143",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_185144.json:
```json
{
    "body": "The patch needs a proper commit message.",
    "created_at": "2013-08-17T08:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185144",
    "user": "https://github.com/jdemeyer"
}
```

The patch needs a proper commit message.



---

archive/issue_comments_185145.json:
```json
{
    "body": "There is a conflict with #14910: both patches add the same reference `[TWGT]`.",
    "created_at": "2013-08-17T11:20:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185145",
    "user": "https://github.com/jdemeyer"
}
```

There is a conflict with #14910: both patches add the same reference `[TWGT]`.



---

archive/issue_comments_185146.json:
```json
{
    "body": "Replacement patch",
    "created_at": "2013-08-19T19:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185146",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Replacement patch



---

archive/issue_comments_185147.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-08-19T19:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185147",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_185148.json:
```json
{
    "body": "Attachment [trac_14791_named_fpgroups.2.patch](tarball://root/attachments/some-uuid/ticket14791/trac_14791_named_fpgroups.2.patch) by dshurbert created at 2013-08-19 19:27:41\n\nAdded commit message, fixed reference conflict.",
    "created_at": "2013-08-19T19:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185148",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Attachment [trac_14791_named_fpgroups.2.patch](tarball://root/attachments/some-uuid/ticket14791/trac_14791_named_fpgroups.2.patch) by dshurbert created at 2013-08-19 19:27:41

Added commit message, fixed reference conflict.



---

archive/issue_comments_185149.json:
```json
{
    "body": "Attachment [trac_14791-review-ts.patch](tarball://root/attachments/some-uuid/ticket14791/trac_14791-review-ts.patch) by @tscrim created at 2013-09-03 17:50:24\n\nHey,\n\nHere's a small review patch which fixes a few typos and formatting in the documentation, and if you're happy with my changes, we can set this (back to) positive review.\n\nBest,\n\nTravis",
    "created_at": "2013-09-03T17:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185149",
    "user": "https://github.com/tscrim"
}
```

Attachment [trac_14791-review-ts.patch](tarball://root/attachments/some-uuid/ticket14791/trac_14791-review-ts.patch) by @tscrim created at 2013-09-03 17:50:24

Hey,

Here's a small review patch which fixes a few typos and formatting in the documentation, and if you're happy with my changes, we can set this (back to) positive review.

Best,

Travis



---

archive/issue_comments_185150.json:
```json
{
    "body": "Looks good to me, thank you for the catches.",
    "created_at": "2013-09-04T08:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185150",
    "user": "https://trac.sagemath.org/admin/accounts/users/dshurbert"
}
```

Looks good to me, thank you for the catches.



---

archive/issue_comments_185151.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-09-06T17:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185151",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_185152.json:
```json
{
    "body": "I'm going to interpret that as a positive review.",
    "created_at": "2013-09-06T17:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185152",
    "user": "https://github.com/tscrim"
}
```

I'm going to interpret that as a positive review.



---

archive/issue_comments_185153.json:
```json
{
    "body": "For patchbot:\n\nApply: trac_14791_named_fpgroups.2.patch, trac_14791-review-ts.patch",
    "created_at": "2013-09-07T00:51:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185153",
    "user": "https://github.com/tscrim"
}
```

For patchbot:

Apply: trac_14791_named_fpgroups.2.patch, trac_14791-review-ts.patch



---

archive/issue_events_042431.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-26T15:47:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "milestone": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14587#event-42431"
}
```



---

archive/issue_comments_185154.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-10-02T06:35:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14587#issuecomment-185154",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_042432.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-02T06:35:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14587",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14587#event-42432"
}
```
