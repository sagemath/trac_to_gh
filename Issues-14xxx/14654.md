# Issue 14654: implement flow polytopes

archive/issues_014450.json:
```json
{
    "body": "Flow polytopes (or cones) of a directed graph is a polytope formed by assigning a nonnegative flow to each of edges of the graph such that the flow is conserved on internal vertices, and there is a unit of flow entering the sources and leaving the sinks.\n\nThe faces and volume of these polytopes are of interest. Examples of these polytopes are the Chan-Robbins-Yuen polytope and the Pitman-Stanley polytope.\n\nImplement a class for these polytopes to compute the faces and the volume (maybe using #13249 or implementing known triangulations of them).\n\n**Assignee:** graphcomponentowner\n\n**CC:**  @saliola @nathanncohen\n\n**Keywords:** flow polytopes, kostant partition function, sage days 47.5\n\n**Branch/Commit:** [37ef5cbd6aaa4bc4938f55b420c7db15933322d4](https://github.com/sagemath/sagetrac-mirror/commit/37ef5cbd6aaa4bc4938f55b420c7db15933322d4)\n\n**Reviewer:** Nathann Cohen, Darij Grinberg, Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/14654\n\n",
    "closed_at": "2015-03-03T20:46:14Z",
    "created_at": "2013-05-28T16:20:26Z",
    "labels": [
        "component: graph theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "title": "implement flow polytopes",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/14654",
    "user": "https://trac.sagemath.org/admin/accounts/users/ahmorales"
}
```
Flow polytopes (or cones) of a directed graph is a polytope formed by assigning a nonnegative flow to each of edges of the graph such that the flow is conserved on internal vertices, and there is a unit of flow entering the sources and leaving the sinks.

The faces and volume of these polytopes are of interest. Examples of these polytopes are the Chan-Robbins-Yuen polytope and the Pitman-Stanley polytope.

Implement a class for these polytopes to compute the faces and the volume (maybe using #13249 or implementing known triangulations of them).

**Assignee:** graphcomponentowner

**CC:**  @saliola @nathanncohen

**Keywords:** flow polytopes, kostant partition function, sage days 47.5

**Branch/Commit:** [37ef5cbd6aaa4bc4938f55b420c7db15933322d4](https://github.com/sagemath/sagetrac-mirror/commit/37ef5cbd6aaa4bc4938f55b420c7db15933322d4)

**Reviewer:** Nathann Cohen, Darij Grinberg, Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/14654





---

archive/issue_events_127815.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127815"
}
```



---

archive/issue_events_127816.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127816"
}
```



---

archive/issue_events_127817.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127817"
}
```



---

archive/issue_events_127818.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127818"
}
```



---

archive/issue_events_127819.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-03-06T17:00:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127819"
}
```



---

archive/issue_events_127820.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-03-06T17:00:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127820"
}
```



---

archive/issue_events_127821.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-03-06T17:00:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127821"
}
```



---

archive/issue_comments_180370.json:
```json
{
    "body": "**Branch:** [u/chapoton/14654](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14654)",
    "created_at": "2014-03-07T13:38:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180370",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/14654](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14654)



---

archive/issue_comments_180371.json:
```json
{
    "body": "<a id='comment:4'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33472ec876b496cd45955fa7578e20faeca1b1fc\">33472ec</a></td><td><code>trac #14654 compute the flow polytope of a digraph</code></td></tr></table>\n",
    "created_at": "2014-03-07T13:38:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180371",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33472ec876b496cd45955fa7578e20faeca1b1fc">33472ec</a></td><td><code>trac #14654 compute the flow polytope of a digraph</code></td></tr></table>




---

archive/issue_comments_180372.json:
```json
{
    "body": "**Commit:** [33472ec876b496cd45955fa7578e20faeca1b1fc](https://github.com/sagemath/sagetrac-mirror/commit/33472ec876b496cd45955fa7578e20faeca1b1fc)",
    "created_at": "2014-03-07T13:38:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180372",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [33472ec876b496cd45955fa7578e20faeca1b1fc](https://github.com/sagemath/sagetrac-mirror/commit/33472ec876b496cd45955fa7578e20faeca1b1fc)



---

archive/issue_comments_180373.json:
```json
{
    "body": "**Changing assignee** from sage-combinat to graphcomponentowner.",
    "created_at": "2014-09-08T18:57:31Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180373",
    "user": "https://github.com/fchapoton"
}
```

**Changing assignee** from sage-combinat to graphcomponentowner.



---

archive/issue_events_127822.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-09-08T18:57:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "component: combinatorics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127822"
}
```



---

archive/issue_events_127823.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-09-08T18:57:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "component: graph theory",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127823"
}
```



---

archive/issue_events_127824.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-09-08T18:57:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "rename": {
        "from": "implement class for flow polytopes",
        "to": "implement flow polytopes"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127824"
}
```



---

archive/issue_comments_180374.json:
```json
{
    "body": "<a id='comment:6'></a>\nMight I suggest to put this either into a digraph class or into `src/sage/geometry/polyhedron/library.py`?",
    "created_at": "2014-10-30T05:20:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180374",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:6'></a>
Might I suggest to put this either into a digraph class or into `src/sage/geometry/polyhedron/library.py`?



---

archive/issue_comments_180375.json:
```json
{
    "body": "<a id='comment:7'></a>\nYepyep.\n\nThis should probably be a digraph method. It should also appear in `polytopes.<tab>` I guess.\n\nNathann",
    "created_at": "2014-10-30T08:41:03Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180375",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
Yepyep.

This should probably be a digraph method. It should also appear in `polytopes.<tab>` I guess.

Nathann



---

archive/issue_comments_180376.json:
```json
{
    "body": "<a id='comment:8'></a>\n(You can also write the code in geometry/polyhedron and create a fake digraph function that calls it, btw)\n\nAlso, the docstring mentions sources/sinks but the code never heard of it.\n\nNathann",
    "created_at": "2014-10-30T08:45:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180376",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
(You can also write the code in geometry/polyhedron and create a fake digraph function that calls it, btw)

Also, the docstring mentions sources/sinks but the code never heard of it.

Nathann



---

archive/issue_comments_180377.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [darij](#comment%3A6):\n> Might I suggest to put this either into a digraph class or into `src/sage/geometry/polyhedron/library.py`?\n\n\nOn the other hand, beware of another `src/sage/graphs/generic_graph.py` which just contains too much stuff.\n\nNote that you can `import` methods into classes just the same way as you can `import` other stuff.",
    "created_at": "2014-10-30T09:17:33Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180377",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Replying to [darij](#comment%3A6):
> Might I suggest to put this either into a digraph class or into `src/sage/geometry/polyhedron/library.py`?


On the other hand, beware of another `src/sage/graphs/generic_graph.py` which just contains too much stuff.

Note that you can `import` methods into classes just the same way as you can `import` other stuff.



---

archive/issue_comments_180378.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1266237d227be509e1a252c13323e1b87f91b28\">e126623</a></td><td><code>Merge branch 'u/chapoton/14654' of trac.sagemath.org:sage into 14654</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b57c82f1eae104a3f6675f2f08c26e529f33f68\">1b57c82</a></td><td><code>trac #14654 flow polytope as a method of digraphs</code></td></tr></table>\n",
    "created_at": "2014-10-31T14:44:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180378",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1266237d227be509e1a252c13323e1b87f91b28">e126623</a></td><td><code>Merge branch 'u/chapoton/14654' of trac.sagemath.org:sage into 14654</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b57c82f1eae104a3f6675f2f08c26e529f33f68">1b57c82</a></td><td><code>trac #14654 flow polytope as a method of digraphs</code></td></tr></table>




---

archive/issue_comments_180379.json:
```json
{
    "body": "**Changing commit** from \"[33472ec876b496cd45955fa7578e20faeca1b1fc](https://github.com/sagemath/sagetrac-mirror/commit/33472ec876b496cd45955fa7578e20faeca1b1fc)\" to \"[1b57c82f1eae104a3f6675f2f08c26e529f33f68](https://github.com/sagemath/sagetrac-mirror/commit/1b57c82f1eae104a3f6675f2f08c26e529f33f68)\".",
    "created_at": "2014-10-31T14:44:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180379",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[33472ec876b496cd45955fa7578e20faeca1b1fc](https://github.com/sagemath/sagetrac-mirror/commit/33472ec876b496cd45955fa7578e20faeca1b1fc)" to "[1b57c82f1eae104a3f6675f2f08c26e529f33f68](https://github.com/sagemath/sagetrac-mirror/commit/1b57c82f1eae104a3f6675f2f08c26e529f33f68)".



---

archive/issue_comments_180380.json:
```json
{
    "body": "<a id='comment:11'></a>\nWhy import `line_graph`?",
    "created_at": "2014-10-31T14:47:40Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180380",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:11'></a>
Why import `line_graph`?



---

archive/issue_comments_180381.json:
```json
{
    "body": "<a id='comment:12'></a>\n(please don't create a file for a 10 lines function)",
    "created_at": "2014-10-31T14:49:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180381",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
(please don't create a file for a 10 lines function)



---

archive/issue_comments_180382.json:
```json
{
    "body": "**Changing commit** from \"[1b57c82f1eae104a3f6675f2f08c26e529f33f68](https://github.com/sagemath/sagetrac-mirror/commit/1b57c82f1eae104a3f6675f2f08c26e529f33f68)\" to \"[1cbe9656be3255a956e3fcc19ab67cb5273ab928](https://github.com/sagemath/sagetrac-mirror/commit/1cbe9656be3255a956e3fcc19ab67cb5273ab928)\".",
    "created_at": "2014-10-31T15:04:08Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1b57c82f1eae104a3f6675f2f08c26e529f33f68](https://github.com/sagemath/sagetrac-mirror/commit/1b57c82f1eae104a3f6675f2f08c26e529f33f68)" to "[1cbe9656be3255a956e3fcc19ab67cb5273ab928](https://github.com/sagemath/sagetrac-mirror/commit/1cbe9656be3255a956e3fcc19ab67cb5273ab928)".



---

archive/issue_comments_180383.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cbe9656be3255a956e3fcc19ab67cb5273ab928\">1cbe965</a></td><td><code>trac #14654 inclusion into digraph.py</code></td></tr></table>\n",
    "created_at": "2014-10-31T15:04:08Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cbe9656be3255a956e3fcc19ab67cb5273ab928">1cbe965</a></td><td><code>trac #14654 inclusion into digraph.py</code></td></tr></table>




---

archive/issue_comments_180384.json:
```json
{
    "body": "<a id='comment:14'></a>\n(BTW, digraph.py for some reason imports deprecation without needing it.)",
    "created_at": "2014-10-31T15:17:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180384",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:14'></a>
(BTW, digraph.py for some reason imports deprecation without needing it.)



---

archive/issue_comments_180385.json:
```json
{
    "body": "<a id='comment:15'></a>\n> (BTW, digraph.py for some reason imports deprecation without needing it.)\n\n\nOh. Well, let's remove it then. Here or somewhere else.\n\nNathann",
    "created_at": "2014-10-31T15:18:37Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180385",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>
> (BTW, digraph.py for some reason imports deprecation without needing it.)


Oh. Well, let's remove it then. Here or somewhere else.

Nathann



---

archive/issue_comments_180386.json:
```json
{
    "body": "**Changing commit** from \"[1cbe9656be3255a956e3fcc19ab67cb5273ab928](https://github.com/sagemath/sagetrac-mirror/commit/1cbe9656be3255a956e3fcc19ab67cb5273ab928)\" to \"[a1fa21827894719e987b1ac3e41527e92df43f68](https://github.com/sagemath/sagetrac-mirror/commit/a1fa21827894719e987b1ac3e41527e92df43f68)\".",
    "created_at": "2014-10-31T16:13:06Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180386",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1cbe9656be3255a956e3fcc19ab67cb5273ab928](https://github.com/sagemath/sagetrac-mirror/commit/1cbe9656be3255a956e3fcc19ab67cb5273ab928)" to "[a1fa21827894719e987b1ac3e41527e92df43f68](https://github.com/sagemath/sagetrac-mirror/commit/a1fa21827894719e987b1ac3e41527e92df43f68)".



---

archive/issue_comments_180387.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1fa21827894719e987b1ac3e41527e92df43f68\">a1fa218</a></td><td><code>trac #14654 remove deprecation import</code></td></tr></table>\n",
    "created_at": "2014-10-31T16:13:06Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1fa21827894719e987b1ac3e41527e92df43f68">a1fa218</a></td><td><code>trac #14654 remove deprecation import</code></td></tr></table>




---

archive/issue_comments_180388.json:
```json
{
    "body": "<a id='comment:17'></a>\nI do not know how to add this as a method of `polytopes`",
    "created_at": "2014-10-31T17:07:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180388",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
I do not know how to add this as a method of `polytopes`



---

archive/issue_events_127825.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-10-31T17:07:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127825"
}
```



---

archive/issue_comments_180389.json:
```json
{
    "body": "<a id='comment:18'></a>\nIt seems that what appears in `polytopes.<tab>` are the functions defined in `sage.geometry.polyhedron.library.Polytopes`.\n\nAlso, since you changed the status to `needs_review`: the documentation of `DiGraph.flow_polytope` mentions a source and a sink with a non-null flow, while the function only takes one argument, i.e. the graph.... Is that normal ? `O_o`\n\nNathann",
    "created_at": "2014-10-31T20:51:28Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180389",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
It seems that what appears in `polytopes.<tab>` are the functions defined in `sage.geometry.polyhedron.library.Polytopes`.

Also, since you changed the status to `needs_review`: the documentation of `DiGraph.flow_polytope` mentions a source and a sink with a non-null flow, while the function only takes one argument, i.e. the graph.... Is that normal ? `O_o`

Nathann



---

archive/issue_comments_180390.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [ncohen](#comment%3A18):\n> It seems that what appears in `polytopes.<tab>` are the functions defined in `sage.geometry.polyhedron.library.Polytopes`.\n\n\nYes, but is there a way to just import the function as a method `polytopes.flow_polytope` ?\n\n> Also, since you changed the status to `needs_review`: the documentation of `DiGraph.flow_polytope` mentions a source and a sink with a non-null flow, while the function only takes one argument, i.e. the graph.... Is that normal ? `O_o`\n\n\nWell, for quiver guys like me, a source is a vertex with only outgoing edges, and a sink with only incoming edges. Maybe you give them other names. So there is no need to provide them as arguments. Of course one needs to have as many sources as sinks for the flow polytope to make sense. Every source gets an input of 1 and every sink an output of 1.",
    "created_at": "2014-10-31T21:07:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180390",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
Replying to [ncohen](#comment%3A18):
> It seems that what appears in `polytopes.<tab>` are the functions defined in `sage.geometry.polyhedron.library.Polytopes`.


Yes, but is there a way to just import the function as a method `polytopes.flow_polytope` ?

> Also, since you changed the status to `needs_review`: the documentation of `DiGraph.flow_polytope` mentions a source and a sink with a non-null flow, while the function only takes one argument, i.e. the graph.... Is that normal ? `O_o`


Well, for quiver guys like me, a source is a vertex with only outgoing edges, and a sink with only incoming edges. Maybe you give them other names. So there is no need to provide them as arguments. Of course one needs to have as many sources as sinks for the flow polytope to make sense. Every source gets an input of 1 and every sink an output of 1.



---

archive/issue_comments_180391.json:
```json
{
    "body": "<a id='comment:20'></a>\nYo !\n\n> Yes, but is there a way to just import the function as a method `polytopes.flow_polytope` ?\n\n\nThere is, but it may be a bit awkard for in one version the function takes a graph as an argument, and in the other `polytopes.flow_polytope(G)` it needs to be provided explicitly... But maybe that is not a problem.\n\nAbout importing the method:\n\n```\nsage: class A:\n....:     def hey(self):\n....:         print self\nsage: A.hey(1)\n...\nTypeError: unbound method hey() must be called with A instance as first argument (got Integer instance instead)\nsage: A.hey.__func__(1)\n1\n```\n\nBut I am afraid that it does not preserve the docstring...\n\nOn the other hand it is possible to take a 'normal' function and make a copy of it inside of a class. You have many functions like that at the end of `graphs/graph.py`\n\n> Well, for quiver guys like me, a source is a vertex with only outgoing edges, and a sink with only incoming edge. Maybe you give them other names. So there is no need to provide them as arguments. Of course one needs to have as many sources as sinks for the flow polytope to make sense. Every source gets an input of 1 and every sink an output of 1.\n\n\nOh I see `O_o`\n\nWell, for graph guys like me we expect the sources to be explicitly given, like in `GenericGraph.flow`.\n\nHMmmm... Well, if you are positive that this is the standard that people who call this method would expect, could you make it a bit clearer for the graph guys ? Something like:\n\n```\n... and there is a unit of flow entering the sources (i.e. vertices of indegree 0) and leaving the sinks (i.e. vertices of outdegree 0)\n```\n\nThe point is that I would understand if you talk about \"the sinks/sources of a graph\", but in the context of flow problem we expect the sources/sinks to be specific vertices. Could you also add a sentence about the necessity to have as many sinks as sources ?\n\nThaaaaaaanks and sorry for that ! Different people, different standards `^^;`\n\nNathann",
    "created_at": "2014-10-31T21:22:17Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180391",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>
Yo !

> Yes, but is there a way to just import the function as a method `polytopes.flow_polytope` ?


There is, but it may be a bit awkard for in one version the function takes a graph as an argument, and in the other `polytopes.flow_polytope(G)` it needs to be provided explicitly... But maybe that is not a problem.

About importing the method:

```
sage: class A:
....:     def hey(self):
....:         print self
sage: A.hey(1)
...
TypeError: unbound method hey() must be called with A instance as first argument (got Integer instance instead)
sage: A.hey.__func__(1)
1
```

But I am afraid that it does not preserve the docstring...

On the other hand it is possible to take a 'normal' function and make a copy of it inside of a class. You have many functions like that at the end of `graphs/graph.py`

> Well, for quiver guys like me, a source is a vertex with only outgoing edges, and a sink with only incoming edge. Maybe you give them other names. So there is no need to provide them as arguments. Of course one needs to have as many sources as sinks for the flow polytope to make sense. Every source gets an input of 1 and every sink an output of 1.


Oh I see `O_o`

Well, for graph guys like me we expect the sources to be explicitly given, like in `GenericGraph.flow`.

HMmmm... Well, if you are positive that this is the standard that people who call this method would expect, could you make it a bit clearer for the graph guys ? Something like:

```
... and there is a unit of flow entering the sources (i.e. vertices of indegree 0) and leaving the sinks (i.e. vertices of outdegree 0)
```

The point is that I would understand if you talk about "the sinks/sources of a graph", but in the context of flow problem we expect the sources/sinks to be specific vertices. Could you also add a sentence about the necessity to have as many sinks as sources ?

Thaaaaaaanks and sorry for that ! Different people, different standards `^^;`

Nathann



---

archive/issue_comments_180392.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0309ebc481de9b3cffda40807197c9390615ff8\">f0309eb</a></td><td><code>trac #14654 reviewer's comments</code></td></tr></table>\n",
    "created_at": "2014-11-01T07:43:37Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0309ebc481de9b3cffda40807197c9390615ff8">f0309eb</a></td><td><code>trac #14654 reviewer's comments</code></td></tr></table>




---

archive/issue_comments_180393.json:
```json
{
    "body": "**Changing commit** from \"[a1fa21827894719e987b1ac3e41527e92df43f68](https://github.com/sagemath/sagetrac-mirror/commit/a1fa21827894719e987b1ac3e41527e92df43f68)\" to \"[f0309ebc481de9b3cffda40807197c9390615ff8](https://github.com/sagemath/sagetrac-mirror/commit/f0309ebc481de9b3cffda40807197c9390615ff8)\".",
    "created_at": "2014-11-01T07:43:37Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180393",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a1fa21827894719e987b1ac3e41527e92df43f68](https://github.com/sagemath/sagetrac-mirror/commit/a1fa21827894719e987b1ac3e41527e92df43f68)" to "[f0309ebc481de9b3cffda40807197c9390615ff8](https://github.com/sagemath/sagetrac-mirror/commit/f0309ebc481de9b3cffda40807197c9390615ff8)".



---

archive/issue_comments_180394.json:
```json
{
    "body": "**Changing author** from \"ahmorales\" to \"Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2014-11-01T17:42:03Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180394",
    "user": "https://github.com/fchapoton"
}
```

**Changing author** from "ahmorales" to "Frédéric Chapoton".



---

archive/issue_comments_180395.json:
```json
{
    "body": "<a id='comment:23'></a>\nHelloooooo !\n\nSorry for having delayed this patch for so long. I am about to leave for a couple of months and I had a lot of things to attend to `T_T`\n\nI found a way to make this `polytopes.<tab>` thing work. Wasn't that hard after all. I also merged the branch with the latest release.\n\nIt seems all good to go, still I have one question: from the way your code is written, a digraph obtained from \"any digraph + an isolated vertex\" has an empty flow polyhedron. I don't think that it is the expected behaviour, but might it be what you want for your applications ?\n\nNathann\n\n(the additional commits are to be found at public/14654)",
    "created_at": "2014-11-02T22:14:41Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180395",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>
Helloooooo !

Sorry for having delayed this patch for so long. I am about to leave for a couple of months and I had a lot of things to attend to `T_T`

I found a way to make this `polytopes.<tab>` thing work. Wasn't that hard after all. I also merged the branch with the latest release.

It seems all good to go, still I have one question: from the way your code is written, a digraph obtained from "any digraph + an isolated vertex" has an empty flow polyhedron. I don't think that it is the expected behaviour, but might it be what you want for your applications ?

Nathann

(the additional commits are to be found at public/14654)



---

archive/issue_comments_180396.json:
```json
{
    "body": "**Changing commit** from \"[f0309ebc481de9b3cffda40807197c9390615ff8](https://github.com/sagemath/sagetrac-mirror/commit/f0309ebc481de9b3cffda40807197c9390615ff8)\" to \"[d74ca66ad183162f85ea4479810ba5909cbeec19](https://github.com/sagemath/sagetrac-mirror/commit/d74ca66ad183162f85ea4479810ba5909cbeec19)\".",
    "created_at": "2014-11-03T19:33:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f0309ebc481de9b3cffda40807197c9390615ff8](https://github.com/sagemath/sagetrac-mirror/commit/f0309ebc481de9b3cffda40807197c9390615ff8)" to "[d74ca66ad183162f85ea4479810ba5909cbeec19](https://github.com/sagemath/sagetrac-mirror/commit/d74ca66ad183162f85ea4479810ba5909cbeec19)".



---

archive/issue_comments_180397.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a5325d41e6f1ddb799cd4d6a40b65d67eaa4be4\">1a5325d</a></td><td><code>trac #14654: Merged with 6.4.rc1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11fee988f3dc9ac7847b16943831a79c95ffddee\">11fee98</a></td><td><code>trac #14654: polytopes.<tab></code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d74ca66ad183162f85ea4479810ba5909cbeec19\">d74ca66</a></td><td><code>trac #14654 case of isolated points (both source and sink)</code></td></tr></table>\n",
    "created_at": "2014-11-03T19:33:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a5325d41e6f1ddb799cd4d6a40b65d67eaa4be4">1a5325d</a></td><td><code>trac #14654: Merged with 6.4.rc1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11fee988f3dc9ac7847b16943831a79c95ffddee">11fee98</a></td><td><code>trac #14654: polytopes.<tab></code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d74ca66ad183162f85ea4479810ba5909cbeec19">d74ca66</a></td><td><code>trac #14654 case of isolated points (both source and sink)</code></td></tr></table>




---

archive/issue_comments_180398.json:
```json
{
    "body": "<a id='comment:25'></a>\nThanks a lot, Nathann, for all the time you spend on my tickets.\n\nI have made a modification that takes care of isolated points by considering them as both sources and sinks, and so letting a flow of 1 silently going through them.",
    "created_at": "2014-11-03T19:35:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180398",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>
Thanks a lot, Nathann, for all the time you spend on my tickets.

I have made a modification that takes care of isolated points by considering them as both sources and sinks, and so letting a flow of 1 silently going through them.



---

archive/issue_comments_180399.json:
```json
{
    "body": "<a id='comment:26'></a>\nHmm. I don't like the idea that the sources and the sinks are inferred. I'd prefer to have the user provide them (and letting the code infer them only if so required), as I can see myself applying such a method for various sink-source configurations on a single graph, and it looks strange to build a new graph every time.\n\n(I was planning to make these changes myself soon enough, once I'm done with Gelfand-Tsetlin and Berenstein-Zelevinsky polytopes, but I caught something last week and now all I'm swamped with work.)",
    "created_at": "2014-11-03T19:41:54Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180399",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:26'></a>
Hmm. I don't like the idea that the sources and the sinks are inferred. I'd prefer to have the user provide them (and letting the code infer them only if so required), as I can see myself applying such a method for various sink-source configurations on a single graph, and it looks strange to build a new graph every time.

(I was planning to make these changes myself soon enough, once I'm done with Gelfand-Tsetlin and Berenstein-Zelevinsky polytopes, but I caught something last week and now all I'm swamped with work.)



---

archive/issue_comments_180400.json:
```json
{
    "body": "<a id='comment:27'></a>\n.......soooooooooooo ???\n\nNathann",
    "created_at": "2014-11-21T03:16:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180400",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'></a>
.......soooooooooooo ???

Nathann



---

archive/issue_comments_180401.json:
```json
{
    "body": "<a id='comment:28'></a>\nDarij ? Do you have any plans to implement the change you mentionned ? You left your comment 7 weeks ago and this ticket is \"on hold\" since...\n\nNathann",
    "created_at": "2014-12-19T17:33:57Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180401",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
Darij ? Do you have any plans to implement the change you mentionned ? You left your comment 7 weeks ago and this ticket is "on hold" since...

Nathann



---

archive/issue_comments_180402.json:
```json
{
    "body": "<a id='comment:29'></a>\nOOPS, please don't regard my comments as blockers! I indeed wanted to do changes, but then I noticed that the polytopes class doesn't work the way I want it to and all these changes have to wait for my other patch, which has to wait for my end-of-term work... so this might take some time. Meanwhile, feel free to review and merge this patch -- whatever I want to change I will change later with my BZ polytopes patch.",
    "created_at": "2014-12-19T19:10:10Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180402",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:29'></a>
OOPS, please don't regard my comments as blockers! I indeed wanted to do changes, but then I noticed that the polytopes class doesn't work the way I want it to and all these changes have to wait for my other patch, which has to wait for my end-of-term work... so this might take some time. Meanwhile, feel free to review and merge this patch -- whatever I want to change I will change later with my BZ polytopes patch.



---

archive/issue_comments_180403.json:
```json
{
    "body": "<a id='comment:30'></a>\nOkay, then let it get in. And you are welcome to make those source/sinks explicit, it also feels more natural to me `;-)`\n\nCheers,\n\nNathann",
    "created_at": "2014-12-19T19:17:34Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180403",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'></a>
Okay, then let it get in. And you are welcome to make those source/sinks explicit, it also feels more natural to me `;-)`

Cheers,

Nathann



---

archive/issue_events_127826.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-12-19T19:17:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127826"
}
```



---

archive/issue_events_127827.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-12-19T19:17:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127827"
}
```



---

archive/issue_comments_180404.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2014-12-19T19:17:34Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180404",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_events_127828.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-01-03T03:00:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127828"
}
```



---

archive/issue_events_127829.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-01-03T03:00:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127829"
}
```



---

archive/issue_comments_180405.json:
```json
{
    "body": "<a id='comment:31'></a>\nI allowed myself to make the trivial change for speed: `len(ins) == 0` to `not ins`.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3aadd397fb9803830a705610aeaefa4af07d589a\">3aadd39</a></td><td><code>Merge branch 'u/chapoton/14654' of trac.sagemath.org:sage into u/tscrim/flow_polytopes-14654</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/703016840815038fe79b466d67bb297a8fd43042\">7030168</a></td><td><code>Minor speedup tweak.</code></td></tr></table>\n",
    "created_at": "2015-01-03T03:00:17Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180405",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'></a>
I allowed myself to make the trivial change for speed: `len(ins) == 0` to `not ins`.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3aadd397fb9803830a705610aeaefa4af07d589a">3aadd39</a></td><td><code>Merge branch 'u/chapoton/14654' of trac.sagemath.org:sage into u/tscrim/flow_polytopes-14654</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/703016840815038fe79b466d67bb297a8fd43042">7030168</a></td><td><code>Minor speedup tweak.</code></td></tr></table>




---

archive/issue_comments_180406.json:
```json
{
    "body": "**Changing commit** from \"[d74ca66ad183162f85ea4479810ba5909cbeec19](https://github.com/sagemath/sagetrac-mirror/commit/d74ca66ad183162f85ea4479810ba5909cbeec19)\" to \"[703016840815038fe79b466d67bb297a8fd43042](https://github.com/sagemath/sagetrac-mirror/commit/703016840815038fe79b466d67bb297a8fd43042)\".",
    "created_at": "2015-01-03T03:00:17Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180406",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[d74ca66ad183162f85ea4479810ba5909cbeec19](https://github.com/sagemath/sagetrac-mirror/commit/d74ca66ad183162f85ea4479810ba5909cbeec19)" to "[703016840815038fe79b466d67bb297a8fd43042](https://github.com/sagemath/sagetrac-mirror/commit/703016840815038fe79b466d67bb297a8fd43042)".



---

archive/issue_comments_180407.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/14654](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14654)\" to \"[u/tscrim/flow_polytopes-14654](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/flow_polytopes-14654)\".",
    "created_at": "2015-01-03T03:00:17Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180407",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/chapoton/14654](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14654)" to "[u/tscrim/flow_polytopes-14654](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/flow_polytopes-14654)".



---

archive/issue_comments_180408.json:
```json
{
    "body": "<a id='comment:32'></a>\n\n```\nFile \"src/sage/combinat/cluster_algebra_quiver/quiver.py\", line 162, in sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver\nFailed example:\n    Q = ClusterQuiver([[1,1]])\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: The input DiGraph contains a loop\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 850, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver[37]>\", line 1, in <module>\n        Q = ClusterQuiver([[Integer(1),Integer(1)]])\n      File \"sage/misc/lazy_import.pyx\", line 383, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3398)\n        return self._get_object()(*args, **kwds)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/combinat/cluster_algebra_quiver/quiver.py\", line 342, in __init__\n        dg = DiGraph( data )\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/digraph.py\", line 716, in __init__\n        deprecation(15706, \"You created a graph with loops from a list. \"+\n    NameError: global name 'deprecation' is not defined\n**********************************************************************\n1 item had failures:\n   2 of  41 in sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver\n    [227 tests, 2 failures, 2.01 s]\n----------------------------------------------------------------------\nsage -t --warn-long 38.5 src/sage/combinat/cluster_algebra_quiver/quiver.py  # 2 doctests failed\n```",
    "created_at": "2015-01-03T21:51:31Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180408",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>

```
File "src/sage/combinat/cluster_algebra_quiver/quiver.py", line 162, in sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver
Failed example:
    Q = ClusterQuiver([[1,1]])
Expected:
    Traceback (most recent call last):
    ...
    ValueError: The input DiGraph contains a loop
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 850, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver[37]>", line 1, in <module>
        Q = ClusterQuiver([[Integer(1),Integer(1)]])
      File "sage/misc/lazy_import.pyx", line 383, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3398)
        return self._get_object()(*args, **kwds)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/combinat/cluster_algebra_quiver/quiver.py", line 342, in __init__
        dg = DiGraph( data )
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/digraph.py", line 716, in __init__
        deprecation(15706, "You created a graph with loops from a list. "+
    NameError: global name 'deprecation' is not defined
**********************************************************************
1 item had failures:
   2 of  41 in sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver
    [227 tests, 2 failures, 2.01 s]
----------------------------------------------------------------------
sage -t --warn-long 38.5 src/sage/combinat/cluster_algebra_quiver/quiver.py  # 2 doctests failed
```



---

archive/issue_events_127830.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-03T21:51:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127830"
}
```



---

archive/issue_events_127831.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-03T21:51:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127831"
}
```



---

archive/issue_comments_180409.json:
```json
{
    "body": "**Changing commit** from \"[703016840815038fe79b466d67bb297a8fd43042](https://github.com/sagemath/sagetrac-mirror/commit/703016840815038fe79b466d67bb297a8fd43042)\" to \"[187d1d8a216d763ae4c3af3ce5c4f449d5720c74](https://github.com/sagemath/sagetrac-mirror/commit/187d1d8a216d763ae4c3af3ce5c4f449d5720c74)\".",
    "created_at": "2015-01-03T22:44:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180409",
    "user": "https://github.com/darijgr"
}
```

**Changing commit** from "[703016840815038fe79b466d67bb297a8fd43042](https://github.com/sagemath/sagetrac-mirror/commit/703016840815038fe79b466d67bb297a8fd43042)" to "[187d1d8a216d763ae4c3af3ce5c4f449d5720c74](https://github.com/sagemath/sagetrac-mirror/commit/187d1d8a216d763ae4c3af3ce5c4f449d5720c74)".



---

archive/issue_comments_180410.json:
```json
{
    "body": "<a id='comment:33'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b3f5826823450ce855198d0b616eef3fa3b0a5a\">8b3f582</a></td><td><code>reverted a merge-incompatible change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/187d1d8a216d763ae4c3af3ce5c4f449d5720c74\">187d1d8</a></td><td><code>customize order of edges + customize sources and sinks</code></td></tr></table>\n",
    "created_at": "2015-01-03T22:44:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180410",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:33'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b3f5826823450ce855198d0b616eef3fa3b0a5a">8b3f582</a></td><td><code>reverted a merge-incompatible change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/187d1d8a216d763ae4c3af3ce5c4f449d5720c74">187d1d8</a></td><td><code>customize order of edges + customize sources and sinks</code></td></tr></table>




---

archive/issue_events_127832.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2015-01-03T22:44:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127832"
}
```



---

archive/issue_events_127833.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2015-01-03T22:44:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127833"
}
```



---

archive/issue_comments_180411.json:
```json
{
    "body": "**Changing branch** from \"[u/tscrim/flow_polytopes-14654](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/flow_polytopes-14654)\" to \"[u/darij/flow_polytopes-14654](https://github.com/sagemath/sagetrac-mirror/tree/u/darij/flow_polytopes-14654)\".",
    "created_at": "2015-01-03T22:44:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180411",
    "user": "https://github.com/darijgr"
}
```

**Changing branch** from "[u/tscrim/flow_polytopes-14654](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/flow_polytopes-14654)" to "[u/darij/flow_polytopes-14654](https://github.com/sagemath/sagetrac-mirror/tree/u/darij/flow_polytopes-14654)".



---

archive/issue_comments_180412.json:
```json
{
    "body": "<a id='comment:34'></a>\nSorry guys, just added some more complexity. I do not particularly trust `self.edges()` to be consistent, let alone reasonable, about the order in which it outputs edges. And sources and sinks are now specifiable by the user.",
    "created_at": "2015-01-03T22:46:00Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180412",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:34'></a>
Sorry guys, just added some more complexity. I do not particularly trust `self.edges()` to be consistent, let alone reasonable, about the order in which it outputs edges. And sources and sinks are now specifiable by the user.



---

archive/issue_comments_180413.json:
```json
{
    "body": "**Changing commit** from \"[187d1d8a216d763ae4c3af3ce5c4f449d5720c74](https://github.com/sagemath/sagetrac-mirror/commit/187d1d8a216d763ae4c3af3ce5c4f449d5720c74)\" to \"[37ef5cbd6aaa4bc4938f55b420c7db15933322d4](https://github.com/sagemath/sagetrac-mirror/commit/37ef5cbd6aaa4bc4938f55b420c7db15933322d4)\".",
    "created_at": "2015-03-02T20:42:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180413",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[187d1d8a216d763ae4c3af3ce5c4f449d5720c74](https://github.com/sagemath/sagetrac-mirror/commit/187d1d8a216d763ae4c3af3ce5c4f449d5720c74)" to "[37ef5cbd6aaa4bc4938f55b420c7db15933322d4](https://github.com/sagemath/sagetrac-mirror/commit/37ef5cbd6aaa4bc4938f55b420c7db15933322d4)".



---

archive/issue_comments_180414.json:
```json
{
    "body": "<a id='comment:35'></a>\nOk, I have just added the word \"optional\" in a few places. I would have prefered more simplicity, but nevertheless this seems to be good to go. If somebody else agrees, please set it to positive review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/586cf135302d77e3b4a056b3d15f4c9c8c0bb4cb\">586cf13</a></td><td><code>Merge branch 'u/darij/flow_polytopes-14654' into 6.6.b2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37ef5cbd6aaa4bc4938f55b420c7db15933322d4\">37ef5cb</a></td><td><code>trac #14654 make more clear that ends and edges are optional in flow_polytope</code></td></tr></table>\n",
    "created_at": "2015-03-02T20:42:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180414",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:35'></a>
Ok, I have just added the word "optional" in a few places. I would have prefered more simplicity, but nevertheless this seems to be good to go. If somebody else agrees, please set it to positive review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/586cf135302d77e3b4a056b3d15f4c9c8c0bb4cb">586cf13</a></td><td><code>Merge branch 'u/darij/flow_polytopes-14654' into 6.6.b2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37ef5cbd6aaa4bc4938f55b420c7db15933322d4">37ef5cb</a></td><td><code>trac #14654 make more clear that ends and edges are optional in flow_polytope</code></td></tr></table>




---

archive/issue_comments_180415.json:
```json
{
    "body": "**Changing branch** from \"[u/darij/flow_polytopes-14654](https://github.com/sagemath/sagetrac-mirror/tree/u/darij/flow_polytopes-14654)\" to \"[u/chapoton/14654](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14654)\".",
    "created_at": "2015-03-02T20:42:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180415",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/darij/flow_polytopes-14654](https://github.com/sagemath/sagetrac-mirror/tree/u/darij/flow_polytopes-14654)" to "[u/chapoton/14654](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14654)".



---

archive/issue_comments_180416.json:
```json
{
    "body": "<a id='comment:36'></a>\nI definitely agree with your \"optional\"s -- they can never hurt. Does this mean I should set the ticket to positive_review?",
    "created_at": "2015-03-02T20:45:04Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180416",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:36'></a>
I definitely agree with your "optional"s -- they can never hurt. Does this mean I should set the ticket to positive_review?



---

archive/issue_events_127834.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-02T21:29:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127834"
}
```



---

archive/issue_events_127835.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-02T21:29:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127835"
}
```



---

archive/issue_comments_180417.json:
```json
{
    "body": "<a id='comment:37'></a>\nIn short, yes (although I've just done it :P).",
    "created_at": "2015-03-02T21:29:51Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180417",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>
In short, yes (although I've just done it :P).



---

archive/issue_comments_180418.json:
```json
{
    "body": "**Changing reviewer** from \"Nathann Cohen\" to \"Nathann Cohen, Darij Grinberg, Travis Scrimshaw\".",
    "created_at": "2015-03-02T21:29:51Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180418",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Nathann Cohen" to "Nathann Cohen, Darij Grinberg, Travis Scrimshaw".



---

archive/issue_events_127836.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-03T13:16:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127836"
}
```



---

archive/issue_events_127837.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-03T13:16:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127837"
}
```



---

archive/issue_events_127838.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-03T20:46:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127838"
}
```



---

archive/issue_events_127839.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7eaec3b181a4c760fc7a9079886cfe8ac4ea738d",
    "created_at": "2015-03-03T20:46:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14654#event-127839"
}
```



---

archive/issue_comments_180419.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/14654](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14654)\" to \"[37ef5cbd6aaa4bc4938f55b420c7db15933322d4](https://github.com/sagemath/sagetrac-mirror/commit/37ef5cbd6aaa4bc4938f55b420c7db15933322d4)\".",
    "created_at": "2015-03-03T20:46:14Z",
    "issue": "https://github.com/sagemath/sage/issues/14654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14654#issuecomment-180419",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/14654](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14654)" to "[37ef5cbd6aaa4bc4938f55b420c7db15933322d4](https://github.com/sagemath/sagetrac-mirror/commit/37ef5cbd6aaa4bc4938f55b420c7db15933322d4)".
