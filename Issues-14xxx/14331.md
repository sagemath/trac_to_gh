# Issue 14331: remove explict references to SAGE_ROOT in the doctesting framework

archive/issues_014127.json:
```json
{
    "body": "The new doctesting framework expects the sage library's source code to be in `SAGE_ROOT/devel/sage` which will no longer be the case once we switch layouts. Using the `SAGE_SRC` environment variable will make the transition much easier.\n\n\nApply [attachment:trac14331.patch] then [attachment:trac14331_missed.patch]o the sage library.\n\n**Assignee:** @jasongrout\n\n**CC:**  @jdemeyer @roed314\n\n**Reviewer:** David Roe\n\n**Author:** R. Andrew Ohana\n\n**Merged:** sage-5.9.beta2\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14331\n\n",
    "closed_at": "2013-03-26T22:31:50Z",
    "created_at": "2013-03-22T04:46:50Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.9",
    "title": "remove explict references to SAGE_ROOT in the doctesting framework",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14331",
    "user": "https://github.com/ohanar"
}
```
The new doctesting framework expects the sage library's source code to be in `SAGE_ROOT/devel/sage` which will no longer be the case once we switch layouts. Using the `SAGE_SRC` environment variable will make the transition much easier.


Apply [attachment:trac14331.patch] then [attachment:trac14331_missed.patch]o the sage library.

**Assignee:** @jasongrout

**CC:**  @jdemeyer @roed314

**Reviewer:** David Roe

**Author:** R. Andrew Ohana

**Merged:** sage-5.9.beta2

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/14331





---

archive/issue_comments_226384.json:
```json
{
    "body": "Attachment [trac14331.patch](tarball://root/attachments/some-uuid/ticket14331/trac14331.patch) by @ohanar created at 2013-03-22 04:51:10\n\napply to sage library",
    "created_at": "2013-03-22T04:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226384",
    "user": "https://github.com/ohanar"
}
```

Attachment [trac14331.patch](tarball://root/attachments/some-uuid/ticket14331/trac14331.patch) by @ohanar created at 2013-03-22 04:51:10

apply to sage library



---

archive/issue_comments_226385.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n The new doctesting framework expects the sage library's source code to be in `SAGE_ROOT/devel/sage` which will no longer be the case once we switch layouts. Using the `SAGE_SRC` environment variable will make the transition much easier.\n+\n+\n+Apply [attachment:trac14331.patch] to the sage library.\n``````\n",
    "created_at": "2013-03-22T04:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226385",
    "user": "https://github.com/ohanar"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 The new doctesting framework expects the sage library's source code to be in `SAGE_ROOT/devel/sage` which will no longer be the case once we switch layouts. Using the `SAGE_SRC` environment variable will make the transition much easier.
+
+
+Apply [attachment:trac14331.patch] to the sage library.
``````




---

archive/issue_comments_226386.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-03-22T04:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226386",
    "user": "https://github.com/ohanar"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_226387.json:
```json
{
    "body": "<a id='comment:2'></a>\nLooks good to me.",
    "created_at": "2013-03-22T05:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226387",
    "user": "https://github.com/roed314"
}
```

<a id='comment:2'></a>
Looks good to me.



---

archive/issue_comments_226388.json:
```json
{
    "body": "**Reviewer:** David Roe",
    "created_at": "2013-03-22T05:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226388",
    "user": "https://github.com/roed314"
}
```

**Reviewer:** David Roe



---

archive/issue_comments_226389.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-03-22T05:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226389",
    "user": "https://github.com/roed314"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_226390.json:
```json
{
    "body": "<a id='comment:3'></a>\nDefinitely want this in. We didn't spend so much time on #13432 to be undone by the patch bomb from the new doctesting frame work. We want it ASAP. Thanks for spotting it Andrew and thanks for the review David.\n\nHopefully it doesn't interfere with any of the follow up of #12415.",
    "created_at": "2013-03-24T09:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226390",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'></a>
Definitely want this in. We didn't spend so much time on #13432 to be undone by the patch bomb from the new doctesting frame work. We want it ASAP. Thanks for spotting it Andrew and thanks for the review David.

Hopefully it doesn't interfere with any of the follow up of #12415.



---

archive/issue_comments_226391.json:
```json
{
    "body": "Attachment [trac14331_missed.patch](tarball://root/attachments/some-uuid/ticket14331/trac14331_missed.patch) by @ohanar created at 2013-03-24 18:28:44\n\napply to sage library",
    "created_at": "2013-03-24T18:28:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226391",
    "user": "https://github.com/ohanar"
}
```

Attachment [trac14331_missed.patch](tarball://root/attachments/some-uuid/ticket14331/trac14331_missed.patch) by @ohanar created at 2013-03-24 18:28:44

apply to sage library



---

archive/issue_comments_226392.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2013-03-24T18:29:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226392",
    "user": "https://github.com/ohanar"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_226393.json:
```json
{
    "body": "<a id='comment:5'></a>\nI missed one disguised reference in my first patch, so I've attached a fix for that.",
    "created_at": "2013-03-24T18:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226393",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:5'></a>
I missed one disguised reference in my first patch, so I've attached a fix for that.



---

archive/issue_comments_226394.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n The new doctesting framework expects the sage library's source code to be in `SAGE_ROOT/devel/sage` which will no longer be the case once we switch layouts. Using the `SAGE_SRC` environment variable will make the transition much easier.\n \n \n-Apply [attachment:trac14331.patch] to the sage library.\n+Apply [attachment:trac14331.patch] then [attachment:trac14331_missed.patch]o the sage library.\n``````\n",
    "created_at": "2013-03-24T18:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226394",
    "user": "https://github.com/ohanar"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 The new doctesting framework expects the sage library's source code to be in `SAGE_ROOT/devel/sage` which will no longer be the case once we switch layouts. Using the `SAGE_SRC` environment variable will make the transition much easier.
 
 
-Apply [attachment:trac14331.patch] to the sage library.
+Apply [attachment:trac14331.patch] then [attachment:trac14331_missed.patch]o the sage library.
``````




---

archive/issue_comments_226395.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2013-03-24T18:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226395",
    "user": "https://github.com/ohanar"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_226396.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-03-24T23:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226396",
    "user": "https://github.com/roed314"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_226397.json:
```json
{
    "body": "<a id='comment:6'></a>\nStill looks fine.",
    "created_at": "2013-03-24T23:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226397",
    "user": "https://github.com/roed314"
}
```

<a id='comment:6'></a>
Still looks fine.



---

archive/issue_comments_226398.json:
```json
{
    "body": "**Merged:** sage-5.9.beta2",
    "created_at": "2013-03-26T22:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226398",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.9.beta2



---

archive/issue_events_046879.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-26T22:31:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14331#event-46879"
}
```



---

archive/issue_comments_226399.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2013-03-26T22:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14331#issuecomment-226399",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed
