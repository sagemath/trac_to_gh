# Issue 14832: Unified construction of irreducible polynomials over finite fields

archive/issues_014628.json:
```json
{
    "body": "Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  This ticket does the following:\n\n- implement a new class `PolynomialRing_dense_finite_field`\n- create methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.\n\nIn a separate ticket (#14833), the `FiniteField` constructor is adapted to call the new function.\n\nThe default choice is now deterministic: Conway polynomials if available, otherwise lexicographically first (via NTL/GF2E) in characteristic 2, Adleman-Lenstra (via PARI) in characteristic > 2.\n\nSince it uses PARI's `ffinit`, this depends on #14818.\n\nApply:\n* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch]\n* [attachment:trac_14832-irreducible_polynomial.patch]\n* [attachment:trac_14832-reviewer.patch]\n* [attachment:trac_14832-doctest.patch]\n\n\n**Assignee:** @ClementPernet\n\n**CC:**  @xcaruso\n\n**Keywords:** polynomials\n\n**Reviewer:** Jean-Pierre Flori\n\n**Author:** Peter Bruin\n\n**Merged:** sage-5.12.beta1\n\n**Dependencies:** #14817, #14818\n\nIssue created by migration from https://trac.sagemath.org/ticket/14832\n\n",
    "closed_at": "2013-08-16T21:12:58Z",
    "created_at": "2013-06-27T07:30:40Z",
    "labels": [
        "component: finite rings",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Unified construction of irreducible polynomials over finite fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14832",
    "user": "https://github.com/pjbruin"
}
```
Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  This ticket does the following:

- implement a new class `PolynomialRing_dense_finite_field`
- create methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.

In a separate ticket (#14833), the `FiniteField` constructor is adapted to call the new function.

The default choice is now deterministic: Conway polynomials if available, otherwise lexicographically first (via NTL/GF2E) in characteristic 2, Adleman-Lenstra (via PARI) in characteristic > 2.

Since it uses PARI's `ffinit`, this depends on #14818.

Apply:
* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch]
* [attachment:trac_14832-irreducible_polynomial.patch]
* [attachment:trac_14832-reviewer.patch]
* [attachment:trac_14832-doctest.patch]


**Assignee:** @ClementPernet

**CC:**  @xcaruso

**Keywords:** polynomials

**Reviewer:** Jean-Pierre Flori

**Author:** Peter Bruin

**Merged:** sage-5.12.beta1

**Dependencies:** #14817, #14818

Issue created by migration from https://trac.sagemath.org/ticket/14832





---

archive/issue_comments_224287.json:
```json
{
    "body": "based on 5.11.beta3",
    "created_at": "2013-06-27T07:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224287",
    "user": "https://github.com/pjbruin"
}
```

based on 5.11.beta3



---

archive/issue_comments_224288.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-06-27T07:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224288",
    "user": "https://github.com/pjbruin"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_019963.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14832_make_irreducible_polynomial.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14832/trac_14832_make_irreducible_polynomial.patch",
    "created_at": "2013-06-27T07:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/pjbruin"
}
```



---

archive/issue_comments_224289.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2013-06-27T07:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224289",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:1'></a>




---

archive/issue_comments_224290.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  Here is a patch that creates methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.  In a separate ticket, the `FiniteField` constructor will be adapted to call this function.\n+Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  Here is a patch that creates methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.  In a separate ticket (#14833), the `FiniteField` constructor is adapted to call this function.\n+\n+The default choice is now deterministic: Conway polynomials if available, otherwise lexicographically first (via NTL/GF2E) in characteristic 2, Adleman-Lenstra (via PARI) in characteristic > 2.\n \n Since it uses PARI's `ffinit`, this depends on #14817.\n \n``````\n",
    "created_at": "2013-06-27T07:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224290",
    "user": "https://github.com/pjbruin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
-Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  Here is a patch that creates methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.  In a separate ticket, the `FiniteField` constructor will be adapted to call this function.
+Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  Here is a patch that creates methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.  In a separate ticket (#14833), the `FiniteField` constructor is adapted to call this function.
+
+The default choice is now deterministic: Conway polynomials if available, otherwise lexicographically first (via NTL/GF2E) in characteristic 2, Adleman-Lenstra (via PARI) in characteristic > 2.
 
 Since it uses PARI's `ffinit`, this depends on #14817.
 
``````




---

archive/issue_comments_224291.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n \n Since it uses PARI's `ffinit`, this depends on #14817.\n \n+Apply: [attachment:trac_14832_make_irreducible_polynomial.patch]\n+\n``````\n",
    "created_at": "2013-06-27T07:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224291",
    "user": "https://github.com/pjbruin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 
 Since it uses PARI's `ffinit`, this depends on #14817.
 
+Apply: [attachment:trac_14832_make_irreducible_polynomial.patch]
+
``````




---

archive/issue_comments_224292.json:
```json
{
    "body": "<a id='comment:4'></a>\nMoved finite field-specific code from `PolynomialRing_field.__init__()` to `PolynomialRing_dense_finite_field.__init__()`.",
    "created_at": "2013-06-29T10:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224292",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:4'></a>
Moved finite field-specific code from `PolynomialRing_field.__init__()` to `PolynomialRing_dense_finite_field.__init__()`.



---

archive/issue_comments_224293.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,13 @@\n-Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  Here is a patch that creates methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.  In a separate ticket (#14833), the `FiniteField` constructor is adapted to call this function.\n+Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  This ticket does the following:\n+\n+- implement a new class `PolynomialRing_dense_finite_field`\n+- create methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.\n+\n+In a separate ticket (#14833), the `FiniteField` constructor is adapted to call the new function.\n \n The default choice is now deterministic: Conway polynomials if available, otherwise lexicographically first (via NTL/GF2E) in characteristic 2, Adleman-Lenstra (via PARI) in characteristic > 2.\n \n Since it uses PARI's `ffinit`, this depends on #14817.\n \n-Apply: [attachment:trac_14832_make_irreducible_polynomial.patch]\n+Apply: [attachment:trac_14832-PolynomialRing_dense_finite_field.patch], [attachment:trac_14832-irreducible_polynomial.patch]\n \n``````\n",
    "created_at": "2013-06-29T10:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224293",
    "user": "https://github.com/pjbruin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,13 @@
-Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  Here is a patch that creates methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.  In a separate ticket (#14833), the `FiniteField` constructor is adapted to call this function.
+Currently, every finite field implementation (integers mod *p*, Givaro, NTL, PARI) has its own code for constructing an irreducible polynomial when given a string as the `modulus` keyword.  This ticket does the following:
+
+- implement a new class `PolynomialRing_dense_finite_field`
+- create methods `PolynomialRing_dense_{finite_field,mod_p}.irreducible_element(n, algorithm=None)`.
+
+In a separate ticket (#14833), the `FiniteField` constructor is adapted to call the new function.
 
 The default choice is now deterministic: Conway polynomials if available, otherwise lexicographically first (via NTL/GF2E) in characteristic 2, Adleman-Lenstra (via PARI) in characteristic > 2.
 
 Since it uses PARI's `ffinit`, this depends on #14817.
 
-Apply: [attachment:trac_14832_make_irreducible_polynomial.patch]
+Apply: [attachment:trac_14832-PolynomialRing_dense_finite_field.patch], [attachment:trac_14832-irreducible_polynomial.patch]
 
``````




---

archive/issue_comments_224294.json:
```json
{
    "body": "new class for polynomial rings over finite fields",
    "created_at": "2013-06-29T10:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224294",
    "user": "https://github.com/pjbruin"
}
```

new class for polynomial rings over finite fields



---

archive/attachments_019964.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14832-PolynomialRing_dense_finite_field.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14832/trac_14832-PolynomialRing_dense_finite_field.patch",
    "created_at": "2013-06-29T10:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/pjbruin"
}
```



---

archive/issue_comments_224295.json:
```json
{
    "body": "method irreducible_element()",
    "created_at": "2013-06-29T10:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224295",
    "user": "https://github.com/pjbruin"
}
```

method irreducible_element()



---

archive/attachments_019965.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14832-irreducible_polynomial.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14832/trac_14832-irreducible_polynomial.patch",
    "created_at": "2013-07-08T14:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```



---

archive/issue_comments_224296.json:
```json
{
    "body": "<a id='comment:5'></a>\nIs there any reason for removing the implementation arg to the PR_field constructor?\nI agree it's not used, but maybe at some point :)\n\nAnd why not test in the PR_field constructor if the field is finite and call the new constructor in that case?\n\nBy the way, I'm not sure using is_FiniteField is the right way to check for finite fields.\nUsing the category framework and doing something like \"R in FiniteFields()\" is surely better unless you really rely on implementation details of the FiniteField class and subclasses.",
    "created_at": "2013-07-08T14:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224296",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:5'></a>
Is there any reason for removing the implementation arg to the PR_field constructor?
I agree it's not used, but maybe at some point :)

And why not test in the PR_field constructor if the field is finite and call the new constructor in that case?

By the way, I'm not sure using is_FiniteField is the right way to check for finite fields.
Using the category framework and doing something like "R in FiniteFields()" is surely better unless you really rely on implementation details of the FiniteField class and subclasses.



---

archive/issue_comments_224297.json:
```json
{
    "body": "<a id='comment:6'></a>\n(The same category stuff would be true for IntegerModRing and so on... but I'm not asking you to fix the old code, just not to introduce new \"bad\" stuff.)",
    "created_at": "2013-07-08T14:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224297",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:6'></a>
(The same category stuff would be true for IntegerModRing and so on... but I'm not asking you to fix the old code, just not to introduce new "bad" stuff.)



---

archive/issue_comments_224298.json:
```json
{
    "body": "**Reviewer:** Jean-Pierre Flori",
    "created_at": "2013-07-08T14:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224298",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Reviewer:** Jean-Pierre Flori



---

archive/issue_comments_224299.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2013-07-08T14:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224299",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_224300.json:
```json
{
    "body": "**Work_Issues:** double colons, check for finite fields",
    "created_at": "2013-07-08T14:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224300",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Work_Issues:** double colons, check for finite fields



---

archive/issue_comments_224301.json:
```json
{
    "body": "<a id='comment:7'></a>\nYou also need to use two consecutive colons to introduce examples:\n\n```\nEXAMPLES::\n\n    sage: 1+1\n    2\n```\nor\n\n```\nEXAMPLES:\n\nWe check that 1+1 is equal to 2::\n\n    sage: 1+1\n    2\n```",
    "created_at": "2013-07-08T14:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224301",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:7'></a>
You also need to use two consecutive colons to introduce examples:

```
EXAMPLES::

    sage: 1+1
    2
```
or

```
EXAMPLES:

We check that 1+1 is equal to 2::

    sage: 1+1
    2
```



---

archive/issue_comments_224302.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jpflori](#comment%3A5):\n> Is there any reason for removing the implementation arg to the PR_field constructor?\n> I agree it's not used, but maybe at some point :)\n\n>\n> And why not test in the PR_field constructor if the field is finite and call the new constructor in that case?\n\n\nI think it is better to be conservative with the `implementation` parameter: allow it for the generic `PolynomialRing` constructor and pass it to subclasses that actually have different implementations, but do not add (or keep) the flag in subclasses where it does not do anything.\n\n> By the way, I'm not sure using is_FiniteField is the right way to check for finite fields.\n> Using the category framework and doing something like \"R in FiniteFields()\" is surely better unless you really rely on implementation details of the FiniteField class and subclasses.\n\n\nI did not introduce this way of checking for finite fields; I just moved it to a more specific `__init__` method.  Having said that, I wouldn't agree that using the category framework here is a good thing.\n\nFirst, a finite field might be in different categories (e.g. `FiniteFields` or the future category of subfields of an algebraic closure of **F**<sub>*p*</sub> that we were discussing at #8335); probably the polynomial ring constructor shouldn't have to care about that.\n\nSecond, one reason to have different implementations of `PolynomialRing` *is* so that we can take advantage of implementation details of (subclasses of) `FiniteField`.  There already is an implementation for polynomials over NTL finite fields; similarly, for PARI finite fields it would be desirable to have an implementation for polynomials over those fields.  (I have some code that is much slower than necessary because it uses PARI finite field elements but NTL polynomials over the same finite fields.)",
    "created_at": "2013-07-11T16:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224302",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:8'></a>
Replying to [jpflori](#comment%3A5):
> Is there any reason for removing the implementation arg to the PR_field constructor?
> I agree it's not used, but maybe at some point :)

>
> And why not test in the PR_field constructor if the field is finite and call the new constructor in that case?


I think it is better to be conservative with the `implementation` parameter: allow it for the generic `PolynomialRing` constructor and pass it to subclasses that actually have different implementations, but do not add (or keep) the flag in subclasses where it does not do anything.

> By the way, I'm not sure using is_FiniteField is the right way to check for finite fields.
> Using the category framework and doing something like "R in FiniteFields()" is surely better unless you really rely on implementation details of the FiniteField class and subclasses.


I did not introduce this way of checking for finite fields; I just moved it to a more specific `__init__` method.  Having said that, I wouldn't agree that using the category framework here is a good thing.

First, a finite field might be in different categories (e.g. `FiniteFields` or the future category of subfields of an algebraic closure of **F**<sub>*p*</sub> that we were discussing at #8335); probably the polynomial ring constructor shouldn't have to care about that.

Second, one reason to have different implementations of `PolynomialRing` *is* so that we can take advantage of implementation details of (subclasses of) `FiniteField`.  There already is an implementation for polynomials over NTL finite fields; similarly, for PARI finite fields it would be desirable to have an implementation for polynomials over those fields.  (I have some code that is much slower than necessary because it uses PARI finite field elements but NTL polynomials over the same finite fields.)



---

archive/issue_comments_224303.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [pbruin](#comment%3A8):\n> I did not introduce this way of checking for finite fields; I just moved it to a more specific `__init__` method.  Having said that, I wouldn't agree that using the category framework here is a good thing.\n> \n> First, a finite field might be in different categories (e.g. `FiniteFields` or the future category of subfields of an algebraic closure of **F**<sub>*p*</sub> that we were discussing at #8335); probably the polynomial ring constructor shouldn't have to care about that.\n\n>\nI'd say that a subfield of an algebraic closure would be in the category of finite fields and the new one, just as it is as well in that of integral domains. \n> Second, one reason to have different implementations of `PolynomialRing` *is* so that we can take advantage of implementation details of (subclasses of) `FiniteField`.  There already is an implementation for polynomials over NTL finite fields; similarly, for PARI finite fields it would be desirable to have an implementation for polynomials over those fields.  (I have some code that is much slower than necessary because it uses PARI finite field elements but NTL polynomials over the same finite fields.)\n\nI agree, but I don't think the test performed by is_FiniteField is to ensure implementations details, but really the fact that the robject represents a finite field.\n\nAnyway, as you pointed out you just moved the test  so let's keep this for later.\n\nIf you fix the doc, I'll happily positive review that.",
    "created_at": "2013-07-11T20:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224303",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:9'></a>
Replying to [pbruin](#comment%3A8):
> I did not introduce this way of checking for finite fields; I just moved it to a more specific `__init__` method.  Having said that, I wouldn't agree that using the category framework here is a good thing.
> 
> First, a finite field might be in different categories (e.g. `FiniteFields` or the future category of subfields of an algebraic closure of **F**<sub>*p*</sub> that we were discussing at #8335); probably the polynomial ring constructor shouldn't have to care about that.

>
I'd say that a subfield of an algebraic closure would be in the category of finite fields and the new one, just as it is as well in that of integral domains. 
> Second, one reason to have different implementations of `PolynomialRing` *is* so that we can take advantage of implementation details of (subclasses of) `FiniteField`.  There already is an implementation for polynomials over NTL finite fields; similarly, for PARI finite fields it would be desirable to have an implementation for polynomials over those fields.  (I have some code that is much slower than necessary because it uses PARI finite field elements but NTL polynomials over the same finite fields.)

I agree, but I don't think the test performed by is_FiniteField is to ensure implementations details, but really the fact that the robject represents a finite field.

Anyway, as you pointed out you just moved the test  so let's keep this for later.

If you fix the doc, I'll happily positive review that.



---

archive/issue_comments_224304.json:
```json
{
    "body": "Reviewer patch.",
    "created_at": "2013-07-11T21:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224304",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Reviewer patch.



---

archive/attachments_019966.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14832-reviewer.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14832/trac_14832-reviewer.patch",
    "created_at": "2013-07-11T21:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```



---

archive/issue_comments_224305.json:
```json
{
    "body": "<a id='comment:10'></a>\n",
    "created_at": "2013-07-11T21:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224305",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>




---

archive/issue_comments_224306.json:
```json
{
    "body": "**Changing work_issues** from \"double colons, check for finite fields\" to \"\".",
    "created_at": "2013-07-11T21:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224306",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing work_issues** from "double colons, check for finite fields" to "".



---

archive/issue_comments_224307.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2013-07-11T21:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224307",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_224308.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,5 +9,8 @@\n \n Since it uses PARI's `ffinit`, this depends on #14817.\n \n-Apply: [attachment:trac_14832-PolynomialRing_dense_finite_field.patch], [attachment:trac_14832-irreducible_polynomial.patch]\n+Apply:\n+* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch],\n+* [attachment:trac_14832-irreducible_polynomial.patch],\n+* [attachment:trac_14832-reviewer.patch].\n \n``````\n",
    "created_at": "2013-07-11T21:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224308",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,5 +9,8 @@
 
 Since it uses PARI's `ffinit`, this depends on #14817.
 
-Apply: [attachment:trac_14832-PolynomialRing_dense_finite_field.patch], [attachment:trac_14832-irreducible_polynomial.patch]
+Apply:
+* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch],
+* [attachment:trac_14832-irreducible_polynomial.patch],
+* [attachment:trac_14832-reviewer.patch].
 
``````




---

archive/issue_comments_224309.json:
```json
{
    "body": "<a id='comment:11'></a>\nFor the patchbot, apply only:\n* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch],\n* [attachment:trac_14832-irreducible_polynomial.patch],\n* [attachment:trac_14832-reviewer.patch].",
    "created_at": "2013-07-12T09:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224309",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:11'></a>
For the patchbot, apply only:
* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch],
* [attachment:trac_14832-irreducible_polynomial.patch],
* [attachment:trac_14832-reviewer.patch].



---

archive/issue_comments_224310.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe patchbot doesn't get it:\n\nApply trac_14832-PolynomialRing_dense_finite_field.patch, trac_14832-irreducible_polynomial.patch, trac_14832-reviewer.patch",
    "created_at": "2013-07-16T09:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224310",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:12'></a>
The patchbot doesn't get it:

Apply trac_14832-PolynomialRing_dense_finite_field.patch, trac_14832-irreducible_polynomial.patch, trac_14832-reviewer.patch



---

archive/issue_comments_224311.json:
```json
{
    "body": "**Changing dependencies** from \"#14817\" to \"#14817, #14818\".",
    "created_at": "2013-07-16T11:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224311",
    "user": "https://github.com/pjbruin"
}
```

**Changing dependencies** from "#14817" to "#14817, #14818".



---

archive/issue_comments_224312.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,7 +7,7 @@\n \n The default choice is now deterministic: Conway polynomials if available, otherwise lexicographically first (via NTL/GF2E) in characteristic 2, Adleman-Lenstra (via PARI) in characteristic > 2.\n \n-Since it uses PARI's `ffinit`, this depends on #14817.\n+Since it uses PARI's `ffinit`, this depends on #14818.\n \n Apply:\n * [attachment:trac_14832-PolynomialRing_dense_finite_field.patch],\n``````\n",
    "created_at": "2013-07-16T11:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224312",
    "user": "https://github.com/pjbruin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,7 +7,7 @@
 
 The default choice is now deterministic: Conway polynomials if available, otherwise lexicographically first (via NTL/GF2E) in characteristic 2, Adleman-Lenstra (via PARI) in characteristic > 2.
 
-Since it uses PARI's `ffinit`, this depends on #14817.
+Since it uses PARI's `ffinit`, this depends on #14818.
 
 Apply:
 * [attachment:trac_14832-PolynomialRing_dense_finite_field.patch],
``````




---

archive/issue_comments_224313.json:
```json
{
    "body": "<a id='comment:14'></a>\n\n```\nApply trac_14832-PolynomialRing_dense_finite_field.patch, trac_14832-irreducible_polynomial.patch, trac_14832-reviewer.patch\n```",
    "created_at": "2013-07-17T08:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224313",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:14'></a>

```
Apply trac_14832-PolynomialRing_dense_finite_field.patch, trac_14832-irreducible_polynomial.patch, trac_14832-reviewer.patch
```



---

archive/attachments_019967.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14832-doctest.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14832/trac_14832-doctest.patch",
    "created_at": "2013-07-17T13:12:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/pjbruin"
}
```



---

archive/issue_comments_224314.json:
```json
{
    "body": "add doctest",
    "created_at": "2013-07-17T13:12:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224314",
    "user": "https://github.com/pjbruin"
}
```

add doctest



---

archive/issue_comments_224315.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,7 +10,8 @@\n Since it uses PARI's `ffinit`, this depends on #14818.\n \n Apply:\n-* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch],\n-* [attachment:trac_14832-irreducible_polynomial.patch],\n-* [attachment:trac_14832-reviewer.patch].\n+* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch]\n+* [attachment:trac_14832-irreducible_polynomial.patch]\n+* [attachment:trac_14832-reviewer.patch]\n+* [attachment:trac_14832-doctest.patch]\n \n``````\n",
    "created_at": "2013-07-17T13:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224315",
    "user": "https://github.com/pjbruin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,7 +10,8 @@
 Since it uses PARI's `ffinit`, this depends on #14818.
 
 Apply:
-* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch],
-* [attachment:trac_14832-irreducible_polynomial.patch],
-* [attachment:trac_14832-reviewer.patch].
+* [attachment:trac_14832-PolynomialRing_dense_finite_field.patch]
+* [attachment:trac_14832-irreducible_polynomial.patch]
+* [attachment:trac_14832-reviewer.patch]
+* [attachment:trac_14832-doctest.patch]
 
``````




---

archive/issue_comments_224316.json:
```json
{
    "body": "<a id='comment:16'></a>\nJust want to confirm that Peter's patch solves the patchbot rant and is correct.",
    "created_at": "2013-07-17T13:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224316",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:16'></a>
Just want to confirm that Peter's patch solves the patchbot rant and is correct.



---

archive/issue_comments_224317.json:
```json
{
    "body": "**Merged:** sage-5.12.beta1",
    "created_at": "2013-08-16T21:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14832#issuecomment-224317",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.12.beta1



---

archive/issue_events_048540.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-16T21:12:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14832",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14832#event-48540"
}
```
