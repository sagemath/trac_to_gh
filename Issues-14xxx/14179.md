# Issue 14179: Increase harcoded timeouts default values

archive/issues_013975.json:
```json
{
    "body": "Two hardcoded timeouts default valued make some tests fail on Cygwin (presumably because Cygwin is slow, and forking is horribly slow):\n* sage/tests/cmdline.py, the timeout value (current default 50.0 secs) of test_executable;\n* sagenb/misc/misc.py, the alarm value (current default 1 sec) when launcing the notebook (which makes lauching the notebook tricky.\nSee http://trac.sagemath.org/sage_trac/ticket/6743#comment:144 and http://trac.sagemath.org/sage_trac/ticket/6743#comment:146\n\nJust slightly (from a human point of view) increasing these values let the tests pass on recent and even not so recent and powerful harware running Cygwin, so let's increase these default values unconditionnally rather than adding Cygwin specific code, or warnings about expected to fail tests or whatever; let's say:\n* 100.0 secs in test_executable,\n* 5 secs when launching the notebook.\n\nApply:\n* [attachment:trac_14179-sage_library.patch].\n\nAssignee: tbd\n\nCC:  @jdemeyer @kcrisman @dimpase\n\nKeywords: cygwin timeout\n\nUpstream: Fixed upstream, in a later stable release.\n\nReviewer: Jeroen Demeyer\n\nAuthor: Jean-Pierre Flori\n\nMerged: sage-5.9.beta4\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14179\n\n",
    "closed_at": "2013-04-04T17:40:26Z",
    "created_at": "2013-02-25T14:13:41Z",
    "labels": [
        "component: porting: cygwin",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.9",
    "title": "Increase harcoded timeouts default values",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14179",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Two hardcoded timeouts default valued make some tests fail on Cygwin (presumably because Cygwin is slow, and forking is horribly slow):
* sage/tests/cmdline.py, the timeout value (current default 50.0 secs) of test_executable;
* sagenb/misc/misc.py, the alarm value (current default 1 sec) when launcing the notebook (which makes lauching the notebook tricky.
See http://trac.sagemath.org/sage_trac/ticket/6743#comment:144 and http://trac.sagemath.org/sage_trac/ticket/6743#comment:146

Just slightly (from a human point of view) increasing these values let the tests pass on recent and even not so recent and powerful harware running Cygwin, so let's increase these default values unconditionnally rather than adding Cygwin specific code, or warnings about expected to fail tests or whatever; let's say:
* 100.0 secs in test_executable,
* 5 secs when launching the notebook.

Apply:
* [attachment:trac_14179-sage_library.patch].

Assignee: tbd

CC:  @jdemeyer @kcrisman @dimpase

Keywords: cygwin timeout

Upstream: Fixed upstream, in a later stable release.

Reviewer: Jeroen Demeyer

Author: Jean-Pierre Flori

Merged: sage-5.9.beta4

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14179





---

archive/issue_comments_185854.json:
```json
{
    "body": "<a id='comment:1'></a>Here comes a patch for the Sage library part.\nNot sure of the procedure for modifying the notebook, I'll post a link to here on sage-notebook group.",
    "created_at": "2013-02-25T14:16:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185854",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:1'></a>Here comes a patch for the Sage library part.
Not sure of the procedure for modifying the notebook, I'll post a link to here on sage-notebook group.



---

archive/issue_comments_185855.json:
```json
{
    "body": "<a id='comment:2'></a>(Note the patch name says 14719, but fortunately the commit message states the correct ticket number, so I won't upload another patch, unless modifications are needed of course.)",
    "created_at": "2013-02-25T14:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185855",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:2'></a>(Note the patch name says 14719, but fortunately the commit message states the correct ticket number, so I won't upload another patch, unless modifications are needed of course.)



---

archive/issue_comments_185856.json:
```json
{
    "body": "<a id='comment:3'></a>For sagenb: https://github.com/sagemath/sagenb/pull/137",
    "created_at": "2013-02-27T01:01:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185856",
    "user": "https://github.com/kini"
}
```

<a id='comment:3'></a>For sagenb: https://github.com/sagemath/sagenb/pull/137



---

archive/issue_comments_185857.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 kini]:\n> For sagenb: https://github.com/sagemath/sagenb/pull/137\n\nGreat, thanx!\nWe now just have to make this ticket depend on the future sagenb upgrade.",
    "created_at": "2013-02-27T09:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185857",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:4'></a>Replying to [comment:3 kini]:
> For sagenb: https://github.com/sagemath/sagenb/pull/137

Great, thanx!
We now just have to make this ticket depend on the future sagenb upgrade.



---

archive/issue_comments_185858.json:
```json
{
    "body": "<a id='comment:5'></a>Patchbot, apply trac_14719-sage_library.patch",
    "created_at": "2013-04-02T01:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185858",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>Patchbot, apply trac_14719-sage_library.patch



---

archive/issue_comments_185859.json:
```json
{
    "body": "<a id='comment:6'></a>The notebook fix is in version 0.10.5 and upgrading to this version is #14330.",
    "created_at": "2013-04-02T14:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185859",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:6'></a>The notebook fix is in version 0.10.5 and upgrading to this version is #14330.



---

archive/issue_comments_185860.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -7,6 +7,9 @@\n * 100.0 secs in test_executable,\n * 5 secs when launching the notebook.\n \n+Apply:\n+* [attachment:trac_14719-sage_library.patch].\n+\n Comment: 1\n \n Issue created by migration from https://trac.sagemath.org/ticket/14179\n```\n",
    "created_at": "2013-04-02T14:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185860",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
```diff
--- 
+++ 
@@ -7,6 +7,9 @@
 * 100.0 secs in test_executable,
 * 5 secs when launching the notebook.
 
+Apply:
+* [attachment:trac_14719-sage_library.patch].
+
 Comment: 1
 
 Issue created by migration from https://trac.sagemath.org/ticket/14179
```




---

archive/issue_comments_185861.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-04-02T14:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185861",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_185862.json:
```json
{
    "body": "<a id='comment:7'></a>This doesn't actually depend on #14330.",
    "created_at": "2013-04-02T14:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185862",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>This doesn't actually depend on #14330.



---

archive/issue_comments_185863.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-02T14:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185863",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_185864.json:
```json
{
    "body": "<a id='comment:8'></a>And it needs to be rebased to #12415.",
    "created_at": "2013-04-02T16:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185864",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>And it needs to be rebased to #12415.



---

archive/issue_comments_185865.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-04-02T16:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185865",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_185866.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-04-02T16:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185866",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_185867.json:
```json
{
    "body": "<a id='comment:9'></a>Attachment [trac_14179-sage_library.patch](tarball://root/attachments/some-uuid/ticket14179/trac_14179-sage_library.patch) by jpflori created at 2013-04-02 16:17:42",
    "created_at": "2013-04-02T16:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185867",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:9'></a>Attachment [trac_14179-sage_library.patch](tarball://root/attachments/some-uuid/ticket14179/trac_14179-sage_library.patch) by jpflori created at 2013-04-02 16:17:42



---

archive/issue_comments_185868.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,14 @@\n+Two hardcoded timeouts default valued make some tests fail on Cygwin (presumably because Cygwin is slow, and forking is horribly slow):\n+* sage/tests/cmdline.py, the timeout value (current default 50.0 secs) of test_executable;\n+* sagenb/misc/misc.py, the alarm value (current default 1 sec) when launcing the notebook (which makes lauching the notebook tricky.\n+See http://trac.sagemath.org/sage_trac/ticket/6743#comment:144 and http://trac.sagemath.org/sage_trac/ticket/6743#comment:146\n \n+Just slightly (from a human point of view) increasing these values let the tests pass on recent and even not so recent and powerful harware running Cygwin, so let's increase these default values unconditionnally rather than adding Cygwin specific code, or warnings about expected to fail tests or whatever; let's say:\n+* 100.0 secs in test_executable,\n+* 5 secs when launching the notebook.\n+\n+Apply:\n+* [attachment:trac_14179-sage_library.patch].\n \n Comment: 1\n \n```\n",
    "created_at": "2013-04-02T16:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185868",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,14 @@
+Two hardcoded timeouts default valued make some tests fail on Cygwin (presumably because Cygwin is slow, and forking is horribly slow):
+* sage/tests/cmdline.py, the timeout value (current default 50.0 secs) of test_executable;
+* sagenb/misc/misc.py, the alarm value (current default 1 sec) when launcing the notebook (which makes lauching the notebook tricky.
+See http://trac.sagemath.org/sage_trac/ticket/6743#comment:144 and http://trac.sagemath.org/sage_trac/ticket/6743#comment:146
 
+Just slightly (from a human point of view) increasing these values let the tests pass on recent and even not so recent and powerful harware running Cygwin, so let's increase these default values unconditionnally rather than adding Cygwin specific code, or warnings about expected to fail tests or whatever; let's say:
+* 100.0 secs in test_executable,
+* 5 secs when launching the notebook.
+
+Apply:
+* [attachment:trac_14179-sage_library.patch].
 
 Comment: 1
 
```




---

archive/issue_comments_185869.json:
```json
{
    "body": "<a id='comment:10'></a>In fact I'm not sure what needed to be rebased.\nThe patch I just uploaded was produced on top of 5.9.beta2 but looks exactly like the previous one.\nSo I'll think a little more.",
    "created_at": "2013-04-02T16:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185869",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>In fact I'm not sure what needed to be rebased.
The patch I just uploaded was produced on top of 5.9.beta2 but looks exactly like the previous one.
So I'll think a little more.



---

archive/issue_comments_185870.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2013-04-02T16:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185870",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_185871.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-04-02T16:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185871",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_185872.json:
```json
{
    "body": "<a id='comment:11'></a>Oh, is that the 'r' before '\"\"\"'...",
    "created_at": "2013-04-02T16:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185872",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:11'></a>Oh, is that the 'r' before '"""'...



---

archive/issue_comments_185873.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-02T16:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185873",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_040031.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-04T17:40:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14179#event-40031"
}
```



---

archive/issue_comments_185874.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-04T17:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14179#issuecomment-185874",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
