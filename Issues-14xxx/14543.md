# Issue 14543: Implement compositional inverses of cycle index series

archive/issues_014339.json:
```json
{
    "assignees": [],
    "body": "In #14348, I submitted code which computes the cycle index of the virtual species \u03a9, which is the compositional inverse of the species E+ of nonempty sets. It is possible to compute the compositional inverse of (most) arbitrary cycle indices (subject to some conditions on the low-order terms). The attached patch implements this calculation by adding a compositional_inverse() method to the class CycleIndexSeries. This code is doctested and builds HTML docs without errors.\n\nIt should be noted that this algorithm is very slow; however, it is the best one I know for the general case. The algorithm for computing the cycle index of \u03a9 in #14348 is *much* faster, and that specific species has real computational utility, so I believe it is worthwhile to have both in Sage.\n\nApply [attachment: trac_14543_cycle_index_compositional_inverse.patch.gz](https://github.com/sagemath/sage/files/ticket14543/trac_14543_cycle_index_compositional_inverse.patch.gz).\n\nAssignee: **sage-combinat**\n\nCC:  sage-combinat @mantepse\n\nKeywords: **species, cycle indices, LazyPowerSeries**\n\nBranch/Commit: **[a1d3536](https://github.com/sagemath/sagetrac-mirror/commit/a1d35362dc7663a346971ab75c389b0e100ae9e7)**\n\nWork Issues: **documentation**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Andrew Gainer-Dewar**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14543_\n\n",
    "closed_at": "2014-06-02T12:54:44Z",
    "created_at": "2013-05-06T22:13:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement compositional inverses of cycle index series",
    "type": "issue",
    "updated_at": "2014-06-02T12:54:44Z",
    "url": "https://github.com/sagemath/sage/issues/14543",
    "user": "https://github.com/sagetrac-agd"
}
```
In #14348, I submitted code which computes the cycle index of the virtual species Ω, which is the compositional inverse of the species E+ of nonempty sets. It is possible to compute the compositional inverse of (most) arbitrary cycle indices (subject to some conditions on the low-order terms). The attached patch implements this calculation by adding a compositional_inverse() method to the class CycleIndexSeries. This code is doctested and builds HTML docs without errors.

It should be noted that this algorithm is very slow; however, it is the best one I know for the general case. The algorithm for computing the cycle index of Ω in #14348 is *much* faster, and that specific species has real computational utility, so I believe it is worthwhile to have both in Sage.

Apply [attachment: trac_14543_cycle_index_compositional_inverse.patch.gz](https://github.com/sagemath/sage/files/ticket14543/trac_14543_cycle_index_compositional_inverse.patch.gz).

Assignee: **sage-combinat**

CC:  sage-combinat @mantepse

Keywords: **species, cycle indices, LazyPowerSeries**

Branch/Commit: **[a1d3536](https://github.com/sagemath/sagetrac-mirror/commit/a1d35362dc7663a346971ab75c389b0e100ae9e7)**

Work Issues: **documentation**

Reviewer: **Frédéric Chapoton**

Author: **Andrew Gainer-Dewar**

_Issue created by migration from https://trac.sagemath.org/ticket/14543_





---

archive/issue_events_188929.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2013-05-06T22:13:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188929"
}
```



---

archive/issue_events_188930.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2013-05-06T22:13:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188930"
}
```



---

archive/issue_events_188931.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2013-05-06T22:13:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188931"
}
```



---

archive/issue_events_188932.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2013-05-06T22:13:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188932"
}
```



---

archive/issue_comments_178620.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n In #14348, I submitted code which computes the cycle index of the virtual species \u03a9, which is the compositional inverse of the species E+ of nonempty sets. It is possible to compute the compositional inverse of (most) arbitrary cycle indices (subject to some conditions on the low-order terms). The attached patch implements this calculation by adding a compositional_inverse() method to the class CycleIndexSeries. This code is doctested and builds HTML docs without errors.\n \n It should be noted that this algorithm is very slow; however, it is the best one I know for the general case. The algorithm for computing the cycle index of \u03a9 in #14348 is *much* faster, and that specific species has real computational utility, so I believe it is worthwhile to have both in Sage.\n+\n+Apply [attachment: trac_14543_cycle_index_compositional_inverse.patch.gz](https://github.com/sagemath/sage/files/ticket14543/trac_14543_cycle_index_compositional_inverse.patch.gz).\n``````\n",
    "created_at": "2013-05-06T22:14:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178620",
    "user": "https://github.com/sagetrac-agd"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 In #14348, I submitted code which computes the cycle index of the virtual species Ω, which is the compositional inverse of the species E+ of nonempty sets. It is possible to compute the compositional inverse of (most) arbitrary cycle indices (subject to some conditions on the low-order terms). The attached patch implements this calculation by adding a compositional_inverse() method to the class CycleIndexSeries. This code is doctested and builds HTML docs without errors.
 
 It should be noted that this algorithm is very slow; however, it is the best one I know for the general case. The algorithm for computing the cycle index of Ω in #14348 is *much* faster, and that specific species has real computational utility, so I believe it is worthwhile to have both in Sage.
+
+Apply [attachment: trac_14543_cycle_index_compositional_inverse.patch.gz](https://github.com/sagemath/sage/files/ticket14543/trac_14543_cycle_index_compositional_inverse.patch.gz).
``````




---

archive/issue_events_188933.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2013-05-06T22:14:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188933"
}
```



---

archive/issue_comments_178621.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThis needs to be rebased on a recent version of sage. You need to import the patch on a recent sage, to look at the reject file (containing pieces of code that could not be put at their place), make the appropriate corrections, and then refresh and  export it again.",
    "created_at": "2013-06-05T20:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178621",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'>Comment 2:</a>
This needs to be rebased on a recent version of sage. You need to import the patch on a recent sage, to look at the reject file (containing pieces of code that could not be put at their place), make the appropriate corrections, and then refresh and  export it again.



---

archive/issue_comments_178622.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nThis patch applies fine for me (sage-main 5.10rc0) **after #14542 is applied**. Obviously the patch was made with #14542 applied, and inserts code directly before the method added by #14542, so I can see where the rejection comes from. Does this warrant adding a dependency?",
    "created_at": "2013-06-08T09:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178622",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:3'>Comment 3:</a>
This patch applies fine for me (sage-main 5.10rc0) **after #14542 is applied**. Obviously the patch was made with #14542 applied, and inserts code directly before the method added by #14542, so I can see where the rejection comes from. Does this warrant adding a dependency?



---

archive/issue_comments_178623.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nyes indeed, this is exactly what dependencies are for. I have added the dep. to #14542.",
    "created_at": "2013-06-08T11:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178623",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'>Comment 4:</a>
yes indeed, this is exactly what dependencies are for. I have added the dep. to #14542.



---

archive/issue_comments_178624.json:
```json
{
    "body": "Dependencies: **#14542**",
    "created_at": "2013-06-08T11:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178624",
    "user": "https://github.com/fchapoton"
}
```

Dependencies: **#14542**



---

archive/issue_comments_178625.json:
```json
{
    "body": "Changed dependencies from **#14542** to none",
    "created_at": "2013-06-16T17:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178625",
    "user": "https://github.com/sagetrac-agd"
}
```

Changed dependencies from **#14542** to none



---

archive/issue_comments_178626.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI have uploaded a new version of the patch which moves the code to a different part of the class, eliminating the spurious dependency on #14542. I have also expanded and updated the documentation in two ways: by adding an ALGORITHM block explaining the (rather clumsy) method which is used here, and by adding a SEEALSO explaining the connection to CombinatorialLogarithmSeries.\n\ndarij has suggested in discussion on #14542 that this use of `assert` may cause problems when CycleIndexSeriesRing is based in a complicated ring (like another LazyPowerSeriesRing). Is the best option here to add something like an optional `check_input` option which allows the user to suppress these assertions?",
    "created_at": "2013-06-16T17:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178626",
    "user": "https://github.com/sagetrac-agd"
}
```

<a id='comment:5'>Comment 5:</a>
I have uploaded a new version of the patch which moves the code to a different part of the class, eliminating the spurious dependency on #14542. I have also expanded and updated the documentation in two ways: by adding an ALGORITHM block explaining the (rather clumsy) method which is used here, and by adding a SEEALSO explaining the connection to CombinatorialLogarithmSeries.

darij has suggested in discussion on #14542 that this use of `assert` may cause problems when CycleIndexSeriesRing is based in a complicated ring (like another LazyPowerSeriesRing). Is the best option here to add something like an optional `check_input` option which allows the user to suppress these assertions?



---

archive/issue_comments_178627.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nOn line 775, when you say `0 + p_{1} + \\dots`, does p_{1} just mean the variable X?\n\nI'm surprised that this stuff is in a class named \"CycleIndexSeries\" -- I'd expect it to be defined for LazyPowerSeries in full generality? Of course, it makes sense to also have a wrapper in CycleIndexSeries that gives back the answer in the correct type. (I fear this will have to depend on #13433.)",
    "created_at": "2013-06-17T09:31:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178627",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:6'>Comment 6:</a>
On line 775, when you say `0 + p_{1} + \dots`, does p_{1} just mean the variable X?

I'm surprised that this stuff is in a class named "CycleIndexSeries" -- I'd expect it to be defined for LazyPowerSeries in full generality? Of course, it makes sense to also have a wrapper in CycleIndexSeries that gives back the answer in the correct type. (I fear this will have to depend on #13433.)



---

archive/issue_comments_178628.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@darijgr](#comment%3A6):\n\n> On line 775, when you say `0 + p_{1} + \\dots` , does p_{1}  just mean the variable X?\n\nIn a `CycleIndexSeries` as implemented in Sage, the coefficient on `x^n` is a symmetric function in the power sum basis whose terms are all of degree n. Of course, `p_1` is the only such symmetric function for `n=1`, so the only actual freedom is the coefficient from the underlying base ring. This needs to be non-zero for this inversion method to work; assuming that it's 1 makes things much simpler and is, I think, not a significant restriction.\n\nOr perhaps you meant the *species* `X`? If so, `p_1` is indeed its cycle index series, but this code isn't running at the level of `Species`, so `p_1` seemed clearer.\n\nEither way, if you think there's a better way to write that docstring, I'm certainly open to it\u2014I want the meaning to be as clear as possible!\n\n> I'm surprised that this stuff is in a class named \"CycleIndexSeries \" -- I'd expect it to be defined for LazyPowerSeries  in full generality? Of course, it makes sense to also have a wrapper in CycleIndexSeries  that gives back the answer in the correct type. (I fear this will have to depend on #13433 .)\n\nThat would probably make sense; there's nothing about this algorithm that obviously depends on working at the level of `CycleIndexSeries` (at least to my eye). However, to do that, I'll need some mechanism for determining the compositional identity of an arbitrary `LazyPowerSeriesRing`, to stand in where `X` is now.\n\nIt's not clear to me how this should be done without some detailed knowledge of the specifics of the algebra in question. On the other hand, this does seem like information that each `LazyPowerSeriesRing` should know about itself. Maybe I should add a `compositional_identity` method to `LazyPowerSeriesRing`, move `compositional_inverse` there, and then override `compositional_identity` in `CycleIndexSeriesRing`?",
    "created_at": "2013-06-17T19:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178628",
    "user": "https://github.com/sagetrac-agd"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@darijgr](#comment%3A6):

> On line 775, when you say `0 + p_{1} + \dots` , does p_{1}  just mean the variable X?

In a `CycleIndexSeries` as implemented in Sage, the coefficient on `x^n` is a symmetric function in the power sum basis whose terms are all of degree n. Of course, `p_1` is the only such symmetric function for `n=1`, so the only actual freedom is the coefficient from the underlying base ring. This needs to be non-zero for this inversion method to work; assuming that it's 1 makes things much simpler and is, I think, not a significant restriction.

Or perhaps you meant the *species* `X`? If so, `p_1` is indeed its cycle index series, but this code isn't running at the level of `Species`, so `p_1` seemed clearer.

Either way, if you think there's a better way to write that docstring, I'm certainly open to it—I want the meaning to be as clear as possible!

> I'm surprised that this stuff is in a class named "CycleIndexSeries " -- I'd expect it to be defined for LazyPowerSeries  in full generality? Of course, it makes sense to also have a wrapper in CycleIndexSeries  that gives back the answer in the correct type. (I fear this will have to depend on #13433 .)

That would probably make sense; there's nothing about this algorithm that obviously depends on working at the level of `CycleIndexSeries` (at least to my eye). However, to do that, I'll need some mechanism for determining the compositional identity of an arbitrary `LazyPowerSeriesRing`, to stand in where `X` is now.

It's not clear to me how this should be done without some detailed knowledge of the specifics of the algebra in question. On the other hand, this does seem like information that each `LazyPowerSeriesRing` should know about itself. Maybe I should add a `compositional_identity` method to `LazyPowerSeriesRing`, move `compositional_inverse` there, and then override `compositional_identity` in `CycleIndexSeriesRing`?



---

archive/issue_comments_178629.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nFor the record: I recently needed the compositional inverse for Lazy power series, and a couple other related operations; they are in the patch I am about to attach; you can also find it in the queue. Feel free to take over / recycle whatever might be relevant.",
    "created_at": "2013-06-17T20:04:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178629",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'>Comment 8:</a>
For the record: I recently needed the compositional inverse for Lazy power series, and a couple other related operations; they are in the patch I am about to attach; you can also find it in the queue. Feel free to take over / recycle whatever might be relevant.



---

archive/issue_comments_178630.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAttachment: **[lazy_power_series-more_operations-nt.patch.gz](https://github.com/sagemath/sage/files/ticket14543/lazy_power_series-more_operations-nt.patch.gz)**\n\nOoh -- this is not literally the compositional inverse of a power series? Sorry then; please disregard what I wrote. It would still be nicer to have some explanation of what exactly this is, or a more precise reference (to a section number?).",
    "created_at": "2013-06-17T20:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178630",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:9'>Comment 9:</a>
Attachment: **[lazy_power_series-more_operations-nt.patch.gz](https://github.com/sagemath/sage/files/ticket14543/lazy_power_series-more_operations-nt.patch.gz)**

Ooh -- this is not literally the compositional inverse of a power series? Sorry then; please disregard what I wrote. It would still be nicer to have some explanation of what exactly this is, or a more precise reference (to a section number?).



---

archive/issue_comments_178631.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@darijgr](#comment%3A9):\n> Ooh -- this is not literally the compositional inverse of a power series? Sorry then; please disregard what I wrote. It would still be nicer to have some explanation of what exactly this is, or a more precise reference (to a section number?).\n\nFormally, this is the inverse of the operation of \"cycle index plethysm\", which is handled by the `composition` method of `CycleIndexSeries`. As an abstract operation, it has many of the same properties as power series composition, but at the computational level it is somewhat different; in particular, the induced operation on coefficients is something a bit more subtle than simply multiplying things out.\n\nThat said, the inversion procedure as I've written it out doesn't actually depend on any of the details of the operation \u2218. It suffices that there is a two-sided \u2218-inverse (call it X) and that \u2218 distributes over addition. Thus, writing this procedure up at the `LazyPowerSeries` level and letting `CycleIndexSeries` inherit it should work fine, since `CycleIndexSeries` appropriately overrides `composition`.\n\nThe standard reference on the subject is section 1.4 of \"Combinatorial species and tree-like structures\" by Bergeron, Labelle, and Leroux, although it is discussed at some length in many other sources as well.",
    "created_at": "2013-06-17T20:52:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178631",
    "user": "https://github.com/sagetrac-agd"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@darijgr](#comment%3A9):
> Ooh -- this is not literally the compositional inverse of a power series? Sorry then; please disregard what I wrote. It would still be nicer to have some explanation of what exactly this is, or a more precise reference (to a section number?).

Formally, this is the inverse of the operation of "cycle index plethysm", which is handled by the `composition` method of `CycleIndexSeries`. As an abstract operation, it has many of the same properties as power series composition, but at the computational level it is somewhat different; in particular, the induced operation on coefficients is something a bit more subtle than simply multiplying things out.

That said, the inversion procedure as I've written it out doesn't actually depend on any of the details of the operation ∘. It suffices that there is a two-sided ∘-inverse (call it X) and that ∘ distributes over addition. Thus, writing this procedure up at the `LazyPowerSeries` level and letting `CycleIndexSeries` inherit it should work fine, since `CycleIndexSeries` appropriately overrides `composition`.

The standard reference on the subject is section 1.4 of "Combinatorial species and tree-like structures" by Bergeron, Labelle, and Leroux, although it is discussed at some length in many other sources as well.



---

archive/issue_comments_178632.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@nthiery](#comment%3A8):\n> For the record: I recently needed the compositional inverse for Lazy power series, and a couple other related operations; they are in the patch I am about to attach; you can also find it in the queue. Feel free to take over / recycle whatever might be relevant.\n\nUnfortunately, I don't think this approach will work at the `CycleIndexSeries` level. The `compose_inverse_with` method from your patch, it appears that you're using the Inverse Function Theorem. This actually *does* work at the level of cycle index series (by a sort of combinatorial chain rule!), but the resulting differential equation is intractable in general, because taking species-theoretic derivatives of cycle index series destroys *lots* of information (in particular, every term without a p_1 is destroyed).\n\nI haven't dug too deeply into the algebra, but I am fairly confident that using `LazyPowerSeries` derivatives instead is not mathematically meaningful and won't yield anything useful.\n\nLooking this over has, however, brought to my attention that Sage does not have a method for `CycleIndexSeries` implementing the *species-theoretic* derivative. Curiously, the `LazyPowerSeries` `derivative()` and `integral()` methods are used several times in the existing code-base to pull off algebra tricks, so factoring out these (in my opinion) deceptive names would be a bit of a hassle, but it might still be worthwhile. This is probably at least as much a cultural question as a code one, though, so perhaps I should steer clear until I get to know the environment better?\n\nAlso, since the patchbot now seems to be confused:\n\napply trac_14543_cycle_index_compositional_inverse.patch",
    "created_at": "2013-06-22T22:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178632",
    "user": "https://github.com/sagetrac-agd"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@nthiery](#comment%3A8):
> For the record: I recently needed the compositional inverse for Lazy power series, and a couple other related operations; they are in the patch I am about to attach; you can also find it in the queue. Feel free to take over / recycle whatever might be relevant.

Unfortunately, I don't think this approach will work at the `CycleIndexSeries` level. The `compose_inverse_with` method from your patch, it appears that you're using the Inverse Function Theorem. This actually *does* work at the level of cycle index series (by a sort of combinatorial chain rule!), but the resulting differential equation is intractable in general, because taking species-theoretic derivatives of cycle index series destroys *lots* of information (in particular, every term without a p_1 is destroyed).

I haven't dug too deeply into the algebra, but I am fairly confident that using `LazyPowerSeries` derivatives instead is not mathematically meaningful and won't yield anything useful.

Looking this over has, however, brought to my attention that Sage does not have a method for `CycleIndexSeries` implementing the *species-theoretic* derivative. Curiously, the `LazyPowerSeries` `derivative()` and `integral()` methods are used several times in the existing code-base to pull off algebra tricks, so factoring out these (in my opinion) deceptive names would be a bit of a hassle, but it might still be worthwhile. This is probably at least as much a cultural question as a code one, though, so perhaps I should steer clear until I get to know the environment better?

Also, since the patchbot now seems to be confused:

apply trac_14543_cycle_index_compositional_inverse.patch



---

archive/issue_comments_178633.json:
```json
{
    "body": "Branch: **[u/agd/cis_comp_inv](https://github.com/sagemath/sagetrac-mirror/tree/u/agd/cis_comp_inv)**",
    "created_at": "2013-07-22T03:20:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178633",
    "user": "https://github.com/sagetrac-agd"
}
```

Branch: **[u/agd/cis_comp_inv](https://github.com/sagemath/sagetrac-mirror/tree/u/agd/cis_comp_inv)**



---

archive/issue_comments_178634.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nEDIT: ignore",
    "created_at": "2013-07-29T20:06:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178634",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:13'>Comment 13:</a>
EDIT: ignore



---

archive/issue_comments_178635.json:
```json
{
    "body": "suggestions. please don't fold until you feel safe that they're correct!",
    "created_at": "2013-07-29T20:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178635",
    "user": "https://github.com/darijgr"
}
```

suggestions. please don't fold until you feel safe that they're correct!



---

archive/issue_comments_178636.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nAttachment: **[trac_14543-suggestions-dg.patch.gz](https://github.com/sagemath/sage/files/ticket14543/trac_14543-suggestions-dg.patch.gz)**\n\nI've uploaded a bunch of suggestions: [Do you agree with them? I'm not sure of them myself, as some of them are just my guesses. And I have not filled in the definition of functorial composition since I don't fully understand it myself (I don't have the [BLL] reference, only [BLL-Intro](https://github.com/sagemath/sage/files/ticket14543/7e88d80ebd9b033e073316e4b5f22f5e.gz)), but I've added a #TODO because it should eventually be filled in.\n\nIn the stretch doctest, I replaced `f = CIS([p([1])])` by `f = CIS([p([]), p([1]), p([2]), p.zero()])` because, as far as I understand, when you write a cycle index series as a power series in t, the coefficient before `t^n` has to be a symmetric polynomial homogeneous of degree n.\n\nI have removed the reference to [BLL] from your method because the same reference appears in another method. Generally, every reference needs to exist only once in the source.\n\nI added the `res._name = 'res'` line because the examples in the `define` method in `series.py` do that. Maybe it is cargo cult. I hope you can shed light on this.\n\nIn case you have troubles applying my patch: I've been working atop of #10227, #14685 and #14542. Maybe some of these are dependencies.",
    "created_at": "2013-07-29T20:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178636",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:14'>Comment 14:</a>
Attachment: **[trac_14543-suggestions-dg.patch.gz](https://github.com/sagemath/sage/files/ticket14543/trac_14543-suggestions-dg.patch.gz)**

I've uploaded a bunch of suggestions: [Do you agree with them? I'm not sure of them myself, as some of them are just my guesses. And I have not filled in the definition of functorial composition since I don't fully understand it myself (I don't have the [BLL] reference, only [BLL-Intro](https://github.com/sagemath/sage/files/ticket14543/7e88d80ebd9b033e073316e4b5f22f5e.gz)), but I've added a #TODO because it should eventually be filled in.

In the stretch doctest, I replaced `f = CIS([p([1])])` by `f = CIS([p([]), p([1]), p([2]), p.zero()])` because, as far as I understand, when you write a cycle index series as a power series in t, the coefficient before `t^n` has to be a symmetric polynomial homogeneous of degree n.

I have removed the reference to [BLL] from your method because the same reference appears in another method. Generally, every reference needs to exist only once in the source.

I added the `res._name = 'res'` line because the examples in the `define` method in `series.py` do that. Maybe it is cargo cult. I hope you can shed light on this.

In case you have troubles applying my patch: I've been working atop of #10227, #14685 and #14542. Maybe some of these are dependencies.



---

archive/issue_comments_178637.json:
```json
{
    "body": "Reviewer: **Darij Grinberg**",
    "created_at": "2013-07-31T12:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178637",
    "user": "https://github.com/darijgr"
}
```

Reviewer: **Darij Grinberg**



---

archive/issue_comments_178638.json:
```json
{
    "body": "Author: **Andrew Gainer-Dewar**",
    "created_at": "2013-07-31T12:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178638",
    "user": "https://github.com/darijgr"
}
```

Author: **Andrew Gainer-Dewar**



---

archive/issue_events_188934.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188934"
}
```



---

archive/issue_events_188935.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188935"
}
```



---

archive/issue_comments_178639.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nI am assuming the patch should be merged and the git branch is just there for reference.",
    "created_at": "2013-08-19T06:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178639",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'>Comment 17:</a>
I am assuming the patch should be merged and the git branch is just there for reference.



---

archive/issue_comments_178640.json:
```json
{
    "body": "Changed branch from **[u/agd/cis_comp_inv](https://github.com/sagemath/sagetrac-mirror/tree/u/agd/cis_comp_inv)** to none",
    "created_at": "2013-08-20T21:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178640",
    "user": "https://github.com/sagetrac-agd"
}
```

Changed branch from **[u/agd/cis_comp_inv](https://github.com/sagemath/sagetrac-mirror/tree/u/agd/cis_comp_inv)** to none



---

archive/issue_comments_178641.json:
```json
{
    "body": "Attachment: **[trac_14543_cycle_index_compositional_inverse.patch.gz](https://github.com/sagemath/sage/files/ticket14543/trac_14543_cycle_index_compositional_inverse.patch.gz)**\n\nImplement compositional inverses of cycle index series",
    "created_at": "2013-08-27T21:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178641",
    "user": "https://github.com/sagetrac-agd"
}
```

Attachment: **[trac_14543_cycle_index_compositional_inverse.patch.gz](https://github.com/sagemath/sage/files/ticket14543/trac_14543_cycle_index_compositional_inverse.patch.gz)**

Implement compositional inverses of cycle index series



---

archive/issue_comments_178642.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nReplying to [@darijgr](#comment%3A14):\n\nThanks for your suggestions! I've uploaded a new version of my patch which incorporates some of your changes and applies on top of the current 5.12-beta3 source; see comments below.\n\n> And I have not filled in the definition of functorial composition since I don't fully understand it myself (I don't have the [BLL] reference, only [BLL-Intro]), but I've added a #TODO because it should eventually be filled in.\n\nI cleaned this up in #14809, which will go live when 5.12 ships.\n\n> In the stretch doctest, I replaced `f = CIS([p([1])])` by `f = CIS([p([]), p([1]), p([2]), p.zero()])` because, as far as I understand, when you write a cycle index series as a power series in t, the coefficient before `t^n` has to be a symmetric polynomial homogeneous of degree n.\n\nThis sounds right to me, but I haven't rolled it in because it's not related to compositional inverses. I also left out your other small tweaks to other docstrings It looks like all of this documentation could use an overhaul, though.\n\n> I have removed the reference to [BLL] from your method because the same reference appears in another method. Generally, every reference needs to exist only once in the source.\n\nWhoops!\n\n> I added the `res._name = 'res'` line because the examples in the `define` method in `series.py` do that. Maybe it is cargo cult. I hope you can shed light on this.\n\nI don't claim to understand this entirely either, but I believe (presumably cultishly) that the _name field is meant for user-facing output and shouldn't be set to something not user-useful like \"res\".\n\nPerhaps one day we'll all ascend to the inner temple of `define` and gain true wisdom.",
    "created_at": "2013-08-27T21:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178642",
    "user": "https://github.com/sagetrac-agd"
}
```

<a id='comment:19'>Comment 19:</a>
Replying to [@darijgr](#comment%3A14):

Thanks for your suggestions! I've uploaded a new version of my patch which incorporates some of your changes and applies on top of the current 5.12-beta3 source; see comments below.

> And I have not filled in the definition of functorial composition since I don't fully understand it myself (I don't have the [BLL] reference, only [BLL-Intro]), but I've added a #TODO because it should eventually be filled in.

I cleaned this up in #14809, which will go live when 5.12 ships.

> In the stretch doctest, I replaced `f = CIS([p([1])])` by `f = CIS([p([]), p([1]), p([2]), p.zero()])` because, as far as I understand, when you write a cycle index series as a power series in t, the coefficient before `t^n` has to be a symmetric polynomial homogeneous of degree n.

This sounds right to me, but I haven't rolled it in because it's not related to compositional inverses. I also left out your other small tweaks to other docstrings It looks like all of this documentation could use an overhaul, though.

> I have removed the reference to [BLL] from your method because the same reference appears in another method. Generally, every reference needs to exist only once in the source.

Whoops!

> I added the `res._name = 'res'` line because the examples in the `define` method in `series.py` do that. Maybe it is cargo cult. I hope you can shed light on this.

I don't claim to understand this entirely either, but I believe (presumably cultishly) that the _name field is meant for user-facing output and shouldn't be set to something not user-useful like "res".

Perhaps one day we'll all ascend to the inner temple of `define` and gain true wisdom.



---

archive/issue_comments_178643.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nI fear I don't understand the species code well enough to complete the review. :( How on earth does the `compose` method know to do plethystic rather than usual composition? I assume the answer lies in `_compose_term` in generating.series.py, but that's some unreadable code with unreadable doc.\n\nYou are right about `_name`; what I wrote was bull. Sorry!\n\nPlease remove the trailing whitespace in your code (such as in `return res    `).",
    "created_at": "2013-09-03T14:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178643",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:20'>Comment 20:</a>
I fear I don't understand the species code well enough to complete the review. :( How on earth does the `compose` method know to do plethystic rather than usual composition? I assume the answer lies in `_compose_term` in generating.series.py, but that's some unreadable code with unreadable doc.

You are right about `_name`; what I wrote was bull. Sorry!

Please remove the trailing whitespace in your code (such as in `return res    `).



---

archive/issue_comments_178644.json:
```json
{
    "body": "Changed reviewer from **Darij Grinberg** to none",
    "created_at": "2013-09-03T14:42:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178644",
    "user": "https://github.com/darijgr"
}
```

Changed reviewer from **Darij Grinberg** to none



---

archive/issue_comments_178645.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nfor the **patchbots**:\n\napply trac_14543_cycle_index_compositional_inverse.patch",
    "created_at": "2013-10-22T11:39:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178645",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'>Comment 22:</a>
for the **patchbots**:

apply trac_14543_cycle_index_compositional_inverse.patch



---

archive/issue_events_188936.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2013-11-23T17:07:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188936"
}
```



---

archive/issue_events_188937.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2013-11-23T17:07:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188937"
}
```



---

archive/issue_comments_178646.json:
```json
{
    "body": "Commit: **[df4d3f3](https://github.com/sagemath/sagetrac-mirror/commit/df4d3f3668504897180334d5d63e718c6df76c03)**",
    "created_at": "2013-11-23T17:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178646",
    "user": "https://github.com/sagetrac-agd"
}
```

Commit: **[df4d3f3](https://github.com/sagemath/sagetrac-mirror/commit/df4d3f3668504897180334d5d63e718c6df76c03)**



---

archive/issue_comments_178647.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nI'll be glad to talk through the math of this code with any interested reviewers. It's not horribly complicated, but it's definitely going to look a bit weird if you're used to working with LazyPowerSeries in different contexts. (CycleIndexSeries is a strange creature, but it's super useful!)\n\nAlso, I've switched back over to using Git to manage this\u2014the old Mercurial workflow is just too confusing. How do I tell the build bot to ignore the attachments and only use the branch?",
    "created_at": "2013-11-23T17:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178647",
    "user": "https://github.com/sagetrac-agd"
}
```

<a id='comment:23'>Comment 23:</a>
I'll be glad to talk through the math of this code with any interested reviewers. It's not horribly complicated, but it's definitely going to look a bit weird if you're used to working with LazyPowerSeries in different contexts. (CycleIndexSeries is a strange creature, but it's super useful!)

Also, I've switched back over to using Git to manage this—the old Mercurial workflow is just too confusing. How do I tell the build bot to ignore the attachments and only use the branch?



---

archive/issue_comments_178648.json:
```json
{
    "body": "Branch: **[u/agd/cis/compinv](https://github.com/sagemath/sagetrac-mirror/tree/u/agd/cis/compinv)**",
    "created_at": "2013-11-23T17:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178648",
    "user": "https://github.com/sagetrac-agd"
}
```

Branch: **[u/agd/cis/compinv](https://github.com/sagemath/sagetrac-mirror/tree/u/agd/cis/compinv)**



---

archive/issue_events_188938.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188938"
}
```



---

archive/issue_events_188939.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2013-12-17T18:39:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188939"
}
```



---

archive/issue_comments_178649.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/828c5ad\">828c5ad</a></td><td><code>Merge branch 'develop' into cis/compinv</code></td></tr></table>\n",
    "created_at": "2013-12-25T19:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178649",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/828c5ad">828c5ad</a></td><td><code>Merge branch 'develop' into cis/compinv</code></td></tr></table>




---

archive/issue_comments_178650.json:
```json
{
    "body": "Changed commit from **[df4d3f3](https://github.com/sagemath/sagetrac-mirror/commit/df4d3f3668504897180334d5d63e718c6df76c03)** to **[828c5ad](https://github.com/sagemath/sagetrac-mirror/commit/828c5ad975ab6c7e3d5927040cf2e9334a3e36a9)**",
    "created_at": "2013-12-25T19:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178650",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df4d3f3](https://github.com/sagemath/sagetrac-mirror/commit/df4d3f3668504897180334d5d63e718c6df76c03)** to **[828c5ad](https://github.com/sagemath/sagetrac-mirror/commit/828c5ad975ab6c7e3d5927040cf2e9334a3e36a9)**



---

archive/issue_comments_178651.json:
```json
{
    "body": "Changed keywords from **species, cycle indices** to **species, cycle indices, LazyPowerSeries**",
    "created_at": "2014-01-10T20:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178651",
    "user": "https://github.com/mantepse"
}
```

Changed keywords from **species, cycle indices** to **species, cycle indices, LazyPowerSeries**



---

archive/issue_events_188940.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188940"
}
```



---

archive/issue_events_188941.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188941"
}
```



---

archive/issue_events_188942.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188942"
}
```



---

archive/issue_events_188943.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188943"
}
```



---

archive/issue_events_188944.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-19T06:12:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188944"
}
```



---

archive/issue_events_188945.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-19T06:12:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188945"
}
```



---

archive/issue_comments_178652.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\n\n```\nError building the documentation.\nOSError: [combinat ] None:4: WARNING: citation not found: BLL-Intro\n```",
    "created_at": "2014-05-19T06:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178652",
    "user": "https://github.com/rwst"
}
```

<a id='comment:29'>Comment 29:</a>

```
Error building the documentation.
OSError: [combinat ] None:4: WARNING: citation not found: BLL-Intro
```



---

archive/issue_comments_178653.json:
```json
{
    "body": "Work Issues: **documentation**",
    "created_at": "2014-05-22T07:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178653",
    "user": "https://github.com/fchapoton"
}
```

Work Issues: **documentation**



---

archive/issue_comments_178654.json:
```json
{
    "body": "Changed branch from **[u/agd/cis/compinv](https://github.com/sagemath/sagetrac-mirror/tree/u/agd/cis/compinv)** to **[public/ticket/14543](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14543)**",
    "created_at": "2014-05-25T20:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178654",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/agd/cis/compinv](https://github.com/sagemath/sagetrac-mirror/tree/u/agd/cis/compinv)** to **[public/ticket/14543](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14543)**



---

archive/issue_comments_178655.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nI have corrected the failing doc, hopefully.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d408ec0b9000a2e1eb2a71a17052c0d104650961\">d408ec0</a></td><td><code>Merge branch 'u/agd/cis/compinv' of ssh://trac.sagemath.org:22/sage into 14543</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d403ab9c13177add932d71d074dd2cc1f8256e5\">5d403ab</a></td><td><code>trac #14543 doc correction</code></td></tr></table>\n",
    "created_at": "2014-05-25T20:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178655",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'>Comment 31:</a>
I have corrected the failing doc, hopefully.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d408ec0b9000a2e1eb2a71a17052c0d104650961">d408ec0</a></td><td><code>Merge branch 'u/agd/cis/compinv' of ssh://trac.sagemath.org:22/sage into 14543</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d403ab9c13177add932d71d074dd2cc1f8256e5">5d403ab</a></td><td><code>trac #14543 doc correction</code></td></tr></table>




---

archive/issue_comments_178656.json:
```json
{
    "body": "Changed commit from **[828c5ad](https://github.com/sagemath/sagetrac-mirror/commit/828c5ad975ab6c7e3d5927040cf2e9334a3e36a9)** to **[5d403ab](https://github.com/sagemath/sagetrac-mirror/commit/5d403ab9c13177add932d71d074dd2cc1f8256e5)**",
    "created_at": "2014-05-25T20:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178656",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[828c5ad](https://github.com/sagemath/sagetrac-mirror/commit/828c5ad975ab6c7e3d5927040cf2e9334a3e36a9)** to **[5d403ab](https://github.com/sagemath/sagetrac-mirror/commit/5d403ab9c13177add932d71d074dd2cc1f8256e5)**



---

archive/issue_events_188946.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-05-25T20:09:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188946"
}
```



---

archive/issue_events_188947.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-05-25T20:09:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188947"
}
```



---

archive/issue_comments_178657.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1d35362dc7663a346971ab75c389b0e100ae9e7\">a1d3536</a></td><td><code>trac #14543 changed behaviour when not invertible + doc</code></td></tr></table>\n",
    "created_at": "2014-05-28T12:37:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178657",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>Comment 32:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1d35362dc7663a346971ab75c389b0e100ae9e7">a1d3536</a></td><td><code>trac #14543 changed behaviour when not invertible + doc</code></td></tr></table>




---

archive/issue_comments_178658.json:
```json
{
    "body": "Changed commit from **[5d403ab](https://github.com/sagemath/sagetrac-mirror/commit/5d403ab9c13177add932d71d074dd2cc1f8256e5)** to **[a1d3536](https://github.com/sagemath/sagetrac-mirror/commit/a1d35362dc7663a346971ab75c389b0e100ae9e7)**",
    "created_at": "2014-05-28T12:37:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178658",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5d403ab](https://github.com/sagemath/sagetrac-mirror/commit/5d403ab9c13177add932d71d074dd2cc1f8256e5)** to **[a1d3536](https://github.com/sagemath/sagetrac-mirror/commit/a1d35362dc7663a346971ab75c389b0e100ae9e7)**



---

archive/issue_comments_178659.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nThis looks good to me. Andrew, if you agree with my latest commit, you can set that to positive review.",
    "created_at": "2014-05-28T18:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178659",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:33'>Comment 33:</a>
This looks good to me. Andrew, if you agree with my latest commit, you can set that to positive review.



---

archive/issue_comments_178660.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2014-05-28T18:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178660",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_188948.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2014-05-31T16:33:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188948"
}
```



---

archive/issue_events_188949.json:
```json
{
    "actor": "https://github.com/sagetrac-agd",
    "created_at": "2014-05-31T16:33:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188949"
}
```



---

archive/issue_comments_178661.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nYes, this looks good to me as well! Positive review confirmed. Thanks for your help!",
    "created_at": "2014-05-31T16:33:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178661",
    "user": "https://github.com/sagetrac-agd"
}
```

<a id='comment:34'>Comment 34:</a>
Yes, this looks good to me as well! Positive review confirmed. Thanks for your help!



---

archive/issue_events_188950.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-02T12:54:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188950"
}
```



---

archive/issue_events_188951.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e54d75e39446e270e4d662deb0425f0a78d2c4c3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-06-02T12:54:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14543#event-188951"
}
```



---

archive/issue_comments_178662.json:
```json
{
    "body": "Changed branch from **[public/ticket/14543](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14543)** to **[a1d3536](https://github.com/sagemath/sagetrac-mirror/commit/a1d35362dc7663a346971ab75c389b0e100ae9e7)**",
    "created_at": "2014-06-02T12:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14543#issuecomment-178662",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/14543](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14543)** to **[a1d3536](https://github.com/sagemath/sagetrac-mirror/commit/a1d35362dc7663a346971ab75c389b0e100ae9e7)**
