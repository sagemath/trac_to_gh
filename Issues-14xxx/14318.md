# Issue 14318: More doctests from the book "Calcul mathématique avec Sage" chapter "integration"

archive/issues_014114.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-mvngu"
    ],
    "body": "The attached file provides doctests for examples in the chapter on integration and differential equations. Tests pass with 5.11.\n\nApply only [attachment: trac_14318_doctests_from_french_book.patch](https://github.com/sagemath/sage/files/ticket14318/trac_14318_doctests_from_french_book.patch.gz)\n\nComponent: **doctest coverage**\n\nAuthor: **Laurent Fousse, Paul Zimmermann, Fr\u00e9d\u00e9ric Chapoton**\n\nBranch/Commit: **[u/chapoton/14318](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14318) @ [`91f4bcb`](https://github.com/sagemath/sagetrac-mirror/commit/91f4bcb0655ac10491abda179d0db0104412117d)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton, Paul Zimmermann**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14318_\n\n",
    "closed_at": "2014-01-16T19:23:54Z",
    "created_at": "2013-03-20T04:38:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "More doctests from the book \"Calcul math\u00e9matique avec Sage\" chapter \"integration\"",
    "type": "issue",
    "updated_at": "2014-01-16T19:23:54Z",
    "url": "https://github.com/sagemath/sage/issues/14318",
    "user": "https://github.com/sagetrac-lfousse"
}
```
The attached file provides doctests for examples in the chapter on integration and differential equations. Tests pass with 5.11.

Apply only [attachment: trac_14318_doctests_from_french_book.patch](https://github.com/sagemath/sage/files/ticket14318/trac_14318_doctests_from_french_book.patch.gz)

Component: **doctest coverage**

Author: **Laurent Fousse, Paul Zimmermann, Frédéric Chapoton**

Branch/Commit: **[u/chapoton/14318](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14318) @ [`91f4bcb`](https://github.com/sagemath/sagetrac-mirror/commit/91f4bcb0655ac10491abda179d0db0104412117d)**

Reviewer: **Frédéric Chapoton, Paul Zimmermann**

_Issue created by migration from https://trac.sagemath.org/ticket/14318_





---

archive/issue_events_200170.json:
```json
{
    "actor": "https://github.com/sagetrac-lfousse",
    "created_at": "2013-03-20T04:38:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200170"
}
```



---

archive/issue_events_200171.json:
```json
{
    "actor": "https://github.com/sagetrac-lfousse",
    "created_at": "2013-03-20T04:38:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200171"
}
```



---

archive/issue_events_200172.json:
```json
{
    "actor": "https://github.com/sagetrac-lfousse",
    "created_at": "2013-03-20T04:38:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200172"
}
```



---

archive/issue_events_200173.json:
```json
{
    "actor": "https://github.com/sagetrac-lfousse",
    "created_at": "2013-03-20T04:38:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200173"
}
```



---

archive/issue_events_200174.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2013-03-20T04:38:21Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "subject": "https://github.com/sagetrac-lfousse",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200174"
}
```



---

archive/issue_comments_171709.json:
```json
{
    "body": "Attachment: **[integration_doctest.sage.gz](https://github.com/sagemath/sage/files/ticket14318/integration_doctest.sage.gz)**",
    "created_at": "2013-03-20T04:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171709",
    "user": "https://github.com/sagetrac-lfousse"
}
```

Attachment: **[integration_doctest.sage.gz](https://github.com/sagemath/sage/files/ticket14318/integration_doctest.sage.gz)**



---

archive/issue_events_200175.json:
```json
{
    "actor": "https://github.com/sagetrac-lfousse",
    "created_at": "2013-03-25T01:32:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200175"
}
```



---

archive/issue_comments_171710.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWhat am I supposed to do with this file? Normally, additions to Sage are patches to the Sage library (in `devel/sage`). See [http://sagemath.org/doc/developer/](http://sagemath.org/doc/developer/)",
    "created_at": "2013-04-09T14:24:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171710",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

What am I supposed to do with this file? Normally, additions to Sage are patches to the Sage library (in `devel/sage`). See [http://sagemath.org/doc/developer/](http://sagemath.org/doc/developer/)



---

archive/issue_events_200176.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-09T14:25:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200176"
}
```



---

archive/issue_events_200177.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-09T14:25:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200177"
}
```



---

archive/issue_events_200178.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200178"
}
```



---

archive/issue_events_200179.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200179"
}
```



---

archive/issue_comments_171711.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI've made a proper patch. All tests pass with Sage 5.11. Ready for review.\n\nPaul",
    "created_at": "2013-08-23T11:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171711",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:5" align="right">comment:5</div>

I've made a proper patch. All tests pass with Sage 5.11. Ready for review.

Paul



---

archive/issue_events_200180.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-08-23T11:45:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200180"
}
```



---

archive/issue_events_200181.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-08-23T11:45:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200181"
}
```



---

archive/issue_comments_171712.json:
```json
{
    "body": "Author: **Laurent Fousse, Paul Zimmermann**",
    "created_at": "2013-08-23T11:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171712",
    "user": "https://github.com/zimmermann6"
}
```

Author: **Laurent Fousse, Paul Zimmermann**



---

archive/issue_comments_171713.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-The attached file provides doctests for examples in the chapter on integration and differential equations. Tests pass with 5.7.\n+The attached file provides doctests for examples in the chapter on integration and differential equations. Tests pass with 5.11.\n+\n+Apply only trac_14318_doctests_from_french_book.patch.\n``````\n",
    "created_at": "2013-08-23T11:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171713",
    "user": "https://github.com/zimmermann6"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-The attached file provides doctests for examples in the chapter on integration and differential equations. Tests pass with 5.7.
+The attached file provides doctests for examples in the chapter on integration and differential equations. Tests pass with 5.11.
+
+Apply only trac_14318_doctests_from_french_book.patch.
``````




---

archive/issue_comments_171714.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nok, looks good to me",
    "created_at": "2013-08-30T12:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171714",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

ok, looks good to me



---

archive/issue_comments_171715.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2013-08-30T12:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171715",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_200182.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-08-30T12:18:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200182"
}
```



---

archive/issue_events_200183.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-08-30T12:18:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200183"
}
```



---

archive/issue_events_200184.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-08-30T18:47:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "title_is": "More doctests from the book \"Calcul math\u00e9matique avec Sage\" chapter \"integration\"",
    "title_was": "More doctests from the book \"Calcul math\u00e9matique avec Sage\"",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200184"
}
```



---

archive/issue_comments_171716.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n The attached file provides doctests for examples in the chapter on integration and differential equations. Tests pass with 5.11.\n \n-Apply only trac_14318_doctests_from_french_book.patch.\n+Apply only [attachment: trac_14318_doctests_from_french_book.patch](https://github.com/sagemath/sage/files/ticket14318/trac_14318_doctests_from_french_book.patch.gz)\n``````\n",
    "created_at": "2013-08-30T22:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171716",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 The attached file provides doctests for examples in the chapter on integration and differential equations. Tests pass with 5.11.
 
-Apply only trac_14318_doctests_from_french_book.patch.
+Apply only [attachment: trac_14318_doctests_from_french_book.patch](https://github.com/sagemath/sage/files/ticket14318/trac_14318_doctests_from_french_book.patch.gz)
``````




---

archive/issue_comments_171717.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nthank you Fr\u00e9d\u00e9ric.\n\nPaul",
    "created_at": "2013-08-31T08:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171717",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:9" align="right">comment:9</div>

thank you Frédéric.

Paul



---

archive/issue_comments_171718.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nSome of these examples yield slightly different results on 32-bit systems:\n\n```\nsage -t --long devel/sage/sage/tests/french_book/integration_doctest.py\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 30, in sage.tests.french_book.integration_doctest\nFailed example:\n    N(integrate(exp(-x^2)*log(x), x, 17, 42))\nExpected:\n    2.5657285006962035e-127\nGot:\n    2.565728500696221e-127\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 42, in sage.tests.french_book.integration_doctest\nFailed example:\n    numerical_integral(exp(-x^2)*log(x), 17, 42)\nExpected:\n    (2.5657285006962035e-127, 3.3540254049238093e-128)\nGot:\n    (2.565728500696221e-127, 3.3540254049023843e-128)\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 49, in sage.tests.french_book.integration_doctest\nFailed example:\n    numerical_integral(exp(-x^100), 0, 1.1, algorithm='qng')\nExpected:\n    (0.994327538576531..., 0.016840666914688864)\nGot:\n    (0.9943275385765319, 0.016840666914705607)\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 59, in sage.tests.french_book.integration_doctest\nFailed example:\n    N(integrate(exp(-x^2)*log(x), x, 17, 42), 200)\nExpected:\n    2.5657285006962035e-127\nGot:\n    2.565728500696221e-127\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 80, in sage.tests.french_book.integration_doctest\nFailed example:\n    gp('intnum(x=17, 42, exp(-x^2)*log(x))')\nExpected:\n    2.5657285005610514829173563961304785900 E-127\nGot:\n    2.565728500561051482917356396 E-127\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 85, in sage.tests.french_book.integration_doctest\nFailed example:\n    gp('intnum(x=0, 1, sin(sin(x)))')\nExpected:\n    0.43060610312069060491237735524846578643\nGot:\n    0.4306061031206906049123773553\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 94, in sage.tests.french_book.integration_doctest\nFailed example:\n    gp('intnum(x=0, 1, x^(-1/2))')\nExpected:\n    1.999999999999999999999999999998...\nGot:\n    1.999999999999999999990291881\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 99, in sage.tests.french_book.integration_doctest\nFailed example:\n    gp('intnum(x=[0, -1/2], 1, x^(-1/2))')\nExpected:\n    2.00000000000000000000000000000...\nGot:\n    2.000000000000000000000000000\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 104, in sage.tests.french_book.integration_doctest\nFailed example:\n    gp('intnum(x=[0, -1/42], 1, x^(-1/2))')\nExpected:\n    1.9999999999999999999999999999996...\nGot:\n    1.999999999999999999996899473\n**********************************************************************\n```",
    "created_at": "2013-09-02T10:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171718",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Some of these examples yield slightly different results on 32-bit systems:

```
sage -t --long devel/sage/sage/tests/french_book/integration_doctest.py
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 30, in sage.tests.french_book.integration_doctest
Failed example:
    N(integrate(exp(-x^2)*log(x), x, 17, 42))
Expected:
    2.5657285006962035e-127
Got:
    2.565728500696221e-127
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 42, in sage.tests.french_book.integration_doctest
Failed example:
    numerical_integral(exp(-x^2)*log(x), 17, 42)
Expected:
    (2.5657285006962035e-127, 3.3540254049238093e-128)
Got:
    (2.565728500696221e-127, 3.3540254049023843e-128)
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 49, in sage.tests.french_book.integration_doctest
Failed example:
    numerical_integral(exp(-x^100), 0, 1.1, algorithm='qng')
Expected:
    (0.994327538576531..., 0.016840666914688864)
Got:
    (0.9943275385765319, 0.016840666914705607)
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 59, in sage.tests.french_book.integration_doctest
Failed example:
    N(integrate(exp(-x^2)*log(x), x, 17, 42), 200)
Expected:
    2.5657285006962035e-127
Got:
    2.565728500696221e-127
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 80, in sage.tests.french_book.integration_doctest
Failed example:
    gp('intnum(x=17, 42, exp(-x^2)*log(x))')
Expected:
    2.5657285005610514829173563961304785900 E-127
Got:
    2.565728500561051482917356396 E-127
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 85, in sage.tests.french_book.integration_doctest
Failed example:
    gp('intnum(x=0, 1, sin(sin(x)))')
Expected:
    0.43060610312069060491237735524846578643
Got:
    0.4306061031206906049123773553
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 94, in sage.tests.french_book.integration_doctest
Failed example:
    gp('intnum(x=0, 1, x^(-1/2))')
Expected:
    1.999999999999999999999999999998...
Got:
    1.999999999999999999990291881
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 99, in sage.tests.french_book.integration_doctest
Failed example:
    gp('intnum(x=[0, -1/2], 1, x^(-1/2))')
Expected:
    2.00000000000000000000000000000...
Got:
    2.000000000000000000000000000
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 104, in sage.tests.french_book.integration_doctest
Failed example:
    gp('intnum(x=[0, -1/42], 1, x^(-1/2))')
Expected:
    1.9999999999999999999999999999996...
Got:
    1.999999999999999999996899473
**********************************************************************
```



---

archive/issue_events_200185.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-02T10:09:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200185"
}
```



---

archive/issue_events_200186.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-02T10:09:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200186"
}
```



---

archive/issue_comments_171719.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nOn Linux ia64:\n\n```\nsage -t --long devel/sage/sage/tests/french_book/integration_doctest.py\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 30, in sage.tests.french_book.integration_doctest\nFailed example:\n    N(integrate(exp(-x^2)*log(x), x, 17, 42))\nExpected:\n    2.5657285006962035e-127\nGot:\n    2.565728500696221e-127\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 42, in sage.tests.french_book.integration_doctest\nFailed example:\n    numerical_integral(exp(-x^2)*log(x), 17, 42)\nExpected:\n    (2.5657285006962035e-127, 3.3540254049238093e-128)\nGot:\n    (2.565728500696221e-127, 3.3540254049023813e-128)\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 59, in sage.tests.french_book.integration_doctest\nFailed example:\n    N(integrate(exp(-x^2)*log(x), x, 17, 42), 200)\nExpected:\n    2.5657285006962035e-127\nGot:\n    2.565728500696221e-127\n**********************************************************************\n```",
    "created_at": "2013-09-03T12:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171719",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

On Linux ia64:

```
sage -t --long devel/sage/sage/tests/french_book/integration_doctest.py
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 30, in sage.tests.french_book.integration_doctest
Failed example:
    N(integrate(exp(-x^2)*log(x), x, 17, 42))
Expected:
    2.5657285006962035e-127
Got:
    2.565728500696221e-127
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 42, in sage.tests.french_book.integration_doctest
Failed example:
    numerical_integral(exp(-x^2)*log(x), 17, 42)
Expected:
    (2.5657285006962035e-127, 3.3540254049238093e-128)
Got:
    (2.565728500696221e-127, 3.3540254049023813e-128)
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 59, in sage.tests.french_book.integration_doctest
Failed example:
    N(integrate(exp(-x^2)*log(x), x, 17, 42), 200)
Expected:
    2.5657285006962035e-127
Got:
    2.565728500696221e-127
**********************************************************************
```



---

archive/issue_events_200187.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-09-03T13:03:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200187"
}
```



---

archive/issue_events_200188.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-09-03T13:03:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200188"
}
```



---

archive/issue_comments_171720.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nthe new attachment should fix the numerical noise issues on both 32-bit systems and ia64.\nI'm not sure the notation `1.2345...` works with the scientific notation, thus I've\nused `# rel tol` in some places.\n\nPaul",
    "created_at": "2013-09-03T13:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171720",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:12" align="right">comment:12</div>

the new attachment should fix the numerical noise issues on both 32-bit systems and ia64.
I'm not sure the notation `1.2345...` works with the scientific notation, thus I've
used `# rel tol` in some places.

Paul



---

archive/issue_comments_171721.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@zimmermann6](#comment%3A12):\n> the new attachment should fix the numerical noise issues on both 32-bit systems and ia64.\n> I'm not sure the notation `1.2345...` works with the scientific notation, thus I've\n> used `# rel tol` in some places.\n\nThe `...` notation in doctest results works purely with strings, it doesn't interpret the numbers. Tolerances like `# rel tol` do interpret the numbers, so that's probably the better choice indeed.",
    "created_at": "2013-09-06T08:15:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171721",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@zimmermann6](#comment%3A12):
> the new attachment should fix the numerical noise issues on both 32-bit systems and ia64.
> I'm not sure the notation `1.2345...` works with the scientific notation, thus I've
> used `# rel tol` in some places.

The `...` notation in doctest results works purely with strings, it doesn't interpret the numbers. Tolerances like `# rel tol` do interpret the numbers, so that's probably the better choice indeed.



---

archive/issue_comments_171722.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHello,\n\nI am not happy with the indentation: it should be 4 spaces instead of 2 !\n\nOtherwise, this should be good to go.",
    "created_at": "2013-09-22T11:17:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171722",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

Hello,

I am not happy with the indentation: it should be 4 spaces instead of 2 !

Otherwise, this should be good to go.



---

archive/issue_events_200189.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-09-22T11:17:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200189"
}
```



---

archive/issue_events_200190.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-09-22T11:17:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200190"
}
```



---

archive/issue_events_200191.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-11-13T10:00:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200191"
}
```



---

archive/issue_events_200192.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2013-11-13T10:00:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200192"
}
```



---

archive/issue_comments_171723.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[trac_14318_doctests_from_french_book.patch.gz](https://github.com/sagemath/sage/files/ticket14318/trac_14318_doctests_from_french_book.patch.gz)**\n\n> I am not happy with the indentation: it should be 4 spaces instead of 2 !\n\nfixed in the new attachment.\n\nPaul",
    "created_at": "2013-11-13T10:00:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171723",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[trac_14318_doctests_from_french_book.patch.gz](https://github.com/sagemath/sage/files/ticket14318/trac_14318_doctests_from_french_book.patch.gz)**

> I am not happy with the indentation: it should be 4 spaces instead of 2 !

fixed in the new attachment.

Paul



---

archive/issue_comments_171724.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThere still remains\n\n```\nsage -t --long devel/sage/sage/tests/french_book/integration_doctest.py\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 94, in sage.tests.french_book.integration_doctest\nFailed example:\n    gp('intnum(x=0, 1, x^(-1/2))')\nExpected:\n    1.999999999999999999999...\nGot:\n    1.999999999999999999990291881\n**********************************************************************\nFile \"devel/sage/sage/tests/french_book/integration_doctest.py\", line 104, in sage.tests.french_book.integration_doctest\nFailed example:\n    gp('intnum(x=[0, -1/42], 1, x^(-1/2))')\nExpected:\n    1.999999999999999999999...\nGot:\n    1.999999999999999999996899473\n**********************************************************************\n```",
    "created_at": "2013-11-22T14:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171724",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

There still remains

```
sage -t --long devel/sage/sage/tests/french_book/integration_doctest.py
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 94, in sage.tests.french_book.integration_doctest
Failed example:
    gp('intnum(x=0, 1, x^(-1/2))')
Expected:
    1.999999999999999999999...
Got:
    1.999999999999999999990291881
**********************************************************************
File "devel/sage/sage/tests/french_book/integration_doctest.py", line 104, in sage.tests.french_book.integration_doctest
Failed example:
    gp('intnum(x=[0, -1/42], 1, x^(-1/2))')
Expected:
    1.999999999999999999999...
Got:
    1.999999999999999999996899473
**********************************************************************
```



---

archive/issue_events_200193.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-22T14:44:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200193"
}
```



---

archive/issue_events_200194.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-22T14:44:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200194"
}
```



---

archive/issue_events_200195.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-12-22T19:40:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200195"
}
```



---

archive/issue_events_200196.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-12-22T19:40:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200196"
}
```



---

archive/issue_comments_171725.json:
```json
{
    "body": "Commit: **[`91f4bcb`](https://github.com/sagemath/sagetrac-mirror/commit/91f4bcb0655ac10491abda179d0db0104412117d)**",
    "created_at": "2013-12-22T19:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171725",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`91f4bcb`](https://github.com/sagemath/sagetrac-mirror/commit/91f4bcb0655ac10491abda179d0db0104412117d)**



---

archive/issue_comments_171726.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91f4bcb\"><code>91f4bcb</code></a></td><td><code>trac #14318 lower precision required</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/804f8f9\"><code>804f8f9</code></a></td><td><code>#14318: More doctests from the book \"Calcul math\u00e9matique avec Sage\" chapter \"integration\"</code></td></tr></table>\n",
    "created_at": "2013-12-22T19:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171726",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91f4bcb"><code>91f4bcb</code></a></td><td><code>trac #14318 lower precision required</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/804f8f9"><code>804f8f9</code></a></td><td><code>#14318: More doctests from the book "Calcul mathématique avec Sage" chapter "integration"</code></td></tr></table>




---

archive/issue_comments_171727.json:
```json
{
    "body": "Branch: **[u/chapoton/14318](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14318)**",
    "created_at": "2013-12-22T19:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171727",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/14318](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/14318)**



---

archive/issue_comments_171728.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nPaul or Laurent, if you agree with my changes, you can set this to positive review.",
    "created_at": "2014-01-05T09:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171728",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

Paul or Laurent, if you agree with my changes, you can set this to positive review.



---

archive/issue_comments_171729.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n> Paul or Laurent, if you agree with my changes, you can set this to positive review. \n\nFr\u00e9d\u00e9ric, commit 91f4bcb is fine to me. I guess the other one (804f8f9) is just the original file?\n\nPaul",
    "created_at": "2014-01-06T21:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171729",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:19" align="right">comment:19</div>

> Paul or Laurent, if you agree with my changes, you can set this to positive review. 

Frédéric, commit 91f4bcb is fine to me. I guess the other one (804f8f9) is just the original file?

Paul



---

archive/issue_comments_171730.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nYes, the first commit is just the patch trac_14318_doctests_from_french_book.patch\u200b turned into a git commit",
    "created_at": "2014-01-07T08:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171730",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:20" align="right">comment:20</div>

Yes, the first commit is just the patch trac_14318_doctests_from_french_book.patch​ turned into a git commit



---

archive/issue_comments_171731.json:
```json
{
    "body": "Changed author from **Laurent Fousse, Paul Zimmermann** to **Laurent Fousse, Paul Zimmermann, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2014-01-07T08:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171731",
    "user": "https://github.com/zimmermann6"
}
```

Changed author from **Laurent Fousse, Paul Zimmermann** to **Laurent Fousse, Paul Zimmermann, Frédéric Chapoton**



---

archive/issue_comments_171732.json:
```json
{
    "body": "Changed reviewer from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Paul Zimmermann**",
    "created_at": "2014-01-07T08:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171732",
    "user": "https://github.com/zimmermann6"
}
```

Changed reviewer from **Frédéric Chapoton** to **Frédéric Chapoton, Paul Zimmermann**



---

archive/issue_comments_171733.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nthanks, then I give a positive review.\n\nPaul",
    "created_at": "2014-01-07T08:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14318#issuecomment-171733",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:21" align="right">comment:21</div>

thanks, then I give a positive review.

Paul



---

archive/issue_events_200197.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2014-01-07T08:49:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200197"
}
```



---

archive/issue_events_200198.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2014-01-07T08:49:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200198"
}
```



---

archive/issue_events_200199.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-16T19:23:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200199"
}
```



---

archive/issue_events_200200.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ebfa56ff7530cc5beab6b10eb80e75b812bb25d7",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-01-16T19:23:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14318",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14318#event-200200"
}
```
