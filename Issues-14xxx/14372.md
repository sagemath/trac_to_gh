# Issue 14372: Document ccache in developer guide

archive/issues_014168.json:
```json
{
    "body": "This is useful and should be more widely visible.  Some hints as to how to enable this when it's already present in a distro would be helpful.\n\n**CC:**  @roed314 @kini @jdemeyer @ppurka @ohanar @videlec\n\n**Reviewer:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/14372\n\n",
    "closed_at": "2017-01-21T18:03:11Z",
    "created_at": "2013-03-28T00:52:31Z",
    "labels": [
        "component: documentation",
        "enhancement",
        "invalid"
    ],
    "title": "Document ccache in developer guide",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14372",
    "user": "https://github.com/robertwb"
}
```
This is useful and should be more widely visible.  Some hints as to how to enable this when it's already present in a distro would be helpful.

**CC:**  @roed314 @kini @jdemeyer @ppurka @ohanar @videlec

**Reviewer:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/14372





---

archive/issue_comments_175156.json:
```json
{
    "body": "<a id='comment:1'></a>\nWhy is this especially handy when using git?\n\nI hope that ccache will not be enabled by default, because you don't want to force 4GB of additional data in the user's home directory. And if it's not enabled by default, why should the package be standard?\n\nNote that I'm not against it being standard, it could be like GCC: shipped but not built by default.",
    "created_at": "2013-03-28T01:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175156",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>
Why is this especially handy when using git?

I hope that ccache will not be enabled by default, because you don't want to force 4GB of additional data in the user's home directory. And if it's not enabled by default, why should the package be standard?

Note that I'm not against it being standard, it could be like GCC: shipped but not built by default.



---

archive/issue_comments_175157.json:
```json
{
    "body": "<a id='comment:2'></a>\nOne option I just discussed with Robert is to by default only turn on ccache for files in the Sage library.  This could drop the space requirement substantially.",
    "created_at": "2013-03-28T02:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175157",
    "user": "https://github.com/roed314"
}
```

<a id='comment:2'></a>
One option I just discussed with Robert is to by default only turn on ccache for files in the Sage library.  This could drop the space requirement substantially.



---

archive/issue_comments_175158.json:
```json
{
    "body": "<a id='comment:3'></a>\nBeing optional for a while doesn't imply it should get standard;  there are many packages that are optional since quite a while, and you certainly won't want to include all of them.\n\nIMHO we already have too many \"standard\" packages, some are only built on a few platforms, or under certain circumstances, some only useful to (or necessary for) a few people.",
    "created_at": "2013-03-28T02:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175158",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:3'></a>
Being optional for a while doesn't imply it should get standard;  there are many packages that are optional since quite a while, and you certainly won't want to include all of them.

IMHO we already have too many "standard" packages, some are only built on a few platforms, or under certain circumstances, some only useful to (or necessary for) a few people.



---

archive/issue_comments_175159.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [leif](#comment%3A3):\n> Being optional for a while doesn't imply it should get standard;  there are many packages that are optional since quite a while, and you certainly won't want to include all of them.\n> \n> IMHO we already have too many \"standard\" packages, some are only built on a few platforms, or under certain circumstances, some only useful to (or necessary for) a few people.\n\n\nI don't think Robert was claiming that ccache should become standard *because* it has been optional for a while, but rather that it has been optional for long enough to satisfy that requirement for becoming a standard package.\n\nWe do have a bunch of standard packages, but I agree with Robert that ccache would be useful for almost every Sage developer (which is more than can be said of some of our current standard spkgs).",
    "created_at": "2013-03-28T02:35:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175159",
    "user": "https://github.com/roed314"
}
```

<a id='comment:4'></a>
Replying to [leif](#comment%3A3):
> Being optional for a while doesn't imply it should get standard;  there are many packages that are optional since quite a while, and you certainly won't want to include all of them.
> 
> IMHO we already have too many "standard" packages, some are only built on a few platforms, or under certain circumstances, some only useful to (or necessary for) a few people.


I don't think Robert was claiming that ccache should become standard *because* it has been optional for a while, but rather that it has been optional for long enough to satisfy that requirement for becoming a standard package.

We do have a bunch of standard packages, but I agree with Robert that ccache would be useful for almost every Sage developer (which is more than can be said of some of our current standard spkgs).



---

archive/issue_comments_175160.json:
```json
{
    "body": "<a id='comment:5'></a>\nWell, it perfectly fits an *optional* package -- it doesn't require any specific support by the Sage library, just like gdb, autotools, valgrind, also GCC, or whatever, which are mostly there for convenience, but not needed by most Sage users.\n\nShipping (and reinstalling) it with each and every Sage release doesn't make sense to me;  <flame> any serious developer would have it installed [system-wide] anyway if it's of use to him/her </flame>.\n\nDon't make the horse an elephant, otherwise it'll really lose its ability to fly.",
    "created_at": "2013-03-28T02:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175160",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>
Well, it perfectly fits an *optional* package -- it doesn't require any specific support by the Sage library, just like gdb, autotools, valgrind, also GCC, or whatever, which are mostly there for convenience, but not needed by most Sage users.

Shipping (and reinstalling) it with each and every Sage release doesn't make sense to me;  <flame> any serious developer would have it installed [system-wide] anyway if it's of use to him/her </flame>.

Don't make the horse an elephant, otherwise it'll really lose its ability to fly.



---

archive/issue_comments_175161.json:
```json
{
    "body": "<a id='comment:6'></a>\nI essentially agree with leif here: it's a package which is essentially only useful for Sage *developers*, so why should we always use it?",
    "created_at": "2013-03-28T07:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175161",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
I essentially agree with leif here: it's a package which is essentially only useful for Sage *developers*, so why should we always use it?



---

archive/issue_comments_175162.json:
```json
{
    "body": "<a id='comment:7'></a>\nIf we switch to Portage Prefix as our build system, maybe we can have `sci-mathematics/sage-9999[dev]` (or whatever) depend on ccache and other versions of `sci-mathematics/sage` not need to. Developers would build a make target that unmasked `sci-mathematics/sage-9999` before building, say, whereas for users it would remain masked and stuff like the dev scripts and ccache would not be installed.\n\nBut of course that's not really relevant to this ticket.",
    "created_at": "2013-03-28T07:04:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175162",
    "user": "https://github.com/kini"
}
```

<a id='comment:7'></a>
If we switch to Portage Prefix as our build system, maybe we can have `sci-mathematics/sage-9999[dev]` (or whatever) depend on ccache and other versions of `sci-mathematics/sage` not need to. Developers would build a make target that unmasked `sci-mathematics/sage-9999` before building, say, whereas for users it would remain masked and stuff like the dev scripts and ccache would not be installed.

But of course that's not really relevant to this ticket.



---

archive/issue_comments_175163.json:
```json
{
    "body": "<a id='comment:8'></a>\nCCing a couple people I thought might be interested.",
    "created_at": "2013-03-28T07:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175163",
    "user": "https://github.com/kini"
}
```

<a id='comment:8'></a>
CCing a couple people I thought might be interested.



---

archive/issue_comments_175164.json:
```json
{
    "body": "<a id='comment:9'></a>\nI agree with the opinion that ccache shouldn't be a standard package. It is required only for developers, and maybe some developers will *not* want this to be default because of the 4G of storage it demands by default.\n\nFor those who are interested, it can be installed quite easily by setting the environment variable SAGE_INSTALL_CCACHE='yes'. This variable can be added to the `<SHELL>rc` since it doesn't clash with anything else, so that in every new sage installation or (re-)compilation ccache is used.",
    "created_at": "2013-03-28T12:47:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175164",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:9'></a>
I agree with the opinion that ccache shouldn't be a standard package. It is required only for developers, and maybe some developers will *not* want this to be default because of the 4G of storage it demands by default.

For those who are interested, it can be installed quite easily by setting the environment variable SAGE_INSTALL_CCACHE='yes'. This variable can be added to the `<SHELL>rc` since it doesn't clash with anything else, so that in every new sage installation or (re-)compilation ccache is used.



---

archive/issue_comments_175165.json:
```json
{
    "body": "<a id='comment:10'></a>\n> I agree with the opinion that ccache shouldn't be a standard package. It is required only for developers, and maybe some developers will *not* want this to be default because of the 4G of storage it demands by default.\n\nIt seems like this indeed falls in the same category as the packages Leif mentioned.  We include everything needed to build but no more on the devel side.  Maybe if we do move to a more \"modular\" packaging system we could in fact *remove* standard spkgs...\n\nThat said, I don't know anything about ccache, and perhaps neither does the sage-combinat crew (?) so apparently not *all* developers need it.  But by the same token, maybe there is some compelling reason, and it sounds like it doesn't *have* to triple the size of a Sage installation.    What about Jeroen's idea to not build it by default - 185 KB is a fairly large addition, but it's not like we haven't bloated things before :)",
    "created_at": "2013-03-28T13:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175165",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
> I agree with the opinion that ccache shouldn't be a standard package. It is required only for developers, and maybe some developers will *not* want this to be default because of the 4G of storage it demands by default.

It seems like this indeed falls in the same category as the packages Leif mentioned.  We include everything needed to build but no more on the devel side.  Maybe if we do move to a more "modular" packaging system we could in fact *remove* standard spkgs...

That said, I don't know anything about ccache, and perhaps neither does the sage-combinat crew (?) so apparently not *all* developers need it.  But by the same token, maybe there is some compelling reason, and it sounds like it doesn't *have* to triple the size of a Sage installation.    What about Jeroen's idea to not build it by default - 185 KB is a fairly large addition, but it's not like we haven't bloated things before :)



---

archive/issue_comments_175166.json:
```json
{
    "body": "<a id='comment:11'></a>\n-1 from me, too. If you are a serious developer then you hopefully use a distro that ships a working gcc+ccache by default.",
    "created_at": "2013-03-28T15:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175166",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
-1 from me, too. If you are a serious developer then you hopefully use a distro that ships a working gcc+ccache by default.



---

archive/issue_comments_175167.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [vbraun](#comment%3A11):\n> -1 from me, too. If you are a serious developer then you hopefully use a distro that ships a working gcc+ccache by default. \n\nNot every serious developer uses linux (and Sage is incompatible with macports, etc on OSX).\n\nThat said, I don't have a strong opinion on the matter.",
    "created_at": "2013-03-28T15:34:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175167",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:12'></a>
Replying to [vbraun](#comment%3A11):
> -1 from me, too. If you are a serious developer then you hopefully use a distro that ships a working gcc+ccache by default. 

Not every serious developer uses linux (and Sage is incompatible with macports, etc on OSX).

That said, I don't have a strong opinion on the matter.



---

archive/issue_comments_175168.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [ohanar](#comment%3A12):\n> Replying to [vbraun](#comment%3A11):\n> > -1 from me, too. If you are a serious developer then you hopefully use a distro that ships a working gcc+ccache by default. \n\n> Not every serious developer uses linux (and Sage is incompatible with macports, etc on OSX).\n\nIs there a section in the Sage Developer's Guide on how to setup a good Sage development environment on $OS / recommended packages, short introduction on how to setup / use $TOOL?",
    "created_at": "2013-03-28T16:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175168",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:13'></a>
Replying to [ohanar](#comment%3A12):
> Replying to [vbraun](#comment%3A11):
> > -1 from me, too. If you are a serious developer then you hopefully use a distro that ships a working gcc+ccache by default. 

> Not every serious developer uses linux (and Sage is incompatible with macports, etc on OSX).

Is there a section in the Sage Developer's Guide on how to setup a good Sage development environment on $OS / recommended packages, short introduction on how to setup / use $TOOL?



---

archive/issue_comments_175169.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [ohanar](#comment%3A12):\n> Replying to [vbraun](#comment%3A11):\n> > -1 from me, too. If you are a serious developer then you hopefully use a distro that ships a working gcc+ccache by default. \n\n> Not every serious developer uses linux (and Sage is incompatible with macports, etc on OSX).\n\nSo... what is this ccache thing?  If it's automatic and makes `sage -b` faster, should I just use this optional spkg?  I guess I agree that one potential resolution to this ticket would be to tell people to use it.",
    "created_at": "2013-03-28T18:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175169",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
Replying to [ohanar](#comment%3A12):
> Replying to [vbraun](#comment%3A11):
> > -1 from me, too. If you are a serious developer then you hopefully use a distro that ships a working gcc+ccache by default. 

> Not every serious developer uses linux (and Sage is incompatible with macports, etc on OSX).

So... what is this ccache thing?  If it's automatic and makes `sage -b` faster, should I just use this optional spkg?  I guess I agree that one potential resolution to this ticket would be to tell people to use it.



---

archive/issue_comments_175170.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [kcrisman](#comment%3A14):\n> So... what is this ccache thing?\n  \nA compiler cache. It essentially caches the output of `gcc`.\n\n> If it's automatic and makes `sage -b` faster\n\nThat's what it does indeed (in fact, it makes building all C/C++ code in Sage faster, not just `./sage -b`)\n\n> should I just use this optional spkg?\n\nIf you don't mind losing 4GB of disk space, yes you should.",
    "created_at": "2013-03-28T18:16:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175170",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Replying to [kcrisman](#comment%3A14):
> So... what is this ccache thing?
  
A compiler cache. It essentially caches the output of `gcc`.

> If it's automatic and makes `sage -b` faster

That's what it does indeed (in fact, it makes building all C/C++ code in Sage faster, not just `./sage -b`)

> should I just use this optional spkg?

If you don't mind losing 4GB of disk space, yes you should.



---

archive/issue_comments_175171.json:
```json
{
    "body": "<a id='comment:16'></a>\nIt's automatic and makes `sage -b` faster, but it requires a lot of disk space (a few gigabytes), and the effect of making `sage -b` faster is most visible if you used ccache during your initial build of sage from the source tarball, I think.",
    "created_at": "2013-03-28T18:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175171",
    "user": "https://github.com/kini"
}
```

<a id='comment:16'></a>
It's automatic and makes `sage -b` faster, but it requires a lot of disk space (a few gigabytes), and the effect of making `sage -b` faster is most visible if you used ccache during your initial build of sage from the source tarball, I think.



---

archive/issue_comments_175172.json:
```json
{
    "body": "<a id='comment:17'></a>\nYeah, I would say that one mention in the midst of [the env vars list](http://www.sagemath.org/doc/installation/source.html#environment-variables) in the *installation* (not developer) guide wouldn't be sufficient information to alert people to it.  You shouldn't expect a new (mathematically-oriented) developer to be aware of this, per se.",
    "created_at": "2013-03-28T18:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175172",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>
Yeah, I would say that one mention in the midst of [the env vars list](http://www.sagemath.org/doc/installation/source.html#environment-variables) in the *installation* (not developer) guide wouldn't be sufficient information to alert people to it.  You shouldn't expect a new (mathematically-oriented) developer to be aware of this, per se.



---

archive/issue_comments_175173.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [kini](#comment%3A16):\n> the effect of making sage-b faster is most visible if you used ccache during your initial build of sage from the source tarball, I think.\n\nSure, since it's a cache, it can only speed up compilation starting from the *second* time you build the same file.",
    "created_at": "2013-03-28T19:05:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175173",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
Replying to [kini](#comment%3A16):
> the effect of making sage-b faster is most visible if you used ccache during your initial build of sage from the source tarball, I think.

Sure, since it's a cache, it can only speed up compilation starting from the *second* time you build the same file.



---

archive/issue_events_124734.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124734"
}
```



---

archive/issue_events_124735.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124735"
}
```



---

archive/issue_events_124736.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124736"
}
```



---

archive/issue_events_124737.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124737"
}
```



---

archive/issue_comments_175174.json:
```json
{
    "body": "<a id='comment:21'></a>\nNow that we have moved to git, what is the opinion on this?",
    "created_at": "2014-04-15T10:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175174",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:21'></a>
Now that we have moved to git, what is the opinion on this?



---

archive/issue_comments_175175.json:
```json
{
    "body": "<a id='comment:22'></a>\nWe do have the `SAGE_INSTALL_CCACHE` variable now and I personally think that is a perfect solution.",
    "created_at": "2014-04-15T11:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175175",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
We do have the `SAGE_INSTALL_CCACHE` variable now and I personally think that is a perfect solution.



---

archive/issue_events_124738.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-04-15T13:05:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124738"
}
```



---

archive/issue_events_124739.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-04-15T13:05:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124739"
}
```



---

archive/issue_comments_175176.json:
```json
{
    "body": "**Reviewer:** Punarbasu Purkayastha",
    "created_at": "2014-04-15T13:05:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175176",
    "user": "https://github.com/ppurka"
}
```

**Reviewer:** Punarbasu Purkayastha



---

archive/issue_events_124740.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-04-15T13:05:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124740"
}
```



---

archive/issue_events_124741.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-04-15T13:05:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124741"
}
```



---

archive/issue_comments_175177.json:
```json
{
    "body": "<a id='comment:25'></a>\nSo we have to open another ticket to prominently advertise it (in the Sage *Developer's* Guide)? ;-)",
    "created_at": "2014-04-15T13:44:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175177",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:25'></a>
So we have to open another ticket to prominently advertise it (in the Sage *Developer's* Guide)? ;-)



---

archive/issue_comments_175178.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-It's been optional long enough and will be especially handy when using git.\n+This is useful and should be more widely visible.  Some hints as to how to enable this when it's already present in a distro would be helpful.\n``````\n",
    "created_at": "2014-04-15T19:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175178",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-It's been optional long enough and will be especially handy when using git.
+This is useful and should be more widely visible.  Some hints as to how to enable this when it's already present in a distro would be helpful.
``````




---

archive/issue_events_124742.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-04-15T19:10:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "rename": {
        "from": "Make ccache a standard spkg",
        "to": "Document ccache better in developer guide"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124742"
}
```



---

archive/issue_events_124743.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-04-15T19:10:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124743"
}
```



---

archive/issue_events_124744.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-04-15T19:10:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124744"
}
```



---

archive/issue_events_124745.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-04-15T19:10:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124745"
}
```



---

archive/issue_comments_175179.json:
```json
{
    "body": "<a id='comment:26'></a>\n> So we have to open another ticket to prominently advertise it (in the Sage *Developer's* Guide)? ;-)\n\nOr repurpose this one for that, which seems fine to me.  I do agree that 4 GB is nothing to sneeze at, and will reiterate [comment:17](#comment%3A17).",
    "created_at": "2014-04-15T19:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175179",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>
> So we have to open another ticket to prominently advertise it (in the Sage *Developer's* Guide)? ;-)

Or repurpose this one for that, which seems fine to me.  I do agree that 4 GB is nothing to sneeze at, and will reiterate [comment:17](#comment%3A17).



---

archive/issue_comments_175180.json:
```json
{
    "body": "**Changing reviewer** from \"Punarbasu Purkayastha\" to \"\".",
    "created_at": "2014-04-15T19:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175180",
    "user": "https://github.com/kcrisman"
}
```

**Changing reviewer** from "Punarbasu Purkayastha" to "".



---

archive/issue_comments_175181.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [kcrisman](#comment%3A26):\n> > So we have to open another ticket to prominently advertise it (in the Sage *Developer's* Guide)? ;-)\n\n> Or repurpose this one for that, which seems fine to me.  I do agree that 4 GB is nothing to sneeze at, and will reiterate [comment:17](#comment%3A17).\n\nI don't think the necessary additions to the Developer's Guide will get *that* large.",
    "created_at": "2014-04-15T19:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175181",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:27'></a>
Replying to [kcrisman](#comment%3A26):
> > So we have to open another ticket to prominently advertise it (in the Sage *Developer's* Guide)? ;-)

> Or repurpose this one for that, which seems fine to me.  I do agree that 4 GB is nothing to sneeze at, and will reiterate [comment:17](#comment%3A17).

I don't think the necessary additions to the Developer's Guide will get *that* large.



---

archive/issue_comments_175182.json:
```json
{
    "body": "<a id='comment:28'></a>\n> > > So we have to open another ticket to prominently advertise it (in the Sage *Developer's* Guide)? ;-)\n\n> > Or repurpose this one for that, which seems fine to me.  I do agree that 4 GB is nothing to sneeze at, and will reiterate [comment:17](#comment%3A17).\n> \n> I don't think the necessary additions to the Developer's Guide will get *that* large.\n\nLOL",
    "created_at": "2014-04-15T19:43:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175182",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:28'></a>
> > > So we have to open another ticket to prominently advertise it (in the Sage *Developer's* Guide)? ;-)

> > Or repurpose this one for that, which seems fine to me.  I do agree that 4 GB is nothing to sneeze at, and will reiterate [comment:17](#comment%3A17).
> 
> I don't think the necessary additions to the Developer's Guide will get *that* large.

LOL



---

archive/issue_comments_175183.json:
```json
{
    "body": "<a id='comment:29'></a>\nHi,\n\n(ccing me)\n\nI am against shipping ccache in Sage (following [comment:11](#comment%3A11)). On the other hand, if some OS fails to have it then why not doing the same as gcc? I have no strong opinion about this as I think that everybody should use a Unix/GNU distribution (with gcc+ccache available).\n\nNevertheless, it would be fantastic to document the usage of ccache\n- for compiling **only** sage source code\n- for compiling sage source code and third-party softwares\nand I see two places where this might be important\n- the Developer guide\n- the README\n\nI started using ccache today (thanks to Robert Bradshaw). The only thing I did is\n\n```\n $ export PATH=PATH_TO_CCACHE:$PATH\n $ sage -b\n```\nIs that the right way to use it? (it seems so as my cache is much bigger now).\n\nTell me if I can help for something on that ticket.\n\nBest\nVincent",
    "created_at": "2014-04-24T15:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175183",
    "user": "https://github.com/videlec"
}
```

<a id='comment:29'></a>
Hi,

(ccing me)

I am against shipping ccache in Sage (following [comment:11](#comment%3A11)). On the other hand, if some OS fails to have it then why not doing the same as gcc? I have no strong opinion about this as I think that everybody should use a Unix/GNU distribution (with gcc+ccache available).

Nevertheless, it would be fantastic to document the usage of ccache
- for compiling **only** sage source code
- for compiling sage source code and third-party softwares
and I see two places where this might be important
- the Developer guide
- the README

I started using ccache today (thanks to Robert Bradshaw). The only thing I did is

```
 $ export PATH=PATH_TO_CCACHE:$PATH
 $ sage -b
```
Is that the right way to use it? (it seems so as my cache is much bigger now).

Tell me if I can help for something on that ticket.

Best
Vincent



---

archive/issue_comments_175184.json:
```json
{
    "body": "<a id='comment:30'></a>\nFollow up on [comment:29](#comment%3A29): is there a way of caching results of Cythonization?",
    "created_at": "2014-04-24T15:52:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175184",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>
Follow up on [comment:29](#comment%3A29): is there a way of caching results of Cythonization?



---

archive/issue_comments_175185.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [jdemeyer](#comment%3A18):\n> Replying to [kini](#comment%3A16):\n> > the effect of making sage-b faster is most visible if you used ccache during your initial build of sage from the source tarball, I think.\n\n> Sure, since it's a cache, it can only speed up compilation starting from the *second* time you build the same file.\nI'm pretty sure even the first compilation is faster, because some files are used multiple times within an install.",
    "created_at": "2014-04-25T07:33:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175185",
    "user": "https://github.com/rwst"
}
```

<a id='comment:31'></a>
Replying to [jdemeyer](#comment%3A18):
> Replying to [kini](#comment%3A16):
> > the effect of making sage-b faster is most visible if you used ccache during your initial build of sage from the source tarball, I think.

> Sure, since it's a cache, it can only speed up compilation starting from the *second* time you build the same file.
I'm pretty sure even the first compilation is faster, because some files are used multiple times within an install.



---

archive/issue_comments_175186.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [vdelecroix](#comment%3A30):\n> Follow up on [comment:29](#comment%3A29): is there a way of caching results of Cythonization?\n\n\nYes, see #16148. I think every developer should use it (4GB of hard drive space really isn't that much these days) and I think every user should be considered at least a potential developer (at least the ones who compile from source).",
    "created_at": "2014-04-27T03:43:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175186",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:32'></a>
Replying to [vdelecroix](#comment%3A30):
> Follow up on [comment:29](#comment%3A29): is there a way of caching results of Cythonization?


Yes, see #16148. I think every developer should use it (4GB of hard drive space really isn't that much these days) and I think every user should be considered at least a potential developer (at least the ones who compile from source).



---

archive/issue_comments_175187.json:
```json
{
    "body": "<a id='comment:33'></a>\n> > Follow up on [comment:29](#comment%3A29): is there a way of caching results of Cythonization?\n\n> \n> Yes, see #16148. I think every developer should use it (4GB of hard drive space really isn't that much these days) and I think every user should be considered at least a potential developer (at least the ones who compile from source). \n\nThough I don't think it should be in binaries anyway.  On a small USB key and some other situations 4 GB is quite a bit.\n\nThat said, I still don't know how to use this properly!  Taking a chance that just using the env var in my .profile was enough...",
    "created_at": "2014-05-29T17:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175187",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:33'></a>
> > Follow up on [comment:29](#comment%3A29): is there a way of caching results of Cythonization?

> 
> Yes, see #16148. I think every developer should use it (4GB of hard drive space really isn't that much these days) and I think every user should be considered at least a potential developer (at least the ones who compile from source). 

Though I don't think it should be in binaries anyway.  On a small USB key and some other situations 4 GB is quite a bit.

That said, I still don't know how to use this properly!  Taking a chance that just using the env var in my .profile was enough...



---

archive/issue_comments_175188.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [kcrisman](#comment%3A33):\n> Though I don't think it should be in binaries anyway.  On a small USB key and some other situations 4 GB is quite a bit.\n\nThe 4GB is the default cache size. It would sit in the user homedir, and only gets filled if something is actually compiled (which would fail in a binary distribution, I think). So, shipping ccache with a binary would be useless, but it wouldn't particularly use 4GB anywhere either.",
    "created_at": "2014-05-29T19:21:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175188",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:34'></a>
Replying to [kcrisman](#comment%3A33):
> Though I don't think it should be in binaries anyway.  On a small USB key and some other situations 4 GB is quite a bit.

The 4GB is the default cache size. It would sit in the user homedir, and only gets filled if something is actually compiled (which would fail in a binary distribution, I think). So, shipping ccache with a binary would be useless, but it wouldn't particularly use 4GB anywhere either.



---

archive/issue_comments_175189.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [nbruin](#comment%3A34):\n> Replying to [kcrisman](#comment%3A33):\n> > Though I don't think it should be in binaries anyway.  On a small USB key and some other situations 4 GB is quite a bit.\n\n> The 4GB is the default cache size. It would sit in the user homedir\n\nWhich in many cases would be the wrong place.\n\n\n> and only gets filled if something is actually compiled (which would fail in a binary distribution, I think).\n\n\nWhile it only gets filled upon compilation, `sage -b` is sufficient, as is the installation of an optional spkg in many if not most cases.  The only difference of bdists is that they don't come with *upstream* source code (i.e., spkgs, or tarballs in `upstream/`.)\n\n\n> So, shipping ccache with a binary would be useless, but it wouldn't particularly use 4GB anywhere either.\n\n\nSee above.",
    "created_at": "2014-05-29T19:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175189",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:35'></a>
Replying to [nbruin](#comment%3A34):
> Replying to [kcrisman](#comment%3A33):
> > Though I don't think it should be in binaries anyway.  On a small USB key and some other situations 4 GB is quite a bit.

> The 4GB is the default cache size. It would sit in the user homedir

Which in many cases would be the wrong place.


> and only gets filled if something is actually compiled (which would fail in a binary distribution, I think).


While it only gets filled upon compilation, `sage -b` is sufficient, as is the installation of an optional spkg in many if not most cases.  The only difference of bdists is that they don't come with *upstream* source code (i.e., spkgs, or tarballs in `upstream/`.)


> So, shipping ccache with a binary would be useless, but it wouldn't particularly use 4GB anywhere either.


See above.



---

archive/issue_events_124746.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124746"
}
```



---

archive/issue_events_124747.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124747"
}
```



---

archive/issue_events_124748.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-13T14:06:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "component: packages: standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124748"
}
```



---

archive/issue_events_124749.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-13T14:06:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "component: documentation",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124749"
}
```



---

archive/issue_events_124750.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T15:36:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "rename": {
        "from": "Document ccache better in developer guide",
        "to": "Document ccache in developer guide"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124750"
}
```



---

archive/issue_comments_175190.json:
```json
{
    "body": "<a id='comment:38'></a>\nGetting back to the original *point* of this ticket... \n\nIs [the information here](http://www.sagemath.org/doc/installation/source.html#section-envvar) sufficient?  It's true that the *developer* guide does not have any information on it, which seems odd.",
    "created_at": "2014-11-20T15:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175190",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:38'></a>
Getting back to the original *point* of this ticket... 

Is [the information here](http://www.sagemath.org/doc/installation/source.html#section-envvar) sufficient?  It's true that the *developer* guide does not have any information on it, which seems odd.



---

archive/issue_comments_175191.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [kcrisman](#comment%3A38):\n> Getting back to the original *point* of this ticket... \n> \n> Is [the information here](http://www.sagemath.org/doc/installation/source.html#section-envvar) sufficient?  It's true that the *developer* guide does not have any information on it, which seems odd.\n\nI added some information on `ccache` to the developer guide a couple months ago in #21500 without seeing this discussion. If that's the only point of this ticket, then it can be closed as duplicate.",
    "created_at": "2016-11-15T01:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175191",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:39'></a>
Replying to [kcrisman](#comment%3A38):
> Getting back to the original *point* of this ticket... 
> 
> Is [the information here](http://www.sagemath.org/doc/installation/source.html#section-envvar) sufficient?  It's true that the *developer* guide does not have any information on it, which seems odd.

I added some information on `ccache` to the developer guide a couple months ago in #21500 without seeing this discussion. If that's the only point of this ticket, then it can be closed as duplicate.



---

archive/issue_events_124751.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2016-11-15T01:12:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124751"
}
```



---

archive/issue_events_124752.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2016-11-15T01:12:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124752"
}
```



---

archive/issue_events_124753.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2016-11-15T01:12:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124753"
}
```



---

archive/issue_comments_175192.json:
```json
{
    "body": "<a id='comment:41'></a>\nI agree, it can be closed as a dup.",
    "created_at": "2016-11-15T01:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175192",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
I agree, it can be closed as a dup.



---

archive/issue_comments_175193.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2016-11-15T01:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14372#issuecomment-175193",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_events_124754.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-11-15T01:53:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124754"
}
```



---

archive/issue_events_124755.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-11-15T01:53:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124755"
}
```



---

archive/issue_events_124756.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T18:03:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124756"
}
```



---

archive/issue_events_124757.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T18:03:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14372",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14372#event-124757"
}
```
