# Issue 14897: binomial(x, m) gives incorrect answer when m is float

archive/issues_014693.json:
```json
{
    "assignees": [],
    "body": "Essentially, this stuff\n\n```\nsage: binomial(10, 0.1)\n1\n```\nWhat I would have expected it to give as output is\n\n```\nsage: gamma(10+1)/gamma(10-0.1+1)/gamma(0.1+1)\n1.32919082253922\n```\nThis enhancement has to be done on the sage side since both mpir and pari don't give the correct answer. Using the gamma function in these special cases will also take care of complex numbers.\n\nBut, we must avoid changing the whole implementation to the gamma function - that was also giving incorrect results and was fixed in #12448. The `sage.rings.arith.binomial` function itself is a bit of a mess and it is hard to figure out what will eventually get executed in that code.\n\nAssignee: **@aghitza**\n\nKeywords: **binomial**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14897_\n\n",
    "created_at": "2013-07-16T07:32:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "binomial(x, m) gives incorrect answer when m is float",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/14897",
    "user": "https://github.com/ppurka"
}
```
Essentially, this stuff

```
sage: binomial(10, 0.1)
1
```
What I would have expected it to give as output is

```
sage: gamma(10+1)/gamma(10-0.1+1)/gamma(0.1+1)
1.32919082253922
```
This enhancement has to be done on the sage side since both mpir and pari don't give the correct answer. Using the gamma function in these special cases will also take care of complex numbers.

But, we must avoid changing the whole implementation to the gamma function - that was also giving incorrect results and was fixed in #12448. The `sage.rings.arith.binomial` function itself is a bit of a mess and it is hard to figure out what will eventually get executed in that code.

Assignee: **@aghitza**

Keywords: **binomial**

_Issue created by migration from https://trac.sagemath.org/ticket/14897_





---

archive/issue_events_194537.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-07-16T07:32:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194537"
}
```



---

archive/issue_events_194538.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-07-16T07:32:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "component: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194538"
}
```



---

archive/issue_events_194539.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-07-16T07:32:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194539"
}
```



---

archive/issue_events_194540.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-07-16T07:32:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194540"
}
```



---

archive/issue_events_194541.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194541"
}
```



---

archive/issue_events_194542.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194542"
}
```



---

archive/issue_events_194543.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194543"
}
```



---

archive/issue_events_194544.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194544"
}
```



---

archive/issue_events_194545.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194545"
}
```



---

archive/issue_events_194546.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194546"
}
```



---

archive/issue_events_194547.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14897",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14897#event-194547"
}
```
