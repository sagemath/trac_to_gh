# Issue 14523: can't exit or detach after error in attached file

archive/issues_014319.json:
```json
{
    "assignees": [],
    "body": "\n```\n17:57:03:~$ touch myfile.sage\n17:57:05:~$ sage\n----------------------------------------------------------------------\n| Sage Version 5.8, Release Date: 2013-03-15                         |\n| Type \"notebook()\" for the browser-based notebook interface.        |\n| Type \"help()\" for help.                                            |\n----------------------------------------------------------------------\nsage: %attach myfile.sage\nsage: file('myfile.sage', 'w').write('1/0')\nsage: 1+1\n...\nZeroDivisionError: Rational division by zero\nsage: exit\n...\nZeroDivisionError: Rational division by zero\nsage: detach('myfile.sage')\n...\nZeroDivisionError: Rational division by zero\n```\n\nIt seems like the only way to continue using this Sage session is to fix the error first. But suppose you have some reason not to (e.g. are in a hurry, and the error is hard to fix). I think it would be much better if Sage was to evaluate \"1+1\" and especially \"exit\" and \"detach\" even when unable to reload one of the attached files.\n\nPossible ways to fix this are discussed on [sage-devel](http://groups.google.com/forum/?fromgroups=#!topic/sage-devel/FM7EAAmJhuk).\n\nApply\n* [attachment:trac_14523_improve_attach.patch](https://github.com/sagemath/sage/files/ticket14523/trac_14523_improve_attach.patch)\n* [attachment:trac_14523_readline.patch](https://github.com/sagemath/sage/files/ticket14523/trac_14523_readline.patch)\n\nDepends on #14266\n\n**Assignee:** @williamstein\n\n**CC:**  @nexttime @nbruin @seblabbe\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Volker Braun\n\n**Merged:** sage-5.11.rc0\n\nIssue created by migration from https://trac.sagemath.org/ticket/14523\n\n",
    "closed_at": "2013-07-31T12:55:05Z",
    "created_at": "2013-05-03T08:23:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.11",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "can't exit or detach after error in attached file",
    "type": "issue",
    "updated_at": "2014-08-08T19:48:34Z",
    "url": "https://github.com/sagemath/sage/issues/14523",
    "user": "https://github.com/mstreng"
}
```

```
17:57:03:~$ touch myfile.sage
17:57:05:~$ sage
----------------------------------------------------------------------
| Sage Version 5.8, Release Date: 2013-03-15                         |
| Type "notebook()" for the browser-based notebook interface.        |
| Type "help()" for help.                                            |
----------------------------------------------------------------------
sage: %attach myfile.sage
sage: file('myfile.sage', 'w').write('1/0')
sage: 1+1
...
ZeroDivisionError: Rational division by zero
sage: exit
...
ZeroDivisionError: Rational division by zero
sage: detach('myfile.sage')
...
ZeroDivisionError: Rational division by zero
```

It seems like the only way to continue using this Sage session is to fix the error first. But suppose you have some reason not to (e.g. are in a hurry, and the error is hard to fix). I think it would be much better if Sage was to evaluate "1+1" and especially "exit" and "detach" even when unable to reload one of the attached files.

Possible ways to fix this are discussed on [sage-devel](http://groups.google.com/forum/?fromgroups=#!topic/sage-devel/FM7EAAmJhuk).

Apply
* [attachment:trac_14523_improve_attach.patch](https://github.com/sagemath/sage/files/ticket14523/trac_14523_improve_attach.patch)
* [attachment:trac_14523_readline.patch](https://github.com/sagemath/sage/files/ticket14523/trac_14523_readline.patch)

Depends on #14266

**Assignee:** @williamstein

**CC:**  @nexttime @nbruin @seblabbe

**Reviewer:** Travis Scrimshaw

**Author:** Volker Braun

**Merged:** sage-5.11.rc0

Issue created by migration from https://trac.sagemath.org/ticket/14523





---

archive/issue_events_174396.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2013-05-03T08:23:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174396"
}
```



---

archive/issue_events_174397.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2013-05-03T08:23:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
    "label_color": "08517b",
    "label_name": "component: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174397"
}
```



---

archive/issue_events_174398.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2013-05-03T08:23:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174398"
}
```



---

archive/issue_comments_178186.json:
```json
{
    "body": "<a id='comment:1'>**Comment 1:**</a>\n* only reload once per time stamp change\n* reload without having to press any key in Sage\n* collect all attach-related files in one module instead of sprinkling it around",
    "created_at": "2013-05-03T19:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178186",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'>**Comment 1:**</a>
* only reload once per time stamp change
* reload without having to press any key in Sage
* collect all attach-related files in one module instead of sprinkling it around



---

archive/issue_events_174399.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-05-03T19:33:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174399"
}
```



---

archive/issue_comments_178187.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2013-05-03T19:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178187",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_178188.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\nI'm not knowledgeable enough to offer a useful review of the code.  It does seem like a good solution to the observed problem.  \n\nThere is a behaviour of \"attach\" which bugs me.  If the file you try to attach generates an error when you attach it, then it doesn't actually get attached.  I don't see the point of this.  It makes even less sense now than before.  Would it be easy to fix on this ticket, or should I open another one?  \n\nI do also have one comment about the current patch -- if it wouldn't be too complicated, I think it would be nice to get a new sage prompt after the reloading is finished, to indicate that it has completed.",
    "created_at": "2013-05-03T22:01:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178188",
    "user": "https://github.com/hughrthomas"
}
```

<a id='comment:3'>**Comment 3:**</a>
I'm not knowledgeable enough to offer a useful review of the code.  It does seem like a good solution to the observed problem.  

There is a behaviour of "attach" which bugs me.  If the file you try to attach generates an error when you attach it, then it doesn't actually get attached.  I don't see the point of this.  It makes even less sense now than before.  Would it be easy to fix on this ticket, or should I open another one?  

I do also have one comment about the current patch -- if it wouldn't be too complicated, I think it would be nice to get a new sage prompt after the reloading is finished, to indicate that it has completed.



---

archive/issue_comments_178189.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nUpdated patch \n* remember that files is attached even if load fails\n* don't reload files that are in the process of being written",
    "created_at": "2013-05-04T10:33:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178189",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'>**Comment 4:**</a>
Updated patch 
* remember that files is attached even if load fails
* don't reload files that are in the process of being written



---

archive/issue_comments_178190.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nThanks very much!  (I have tested attaching a file with an error.)",
    "created_at": "2013-05-04T12:14:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178190",
    "user": "https://github.com/hughrthomas"
}
```

<a id='comment:6'>**Comment 6:**</a>
Thanks very much!  (I have tested attaching a file with an error.)



---

archive/issue_comments_178191.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nBonus: this also seems to fix the issue reported at #14149: when files are attached, spurious files are created in the current directory.",
    "created_at": "2013-05-12T17:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178191",
    "user": "https://github.com/hughrthomas"
}
```

<a id='comment:7'>**Comment 7:**</a>
Bonus: this also seems to fix the issue reported at #14149: when files are attached, spurious files are created in the current directory.



---

archive/issue_comments_178192.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\nUpdated patch fixes some minor things, makes imports lazy, and adds doctests.",
    "created_at": "2013-05-12T20:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178192",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'>**Comment 8:**</a>
Updated patch fixes some minor things, makes imports lazy, and adds doctests.



---

archive/issue_comments_178193.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\n`@`Volker: Thanks for the explanation (at #14149), and the new doctests, which clarify what is happening with the creation of files.  Would it be possible to create the temp files somewhere else?  (I guess there are security concerns with putting them in /tmp, but isn't there any alternative?)  Or, would it be possible to keep track of them and remove them?  I guess at each update, the previous copy could be deleted, and detach or quit could delete the otherwise-remaining copy?",
    "created_at": "2013-05-12T21:19:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178193",
    "user": "https://github.com/hughrthomas"
}
```

<a id='comment:9'>**Comment 9:**</a>
`@`Volker: Thanks for the explanation (at #14149), and the new doctests, which clarify what is happening with the creation of files.  Would it be possible to create the temp files somewhere else?  (I guess there are security concerns with putting them in /tmp, but isn't there any alternative?)  Or, would it be possible to keep track of them and remove them?  I guess at each update, the previous copy could be deleted, and detach or quit could delete the otherwise-remaining copy?



---

archive/issue_comments_178194.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nI think the \"debug mode\" for load and attach should be removed. Files should always be preparsed in memory. We should keep a user-accessible list of loaded/attached files with some state, preparsed form, etc. Any debugging that you can do with temporary files can be done much nicer by querying the files on the command line.\n\nBut thats for another ticket.",
    "created_at": "2013-05-12T23:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178194",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'>**Comment 10:**</a>
I think the "debug mode" for load and attach should be removed. Files should always be preparsed in memory. We should keep a user-accessible list of loaded/attached files with some state, preparsed form, etc. Any debugging that you can do with temporary files can be done much nicer by querying the files on the command line.

But thats for another ticket.



---

archive/issue_comments_178195.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nReplying to [@vbraun](#comment%3A10):\n> I think the \"debug mode\" for load and attach should be removed. Files should always be preparsed in memory. We should keep a user-accessible list of loaded/attached files with some state, preparsed form, etc. Any debugging that you can do with temporary files can be done much nicer by querying the files on the command line.\n\nI don't understand the last sentence, and (so?) I completely disagree with the rest. Tracebacks for attached files should be completely detailed, with code snippets. Anything that has to be done by hand for each of the steps in the traceback is far from as useful as immediately seeing the code itself. See #11812 and [this discussion](http://groups.google.com/group/sage-devel/browse_thread/thread/761f69944e21efd4).",
    "created_at": "2013-05-13T05:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178195",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:11'>**Comment 11:**</a>
Replying to [@vbraun](#comment%3A10):
> I think the "debug mode" for load and attach should be removed. Files should always be preparsed in memory. We should keep a user-accessible list of loaded/attached files with some state, preparsed form, etc. Any debugging that you can do with temporary files can be done much nicer by querying the files on the command line.

I don't understand the last sentence, and (so?) I completely disagree with the rest. Tracebacks for attached files should be completely detailed, with code snippets. Anything that has to be done by hand for each of the steps in the traceback is far from as useful as immediately seeing the code itself. See #11812 and [this discussion](http://groups.google.com/group/sage-devel/browse_thread/thread/761f69944e21efd4).



---

archive/issue_comments_178196.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nThe updated patch \n* changes the default back to \"attach debug mode\" (really execute-via-file mode)\n* moves the temp file to Sage's temporary directory\n* adds doctests that the source snippet is shown",
    "created_at": "2013-05-13T19:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178196",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'>**Comment 12:**</a>
The updated patch 
* changes the default back to "attach debug mode" (really execute-via-file mode)
* moves the temp file to Sage's temporary directory
* adds doctests that the source snippet is shown



---

archive/issue_comments_178197.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nIs `SAGE_LOAD_ATTACH_PATH` cleared for doctesting?  Otherwise some doctests may fail (if the user has actually set it).",
    "created_at": "2013-05-13T20:18:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178197",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:13'>**Comment 13:**</a>
Is `SAGE_LOAD_ATTACH_PATH` cleared for doctesting?  Otherwise some doctests may fail (if the user has actually set it).



---

archive/issue_comments_178198.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nReplying to [@nexttime](#comment%3A13):\n> Is `SAGE_LOAD_ATTACH_PATH` cleared for doctesting?  Otherwise some doctests may fail (if the user has actually set it).\n\nJust checked in vanilla Sage 5.10.beta1, and there indeed three doctests fail (in `sage/misc/preparser.py`) if it is set to something non-empty.\n\nSo apparently this is not new, but could you also fix it here?",
    "created_at": "2013-05-13T20:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178198",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'>**Comment 14:**</a>
Replying to [@nexttime](#comment%3A13):
> Is `SAGE_LOAD_ATTACH_PATH` cleared for doctesting?  Otherwise some doctests may fail (if the user has actually set it).

Just checked in vanilla Sage 5.10.beta1, and there indeed three doctests fail (in `sage/misc/preparser.py`) if it is set to something non-empty.

So apparently this is not new, but could you also fix it here?



---

archive/issue_comments_178199.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nI think the undocumented `SAGE_LOAD_ATTACH_PATH` should be removed, not groomed further. There should be a Python-level way to set the search path if desired. If you really need the functionality then you just have to call `sage.path(os.environ['SAGE_LOAD_ATTACH_PATH'])` in your own code. But that should be done on another ticket.",
    "created_at": "2013-05-14T08:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178199",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'>**Comment 15:**</a>
I think the undocumented `SAGE_LOAD_ATTACH_PATH` should be removed, not groomed further. There should be a Python-level way to set the search path if desired. If you really need the functionality then you just have to call `sage.path(os.environ['SAGE_LOAD_ATTACH_PATH'])` in your own code. But that should be done on another ticket.



---

archive/issue_comments_178200.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nReplying to [@vbraun](#comment%3A15):\n> I think the undocumented `SAGE_LOAD_ATTACH_PATH` should be removed, not groomed further.\n\nI have no strong opinion on doing so.  Although it's apparently not documented (at least not in Sage's documentation besides the docstring; it may get mentioned in some 3rd party documentation), I bet a couple of people will complain (probably much) later if we remove it... ;-)\n\nBut I'd rather tend to leave the (IMHO convenient) functionality, probably documenting it more prominently (it doesn't really fit into the Sage *Installation* Guide, just like other environment variables, which is a different story), and fixing potential doctest failures (which is a minor issue anyway) -- elsewhere, on another ticket.\n\n\n\n  \n> There should be a Python-level way to set the search path if desired. If you really need the functionality then you just have to call `sage.path(os.environ['SAGE_LOAD_ATTACH_PATH'])` in your own code. But that should be done on another ticket.\n\nSo you don't intend to remove it here either?  (Ok for me, just asking.)",
    "created_at": "2013-05-14T09:02:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178200",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:16'>**Comment 16:**</a>
Replying to [@vbraun](#comment%3A15):
> I think the undocumented `SAGE_LOAD_ATTACH_PATH` should be removed, not groomed further.

I have no strong opinion on doing so.  Although it's apparently not documented (at least not in Sage's documentation besides the docstring; it may get mentioned in some 3rd party documentation), I bet a couple of people will complain (probably much) later if we remove it... ;-)

But I'd rather tend to leave the (IMHO convenient) functionality, probably documenting it more prominently (it doesn't really fit into the Sage *Installation* Guide, just like other environment variables, which is a different story), and fixing potential doctest failures (which is a minor issue anyway) -- elsewhere, on another ticket.



  
> There should be a Python-level way to set the search path if desired. If you really need the functionality then you just have to call `sage.path(os.environ['SAGE_LOAD_ATTACH_PATH'])` in your own code. But that should be done on another ticket.

So you don't intend to remove it here either?  (Ok for me, just asking.)



---

archive/issue_comments_178201.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nReplying to [@nexttime](#comment%3A16):\n> So you don't intend to remove it here either?  (Ok for me, just asking.)\n\nNo, I'd rather leave that for later. The whole load/attach functionality should be collected into an object instead of multiple global functions, including the search path functionality. Then we can go ahead and deprecate `SAGE_LOAD_ATTACH_PATH`...",
    "created_at": "2013-05-14T09:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178201",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'>**Comment 17:**</a>
Replying to [@nexttime](#comment%3A16):
> So you don't intend to remove it here either?  (Ok for me, just asking.)

No, I'd rather leave that for later. The whole load/attach functionality should be collected into an object instead of multiple global functions, including the search path functionality. Then we can go ahead and deprecate `SAGE_LOAD_ATTACH_PATH`...



---

archive/issue_comments_178202.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nFixed failing doctest on patchbot",
    "created_at": "2013-05-16T09:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178202",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'>**Comment 18:**</a>
Fixed failing doctest on patchbot



---

archive/issue_comments_178203.json:
```json
{
    "body": "**Dependencies:** #14266",
    "created_at": "2013-05-28T10:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178203",
    "user": "https://github.com/vbraun"
}
```

**Dependencies:** #14266



---

archive/issue_comments_178204.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nConflicts with the otherwise unrelated #14266, this is now a dependency.",
    "created_at": "2013-05-28T10:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178204",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'>**Comment 19:**</a>
Conflicts with the otherwise unrelated #14266, this is now a dependency.



---

archive/issue_comments_178205.json:
```json
{
    "body": "Updated patch",
    "created_at": "2013-06-08T21:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178205",
    "user": "https://github.com/vbraun"
}
```

Updated patch



---

archive/issue_comments_178206.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\n**Attachment:** [trac_14523_improve_attach.patch.gz](https://github.com/sagemath/sage/files/ticket14523/trac_14523_improve_attach.patch.gz)\n\nHey Volker,\n\nLooks good for the most part. It's somewhat minor, but is there some way we can get it so that we get it to end with the sage prompt? For me it currently ends at a blank line, although it still accepts input correctly.\n\nThanks,\n\nTravis",
    "created_at": "2013-06-12T15:44:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178206",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'>**Comment 20:**</a>
**Attachment:** [trac_14523_improve_attach.patch.gz](https://github.com/sagemath/sage/files/ticket14523/trac_14523_improve_attach.patch.gz)

Hey Volker,

Looks good for the most part. It's somewhat minor, but is there some way we can get it so that we get it to end with the sage prompt? For me it currently ends at a blank line, although it still accepts input correctly.

Thanks,

Travis



---

archive/issue_comments_178207.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nIts not just print a new prompt, you want to redraw the current line (since you could have a partially-written command there). I think its possible to call `rl_refresh_line` in readline, but that would need some careful testing so we don't break other stuff.",
    "created_at": "2013-06-12T16:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178207",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'>**Comment 21:**</a>
Its not just print a new prompt, you want to redraw the current line (since you could have a partially-written command there). I think its possible to call `rl_refresh_line` in readline, but that would need some careful testing so we don't break other stuff.



---

archive/issue_comments_178208.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2013-06-12T16:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178208",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_178209.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nTrue. I'm happy with getting this into Sage as is.",
    "created_at": "2013-06-12T16:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178209",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'>**Comment 22:**</a>
True. I'm happy with getting this into Sage as is.



---

archive/issue_events_174400.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-06-12T16:32:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174400"
}
```



---

archive/issue_events_174401.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-06-12T16:32:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174401"
}
```



---

archive/issue_events_174402.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T07:19:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174402"
}
```



---

archive/issue_events_174403.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T07:19:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174403"
}
```



---

archive/issue_comments_178210.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\nDoctest failures:\n\n```\nsage -t devel/sage/sage/misc/sageinspect.py\n**********************************************************************\nFile \"devel/sage/sage/misc/sageinspect.py\", line 57, in sage.misc.sageinspect\nFailed example:\n    import sage.misc.attach\nException raised:\n    Traceback (most recent call last):\n      File \"/mazur/release/merger/sage-5.11.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 486, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/mazur/release/merger/sage-5.11.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 845, in execute\n        exec compiled in globs\n      File \"<doctest sage.misc.sageinspect[10]>\", line 1, in <module>\n        import sage.misc.attach\n    ImportError: No module named attach\n**********************************************************************\n```\nand\n\n```\nsage -t --long devel/sage/sage/misc/inputhook.py\n**********************************************************************\nFile \"devel/sage/sage/misc/inputhook.py\", line 42, in sage.misc.inputhook.sage_inputhook\nFailed example:\n    shell.run_cell('sage_inputhook()')\nExpected:\n    ### reloading attached file tmp_....py modified at ... ###\n    0\nGot:\n    0\n**********************************************************************\nFile \"devel/sage/sage/misc/inputhook.py\", line 46, in sage.misc.inputhook.sage_inputhook\nFailed example:\n    shell.run_cell('a')\nExpected:\n    3\nGot:\n    2\n**********************************************************************\n```",
    "created_at": "2013-06-14T12:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178210",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'>**Comment 24:**</a>
Doctest failures:

```
sage -t devel/sage/sage/misc/sageinspect.py
**********************************************************************
File "devel/sage/sage/misc/sageinspect.py", line 57, in sage.misc.sageinspect
Failed example:
    import sage.misc.attach
Exception raised:
    Traceback (most recent call last):
      File "/mazur/release/merger/sage-5.11.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 486, in _run
        self.execute(example, compiled, test.globs)
      File "/mazur/release/merger/sage-5.11.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 845, in execute
        exec compiled in globs
      File "<doctest sage.misc.sageinspect[10]>", line 1, in <module>
        import sage.misc.attach
    ImportError: No module named attach
**********************************************************************
```
and

```
sage -t --long devel/sage/sage/misc/inputhook.py
**********************************************************************
File "devel/sage/sage/misc/inputhook.py", line 42, in sage.misc.inputhook.sage_inputhook
Failed example:
    shell.run_cell('sage_inputhook()')
Expected:
    ### reloading attached file tmp_....py modified at ... ###
    0
Got:
    0
**********************************************************************
File "devel/sage/sage/misc/inputhook.py", line 46, in sage.misc.inputhook.sage_inputhook
Failed example:
    shell.run_cell('a')
Expected:
    3
Got:
    2
**********************************************************************
```



---

archive/issue_events_174404.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T12:05:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174404"
}
```



---

archive/issue_events_174405.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T12:05:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174405"
}
```



---

archive/issue_comments_178211.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nAnother issue: computations from attach'ed files are uninterruptable. This is because readline installs its own signal handlers while it is sitting at the input prompt, and (by default) only restores the previous handler when you press enter.",
    "created_at": "2013-06-16T14:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178211",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'>**Comment 25:**</a>
Another issue: computations from attach'ed files are uninterruptable. This is because readline installs its own signal handlers while it is sitting at the input prompt, and (by default) only restores the previous handler when you press enter.



---

archive/issue_comments_178212.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nReplying to [@vbraun](#comment%3A25):\n> \n\nCould this cause other problems with CTRL-C as well? See [#14740:6](https://github.com/sagemath/sage/issues/14740#comment:6)",
    "created_at": "2013-06-16T18:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178212",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:26'>**Comment 26:**</a>
Replying to [@vbraun](#comment%3A25):
> 

Could this cause other problems with CTRL-C as well? See [#14740:6](https://github.com/sagemath/sage/issues/14740#comment:6)



---

archive/issue_comments_178213.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nA closer reading of IPython reveals that it intentionally overwrites the SIGINT handler when you set an inputhook (as we do to poll for file changes). So interrupting computations is completely messed up, even if its not attached. I'm working on a new patch...",
    "created_at": "2013-06-17T05:19:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178213",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'>**Comment 27:**</a>
A closer reading of IPython reveals that it intentionally overwrites the SIGINT handler when you set an inputhook (as we do to poll for file changes). So interrupting computations is completely messed up, even if its not attached. I'm working on a new patch...



---

archive/issue_comments_178214.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -23,3 +23,7 @@\n It seems like the only way to continue using this Sage session is to fix the error first. But suppose you have some reason not to (e.g. are in a hurry, and the error is hard to fix). I think it would be much better if Sage was to evaluate \"1+1\" and especially \"exit\" and \"detach\" even when unable to reload one of the attached files.\n \n Possible ways to fix this are discussed on [sage-devel](http://groups.google.com/forum/?fromgroups=#!topic/sage-devel/FM7EAAmJhuk).\n+\n+Apply\n+* [attachment:trac_14523_improve_attach.patch](https://github.com/sagemath/sage/files/ticket14523/trac_14523_improve_attach.patch)\n+* [attachment:trac_14523_readline.patch](https://github.com/sagemath/sage/files/ticket14523/trac_14523_readline.patch)\n``````\n",
    "created_at": "2013-06-17T19:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178214",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -23,3 +23,7 @@
 It seems like the only way to continue using this Sage session is to fix the error first. But suppose you have some reason not to (e.g. are in a hurry, and the error is hard to fix). I think it would be much better if Sage was to evaluate "1+1" and especially "exit" and "detach" even when unable to reload one of the attached files.
 
 Possible ways to fix this are discussed on [sage-devel](http://groups.google.com/forum/?fromgroups=#!topic/sage-devel/FM7EAAmJhuk).
+
+Apply
+* [attachment:trac_14523_improve_attach.patch](https://github.com/sagemath/sage/files/ticket14523/trac_14523_improve_attach.patch)
+* [attachment:trac_14523_readline.patch](https://github.com/sagemath/sage/files/ticket14523/trac_14523_readline.patch)
``````




---

archive/issue_comments_178215.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nAll subsequent changes will be in the separate `trac_14523_readline.patch`. This does now sidesteps IPython to preserve our signal handlers. Also, it really needs to be implemented in Cython since the inputhook must be able to ignore signals so it does not get interrupted immediately when you press Ctrl-C at the prompt.",
    "created_at": "2013-06-17T19:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178215",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'>**Comment 28:**</a>
All subsequent changes will be in the separate `trac_14523_readline.patch`. This does now sidesteps IPython to preserve our signal handlers. Also, it really needs to be implemented in Cython since the inputhook must be able to ignore signals so it does not get interrupted immediately when you press Ctrl-C at the prompt.



---

archive/issue_comments_178216.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\nI also added an interface to readline so we can redraw the prompt.",
    "created_at": "2013-06-17T19:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178216",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'>**Comment 29:**</a>
I also added an interface to readline so we can redraw the prompt.



---

archive/issue_comments_178217.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\nAlso fixed Jeroen's doctest failures. First is stale python file (you need to run `sage -sync-build` to reproduce it), second is filesystem timestamp granularity.",
    "created_at": "2013-06-17T20:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178217",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:30'>**Comment 30:**</a>
Also fixed Jeroen's doctest failures. First is stale python file (you need to run `sage -sync-build` to reproduce it), second is filesystem timestamp granularity.



---

archive/issue_comments_178218.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nSlightly beautified so the old command line is erased:\n\n```\nsage: attach('foo.py')\noutput from attached file\nsage: 123_<-- cursor here 456\n```\nNow edit and save attached file, and you get\n\n```\nsage: attach('foo.py')\noutput from attached file\n### reloading attached file t.py modified at 18:04:08 ###\noutput from changed attached file\nsage: 123_<-- cursor here 456\n```\n\nOn a related note, attaching files in the notebook is completely broken (with and without this ticket).",
    "created_at": "2013-06-18T18:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178218",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'>**Comment 31:**</a>
Slightly beautified so the old command line is erased:

```
sage: attach('foo.py')
output from attached file
sage: 123_<-- cursor here 456
```
Now edit and save attached file, and you get

```
sage: attach('foo.py')
output from attached file
### reloading attached file t.py modified at 18:04:08 ###
output from changed attached file
sage: 123_<-- cursor here 456
```

On a related note, attaching files in the notebook is completely broken (with and without this ticket).



---

archive/issue_comments_178219.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\nNotebook issue is here: https://github.com/sagemath/sagenb/issues/169",
    "created_at": "2013-06-18T18:22:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178219",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'>**Comment 32:**</a>
Notebook issue is here: https://github.com/sagemath/sagenb/issues/169



---

archive/issue_comments_178220.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\nPatch rebased for sage-5.11.beta1 (not yet released)",
    "created_at": "2013-06-18T22:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178220",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'>**Comment 33:**</a>
Patch rebased for sage-5.11.beta1 (not yet released)



---

archive/issue_comments_178221.json:
```json
{
    "body": "<a id='comment:34'>**Comment 34:**</a>\nI'm getting doctest failures:\n\n```\nsage -t devel/sage/sage/misc/sage_extension.py\n**********************************************************************\nFile \"devel/sage/sage/misc/sage_extension.py\", line 107, in sage.misc.sage_extension.SageMagics.attach\nFailed example:\n    shell.run_cell('sage_inputhook()')\nExpected:\n    ### reloading attached file run_cell.py modified at ... ###\n    0\nGot:\n    0\n**********************************************************************\nFile \"devel/sage/sage/misc/sage_extension.py\", line 111, in sage.misc.sage_extension.SageMagics.attach\nFailed example:\n    shell.run_cell('a')\nExpected:\n    3\nGot:\n    2\n**********************************************************************\n1 item had failures:\n   2 of  15 in sage.misc.sage_extension.SageMagics.attach\n    [45 tests, 2 failures, 2.13 s]\n----------------------------------------------------------------------\nsage -t devel/sage/sage/misc/sage_extension.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2013-06-21T20:36:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178221",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:34'>**Comment 34:**</a>
I'm getting doctest failures:

```
sage -t devel/sage/sage/misc/sage_extension.py
**********************************************************************
File "devel/sage/sage/misc/sage_extension.py", line 107, in sage.misc.sage_extension.SageMagics.attach
Failed example:
    shell.run_cell('sage_inputhook()')
Expected:
    ### reloading attached file run_cell.py modified at ... ###
    0
Got:
    0
**********************************************************************
File "devel/sage/sage/misc/sage_extension.py", line 111, in sage.misc.sage_extension.SageMagics.attach
Failed example:
    shell.run_cell('a')
Expected:
    3
Got:
    2
**********************************************************************
1 item had failures:
   2 of  15 in sage.misc.sage_extension.SageMagics.attach
    [45 tests, 2 failures, 2.13 s]
----------------------------------------------------------------------
sage -t devel/sage/sage/misc/sage_extension.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_178222.json:
```json
{
    "body": "**Attachment:** [trac_14523_readline.2.patch.gz](https://github.com/sagemath/sage/files/ticket14523/trac_14523_readline.2.patch.gz)\n\nUpdated patch",
    "created_at": "2013-06-23T14:40:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178222",
    "user": "https://github.com/vbraun"
}
```

**Attachment:** [trac_14523_readline.2.patch.gz](https://github.com/sagemath/sage/files/ticket14523/trac_14523_readline.2.patch.gz)

Updated patch



---

archive/issue_comments_178223.json:
```json
{
    "body": "**Attachment:** [trac_14523_readline.patch.gz](https://github.com/sagemath/sage/files/ticket14523/trac_14523_readline.patch.gz)\n\nUpdated patch",
    "created_at": "2013-06-23T14:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178223",
    "user": "https://github.com/vbraun"
}
```

**Attachment:** [trac_14523_readline.patch.gz](https://github.com/sagemath/sage/files/ticket14523/trac_14523_readline.patch.gz)

Updated patch



---

archive/issue_comments_178224.json:
```json
{
    "body": "<a id='comment:35'>**Comment 35:**</a>\nThanks, fixed. Was another instance of filesytem timestamp granularity in the doctest.\n\npatchbot: \napply trac_14523_improve_attach.patch trac_14523_readline.patch",
    "created_at": "2013-06-23T14:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178224",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:35'>**Comment 35:**</a>
Thanks, fixed. Was another instance of filesytem timestamp granularity in the doctest.

patchbot: 
apply trac_14523_improve_attach.patch trac_14523_readline.patch



---

archive/issue_comments_178225.json:
```json
{
    "body": "<a id='comment:36'>**Comment 36:**</a>\nFor a reference, #14149 and #14169 were closed as duplicate of this ticket (they are not obvious duplicate just looking at the titles or descriptions).",
    "created_at": "2013-06-24T12:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178225",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:36'>**Comment 36:**</a>
For a reference, #14149 and #14169 were closed as duplicate of this ticket (they are not obvious duplicate just looking at the titles or descriptions).



---

archive/issue_events_174406.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-06-26T03:16:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174406"
}
```



---

archive/issue_events_174407.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-06-26T03:16:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174407"
}
```



---

archive/issue_events_174408.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-07-08T14:18:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174408"
}
```



---

archive/issue_events_174409.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-07-08T14:18:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174409"
}
```



---

archive/issue_comments_178226.json:
```json
{
    "body": "<a id='comment:38'>**Comment 38:**</a>\nHey Volker,\n\nSorry for letting this sit for so long. Looks good to me (I remembered to run sync-build this time to remove the old files before testing).\n\n(Side note, does the patchbot run sync-build after applying patches? If not, I think doing this would be beneficial.)\n\nBest,\n\nTravis",
    "created_at": "2013-07-08T14:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178226",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:38'>**Comment 38:**</a>
Hey Volker,

Sorry for letting this sit for so long. Looks good to me (I remembered to run sync-build this time to remove the old files before testing).

(Side note, does the patchbot run sync-build after applying patches? If not, I think doing this would be beneficial.)

Best,

Travis



---

archive/issue_comments_178227.json:
```json
{
    "body": "<a id='comment:39'>**Comment 39:**</a>\nThanks! I believe the patchbot uses separate branches so it doesn't have to sync-build.",
    "created_at": "2013-07-08T14:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178227",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:39'>**Comment 39:**</a>
Thanks! I believe the patchbot uses separate branches so it doesn't have to sync-build.



---

archive/issue_comments_178228.json:
```json
{
    "body": "**Merged:** sage-5.11.rc0",
    "created_at": "2013-07-31T12:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178228",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.11.rc0



---

archive/issue_events_174410.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-31T12:55:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174410"
}
```



---

archive/issue_events_174411.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-31T12:55:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14523#event-174411"
}
```



---

archive/issue_comments_178229.json:
```json
{
    "body": "<a id='comment:41'>**Comment 41:**</a>\nSee http://ask.sagemath.org/question/3084/notebook-and-initsage and #15308.",
    "created_at": "2013-10-19T22:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178229",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:41'>**Comment 41:**</a>
See http://ask.sagemath.org/question/3084/notebook-and-initsage and #15308.



---

archive/issue_comments_178230.json:
```json
{
    "body": "<a id='comment:42'>**Comment 42:**</a>\nSee #16784 for a followup.",
    "created_at": "2014-08-08T19:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14523#issuecomment-178230",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:42'>**Comment 42:**</a>
See #16784 for a followup.
