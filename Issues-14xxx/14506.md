# Issue 14506: Echelonize leads to wrong multiplication

archive/issues_014302.json:
```json
{
    "body": "Load the two matrices that I have attached and run the following code to see that the second row of the second matrix is not updated correctly.\n\n```\nsage: (a, b) = load(\"14506-echelon_matrices.sobj\")\nsage: b.echelonize()\nsage: a.transpose() * b\n[                        0                         1                        24                       324                      3200                     25650                    176256                   1073720                   5930496                  30178575                 143184000                 639249300                2705114880               10916609264               42224364768              157237849404              565928955336             1975748911989             6712360813296            22258958382384            72248546142576           230126686576596           720999820523680          2226607404115308          6790183423299432         20478994820181329         61157329008540264        181004375431019448        531238661914490832       1546662807633726456       4467428806660680816      12801302700703268916      36384312930487005696     102550540165931773881     286559332427090336280     793661555641170811488    2178228257908531278912    5922967390221653096898   15954542776854757733856   42569726135569471713636  112504969550911913199256  294509000583368778593058  763659353026853825886576 1961586226496587115127844 4991900581029733007609328]\nsage: (b.transpose() * a).transpose()\n[0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]\n```\n\nThe following works correctly. To me this indicates that the internal representation is somehow not updated correctly.\n\n```\nsage: (a, b) = load(\"14506-echelon_matrices.sobj\")\nsage: b.echelonize()\nsage: b = copy(b)           \nsage: a.transpose() * b\n[0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]\n```\n\nI make this a critical ticket. But the actual mistake seems so dangerous and it results from a common operation, so that it is a candidate for a blocker.\n\nAssignee: jason, was\n\nCC:  @rbeezer @williamstein\n\nKeywords: linear algebra, echelonize, cache, mutation\n\nBranch/Commit: ba950d58e47f53f0b9213b6096f1990adb437ab8\n\nReviewer: Travis Scrimshaw\n\nAuthor: Darij Grinberg\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14506\n\n",
    "closed_at": "2014-11-17T21:21:54Z",
    "created_at": "2013-04-29T14:43:59Z",
    "labels": [
        "component: linear algebra",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Echelonize leads to wrong multiplication",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14506",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```
Load the two matrices that I have attached and run the following code to see that the second row of the second matrix is not updated correctly.

```
sage: (a, b) = load("14506-echelon_matrices.sobj")
sage: b.echelonize()
sage: a.transpose() * b
[                        0                         1                        24                       324                      3200                     25650                    176256                   1073720                   5930496                  30178575                 143184000                 639249300                2705114880               10916609264               42224364768              157237849404              565928955336             1975748911989             6712360813296            22258958382384            72248546142576           230126686576596           720999820523680          2226607404115308          6790183423299432         20478994820181329         61157329008540264        181004375431019448        531238661914490832       1546662807633726456       4467428806660680816      12801302700703268916      36384312930487005696     102550540165931773881     286559332427090336280     793661555641170811488    2178228257908531278912    5922967390221653096898   15954542776854757733856   42569726135569471713636  112504969550911913199256  294509000583368778593058  763659353026853825886576 1961586226496587115127844 4991900581029733007609328]
sage: (b.transpose() * a).transpose()
[0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]
```

The following works correctly. To me this indicates that the internal representation is somehow not updated correctly.

```
sage: (a, b) = load("14506-echelon_matrices.sobj")
sage: b.echelonize()
sage: b = copy(b)           
sage: a.transpose() * b
[0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]
```

I make this a critical ticket. But the actual mistake seems so dangerous and it results from a common operation, so that it is a candidate for a blocker.

Assignee: jason, was

CC:  @rbeezer @williamstein

Keywords: linear algebra, echelonize, cache, mutation

Branch/Commit: ba950d58e47f53f0b9213b6096f1990adb437ab8

Reviewer: Travis Scrimshaw

Author: Darij Grinberg

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14506





---

archive/issue_comments_230673.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [14506-echelon_matrices.sobj](tarball://root/attachments/some-uuid/ticket14506/14506-echelon_matrices.sobj) by mraum created at 2013-04-29 14:46:32",
    "created_at": "2013-04-29T14:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230673",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

<a id='comment:1'></a>
Attachment [14506-echelon_matrices.sobj](tarball://root/attachments/some-uuid/ticket14506/14506-echelon_matrices.sobj) by mraum created at 2013-04-29 14:46:32



---

archive/issue_comments_230674.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n Load the two matrices that I have attached and run the following code to see that the second row of the second matrix is not updated correctly.\n \n ```\n-sage: (a, b) = load(\"tst.sobj\")\n+sage: (a, b) = load(\"14506-echelon_matrices.sobj\")\n+sage: b.echelonize()\n sage: a.transpose() * b\n [                        0                         1                        24                       324                      3200                     25650                    176256                   1073720                   5930496                  30178575                 143184000                 639249300                2705114880               10916609264               42224364768              157237849404              565928955336             1975748911989             6712360813296            22258958382384            72248546142576           230126686576596           720999820523680          2226607404115308          6790183423299432         20478994820181329         61157329008540264        181004375431019448        531238661914490832       1546662807633726456       4467428806660680816      12801302700703268916      36384312930487005696     102550540165931773881     286559332427090336280     793661555641170811488    2178228257908531278912    5922967390221653096898   15954542776854757733856   42569726135569471713636  112504969550911913199256  294509000583368778593058  763659353026853825886576 1961586226496587115127844 4991900581029733007609328]\n sage: (b.transpose() * a).transpose()\n@@ -11,7 +12,8 @@\n The following works correctly. To me this indicates that the internal representation is somehow not updated correctly.\n \n ```\n-sage: (a, b) = load(\"tst.sobj\")\n+sage: (a, b) = load(\"14506-echelon_matrices.sobj\")\n+sage: b.echelonize()\n sage: b = copy(b)           \n sage: a.transpose() * b\n [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]\n``````\n",
    "created_at": "2013-04-29T14:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230674",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
 Load the two matrices that I have attached and run the following code to see that the second row of the second matrix is not updated correctly.
 
 ```
-sage: (a, b) = load("tst.sobj")
+sage: (a, b) = load("14506-echelon_matrices.sobj")
+sage: b.echelonize()
 sage: a.transpose() * b
 [                        0                         1                        24                       324                      3200                     25650                    176256                   1073720                   5930496                  30178575                 143184000                 639249300                2705114880               10916609264               42224364768              157237849404              565928955336             1975748911989             6712360813296            22258958382384            72248546142576           230126686576596           720999820523680          2226607404115308          6790183423299432         20478994820181329         61157329008540264        181004375431019448        531238661914490832       1546662807633726456       4467428806660680816      12801302700703268916      36384312930487005696     102550540165931773881     286559332427090336280     793661555641170811488    2178228257908531278912    5922967390221653096898   15954542776854757733856   42569726135569471713636  112504969550911913199256  294509000583368778593058  763659353026853825886576 1961586226496587115127844 4991900581029733007609328]
 sage: (b.transpose() * a).transpose()
@@ -11,7 +12,8 @@
 The following works correctly. To me this indicates that the internal representation is somehow not updated correctly.
 
 ```
-sage: (a, b) = load("tst.sobj")
+sage: (a, b) = load("14506-echelon_matrices.sobj")
+sage: b.echelonize()
 sage: b = copy(b)           
 sage: a.transpose() * b
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]
``````




---

archive/issue_events_047545.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14506#event-47545"
}
```



---

archive/issue_events_047546.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14506#event-47546"
}
```



---

archive/issue_events_047547.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14506#event-47547"
}
```



---

archive/issue_events_047548.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14506#event-47548"
}
```



---

archive/issue_events_047549.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14506#event-47549"
}
```



---

archive/issue_events_047550.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14506#event-47550"
}
```



---

archive/issue_events_047551.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14506#event-47551"
}
```



---

archive/issue_comments_230675.json:
```json
{
    "body": "Changing keywords from \"\" to \"linear algebra, echelonize, cache, mutation\".",
    "created_at": "2014-11-12T08:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230675",
    "user": "https://github.com/darijgr"
}
```

Changing keywords from "" to "linear algebra, echelonize, cache, mutation".



---

archive/issue_comments_230676.json:
```json
{
    "body": "Changing branch from \"\" to \"public/linalg/echelonize_clear_cache\"",
    "created_at": "2014-11-12T08:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230676",
    "user": "https://github.com/darijgr"
}
```

Changing branch from "" to "public/linalg/echelonize_clear_cache"



---

archive/issue_comments_230677.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe mistake is in the fact that echelonizing a rational matrix in place does not clear the `clear_denom` value of its cache. Fixed. Experiments seem to suggest that other matrix types don't suffer from this bug, but I'd rather see someone doublecheck this (I don't understand the really low-level parts of the code).\n\n---\nNew commits:\n|                                                                                                                                          |                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[5d90155](https://github.com/sagemath/sagetrac-mirror/commit/5d90155e113f8ce3530568345d1b0415cf215cc6)|`clear cache upon echelonization of rational dense matrices`|",
    "created_at": "2014-11-12T08:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230677",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:7'></a>
The mistake is in the fact that echelonizing a rational matrix in place does not clear the `clear_denom` value of its cache. Fixed. Experiments seem to suggest that other matrix types don't suffer from this bug, but I'd rather see someone doublecheck this (I don't understand the really low-level parts of the code).

---
New commits:
|                                                                                                                                          |                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[5d90155](https://github.com/sagemath/sagetrac-mirror/commit/5d90155e113f8ce3530568345d1b0415cf215cc6)|`clear cache upon echelonization of rational dense matrices`|



---

archive/issue_comments_230678.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-12T08:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230678",
    "user": "https://github.com/darijgr"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_230679.json:
```json
{
    "body": "Changing commit from \"\" to \"5d90155e113f8ce3530568345d1b0415cf215cc6\"",
    "created_at": "2014-11-12T08:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230679",
    "user": "https://github.com/darijgr"
}
```

Changing commit from "" to "5d90155e113f8ce3530568345d1b0415cf215cc6"



---

archive/issue_comments_230680.json:
```json
{
    "body": "Changing author from \"\" to \"Darij Grinberg\"",
    "created_at": "2014-11-12T08:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230680",
    "user": "https://github.com/darijgr"
}
```

Changing author from "" to "Darij Grinberg"



---

archive/issue_comments_230681.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[5c6bf1c](https://github.com/sagemath/sagetrac-mirror/commit/5c6bf1ceabd0bc326b08d0c9dd0a74faab1f1d9a)|`hardening doctest against random order of dict keys`|",
    "created_at": "2014-11-12T08:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230681",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[5c6bf1c](https://github.com/sagemath/sagetrac-mirror/commit/5c6bf1ceabd0bc326b08d0c9dd0a74faab1f1d9a)|`hardening doctest against random order of dict keys`|



---

archive/issue_comments_230682.json:
```json
{
    "body": "Changing commit from \"5d90155e113f8ce3530568345d1b0415cf215cc6\" to \"5c6bf1ceabd0bc326b08d0c9dd0a74faab1f1d9a\"",
    "created_at": "2014-11-12T08:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230682",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5d90155e113f8ce3530568345d1b0415cf215cc6" to "5c6bf1ceabd0bc326b08d0c9dd0a74faab1f1d9a"



---

archive/issue_comments_230683.json:
```json
{
    "body": "<a id='comment:9'></a>\nActually, maybe I should have added that `self._clear_cache()` to the underscored methods?",
    "created_at": "2014-11-12T09:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230683",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:9'></a>
Actually, maybe I should have added that `self._clear_cache()` to the underscored methods?



---

archive/issue_comments_230684.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|\n|[ba950d5](https://github.com/sagemath/sagetrac-mirror/commit/ba950d58e47f53f0b9213b6096f1990adb437ab8)|`moved self._clear_cache() into the underscored methods as someone may want to use them`|",
    "created_at": "2014-11-12T18:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
|[ba950d5](https://github.com/sagemath/sagetrac-mirror/commit/ba950d58e47f53f0b9213b6096f1990adb437ab8)|`moved self._clear_cache() into the underscored methods as someone may want to use them`|



---

archive/issue_comments_230685.json:
```json
{
    "body": "Changing commit from \"5c6bf1ceabd0bc326b08d0c9dd0a74faab1f1d9a\" to \"ba950d58e47f53f0b9213b6096f1990adb437ab8\"",
    "created_at": "2014-11-12T18:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5c6bf1ceabd0bc326b08d0c9dd0a74faab1f1d9a" to "ba950d58e47f53f0b9213b6096f1990adb437ab8"



---

archive/issue_comments_230686.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2014-11-17T00:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230686",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_230687.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-17T00:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230687",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_230688.json:
```json
{
    "body": "<a id='comment:11'></a>\nLGTM.",
    "created_at": "2014-11-17T00:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230688",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
LGTM.



---

archive/issue_comments_230689.json:
```json
{
    "body": "<a id='comment:12'></a>\nThank you!!",
    "created_at": "2014-11-17T00:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230689",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:12'></a>
Thank you!!



---

archive/issue_events_047552.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-17T21:21:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14506#event-47552"
}
```



---

archive/issue_comments_230690.json:
```json
{
    "body": "Changing branch from \"public/linalg/echelonize_clear_cache\" to \"ba950d58e47f53f0b9213b6096f1990adb437ab8\"",
    "created_at": "2014-11-17T21:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230690",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/linalg/echelonize_clear_cache" to "ba950d58e47f53f0b9213b6096f1990adb437ab8"



---

archive/issue_comments_230691.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-17T21:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14506#issuecomment-230691",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
