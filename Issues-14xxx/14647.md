# Issue 14647: Update iconv to version 1.14

archive/issues_014443.json:
```json
{
    "body": "It has been out for some time and fixes the use of an obsolete function \"cygwin_conv_to_posix_path\" on Cygwin (32 bits) and unavailable on Cygwin64.\n\nUse spkg at:\n* http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg\n\nAssignee: @jdemeyer\n\nCC:  @kcrisman @dimpase\n\nKeywords: iconv spkg cygwin cygwin64\n\nReviewer: Leif Leonhardy\n\nAuthor: Jean-Pierre Flori\n\nMerged: sage-5.11.beta0\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14647\n\n",
    "closed_at": "2013-06-06T12:35:20Z",
    "created_at": "2013-05-26T19:06:00Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.11",
    "title": "Update iconv to version 1.14",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14647",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
It has been out for some time and fixes the use of an obsolete function "cygwin_conv_to_posix_path" on Cygwin (32 bits) and unavailable on Cygwin64.

Use spkg at:
* http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg

Assignee: @jdemeyer

CC:  @kcrisman @dimpase

Keywords: iconv spkg cygwin cygwin64

Reviewer: Leif Leonhardy

Author: Jean-Pierre Flori

Merged: sage-5.11.beta0

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14647





---

archive/issue_comments_233511.json:
```json
{
    "body": "Attachment [iconv-1.14.diff](tarball://root/attachments/some-uuid/ticket14647/iconv-1.14.diff) by jpflori created at 2013-05-26 19:07:43\n\nSpkg diff, for review only.",
    "created_at": "2013-05-26T19:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233511",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Attachment [iconv-1.14.diff](tarball://root/attachments/some-uuid/ticket14647/iconv-1.14.diff) by jpflori created at 2013-05-26 19:07:43

Spkg diff, for review only.



---

archive/issue_comments_233512.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.\n+\n+Use spkg at:\n+* http://boxen.math.washingotn.edu/home/jpflori/spkg/iconv-1.14.spkg\n``````\n",
    "created_at": "2013-05-26T19:10:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233512",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.
+
+Use spkg at:
+* http://boxen.math.washingotn.edu/home/jpflori/spkg/iconv-1.14.spkg
``````




---

archive/issue_comments_233513.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-05-26T19:10:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233513",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_233514.json:
```json
{
    "body": "Changing keywords from \"\" to \"iconv spkg cygwin\".",
    "created_at": "2013-05-26T19:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233514",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing keywords from "" to "iconv spkg cygwin".



---

archive/issue_comments_233515.json:
```json
{
    "body": "Changing author from \"\" to \"Jean-Pierre Flori\"",
    "created_at": "2013-05-26T19:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233515",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing author from "" to "Jean-Pierre Flori"



---

archive/issue_comments_233516.json:
```json
{
    "body": "<a id='comment:4'></a>\nunable to resolve host address \u201cboxen.math.washingotn.edu\u201d",
    "created_at": "2013-05-26T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233516",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:4'></a>
unable to resolve host address “boxen.math.washingotn.edu”



---

archive/issue_comments_233517.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.\n \n Use spkg at:\n-* http://boxen.math.washingotn.edu/home/jpflori/spkg/iconv-1.14.spkg\n+* http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg\n``````\n",
    "created_at": "2013-05-26T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233517",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.
 
 Use spkg at:
-* http://boxen.math.washingotn.edu/home/jpflori/spkg/iconv-1.14.spkg
+* http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg
``````




---

archive/issue_comments_233518.json:
```json
{
    "body": "<a id='comment:5'></a>\nIndeed, thanks.\nI only tested it builds on Cygwin64, not on anything else yet.\nNote there are only few platforms where this is actually built.",
    "created_at": "2013-05-26T19:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233518",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:5'></a>
Indeed, thanks.
I only tested it builds on Cygwin64, not on anything else yet.
Note there are only few platforms where this is actually built.



---

archive/issue_comments_233519.json:
```json
{
    "body": "Changing keywords from \"iconv spkg cygwin\" to \"iconv spkg cygwin cygwin64\".",
    "created_at": "2013-05-26T19:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233519",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing keywords from "iconv spkg cygwin" to "iconv spkg cygwin cygwin64".



---

archive/issue_comments_233520.json:
```json
{
    "body": "<a id='comment:7'></a>\nCurrently building on Solaris SPARC.\n\nHP-UX, anyone? ;-)",
    "created_at": "2013-05-26T19:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233520",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Currently building on Solaris SPARC.

HP-UX, anyone? ;-)



---

archive/issue_comments_233521.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.\n+It has been out for some time and fixes the use of an obsolete function \"cygwin_conv_to_posix_path\" on Cygwin (32 bits) and unavailable on Cygwin64.\n \n Use spkg at:\n * http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg\n``````\n",
    "created_at": "2013-05-26T19:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233521",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.
+It has been out for some time and fixes the use of an obsolete function "cygwin_conv_to_posix_path" on Cygwin (32 bits) and unavailable on Cygwin64.
 
 Use spkg at:
 * http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg
``````




---

archive/issue_comments_233522.json:
```json
{
    "body": "<a id='comment:8'></a>\nBuilds ok on Solaris 10 on ultrasparc T2+.",
    "created_at": "2013-05-26T19:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233522",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>
Builds ok on Solaris 10 on ultrasparc T2+.



---

archive/issue_comments_233523.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [leif](#comment%3A7):\n> Currently building on Solaris SPARC.\n\n\nSucceeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n\n```\n./check-subst\nSegmentation Fault - core dumped\nSegmentation Fault - core dumped\nSegmentation Fault - core dumped\n```\n\nI haven't rebuilt anything *depending on iconv* though.",
    "created_at": "2013-05-26T20:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233523",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>
Replying to [leif](#comment%3A7):
> Currently building on Solaris SPARC.


Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:

```
./check-subst
Segmentation Fault - core dumped
Segmentation Fault - core dumped
Segmentation Fault - core dumped
```

I haven't rebuilt anything *depending on iconv* though.



---

archive/issue_comments_233524.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [leif](#comment%3A9):\n> Replying to [leif](#comment%3A7):\n> > Currently building on Solaris SPARC.\n\n> \n> Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n> \n> ```\n> ./check-subst\n> Segmentation Fault - core dumped\n> Segmentation Fault - core dumped\n> Segmentation Fault - core dumped\n> ```\n> \n> I haven't rebuilt anything *depending on iconv* though.\n\nIs that documented somewhere?\n\nAnd any chance for review? :)",
    "created_at": "2013-05-31T15:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233524",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>
Replying to [leif](#comment%3A9):
> Replying to [leif](#comment%3A7):
> > Currently building on Solaris SPARC.

> 
> Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:
> 
> ```
> ./check-subst
> Segmentation Fault - core dumped
> Segmentation Fault - core dumped
> Segmentation Fault - core dumped
> ```
> 
> I haven't rebuilt anything *depending on iconv* though.

Is that documented somewhere?

And any chance for review? :)



---

archive/issue_comments_233525.json:
```json
{
    "body": "<a id='comment:11'></a>\nI might give a review, but it's not a high-priority for me.",
    "created_at": "2013-05-31T20:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233525",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
I might give a review, but it's not a high-priority for me.



---

archive/issue_comments_233526.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [jpflori](#comment%3A10):\n> Replying to [leif](#comment%3A9):\n> > Replying to [leif](#comment%3A7):\n> > > Currently building on Solaris SPARC.\n\n> > \n> > Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n> > \n> > ```\n> > ./check-subst\n> > Segmentation Fault - core dumped\n> > Segmentation Fault - core dumped\n> > Segmentation Fault - core dumped\n> > ```\n> > \n> > I haven't rebuilt anything *depending on iconv* though.\n\n\nIIRC I at least successfully rebuilt MPIR (which depends on iconv) afterwards.\n\n\n\n\n> Is that documented somewhere?\n\n\nYes.\n\n\n\n\n> And any chance for review? :)\n\n\nJust a matter of time (and my ability to keep this ticket in mind).",
    "created_at": "2013-06-01T03:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233526",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>
Replying to [jpflori](#comment%3A10):
> Replying to [leif](#comment%3A9):
> > Replying to [leif](#comment%3A7):
> > > Currently building on Solaris SPARC.

> > 
> > Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:
> > 
> > ```
> > ./check-subst
> > Segmentation Fault - core dumped
> > Segmentation Fault - core dumped
> > Segmentation Fault - core dumped
> > ```
> > 
> > I haven't rebuilt anything *depending on iconv* though.


IIRC I at least successfully rebuilt MPIR (which depends on iconv) afterwards.




> Is that documented somewhere?


Yes.




> And any chance for review? :)


Just a matter of time (and my ability to keep this ticket in mind).



---

archive/issue_comments_233527.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Leif Leonhardy\"",
    "created_at": "2013-06-01T12:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233527",
    "user": "https://github.com/nexttime"
}
```

Changing reviewer from "" to "Leif Leonhardy"



---

archive/issue_comments_233528.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-01T12:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233528",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_233529.json:
```json
{
    "body": "<a id='comment:13'></a>\nSlight modifications to `spkg-install` and `spkg-check` may be possible, but since you didn't touch them at all ...\n\nAssuming you've successfully tested it on Cygwin![64], positive review.\n\n\n\n\nOut of curiosity, how does Cygwin64 identify itself (`uname`, Sage's `$UNAME`)?",
    "created_at": "2013-06-01T12:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233529",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:13'></a>
Slight modifications to `spkg-install` and `spkg-check` may be possible, but since you didn't touch them at all ...

Assuming you've successfully tested it on Cygwin![64], positive review.




Out of curiosity, how does Cygwin64 identify itself (`uname`, Sage's `$UNAME`)?



---

archive/issue_comments_233530.json:
```json
{
    "body": "<a id='comment:14'></a>\nOn Cygwin:\n\n```\n$ uname -a\nCYGWIN_NT-6.1-WOW64 napoleon-7 1.7.18(0.263/5/3) 2013-04-19 10:39 i686 Cygwin\n```\n\nOn Cygwin64:\n\n```\n$ uname -a\nCYGWIN_NT-6.1 napoleon-7 1.7.19(0.266/5/3) 2013-05-24 23:18 x86_64 Cygwin\n```",
    "created_at": "2013-06-01T14:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233530",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:14'></a>
On Cygwin:

```
$ uname -a
CYGWIN_NT-6.1-WOW64 napoleon-7 1.7.18(0.263/5/3) 2013-04-19 10:39 i686 Cygwin
```

On Cygwin64:

```
$ uname -a
CYGWIN_NT-6.1 napoleon-7 1.7.19(0.266/5/3) 2013-05-24 23:18 x86_64 Cygwin
```



---

archive/issue_events_048144.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-03T10:03:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14647#event-48144"
}
```



---

archive/issue_comments_233531.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.11.beta0\"",
    "created_at": "2013-06-06T12:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233531",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.11.beta0"



---

archive/issue_events_048145.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-06T12:35:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14647#event-48145"
}
```



---

archive/issue_comments_233532.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-06-06T12:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14647#issuecomment-233532",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
