# Issue 14699: Install ATLAS header files and cleanup IML spkg

archive/issues_014495.json:
```json
{
    "assignees": [
        "https://github.com/jdemeyer"
    ],
    "body": "With the new ATLAS spkg from #10508, iml fails its self tests. See [https://github.com/sagemath/sage/issues/10508#comment:518](https://github.com/sagemath/sage/issues/10508#comment:518) and later comments.\n\nUse spkgs at:\n* [http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg) ([spkg diff](https://github.com/sagemath/sage/files/ticket14699/atlas-3.10.1.p1.diff.gz))\n* [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg) ([spkg diff without deletes](https://github.com/sagemath/sage/files/ticket14699/iml-1.0.1.p15.diff.gz))\n\n**Apply** [attachment: 14699_env_version_bump.patch](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz) to `SAGE_ROOT`\n\nDepends on #10508\n\nCC:  @nexttime @jpflori @jdemeyer @vbraun\n\nKeywords: **atlas IML testsuite check cblas.h**\n\nReviewer: **Jean-Pierre Flori**\n\nAuthor: **Jean-Pierre Flori, Volker Braun, Jeroen Demeyer**\n\nMerged: **sage-5.10.rc2**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14699_\n\n",
    "closed_at": "2013-06-17T12:06:01Z",
    "created_at": "2013-06-06T21:23:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Install ATLAS header files and cleanup IML spkg",
    "type": "issue",
    "updated_at": "2013-06-17T12:06:34Z",
    "url": "https://github.com/sagemath/sage/issues/14699",
    "user": "https://github.com/jhpalmieri"
}
```
With the new ATLAS spkg from #10508, iml fails its self tests. See [https://github.com/sagemath/sage/issues/10508#comment:518](https://github.com/sagemath/sage/issues/10508#comment:518) and later comments.

Use spkgs at:
* [http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg) ([spkg diff](https://github.com/sagemath/sage/files/ticket14699/atlas-3.10.1.p1.diff.gz))
* [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg) ([spkg diff without deletes](https://github.com/sagemath/sage/files/ticket14699/iml-1.0.1.p15.diff.gz))

**Apply** [attachment: 14699_env_version_bump.patch](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz) to `SAGE_ROOT`

Depends on #10508

CC:  @nexttime @jpflori @jdemeyer @vbraun

Keywords: **atlas IML testsuite check cblas.h**

Reviewer: **Jean-Pierre Flori**

Author: **Jean-Pierre Flori, Volker Braun, Jeroen Demeyer**

Merged: **sage-5.10.rc2**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/14699_





---

archive/issue_events_206605.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2013-06-06T21:23:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206605"
}
```



---

archive/issue_events_206606.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2013-06-06T21:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206606"
}
```



---

archive/issue_events_206607.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2013-06-06T21:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206607"
}
```



---

archive/issue_events_206608.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2013-06-06T21:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206608"
}
```



---

archive/issue_events_206609.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-06T21:23:23Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "subject": "https://github.com/jhpalmieri",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206609"
}
```



---

archive/issue_comments_178594.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSurely an ATLAS problem, see https://github.com/sagemath/sage/issues/10508#comment:526 for a solution.\n\nI suggest we call at least install_inc and potentially install_lib from ATLAS build system to install headers and static libs.",
    "created_at": "2013-06-06T21:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178594",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:1" align="right">comment:1</div>

Surely an ATLAS problem, see https://github.com/sagemath/sage/issues/10508#comment:526 for a solution.

I suggest we call at least install_inc and potentially install_lib from ATLAS build system to install headers and static libs.



---

archive/issue_comments_178595.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nOr just install which should call both of them.",
    "created_at": "2013-06-06T21:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178595",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:2" align="right">comment:2</div>

Or just install which should call both of them.



---

archive/issue_comments_178596.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nJohn, U sure about **sage**.math?\n\n```\n128.208.160.191\tsage.math.washington.edu sage sage.math\n```",
    "created_at": "2013-06-06T21:30:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178596",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:3" align="right">comment:3</div>

John, U sure about **sage**.math?

```
128.208.160.191	sage.math.washington.edu sage sage.math
```



---

archive/issue_comments_178597.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@nexttime](#comment%3A3):\n> John, U sure about **sage**.math?\n> \n> ```\n> 128.208.160.191\tsage.math.washington.edu sage sage.math\n> ```\n\n(As opposed to\n\n```\n;; ANSWER SECTION:\nsage.math.washington.edu. 600\tIN\tA\t128.208.160.197\n```\nwhich is boxen.)",
    "created_at": "2013-06-06T21:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178597",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@nexttime](#comment%3A3):
> John, U sure about **sage**.math?
> 
> ```
> 128.208.160.191	sage.math.washington.edu sage sage.math
> ```

(As opposed to

```
;; ANSWER SECTION:
sage.math.washington.edu. 600	IN	A	128.208.160.197
```
which is boxen.)



---

archive/issue_comments_178598.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIt would be nice to fix that on top of #14605 which I've tested quite extensively and is finished since some time.",
    "created_at": "2013-06-06T21:33:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178598",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:5" align="right">comment:5</div>

It would be nice to fix that on top of #14605 which I've tested quite extensively and is finished since some time.



---

archive/issue_comments_178599.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n+1 to also again install static libs.",
    "created_at": "2013-06-06T21:37:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178599",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:6" align="right">comment:6</div>

+1 to also again install static libs.



---

archive/issue_comments_178600.json:
```json
{
    "body": "Changed keywords from none to **atlas**",
    "created_at": "2013-06-06T21:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178600",
    "user": "https://github.com/jpflori"
}
```

Changed keywords from none to **atlas**



---

archive/issue_events_206610.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T21:41:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206610"
}
```



---

archive/issue_events_206611.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T21:41:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206611"
}
```



---

archive/issue_comments_178601.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIn fact disregard my comment about #14605.\nWe should fix the issue here quickly, hopefully before 5.10 official release if it's not too late.\nAlthough as it does not seem to prevent anything from working except for IML testsuite, 5.11 should be ok as well.",
    "created_at": "2013-06-06T21:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178601",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:7" align="right">comment:7</div>

In fact disregard my comment about #14605.
We should fix the issue here quickly, hopefully before 5.10 official release if it's not too late.
Although as it does not seem to prevent anything from working except for IML testsuite, 5.11 should be ok as well.



---

archive/issue_events_206612.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T21:41:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "title_is": "Install ATLAS headers file and static libraries",
    "title_was": "Get iml to install correctly and pass its self-tests on sage.math",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206612"
}
```



---

archive/issue_events_206613.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-06T21:55:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "title_is": "Install ATLAS header files and static libraries",
    "title_was": "Install ATLAS headers file and static libraries",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206613"
}
```



---

archive/issue_comments_178602.json:
```json
{
    "body": "Changed keywords from **atlas** to **atlas IML testsuite check cblas.h**",
    "created_at": "2013-06-06T21:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178602",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **atlas** to **atlas IML testsuite check cblas.h**



---

archive/issue_comments_178603.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nA side-effect of this ticket is probably that numpy gets built without ATLAS acceleration.",
    "created_at": "2013-06-06T22:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178603",
    "user": "https://github.com/sagetrac-Koen"
}
```

<div id="comment:9" align="right">comment:9</div>

A side-effect of this ticket is probably that numpy gets built without ATLAS acceleration.



---

archive/issue_comments_178604.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFor the record, I did get\n\n```\nATLAS_CFLAGS=''\nATLAS_LIBS='-lcblas -latlas'\n```\n`-L${SAGE_LOCAL}/lib` \"incidentally\" came from / for GMP, although **after** `-lcblas -latlas`, but we meanwhile add `${SAGE_LOCAL}/lib` to `LIBRARY_PATH` (in `sage-env`), so that it worked.",
    "created_at": "2013-06-06T22:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178604",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:10" align="right">comment:10</div>

For the record, I did get

```
ATLAS_CFLAGS=''
ATLAS_LIBS='-lcblas -latlas'
```
`-L${SAGE_LOCAL}/lib` "incidentally" came from / for GMP, although **after** `-lcblas -latlas`, but we meanwhile add `${SAGE_LOCAL}/lib` to `LIBRARY_PATH` (in `sage-env`), so that it worked.



---

archive/issue_comments_178605.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nP.S.:  Although IIRC according to POSIX, `-Ldir1 -lfoo -Ldir2 -lbar` is the same as `-Ldir1 -Ldir2 -lfoo -lbar`.",
    "created_at": "2013-06-06T22:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178605",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:11" align="right">comment:11</div>

P.S.:  Although IIRC according to POSIX, `-Ldir1 -lfoo -Ldir2 -lbar` is the same as `-Ldir1 -Ldir2 -lfoo -lbar`.



---

archive/issue_comments_178606.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n With the new ATLAS spkg from #10508, iml fails its self tests. See [https://github.com/sagemath/sage/issues/10508#comment:518](https://github.com/sagemath/sage/issues/10508#comment:518) and later comments.\n \n+Use spkg at:\n+* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p1.spkg\n``````\n",
    "created_at": "2013-06-06T22:17:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178606",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 With the new ATLAS spkg from #10508, iml fails its self tests. See [https://github.com/sagemath/sage/issues/10508#comment:518](https://github.com/sagemath/sage/issues/10508#comment:518) and later comments.
 
+Use spkg at:
+* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p1.spkg
``````




---

archive/issue_events_206614.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T22:17:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206614"
}
```



---

archive/issue_comments_178607.json:
```json
{
    "body": "Author: **Jean-Pierre Flori**",
    "created_at": "2013-06-06T22:17:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178607",
    "user": "https://github.com/jpflori"
}
```

Author: **Jean-Pierre Flori**



---

archive/issue_comments_178608.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@nexttime](#comment%3A11):\n> P.S.:  Although IIRC according to POSIX, `-Ldir1 -lfoo -Ldir2 -lbar` is the same as `-Ldir1 -Ldir2 -lfoo -lbar`.\n\nAt least GNU `ld` docs agree with this:\n\n  *All -L options apply to all -l options, regardless of the order in which the options appear.*",
    "created_at": "2013-06-06T22:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178608",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@nexttime](#comment%3A11):
> P.S.:  Although IIRC according to POSIX, `-Ldir1 -lfoo -Ldir2 -lbar` is the same as `-Ldir1 -Ldir2 -lfoo -lbar`.

At least GNU `ld` docs agree with this:

  *All -L options apply to all -l options, regardless of the order in which the options appear.*



---

archive/issue_comments_178609.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nYou'd still need a line\n\n```\n    cmd += ' --incdir=' + os.path.join(conf['SAGE_LOCAL'],'include') \n```\nin `configure_atlas_library()` for the header files to go the correct place?\n\nAnd currently numpy is built without Atlas (it uses another blas): local/lib/python2.7/site-packages/numpy/core/_dotblas.so normally contains ATL_* symbols (for an old Atlas 3.8.3 version, at least).",
    "created_at": "2013-06-06T22:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178609",
    "user": "https://github.com/sagetrac-Koen"
}
```

<div id="comment:14" align="right">comment:14</div>

You'd still need a line

```
    cmd += ' --incdir=' + os.path.join(conf['SAGE_LOCAL'],'include') 
```
in `configure_atlas_library()` for the header files to go the correct place?

And currently numpy is built without Atlas (it uses another blas): local/lib/python2.7/site-packages/numpy/core/_dotblas.so normally contains ATL_* symbols (for an old Atlas 3.8.3 version, at least).



---

archive/issue_comments_178610.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@sagetrac-Koen](#comment%3A14):\n> You'd still need a line\n> \n> ```\n>     cmd += ' --incdir=' + os.path.join(conf['SAGE_LOCAL'],'include') \n> ```\n> in `configure_atlas_library()` for the header files to go the correct place?\n\nI don't think so.\nWe use prefix and that should be enough from what I've seen in ATLAS configure script.",
    "created_at": "2013-06-06T22:26:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178610",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@sagetrac-Koen](#comment%3A14):
> You'd still need a line
> 
> ```
>     cmd += ' --incdir=' + os.path.join(conf['SAGE_LOCAL'],'include') 
> ```
> in `configure_atlas_library()` for the header files to go the correct place?

I don't think so.
We use prefix and that should be enough from what I've seen in ATLAS configure script.



---

archive/issue_comments_178611.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@sagetrac-Koen](#comment%3A14):\n> And currently numpy is built without Atlas (it uses another blas): local/lib/python2.7/site-packages/numpy/core/_dotblas.so normally contains ATL_* symbols (for an old Atlas 3.8.3 version, at least).\n\nOn my gcc110 install (where IML testsuite fails), numpy uses ATLAS correctly.\nThere is no ATLAS symbols in the file you pointed because we now use a shared version of ATLAS.\nBut if I run ldd on the file it points to the ATLAS libs.\n\nAnd I seem to remember we had lots of troubles correctly biulding numpy and scipy with the new ATLAS so hopefully it was actually used.",
    "created_at": "2013-06-06T22:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178611",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@sagetrac-Koen](#comment%3A14):
> And currently numpy is built without Atlas (it uses another blas): local/lib/python2.7/site-packages/numpy/core/_dotblas.so normally contains ATL_* symbols (for an old Atlas 3.8.3 version, at least).

On my gcc110 install (where IML testsuite fails), numpy uses ATLAS correctly.
There is no ATLAS symbols in the file you pointed because we now use a shared version of ATLAS.
But if I run ldd on the file it points to the ATLAS libs.

And I seem to remember we had lots of troubles correctly biulding numpy and scipy with the new ATLAS so hopefully it was actually used.



---

archive/issue_comments_178612.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\ns/inlcude/include/\n\nand IMHO (=WTF?) also s/serial/single-threaded/g s/parallel/multi-threaded/g ... \n\n(but the latter is not JP's invention I guess)",
    "created_at": "2013-06-06T22:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178612",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

s/inlcude/include/

and IMHO (=WTF?) also s/serial/single-threaded/g s/parallel/multi-threaded/g ... 

(but the latter is not JP's invention I guess)



---

archive/issue_comments_178613.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@nexttime](#comment%3A17):\n> s/inlcude/include/\n\nDone.\n> \n> and IMHO (=WTF?) also s/serial/single-threaded/g s/parallel/multi-threaded/g ... \n> \n> (but the latter is not JP's invention I guess)\n\nNot mine indeed.",
    "created_at": "2013-06-06T22:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178613",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@nexttime](#comment%3A17):
> s/inlcude/include/

Done.
> 
> and IMHO (=WTF?) also s/serial/single-threaded/g s/parallel/multi-threaded/g ... 
> 
> (but the latter is not JP's invention I guess)

Not mine indeed.



---

archive/issue_comments_178614.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jpflori](#comment%3A16):\n> Replying to [@sagetrac-Koen](#comment%3A14):\n> > And currently numpy is built without Atlas (it uses another blas): local/lib/python2.7/site-packages/numpy/core/_dotblas.so normally contains ATL_* symbols (for an old Atlas 3.8.3 version, at least).\n\n> On my gcc110 install (where IML testsuite fails), numpy uses ATLAS correctly.\n> There is no ATLAS symbols in the file you pointed because we now use a shared version of ATLAS.\n> But if I run ldd on the file it points to the ATLAS libs.\n\nYes.\n\n```\n$ readelf -d local/lib/python2.7/site-packages/numpy/core/_dotblas.so\n\nDynamic section at offset 0x4dc0 contains 26 entries:\n  Tag        Type                         Name/Value\n 0x0000000000000001 (NEEDED)             Shared library: [libptf77blas.so.2]\n 0x0000000000000001 (NEEDED)             Shared library: [libptcblas.so.2]\n 0x0000000000000001 (NEEDED)             Shared library: [libatlas.so.2]\n 0x0000000000000001 (NEEDED)             Shared library: [libpython2.7.so.1.0]\n 0x0000000000000001 (NEEDED)             Shared library: [libpthread.so.0]\n 0x0000000000000001 (NEEDED)             Shared library: [libc.so.6]\n ...\n```",
    "created_at": "2013-06-06T22:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178614",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jpflori](#comment%3A16):
> Replying to [@sagetrac-Koen](#comment%3A14):
> > And currently numpy is built without Atlas (it uses another blas): local/lib/python2.7/site-packages/numpy/core/_dotblas.so normally contains ATL_* symbols (for an old Atlas 3.8.3 version, at least).

> On my gcc110 install (where IML testsuite fails), numpy uses ATLAS correctly.
> There is no ATLAS symbols in the file you pointed because we now use a shared version of ATLAS.
> But if I run ldd on the file it points to the ATLAS libs.

Yes.

```
$ readelf -d local/lib/python2.7/site-packages/numpy/core/_dotblas.so

Dynamic section at offset 0x4dc0 contains 26 entries:
  Tag        Type                         Name/Value
 0x0000000000000001 (NEEDED)             Shared library: [libptf77blas.so.2]
 0x0000000000000001 (NEEDED)             Shared library: [libptcblas.so.2]
 0x0000000000000001 (NEEDED)             Shared library: [libatlas.so.2]
 0x0000000000000001 (NEEDED)             Shared library: [libpython2.7.so.1.0]
 0x0000000000000001 (NEEDED)             Shared library: [libpthread.so.0]
 0x0000000000000001 (NEEDED)             Shared library: [libc.so.6]
 ...
```



---

archive/issue_comments_178615.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nmake_atlas() takes no argument.",
    "created_at": "2013-06-06T22:52:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178615",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:20" align="right">comment:20</div>

make_atlas() takes no argument.



---

archive/issue_events_206615.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T22:52:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206615"
}
```



---

archive/issue_events_206616.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T22:52:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206616"
}
```



---

archive/issue_events_206617.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T22:56:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206617"
}
```



---

archive/issue_events_206618.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-06T22:56:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206618"
}
```



---

archive/issue_comments_178616.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI saw the error on boxen. I thought that sage.math was dead? In any case, it's the machine I get to by typing `ssh sage.math.washington.edu`, and when I log off it says `Connection to sage.math.washington.edu closed.` The `$HOSTNAME` is boxen, though.",
    "created_at": "2013-06-06T23:30:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178616",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

I saw the error on boxen. I thought that sage.math was dead? In any case, it's the machine I get to by typing `ssh sage.math.washington.edu`, and when I log off it says `Connection to sage.math.washington.edu closed.` The `$HOSTNAME` is boxen, though.



---

archive/issue_comments_178617.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nOn boxen, after installing the new ATLAS spkg, the current iml spkg installs and passes its tests. Same for an iml spkg which doesn't copy over the patched version of `configure`.",
    "created_at": "2013-06-07T00:03:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178617",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

On boxen, after installing the new ATLAS spkg, the current iml spkg installs and passes its tests. Same for an iml spkg which doesn't copy over the patched version of `configure`.



---

archive/issue_comments_178618.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nP.S.:  I guess the odd \"patch\" to IML's `configure` dates back to the times when ATLAS was somehow optional, or at least did not get properly detected on all systems.  Running / building IML's test suite on such systems was always broken then.\n\n(In other parts of Sage using IML, BLAS libraries get explicitly added by us when linking.)",
    "created_at": "2013-06-07T00:12:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178618",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:24" align="right">comment:24</div>

P.S.:  I guess the odd "patch" to IML's `configure` dates back to the times when ATLAS was somehow optional, or at least did not get properly detected on all systems.  Running / building IML's test suite on such systems was always broken then.

(In other parts of Sage using IML, BLAS libraries get explicitly added by us when linking.)



---

archive/issue_events_206619.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-07T07:05:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206619"
}
```



---

archive/issue_events_206620.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-07T07:05:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206620"
}
```



---

archive/issue_comments_178619.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n**Do not install static libraries**, its a feature that we don't.\n\nAlso, nobody in his right mind expects blas headers. This is why the iml testsuite, which the authors probably didn't expect to be distributed, is the only place that trips over it. For starters, there is no universal naming standard (blas.h vs. cblas.h vs. foo_cblas.h vs. foo/cblas.h). There are multiple blas implementations and if you all install them at the same place then they would overwrite each other.",
    "created_at": "2013-06-07T09:09:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178619",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

**Do not install static libraries**, its a feature that we don't.

Also, nobody in his right mind expects blas headers. This is why the iml testsuite, which the authors probably didn't expect to be distributed, is the only place that trips over it. For starters, there is no universal naming standard (blas.h vs. cblas.h vs. foo_cblas.h vs. foo/cblas.h). There are multiple blas implementations and if you all install them at the same place then they would overwrite each other.



---

archive/issue_comments_178620.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAnd if you need a reason for not installing static libraries you just have to look at this ticket where you got confused about whether something links against atlas or not. Shared libraries are the only way that make it clear **which particular atlas version** you are linking against and that you didn't accidentally pick up some system atlas.",
    "created_at": "2013-06-07T09:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178620",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:27" align="right">comment:27</div>

And if you need a reason for not installing static libraries you just have to look at this ticket where you got confused about whether something links against atlas or not. Shared libraries are the only way that make it clear **which particular atlas version** you are linking against and that you didn't accidentally pick up some system atlas.



---

archive/issue_comments_178621.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI disagree that nobody expects the blas headers. If I try to install a package on top of Sage, e.g. the Shogun machine learning toolbox, then it will only compile in certain features if it can find a blas - and for that it needs blas headers. With older sage versions this works just fine.",
    "created_at": "2013-06-07T09:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178621",
    "user": "https://github.com/sagetrac-Koen"
}
```

<div id="comment:28" align="right">comment:28</div>

I disagree that nobody expects the blas headers. If I try to install a package on top of Sage, e.g. the Shogun machine learning toolbox, then it will only compile in certain features if it can find a blas - and for that it needs blas headers. With older sage versions this works just fine.



---

archive/issue_comments_178622.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nShogun just makes it unnecessarily complicated for themselves, you need to define preprocessor constants to tell it which blas header to look for...\n\nI agree that we should have blas/cblas/f77blas **headers** since its the right thing to do. But when we fix the IML testsuite we shouldn't introduce that as a dependency, because very often the headers are either not installed or installed with a funky name.",
    "created_at": "2013-06-07T09:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178622",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

Shogun just makes it unnecessarily complicated for themselves, you need to define preprocessor constants to tell it which blas header to look for...

I agree that we should have blas/cblas/f77blas **headers** since its the right thing to do. But when we fix the IML testsuite we shouldn't introduce that as a dependency, because very often the headers are either not installed or installed with a funky name.



---

archive/issue_events_206621.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-07T09:56:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206621"
}
```



---

archive/issue_events_206622.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-07T09:56:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206622"
}
```



---

archive/issue_comments_178623.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@vbraun](#comment%3A26):\n> **Do not install static libraries**, its a feature that we don't.\n\nAt least they shouldn't get discarded, which is simply stupid.",
    "created_at": "2013-06-07T10:16:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178623",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@vbraun](#comment%3A26):
> **Do not install static libraries**, its a feature that we don't.

At least they shouldn't get discarded, which is simply stupid.



---

archive/issue_comments_178624.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nBtw., the new spkg and afterwards IML installed without problems, and both passed their test suites on Linux x86_64 (Ubuntu 10.04.4, Sage 5.10.rc0).",
    "created_at": "2013-06-07T10:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178624",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:32" align="right">comment:32</div>

Btw., the new spkg and afterwards IML installed without problems, and both passed their test suites on Linux x86_64 (Ubuntu 10.04.4, Sage 5.10.rc0).



---

archive/issue_comments_178625.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@nexttime](#comment%3A31):\n> At least they shouldn't get discarded, which is simply stupid.\n\nDo you also object to discarding the `*.o` files? We delete what we don't want around in the install, thats the way it works. Ideally upstream would have an `--disable-static` switch, but they don't.",
    "created_at": "2013-06-07T10:23:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178625",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@nexttime](#comment%3A31):
> At least they shouldn't get discarded, which is simply stupid.

Do you also object to discarding the `*.o` files? We delete what we don't want around in the install, thats the way it works. Ideally upstream would have an `--disable-static` switch, but they don't.



---

archive/issue_comments_178626.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nRemoved the static library install bit from the spkg",
    "created_at": "2013-06-07T10:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178626",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:34" align="right">comment:34</div>

Removed the static library install bit from the spkg



---

archive/issue_comments_178627.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n With the new ATLAS spkg from #10508, iml fails its self tests. See [https://github.com/sagemath/sage/issues/10508#comment:518](https://github.com/sagemath/sage/issues/10508#comment:518) and later comments.\n \n Use spkg at:\n-* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p1.spkg\n+* http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg\n``````\n",
    "created_at": "2013-06-07T10:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178627",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 With the new ATLAS spkg from #10508, iml fails its self tests. See [https://github.com/sagemath/sage/issues/10508#comment:518](https://github.com/sagemath/sage/issues/10508#comment:518) and later comments.
 
 Use spkg at:
-* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p1.spkg
+* http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg
``````




---

archive/issue_comments_178628.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@vbraun](#comment%3A33):\n> Replying to [@nexttime](#comment%3A31):\n> > At least they shouldn't get discarded, which is simply stupid.\n\n> \n> Do you also object to discarding the `*.o` files?\n\n`man ar`?",
    "created_at": "2013-06-07T11:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178628",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@vbraun](#comment%3A33):
> Replying to [@nexttime](#comment%3A31):
> > At least they shouldn't get discarded, which is simply stupid.

> 
> Do you also object to discarding the `*.o` files?

`man ar`?



---

archive/issue_comments_178629.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@nexttime](#comment%3A35):\n> `man ar`?\n\nI take it that this means that you agree with me, and we should neither install object files nor static libraries ;-)",
    "created_at": "2013-06-07T11:42:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178629",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@nexttime](#comment%3A35):
> `man ar`?

I take it that this means that you agree with me, and we should neither install object files nor static libraries ;-)



---

archive/issue_events_206623.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-06-08T13:12:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "title_is": "Install ATLAS header files",
    "title_was": "Install ATLAS header files and static libraries",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206623"
}
```



---

archive/issue_events_206624.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-08T13:28:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206624"
}
```



---

archive/issue_events_206625.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-08T13:28:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206625"
}
```



---

archive/issue_comments_178630.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nProbably vote on sage-devel on whether to discard the static libraries or not.",
    "created_at": "2013-06-08T13:28:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178630",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:38" align="right">comment:38</div>

Probably vote on sage-devel on whether to discard the static libraries or not.



---

archive/issue_comments_178631.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@nexttime](#comment%3A31):\n> Replying to [@vbraun](#comment%3A26):\n> > **Do not install static libraries**, its a feature that we don't.\n\n> \n> At least they shouldn't get discarded, which is simply stupid.\n\nHaving static libraries rather than nothing on systems where building shared ones is problematic might be nice...\nAlso note it's the only option upstream really supports.",
    "created_at": "2013-06-08T13:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178631",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@nexttime](#comment%3A31):
> Replying to [@vbraun](#comment%3A26):
> > **Do not install static libraries**, its a feature that we don't.

> 
> At least they shouldn't get discarded, which is simply stupid.

Having static libraries rather than nothing on systems where building shared ones is problematic might be nice...
Also note it's the only option upstream really supports.



---

archive/issue_comments_178632.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@nexttime](#comment%3A38):\n> Probably vote on sage-devel on whether to discard the static libraries or not.\n\n... or make it optional.",
    "created_at": "2013-06-08T13:43:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178632",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@nexttime](#comment%3A38):
> Probably vote on sage-devel on whether to discard the static libraries or not.

... or make it optional.



---

archive/issue_comments_178633.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nDone, see https://groups.google.com/d/msg/sage-devel/mthuvh5SRpQ/nDekknXc76IJ",
    "created_at": "2013-06-08T15:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178633",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:41" align="right">comment:41</div>

Done, see https://groups.google.com/d/msg/sage-devel/mthuvh5SRpQ/nDekknXc76IJ



---

archive/issue_comments_178634.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nCan we please concentrate on the actual ticket issue here, which is about header files and iml failing? I don't think this has anything to do with static libraries (but please correct me if I'm wrong).",
    "created_at": "2013-06-10T12:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178634",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

Can we please concentrate on the actual ticket issue here, which is about header files and iml failing? I don't think this has anything to do with static libraries (but please correct me if I'm wrong).



---

archive/issue_comments_178635.json:
```json
{
    "body": "Attachment: **[atlas-3.10.1.p1.diff.gz](https://github.com/sagemath/sage/files/ticket14699/atlas-3.10.1.p1.diff.gz)**",
    "created_at": "2013-06-10T12:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178635",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[atlas-3.10.1.p1.diff.gz](https://github.com/sagemath/sage/files/ticket14699/atlas-3.10.1.p1.diff.gz)**



---

archive/issue_events_206626.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-10T12:46:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206626"
}
```



---

archive/issue_events_206627.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-10T12:46:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206627"
}
```



---

archive/issue_comments_178636.json:
```json
{
    "body": "Changed author from **Jean-Pierre Flori** to **Jean-Pierre Flori, Volker Braun**",
    "created_at": "2013-06-10T12:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178636",
    "user": "https://github.com/jpflori"
}
```

Changed author from **Jean-Pierre Flori** to **Jean-Pierre Flori, Volker Braun**



---

archive/issue_comments_178637.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nOk.\nOnly concentrating on that, I'm ok with Volker changes to my changes.",
    "created_at": "2013-06-10T12:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178637",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:43" align="right">comment:43</div>

Ok.
Only concentrating on that, I'm ok with Volker changes to my changes.



---

archive/issue_comments_178638.json:
```json
{
    "body": "Reviewer: **Jean-Pierre Flori**",
    "created_at": "2013-06-10T12:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178638",
    "user": "https://github.com/jpflori"
}
```

Reviewer: **Jean-Pierre Flori**



---

archive/issue_events_206628.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-06-10T12:57:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206628"
}
```



---

archive/issue_events_206629.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-06-10T12:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206629"
}
```



---

archive/issue_comments_178639.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI'm ok with Jean-Pierre changes to the extent that I haven't changed them, of course.",
    "created_at": "2013-06-10T12:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178639",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:44" align="right">comment:44</div>

I'm ok with Jean-Pierre changes to the extent that I haven't changed them, of course.



---

archive/issue_comments_178640.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@jdemeyer](#comment%3A42):\n> Can we please concentrate on the actual ticket issue here, which is about header files and iml failing? I don't think this has anything to do with static libraries (but please correct me if I'm wrong).\n\nWell, if we used ATLAS' install rather than further hacking, we'd get both the headers and the static libraries.\n\nI don't see any reason why **discarding** static libraries should be done by default; if someone feels they're dangerous to him/her, we could add some option to *automatically* remove them, although that's IMHO a pretty unimportant feature.",
    "created_at": "2013-06-10T13:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178640",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@jdemeyer](#comment%3A42):
> Can we please concentrate on the actual ticket issue here, which is about header files and iml failing? I don't think this has anything to do with static libraries (but please correct me if I'm wrong).

Well, if we used ATLAS' install rather than further hacking, we'd get both the headers and the static libraries.

I don't see any reason why **discarding** static libraries should be done by default; if someone feels they're dangerous to him/her, we could add some option to *automatically* remove them, although that's IMHO a pretty unimportant feature.



---

archive/issue_comments_178641.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nP.S.:  Removing the \"patch\" to IML's `configure` from the IML spkg IMHO belongs to this ticket as well, as that was hiding (or rather obscuring) the real problem.",
    "created_at": "2013-06-10T13:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178641",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:46" align="right">comment:46</div>

P.S.:  Removing the "patch" to IML's `configure` from the IML spkg IMHO belongs to this ticket as well, as that was hiding (or rather obscuring) the real problem.



---

archive/issue_comments_178642.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@nexttime](#comment%3A46):\n> P.S.:  Removing the \"patch\" to IML's `configure` from the IML spkg IMHO belongs to this ticket as well, as that was hiding (or rather obscuring) the real problem.\n\nThen either attach a fixed iml spkg to this packet real soon (TM) or open a ticket for it. But don't leave footnotes on finished tickets.",
    "created_at": "2013-06-10T13:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178642",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@nexttime](#comment%3A46):
> P.S.:  Removing the "patch" to IML's `configure` from the IML spkg IMHO belongs to this ticket as well, as that was hiding (or rather obscuring) the real problem.

Then either attach a fixed iml spkg to this packet real soon (TM) or open a ticket for it. But don't leave footnotes on finished tickets.



---

archive/issue_comments_178643.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@vbraun](#comment%3A47):\n> Replying to [@nexttime](#comment%3A46):\n> > P.S.:  Removing the \"patch\" to IML's `configure` from the IML spkg IMHO belongs to this ticket as well, as that was hiding (or rather obscuring) the real problem.\n\n> \n> Then either attach a fixed iml spkg to this packet real soon (TM) or open a ticket for it. But don't leave footnotes on finished tickets.\n\nI was saying it's **IMHO** not finished.",
    "created_at": "2013-06-10T14:04:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178643",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@vbraun](#comment%3A47):
> Replying to [@nexttime](#comment%3A46):
> > P.S.:  Removing the "patch" to IML's `configure` from the IML spkg IMHO belongs to this ticket as well, as that was hiding (or rather obscuring) the real problem.

> 
> Then either attach a fixed iml spkg to this packet real soon (TM) or open a ticket for it. But don't leave footnotes on finished tickets.

I was saying it's **IMHO** not finished.



---

archive/issue_comments_178644.json:
```json
{
    "body": "Work Issues: **enable cblas.h test in iml spkg**",
    "created_at": "2013-06-10T15:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178644",
    "user": "https://github.com/jpflori"
}
```

Work Issues: **enable cblas.h test in iml spkg**



---

archive/issue_comments_178645.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nIndeed, the ticket original title was about IML testsuite, so we should also provide an IML spkg (quite trivial just remove the horrible patch disabling test for cblas.h).\n\nleif: could you make the spkg? I'll quickly review it.",
    "created_at": "2013-06-10T15:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178645",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:49" align="right">comment:49</div>

Indeed, the ticket original title was about IML testsuite, so we should also provide an IML spkg (quite trivial just remove the horrible patch disabling test for cblas.h).

leif: could you make the spkg? I'll quickly review it.



---

archive/issue_events_206630.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-10T15:13:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206630"
}
```



---

archive/issue_events_206631.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-10T15:13:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206631"
}
```



---

archive/issue_comments_178646.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nOr at least we should provide this fixed IML spkg in a follow up ticket mentioned here and put as blocker for 5.10.",
    "created_at": "2013-06-10T15:18:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178646",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:51" align="right">comment:51</div>

Or at least we should provide this fixed IML spkg in a follow up ticket mentioned here and put as blocker for 5.10.



---

archive/issue_comments_178647.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nThis doesn't at all work with `SAGE_ATLAS_LIB` [unless the headers happen to be installed system-wide, which is the same situation as before], since headers don't get copied / symlinked.\n\n\n\n\nWhat happens on MacOS X (where Sage's ATLAS by default doesn't get built)?\n\n(Similar for Cygwin perhaps.)\n\nReplying to [@jpflori](#comment%3A49):\n> Indeed, the ticket original title was about IML testsuite, so we should also provide an IML spkg (quite trivial just remove the horrible patch disabling test for cblas.h).\n\nSo I'm not sure if it's really that easy.",
    "created_at": "2013-06-10T19:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178647",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:52" align="right">comment:52</div>

This doesn't at all work with `SAGE_ATLAS_LIB` [unless the headers happen to be installed system-wide, which is the same situation as before], since headers don't get copied / symlinked.




What happens on MacOS X (where Sage's ATLAS by default doesn't get built)?

(Similar for Cygwin perhaps.)

Replying to [@jpflori](#comment%3A49):
> Indeed, the ticket original title was about IML testsuite, so we should also provide an IML spkg (quite trivial just remove the horrible patch disabling test for cblas.h).

So I'm not sure if it's really that easy.



---

archive/issue_comments_178648.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nYeah, I was just looking into that...\nNot really anything useful to do when a system-wide ATLAS is used.\n\nDoes really no software linking to ATLAS expect to find headers in some standard or provided place?\nDo they all provide their own BLAS headers and expect everything to be fine?",
    "created_at": "2013-06-10T19:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178648",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:53" align="right">comment:53</div>

Yeah, I was just looking into that...
Not really anything useful to do when a system-wide ATLAS is used.

Does really no software linking to ATLAS expect to find headers in some standard or provided place?
Do they all provide their own BLAS headers and expect everything to be fine?



---

archive/issue_comments_178649.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nIts pretty much common practice to use your own blas/lapack headers. For example, linbox/fflas: http://linalg.org/projects/fflas-ffpack/browser/fflas-ffpack/config-blas.h Definitely weird, but then its probably the most stable API ever. And the lack of uniform naming of the header across vendors doesn't help.",
    "created_at": "2013-06-10T19:52:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178649",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:54" align="right">comment:54</div>

Its pretty much common practice to use your own blas/lapack headers. For example, linbox/fflas: http://linalg.org/projects/fflas-ffpack/browser/fflas-ffpack/config-blas.h Definitely weird, but then its probably the most stable API ever. And the lack of uniform naming of the header across vendors doesn't help.



---

archive/issue_comments_178650.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nA test spkg is at:\n* http://boxen.math.washington.edu/home/jpflori/spkg/iml-1.0.1.p15.spkg\nNot really wonderful as the src directory still includes a modified upstream source, but maybe a little bit better looking.\nNot tested yet, I'm doing it right now.",
    "created_at": "2013-06-10T20:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178650",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:55" align="right">comment:55</div>

A test spkg is at:
* http://boxen.math.washington.edu/home/jpflori/spkg/iml-1.0.1.p15.spkg
Not really wonderful as the src directory still includes a modified upstream source, but maybe a little bit better looking.
Not tested yet, I'm doing it right now.



---

archive/issue_events_206632.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-10T20:27:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206632"
}
```



---

archive/issue_events_206633.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-10T20:27:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206633"
}
```



---

archive/issue_comments_178651.json:
```json
{
    "body": "Changed work issues from **enable cblas.h test in iml spkg** to none",
    "created_at": "2013-06-10T20:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178651",
    "user": "https://github.com/jpflori"
}
```

Changed work issues from **enable cblas.h test in iml spkg** to none



---

archive/issue_comments_178652.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,4 @@\n \n Use spkg at:\n * http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg\n+* http://boxen.math.washington.edu/home/jpflori/spkg/iml-1.0.1.p15.spkg\n``````\n",
    "created_at": "2013-06-10T20:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178652",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,4 @@
 
 Use spkg at:
 * http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg
+* http://boxen.math.washington.edu/home/jpflori/spkg/iml-1.0.1.p15.spkg
``````




---

archive/issue_events_206634.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-10T20:28:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "title_is": "Install ATLAS header files and cleanup IML spkg",
    "title_was": "Install ATLAS header files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206634"
}
```



---

archive/issue_comments_178653.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nThe use of `\"$SAGE_LOCAL\"/lib/libatlas.so.*.*` seems to assume that there is exactly one file matching `\"$SAGE_LOCAL\"/lib/libatlas.so.*.*`\n\nI doubt that this assumption is true in general.",
    "created_at": "2013-06-10T20:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178653",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:59" align="right">comment:59</div>

The use of `"$SAGE_LOCAL"/lib/libatlas.so.*.*` seems to assume that there is exactly one file matching `"$SAGE_LOCAL"/lib/libatlas.so.*.*`

I doubt that this assumption is true in general.



---

archive/issue_events_206635.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-10T20:46:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206635"
}
```



---

archive/issue_events_206636.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-10T20:46:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206636"
}
```



---

archive/issue_comments_178654.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nQuite true (just wondering if we really want to support Sage's installs with multiple ATLAS version installed?).",
    "created_at": "2013-06-10T20:52:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178654",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:60" align="right">comment:60</div>

Quite true (just wondering if we really want to support Sage's installs with multiple ATLAS version installed?).



---

archive/issue_comments_178655.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nWorking on IML spkg, hang on...",
    "created_at": "2013-06-10T21:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178655",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:61" align="right">comment:61</div>

Working on IML spkg, hang on...



---

archive/issue_comments_178656.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nOf course I guess the IML testsuite will still fail on OS X or Cygwin.",
    "created_at": "2013-06-10T21:41:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178656",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:62" align="right">comment:62</div>

Of course I guess the IML testsuite will still fail on OS X or Cygwin.



---

archive/issue_comments_178657.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Use spkg at:\n * http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg\n-* http://boxen.math.washington.edu/home/jpflori/spkg/iml-1.0.1.p15.spkg\n+* [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg)\n``````\n",
    "created_at": "2013-06-10T21:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178657",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Use spkg at:
 * http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg
-* http://boxen.math.washington.edu/home/jpflori/spkg/iml-1.0.1.p15.spkg
+* [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg)
``````




---

archive/issue_events_206637.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-10T22:20:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206637"
}
```



---

archive/issue_events_206638.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-10T22:20:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206638"
}
```



---

archive/issue_comments_178658.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nIML spkg needs review, I restored upstream sources and added patches in the `patches/` directory. I know the patches can be catalogued and documented better, but let's leave that for next time...\n\nTested on Linux and OS X x86_64, IML (with testsuite) works.",
    "created_at": "2013-06-10T22:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178658",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:64" align="right">comment:64</div>

IML spkg needs review, I restored upstream sources and added patches in the `patches/` directory. I know the patches can be catalogued and documented better, but let's leave that for next time...

Tested on Linux and OS X x86_64, IML (with testsuite) works.



---

archive/issue_comments_178659.json:
```json
{
    "body": "Changed author from **Jean-Pierre Flori, Volker Braun** to **Jean-Pierre Flori, Volker Braun, Jeroen Demeyer**",
    "created_at": "2013-06-10T22:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178659",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Jean-Pierre Flori, Volker Braun** to **Jean-Pierre Flori, Volker Braun, Jeroen Demeyer**



---

archive/issue_comments_178660.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n With the new ATLAS spkg from #10508, iml fails its self tests. See [https://github.com/sagemath/sage/issues/10508#comment:518](https://github.com/sagemath/sage/issues/10508#comment:518) and later comments.\n \n-Use spkg at:\n-* http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg\n-* [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg)\n+Use spkgs at:\n+* [http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg) ([spkg diff](https://github.com/sagemath/sage/files/ticket14699/atlas-3.10.1.p1.diff.gz))\n+* [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg) ([spkg diff without deletes](https://github.com/sagemath/sage/files/ticket14699/iml-1.0.1.p15.diff.gz))\n``````\n",
    "created_at": "2013-06-11T06:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178660",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 With the new ATLAS spkg from #10508, iml fails its self tests. See [https://github.com/sagemath/sage/issues/10508#comment:518](https://github.com/sagemath/sage/issues/10508#comment:518) and later comments.
 
-Use spkg at:
-* http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg
-* [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg)
+Use spkgs at:
+* [http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg) ([spkg diff](https://github.com/sagemath/sage/files/ticket14699/atlas-3.10.1.p1.diff.gz))
+* [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg) ([spkg diff without deletes](https://github.com/sagemath/sage/files/ticket14699/iml-1.0.1.p15.diff.gz))
``````




---

archive/issue_comments_178661.json:
```json
{
    "body": "Attachment: **[14699_env_version_bump.patch.gz](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz)**",
    "created_at": "2013-06-11T06:52:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178661",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[14699_env_version_bump.patch.gz](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz)**



---

archive/issue_comments_178662.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nI'm adding [attachment: 14699_env_version_bump.patch](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz) because ATLAS now requires the `FC` environment variable to be set, so it needs an up-to-date `sage-env`.",
    "created_at": "2013-06-11T06:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178662",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:66" align="right">comment:66</div>

I'm adding [attachment: 14699_env_version_bump.patch](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz) because ATLAS now requires the `FC` environment variable to be set, so it needs an up-to-date `sage-env`.



---

archive/issue_comments_178663.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n Use spkgs at:\n * [http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg) ([spkg diff](https://github.com/sagemath/sage/files/ticket14699/atlas-3.10.1.p1.diff.gz))\n * [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg) ([spkg diff without deletes](https://github.com/sagemath/sage/files/ticket14699/iml-1.0.1.p15.diff.gz))\n+\n+**Apply** [attachment: 14699_env_version_bump.patch](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz) to `SAGE_ROOT`\n``````\n",
    "created_at": "2013-06-11T06:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178663",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 Use spkgs at:
 * [http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg](http://boxen.math.washington.edu/home/vbraun/spkg/atlas-3.10.1.p1.spkg) ([spkg diff](https://github.com/sagemath/sage/files/ticket14699/atlas-3.10.1.p1.diff.gz))
 * [http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/iml-1.0.1.p15.spkg) ([spkg diff without deletes](https://github.com/sagemath/sage/files/ticket14699/iml-1.0.1.p15.diff.gz))
+
+**Apply** [attachment: 14699_env_version_bump.patch](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz) to `SAGE_ROOT`
``````




---

archive/issue_comments_178664.json:
```json
{
    "body": "Attachment: **[iml-1.0.1.p15.diff.gz](https://github.com/sagemath/sage/files/ticket14699/iml-1.0.1.p15.diff.gz)**\n\nSpkg diff, for review only.",
    "created_at": "2013-06-11T07:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178664",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[iml-1.0.1.p15.diff.gz](https://github.com/sagemath/sage/files/ticket14699/iml-1.0.1.p15.diff.gz)**

Spkg diff, for review only.



---

archive/issue_comments_178665.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@jdemeyer](#comment%3A66):\n> I'm adding [attachment: 14699_env_version_bump.patch](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz) because ATLAS now requires the `FC` environment variable to be set, so it needs an up-to-date `sage-env`.\n\nWhat does that achieve exactly?\nJust looking at the patch, I cannot really guess.\nDoes it force upgrading the sage-env script?\n\nA question for Volker: How does the SO_VERSION variable in the ATLAS autotools project be updated?",
    "created_at": "2013-06-11T08:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178665",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@jdemeyer](#comment%3A66):
> I'm adding [attachment: 14699_env_version_bump.patch](https://github.com/sagemath/sage/files/ticket14699/14699_env_version_bump.patch.gz) because ATLAS now requires the `FC` environment variable to be set, so it needs an up-to-date `sage-env`.

What does that achieve exactly?
Just looking at the patch, I cannot really guess.
Does it force upgrading the sage-env script?

A question for Volker: How does the SO_VERSION variable in the ATLAS autotools project be updated?



---

archive/issue_comments_178666.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI'll copy the comments from `sage-env`:\n\n```\n# Don't execute the commands more than once for the same version of\n# sage-env.  Check this after checking the validity of SAGE_ROOT, but\n# before modifying its value.\n#\n# The idea of versioning is that SAGE_ENV_SOURCED will be set to a\n# \"version number\" of sage-env.  If a different version of sage-env was\n# sourced earlier (when upgrading), we still source the new version.\n# The sage-env version should be increased whenever a newer sage-env is\n# required for upgrading.  Note that spkg/standard/deps might also need\n# to be changed: the packages which need the new sage-env must depend on\n# SAGE_ROOT_REPO (the root repo contains sage-env).\n#\n# sage-env version history:\n# - sage-4.7.1: version 1 (#10469)\n# - sage-5.4:   version 2 (#13395)\n#\nSAGE_ENV_VERSION=2\nif [ \"$SAGE_ENV_SOURCED\" = \"$SAGE_ENV_VERSION\" ]; then\n    # Already sourced, nothing to do.\n    return 0\nfi\nexport SAGE_ENV_SOURCED=$SAGE_ENV_VERSION\n```",
    "created_at": "2013-06-11T09:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178666",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:68" align="right">comment:68</div>

I'll copy the comments from `sage-env`:

```
# Don't execute the commands more than once for the same version of
# sage-env.  Check this after checking the validity of SAGE_ROOT, but
# before modifying its value.
#
# The idea of versioning is that SAGE_ENV_SOURCED will be set to a
# "version number" of sage-env.  If a different version of sage-env was
# sourced earlier (when upgrading), we still source the new version.
# The sage-env version should be increased whenever a newer sage-env is
# required for upgrading.  Note that spkg/standard/deps might also need
# to be changed: the packages which need the new sage-env must depend on
# SAGE_ROOT_REPO (the root repo contains sage-env).
#
# sage-env version history:
# - sage-4.7.1: version 1 (#10469)
# - sage-5.4:   version 2 (#13395)
#
SAGE_ENV_VERSION=2
if [ "$SAGE_ENV_SOURCED" = "$SAGE_ENV_VERSION" ]; then
    # Already sourced, nothing to do.
    return 0
fi
export SAGE_ENV_SOURCED=$SAGE_ENV_VERSION
```



---

archive/issue_comments_178667.json:
```json
{
    "body": "Work Issues: **SAGE64,**",
    "created_at": "2013-06-11T21:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178667",
    "user": "https://github.com/jpflori"
}
```

Work Issues: **SAGE64,**



---

archive/issue_events_206639.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-11T21:49:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206639"
}
```



---

archive/issue_events_206640.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-11T21:49:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206640"
}
```



---

archive/issue_comments_178668.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nIn the IMl spkg, you don't reexport CFLAGS after checking for SAGE64 (both in spkg-check and spkg-install).\n\nAnd when looking through trac there is a strange .patch part about renaming sage3_memleak, but that may just be a trac issue.",
    "created_at": "2013-06-11T21:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178668",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:69" align="right">comment:69</div>

In the IMl spkg, you don't reexport CFLAGS after checking for SAGE64 (both in spkg-check and spkg-install).

And when looking through trac there is a strange .patch part about renaming sage3_memleak, but that may just be a trac issue.



---

archive/issue_comments_178669.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nReplying to [@jpflori](#comment%3A69):\n> In the IMl spkg, you don't reexport CFLAGS after checking for SAGE64 (both in spkg-check and spkg-install).\n\nIt's already exported before. No need to \"reexport\" it.\n\n> And when looking through trac there is a strange .patch part about renaming sage3_memleak, but that may just be a trac issue.\n\nIndeed, that's a Trac bug.",
    "created_at": "2013-06-12T06:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178669",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:70" align="right">comment:70</div>

Replying to [@jpflori](#comment%3A69):
> In the IMl spkg, you don't reexport CFLAGS after checking for SAGE64 (both in spkg-check and spkg-install).

It's already exported before. No need to "reexport" it.

> And when looking through trac there is a strange .patch part about renaming sage3_memleak, but that may just be a trac issue.

Indeed, that's a Trac bug.



---

archive/issue_comments_178670.json:
```json
{
    "body": "Changed work issues from **SAGE64,** to none",
    "created_at": "2013-06-12T06:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178670",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **SAGE64,** to none



---

archive/issue_events_206641.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-12T06:54:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206641"
}
```



---

archive/issue_events_206642.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-12T06:54:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206642"
}
```



---

archive/issue_comments_178671.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nI should also note that the only *new* patch in IML is `patches/remove_repl.patch`, all the others were already (pre-patched) in the spkg.",
    "created_at": "2013-06-12T07:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178671",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:71" align="right">comment:71</div>

I should also note that the only *new* patch in IML is `patches/remove_repl.patch`, all the others were already (pre-patched) in the spkg.



---

archive/issue_comments_178672.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nReplying to [@jdemeyer](#comment%3A70):\n> Replying to [@jpflori](#comment%3A69):\n> > In the IMl spkg, you don't reexport CFLAGS after checking for SAGE64 (both in spkg-check and spkg-install).\n\n> It's already exported before. No need to \"reexport\" it.\n> \n\nDamn, I was not aware of that!\n> > And when looking through trac there is a strange .patch part about renaming sage3_memleak, but that may just be a trac issue.\n\n> Indeed, that's a Trac bug.",
    "created_at": "2013-06-12T18:05:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178672",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:72" align="right">comment:72</div>

Replying to [@jdemeyer](#comment%3A70):
> Replying to [@jpflori](#comment%3A69):
> > In the IMl spkg, you don't reexport CFLAGS after checking for SAGE64 (both in spkg-check and spkg-install).

> It's already exported before. No need to "reexport" it.
> 

Damn, I was not aware of that!
> > And when looking through trac there is a strange .patch part about renaming sage3_memleak, but that may just be a trac issue.

> Indeed, that's a Trac bug.



---

archive/issue_events_206643.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-14T08:38:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206643"
}
```



---

archive/issue_events_206644.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-14T08:38:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206644"
}
```



---

archive/issue_comments_178673.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nThe spkg looks good, seems to work on my systems.",
    "created_at": "2013-06-14T08:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178673",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:73" align="right">comment:73</div>

The spkg looks good, seems to work on my systems.



---

archive/issue_comments_178674.json:
```json
{
    "body": "Merged: **sage-5.10.rc2**",
    "created_at": "2013-06-14T09:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178674",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.10.rc2**



---

archive/issue_events_206645.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T09:19:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206645"
}
```



---

archive/issue_events_206646.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T09:19:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206646"
}
```



---

archive/issue_comments_178675.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nThanks for the review, do you by chance feel like reviewing the IML upgrade at #748?",
    "created_at": "2013-06-14T09:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178675",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:75" align="right">comment:75</div>

Thanks for the review, do you by chance feel like reviewing the IML upgrade at #748?



---

archive/issue_events_206647.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-17T12:04:33Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206647"
}
```



---

archive/issue_comments_178676.json:
```json
{
    "body": "Changed merged from **sage-5.10.rc2** to none",
    "created_at": "2013-06-17T12:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178676",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-5.10.rc2** to none



---

archive/issue_comments_178677.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nReverting the ATLAS package: #14753.",
    "created_at": "2013-06-17T12:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178677",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:76" align="right">comment:76</div>

Reverting the ATLAS package: #14753.



---

archive/issue_events_206648.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-17T12:04:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206648"
}
```



---

archive/issue_events_206649.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-17T12:04:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206649"
}
```



---

archive/issue_comments_178678.json:
```json
{
    "body": "Dependencies: **#10508**",
    "created_at": "2013-06-17T12:04:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178678",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#10508**



---

archive/issue_comments_178679.json:
```json
{
    "body": "Merged: **sage-5.10.rc2**",
    "created_at": "2013-06-17T12:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178679",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.10.rc2**



---

archive/issue_events_206650.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-17T12:06:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206650"
}
```



---

archive/issue_events_206651.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-17T12:06:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206651"
}
```



---

archive/issue_events_206652.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-17T12:06:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14699#event-206652"
}
```



---

archive/issue_comments_178680.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nKeeping \"merged in\" information for future reference, we should not change this ticket further.",
    "created_at": "2013-06-17T12:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14699#issuecomment-178680",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:79" align="right">comment:79</div>

Keeping "merged in" information for future reference, we should not change this ticket further.
