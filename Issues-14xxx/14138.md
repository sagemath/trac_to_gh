# Issue 14138: some cleanup in sage.combinat.combinat

archive/issues_013934.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "Because I hate that :\n\n```\nsage: MultichooseNK(5,3)                                                 \nCombinatorial Class -- REDEFINE ME!\n   \nsage: Partitions(5, min_part=0)\n/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/combinat/partition.py:3764: RuntimeWarning: Currently, setting min_part=0 produces Partition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!\n  warn(\"Currently, setting min_part=0 produces Partition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!\", RuntimeWarning)\nPartitions of the integer 5 satisfying constraints min_part=0\n\nsage: Compositions(5, min_part=0)\n/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/combinat/composition.py:975: RuntimeWarning: Currently, setting min_part=0 produces Composition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!\n  warn(\"Currently, setting min_part=0 produces Composition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!\", RuntimeWarning)\nCompositions of the integer 5 satisfying constraints min_part=0\n```\n\nFrom the help of unordered_tuples (in the global namespace):\n\n   Warning: Wraps GAP - hence mset must be a list of objects that have string\n     representations that can be interpreted by the GAP interpreter.\n     If mset consists of at all complicated Sage objects, this\n     function does *not* do what you expect. A proper function should\n     be written! (TODO!)\n\nFrom the help of permutations_iterator (in the global namespace, with no depracation warning):\n\n    Do not use this function. It will be deprecated in future version                                                                                                                          \n    of Sage and eventually removed. Use Permutations instead;\n\nhelp of number_of_permutations (same as above).\n\nWhat this ticket does :\n* It adds a deprecation warning when `min_part = 0`, in the hope that the feature will be made unavailable as soon as possible, and because Nicolas told me that I should deprecate it first (turns out that there has been a warning since 2009 already).\n* It calls the proper Sage object to compute things that use to be done with GAP\n* Some documentation improvements.\n* This ticket *does nothing* about `MultichooseNK(5,3)` because I refuse to touch anything that uses things like CombinatorialClass.\n* This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are almost all deprecated anyway and will be removed, even if we have to wait for one more year.\n\nNathann\n\nApply:\n* [attachment: trac_14138.patch](https://github.com/sagemath/sage/files/ticket14138/trac_14138.patch.gz)\n* [attachment: trac_14138-doctests.patch](https://github.com/sagemath/sage/files/ticket14138/trac_14138-doctests.patch.gz)\n\nCC:  @nthiery @hivert @hivert @ppurka @tscrim\n\nReviewer: **Punarbasu Purkayastha, Nicolas M. Thi\u00e9ry**\n\nAuthor: **Nathann Cohen**\n\nMerged: **sage-5.8.beta1**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14138_\n\n",
    "closed_at": "2013-02-24T13:20:51Z",
    "created_at": "2013-02-15T21:10:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "some cleanup in sage.combinat.combinat",
    "type": "issue",
    "updated_at": "2013-02-24T19:44:09Z",
    "url": "https://github.com/sagemath/sage/issues/14138",
    "user": "https://github.com/nathanncohen"
}
```
Because I hate that :

```
sage: MultichooseNK(5,3)                                                 
Combinatorial Class -- REDEFINE ME!
   
sage: Partitions(5, min_part=0)
/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/combinat/partition.py:3764: RuntimeWarning: Currently, setting min_part=0 produces Partition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!
  warn("Currently, setting min_part=0 produces Partition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!", RuntimeWarning)
Partitions of the integer 5 satisfying constraints min_part=0

sage: Compositions(5, min_part=0)
/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/combinat/composition.py:975: RuntimeWarning: Currently, setting min_part=0 produces Composition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!
  warn("Currently, setting min_part=0 produces Composition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!", RuntimeWarning)
Compositions of the integer 5 satisfying constraints min_part=0
```

From the help of unordered_tuples (in the global namespace):

   Warning: Wraps GAP - hence mset must be a list of objects that have string
     representations that can be interpreted by the GAP interpreter.
     If mset consists of at all complicated Sage objects, this
     function does *not* do what you expect. A proper function should
     be written! (TODO!)

From the help of permutations_iterator (in the global namespace, with no depracation warning):

    Do not use this function. It will be deprecated in future version                                                                                                                          
    of Sage and eventually removed. Use Permutations instead;

help of number_of_permutations (same as above).

What this ticket does :
* It adds a deprecation warning when `min_part = 0`, in the hope that the feature will be made unavailable as soon as possible, and because Nicolas told me that I should deprecate it first (turns out that there has been a warning since 2009 already).
* It calls the proper Sage object to compute things that use to be done with GAP
* Some documentation improvements.
* This ticket *does nothing* about `MultichooseNK(5,3)` because I refuse to touch anything that uses things like CombinatorialClass.
* This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are almost all deprecated anyway and will be removed, even if we have to wait for one more year.

Nathann

Apply:
* [attachment: trac_14138.patch](https://github.com/sagemath/sage/files/ticket14138/trac_14138.patch.gz)
* [attachment: trac_14138-doctests.patch](https://github.com/sagemath/sage/files/ticket14138/trac_14138-doctests.patch.gz)

CC:  @nthiery @hivert @hivert @ppurka @tscrim

Reviewer: **Punarbasu Purkayastha, Nicolas M. Thiéry**

Author: **Nathann Cohen**

Merged: **sage-5.8.beta1**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/14138_





---

archive/issue_events_199827.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T21:10:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "milestone_number": null,
    "milestone_title": "sage-5.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199827"
}
```



---

archive/issue_events_199828.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T21:10:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199828"
}
```



---

archive/issue_events_199829.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T21:10:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199829"
}
```



---

archive/issue_events_199830.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T21:10:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199830"
}
```



---

archive/issue_events_199831.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2013-02-15T21:10:12Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199831"
}
```



---

archive/issue_comments_168343.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,32 @@\n+Because I hate that :\n \n+```\n+sage: MultichooseNK(5,3)                                                 \n+Combinatorial Class -- REDEFINE ME!\n+   \n+sage: Partitions(5, min_part=0)\n+/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/combinat/partition.py:3764: RuntimeWarning: Currently, setting min_part=0 produces Partition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!\n+  warn(\"Currently, setting min_part=0 produces Partition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!\", RuntimeWarning)\n+Partitions of the integer 5 satisfying constraints min_part=0\n+\n+sage: Compositions(5, min_part=0)\n+/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/combinat/composition.py:975: RuntimeWarning: Currently, setting min_part=0 produces Composition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!\n+  warn(\"Currently, setting min_part=0 produces Composition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!\", RuntimeWarning)\n+Compositions of the integer 5 satisfying constraints min_part=0\n+```\n+\n+From the help of unordered_tuples (in the global namespace):\n+\n+   Warning: Wraps GAP - hence mset must be a list of objects that have string\n+     representations that can be interpreted by the GAP interpreter.\n+     If mset consists of at all complicated Sage objects, this\n+     function does *not* do what you expect. A proper function should\n+     be written! (TODO!)\n+\n+From the help of permutations_iterator (in the global namespace, with no depracation warning):\n+\n+    Do not use this function. It will be deprecated in future version                                                                                                                          \n+    of Sage and eventually removed. Use Permutations instead;\n+\n+help of number_of_permutations (same as above) :\n+\n``````\n",
    "created_at": "2013-02-15T21:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168343",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,32 @@
+Because I hate that :
 
+```
+sage: MultichooseNK(5,3)                                                 
+Combinatorial Class -- REDEFINE ME!
+   
+sage: Partitions(5, min_part=0)
+/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/combinat/partition.py:3764: RuntimeWarning: Currently, setting min_part=0 produces Partition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!
+  warn("Currently, setting min_part=0 produces Partition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!", RuntimeWarning)
+Partitions of the integer 5 satisfying constraints min_part=0
+
+sage: Compositions(5, min_part=0)
+/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/combinat/composition.py:975: RuntimeWarning: Currently, setting min_part=0 produces Composition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!
+  warn("Currently, setting min_part=0 produces Composition objects which violate internal assumptions.  Calling methods on these objects may produce errors or WRONG results!", RuntimeWarning)
+Compositions of the integer 5 satisfying constraints min_part=0
+```
+
+From the help of unordered_tuples (in the global namespace):
+
+   Warning: Wraps GAP - hence mset must be a list of objects that have string
+     representations that can be interpreted by the GAP interpreter.
+     If mset consists of at all complicated Sage objects, this
+     function does *not* do what you expect. A proper function should
+     be written! (TODO!)
+
+From the help of permutations_iterator (in the global namespace, with no depracation warning):
+
+    Do not use this function. It will be deprecated in future version                                                                                                                          
+    of Sage and eventually removed. Use Permutations instead;
+
+help of number_of_permutations (same as above) :
+
``````




---

archive/issue_events_199832.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T22:03:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199832"
}
```



---

archive/issue_comments_168344.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIl faut vraiment que vous compreniez que ce n'est pas en esperant que \"quelqu'un finira par faire le taf un jour\" que ces codes pourris vont se r\u00e9\u00e9crire tout seuls. Si tous les gens qui utilisent ces codes savent ou sont les bugs et les contournent, ils n'ont aucune raison de se mettre \u00e0 am\u00e9liorer le code (puisqu'on dirait qu'ils ne tirent aucune fiert\u00e9 d'avoir un code propre) et on restera avec ces conneries \u00e0 vie.\n\nCe qui personnellement me retient de les recoder, c'est parce que je refuse cat\u00e9goriquement de mettre les mains dans les cat\u00e9gories. C'est exclusivement ca, parce que je sais que si je mets la main dedans j'aurai besoin de vous sans arret, que je ne serai autonome pour rien et que je devrais me farcir des choix de design avec lesquels je ne suis pas d'accord. Vous faites ce que vous voulez avec votre business, mais moi c'est ca qui me retient de programmer chez vous. Voil\u00e0.\n\nSinon, si ca vous botte de reviewer ces deux trois trucs sur lesquels j'ai pass\u00e9 une petite heure d'allers-retour en discutant avec un pote, ce sera toujours ca de fait.\n\nNathann",
    "created_at": "2013-02-15T22:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168344",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

Il faut vraiment que vous compreniez que ce n'est pas en esperant que "quelqu'un finira par faire le taf un jour" que ces codes pourris vont se réécrire tout seuls. Si tous les gens qui utilisent ces codes savent ou sont les bugs et les contournent, ils n'ont aucune raison de se mettre à améliorer le code (puisqu'on dirait qu'ils ne tirent aucune fierté d'avoir un code propre) et on restera avec ces conneries à vie.

Ce qui personnellement me retient de les recoder, c'est parce que je refuse catégoriquement de mettre les mains dans les catégories. C'est exclusivement ca, parce que je sais que si je mets la main dedans j'aurai besoin de vous sans arret, que je ne serai autonome pour rien et que je devrais me farcir des choix de design avec lesquels je ne suis pas d'accord. Vous faites ce que vous voulez avec votre business, mais moi c'est ca qui me retient de programmer chez vous. Voilà.

Sinon, si ca vous botte de reviewer ces deux trois trucs sur lesquels j'ai passé une petite heure d'allers-retour en discutant avec un pote, ce sera toujours ca de fait.

Nathann



---

archive/issue_events_199833.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T22:08:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199833"
}
```



---

archive/issue_events_199834.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T22:08:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199834"
}
```



---

archive/issue_comments_168345.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n(note that the patch changes the behaviour of `cyclic_permutations`, but as I read in the doctests things like \"Note that the behaviour of this function is not very intuitive\", I thought of it as an improvement. Tell me what you think of it.)",
    "created_at": "2013-02-15T22:18:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168345",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

(note that the patch changes the behaviour of `cyclic_permutations`, but as I read in the doctests things like "Note that the behaviour of this function is not very intuitive", I thought of it as an improvement. Tell me what you think of it.)



---

archive/issue_events_199835.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T22:24:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199835"
}
```



---

archive/issue_events_199836.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-15T22:24:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199836"
}
```



---

archive/issue_comments_168346.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHello Nathann, the patch seems good and those files in `sage.combinat` need a lot of cleanup. They seem abandoned for years :(. I also have some other specific comments:\n1. I think the following should be changed to\n\n```\n47\t   The following functions will soon be deprecated.\n```\n\n```\nThe following functions are deprecated and will soon be removed.\n```\n2. The cardinality should be a method\n\n```\n2027\t    deprecation(14138, 'Use Combinations(mset,k).cardinality instead.')\n```\n\n```\ndeprecation(14138, 'Use Combinations(mset,k).cardinality() instead.')\n```\n3. What is this deprecated in favor of? I think it should be mentioned that the `min_part=0` will raise an error in the future.\n\n```\n3763\t                    from sage.misc.superseded import deprecation \n3764\t                    deprecation(14138,\"Currently, setting min_part=0 produces \"+ \n3765\t                                \"Partition objects which violate internal \"+ \n3766\t                                \"assumptions. Calling methods on these objects \"+ \n3767\t                                \"may produce errors or WRONG results!\") \n```\n4. The following `..note::` should be deleted now since `Combinations` can handle any Sage object\n\n```\ndef number_of_combinations(mset,k):\n    \"\"\"\n    Returns the size of combinations(mset,k). IMPLEMENTATION: Wraps\n    GAP's NrCombinations.\n\n    .. note::\n\n       ``mset`` must be a list of integers or strings (i.e., this is\n       very restricted).\n```\n5. The last sentence should be removed here\n\n```\n    Returns the size of arrangements(mset,k). Wraps GAP's\n    NrArrangements.\n```\n6. In the function `def number_of_permutations(mset):` I think you can replace all of its code with `Permutations(mset).cardinality()`?",
    "created_at": "2013-02-17T13:54:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168346",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:7" align="right">comment:7</div>

Hello Nathann, the patch seems good and those files in `sage.combinat` need a lot of cleanup. They seem abandoned for years :(. I also have some other specific comments:
1. I think the following should be changed to

```
47	   The following functions will soon be deprecated.
```

```
The following functions are deprecated and will soon be removed.
```
2. The cardinality should be a method

```
2027	    deprecation(14138, 'Use Combinations(mset,k).cardinality instead.')
```

```
deprecation(14138, 'Use Combinations(mset,k).cardinality() instead.')
```
3. What is this deprecated in favor of? I think it should be mentioned that the `min_part=0` will raise an error in the future.

```
3763	                    from sage.misc.superseded import deprecation 
3764	                    deprecation(14138,"Currently, setting min_part=0 produces "+ 
3765	                                "Partition objects which violate internal "+ 
3766	                                "assumptions. Calling methods on these objects "+ 
3767	                                "may produce errors or WRONG results!") 
```
4. The following `..note::` should be deleted now since `Combinations` can handle any Sage object

```
def number_of_combinations(mset,k):
    """
    Returns the size of combinations(mset,k). IMPLEMENTATION: Wraps
    GAP's NrCombinations.

    .. note::

       ``mset`` must be a list of integers or strings (i.e., this is
       very restricted).
```
5. The last sentence should be removed here

```
    Returns the size of arrangements(mset,k). Wraps GAP's
    NrArrangements.
```
6. In the function `def number_of_permutations(mset):` I think you can replace all of its code with `Permutations(mset).cardinality()`?



---

archive/issue_events_199837.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-02-17T13:58:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199837"
}
```



---

archive/issue_events_199838.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-02-17T13:58:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199838"
}
```



---

archive/issue_comments_168347.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n> those files in `sage.combinat` need a lot of cleanup. They seem abandoned for years :(\n\nYep `-_-`\n\n> I also have some other specific comments:\n\nDone ! Thanks for noticing `:-)`\n\nNathann",
    "created_at": "2013-02-17T19:19:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168347",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

> those files in `sage.combinat` need a lot of cleanup. They seem abandoned for years :(

Yep `-_-`

> I also have some other specific comments:

Done ! Thanks for noticing `:-)`

Nathann



---

archive/issue_comments_168348.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAttachment: **[trac_14138.patch.gz](https://github.com/sagemath/sage/files/ticket14138/trac_14138.patch.gz)**",
    "created_at": "2013-02-17T19:19:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168348",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

Attachment: **[trac_14138.patch.gz](https://github.com/sagemath/sage/files/ticket14138/trac_14138.patch.gz)**



---

archive/issue_events_199839.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-17T19:19:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199839"
}
```



---

archive/issue_events_199840.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-17T19:19:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199840"
}
```



---

archive/issue_comments_168349.json:
```json
{
    "body": "Author: **Nathann Cohen**",
    "created_at": "2013-02-18T03:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168349",
    "user": "https://github.com/ppurka"
}
```

Author: **Nathann Cohen**



---

archive/issue_comments_168350.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThanks. Current patch looks good to me and passes all doctests in `sage.combinat`.",
    "created_at": "2013-02-18T03:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168350",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:11" align="right">comment:11</div>

Thanks. Current patch looks good to me and passes all doctests in `sage.combinat`.



---

archive/issue_comments_168351.json:
```json
{
    "body": "Reviewer: **Punarbasu Purkayastha**",
    "created_at": "2013-02-18T03:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168351",
    "user": "https://github.com/ppurka"
}
```

Reviewer: **Punarbasu Purkayastha**



---

archive/issue_events_199841.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-02-18T03:29:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199841"
}
```



---

archive/issue_events_199842.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-02-18T03:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199842"
}
```



---

archive/issue_comments_168352.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThaaaaaaaaaaaaaaaanks ! `;-)`\n\nNathann",
    "created_at": "2013-02-19T16:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168352",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

Thaaaaaaaaaaaaaaaanks ! `;-)`

Nathann



---

archive/issue_events_199843.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2013-02-19T21:08:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199843"
}
```



---

archive/issue_events_199844.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2013-02-19T21:08:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199844"
}
```



---

archive/issue_comments_168353.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHi Nathann!\n\nThanks much for the cleanup!\n\nA couple details:\n\n- What's the reason for removing the doctests about\n  cyclic_permutations_of_partition and cyclic_permutations?\n\n- Don't deprecate min_part in Partitions. Even if fragile, it is\n  useful in some cases, and we will want to support robustly at some\n  point. The documentation warns the user.\n\n  Besides, Partitions is under heavy refactoring by #13605 which will\n  get into Sage soon; we don't want conflict with that.\n\n- While you are at removing a space in sage/combinat/multichoose_nk.py,\n  you might as well remove the comma before :-)\n\n- Please check the discussion on sage-combinat-devel about\n  number_of_partitions; I don't remember whether we decided we wanted\n  to deprecate it or not.\n\n- ``See http://trac.sagemath.org/14138 for details'' Please use :trac:`14138`.\n\n  Besides, if the user is referred to the ticket, then the ticket\n  should be more explicit not only about what you don't like, but what\n  the ticket actually does about it.\n\nCheers,\n                           Nicolas",
    "created_at": "2013-02-19T21:08:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168353",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:13" align="right">comment:13</div>

Hi Nathann!

Thanks much for the cleanup!

A couple details:

- What's the reason for removing the doctests about
  cyclic_permutations_of_partition and cyclic_permutations?

- Don't deprecate min_part in Partitions. Even if fragile, it is
  useful in some cases, and we will want to support robustly at some
  point. The documentation warns the user.

  Besides, Partitions is under heavy refactoring by #13605 which will
  get into Sage soon; we don't want conflict with that.

- While you are at removing a space in sage/combinat/multichoose_nk.py,
  you might as well remove the comma before :-)

- Please check the discussion on sage-combinat-devel about
  number_of_partitions; I don't remember whether we decided we wanted
  to deprecate it or not.

- ``See http://trac.sagemath.org/14138 for details'' Please use :trac:`14138`.

  Besides, if the user is referred to the ticket, then the ticket
  should be more explicit not only about what you don't like, but what
  the ticket actually does about it.

Cheers,
                           Nicolas



---

archive/issue_comments_168354.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMerci d'avoir fait ce nettoyage!",
    "created_at": "2013-02-19T21:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168354",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:14" align="right">comment:14</div>

Merci d'avoir fait ce nettoyage!



---

archive/issue_comments_168355.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nYo.\n\n> - What's the reason for removing the doctests about\n>   cyclic_permutations_of_partition and cyclic_permutations?\n\nI wrote that above. The reason is that the code changed as it now calls what it should have been calling in the first place, and this doctests which says that \"the behaviour is not the one that we usually expect\" has apprently become what one would expect. Correct it if it is wrong.\n\n> - Don't deprecate min_part in Partitions. Even if fragile, it is\n>   useful in some cases, and we will want to support robustly at some\n>   point. The documentation warns the user.\n\nI did not want to deprecate min_part but min_part = 0 only. Because IT RETURNS WRONG RESULTS.\n\n>   Besides, Partitions is under heavy refactoring by #13605 which will\n>   get into Sage soon; we don't want conflict with that.\n\nThis ticket was positively reviewed yesterday, your ticket #13605 is 4 months old, is needing a review, weighs 400kb and depends on another ticket #13688 which also needs a review. Why the hell would you delay this one instead and have us work on top of yours ?\n \n> - Please check the discussion on sage-combinat-devel about\n>   number_of_partitions; I don't remember whether we decided we wanted\n>   to deprecate it or not.\n\nHave fun chatting about what should be done in the future. `number_of_partitions` has been deprecated by #13072.\n\n> - ``See http://trac.sagemath.org/14138 for details'' Please use :trac:`14138`.\n\nThis is no Sphinx code. This is a deprecation warning, automatically generated by the `deprecation()` function.\n\n>   Besides, if the user is referred to the ticket, then the ticket\n>   should be more explicit not only about what you don't like, but what\n>   the ticket actually does about it.\n\nWhat I do not like in this ticket should be obvious to everybody. Just read the code sample and the documentation I quoted.\n\nThis ticket has been created, written and reviewed in three days. It is very short. Unless you can give me a fair reason why my patch should depend on yours, which once more is NOT reviewed, is 400kb long and depends on another ticket which still waits for a review please set this ticket back to its initial state.\n\nNathann",
    "created_at": "2013-02-19T22:31:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168355",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

Yo.

> - What's the reason for removing the doctests about
>   cyclic_permutations_of_partition and cyclic_permutations?

I wrote that above. The reason is that the code changed as it now calls what it should have been calling in the first place, and this doctests which says that "the behaviour is not the one that we usually expect" has apprently become what one would expect. Correct it if it is wrong.

> - Don't deprecate min_part in Partitions. Even if fragile, it is
>   useful in some cases, and we will want to support robustly at some
>   point. The documentation warns the user.

I did not want to deprecate min_part but min_part = 0 only. Because IT RETURNS WRONG RESULTS.

>   Besides, Partitions is under heavy refactoring by #13605 which will
>   get into Sage soon; we don't want conflict with that.

This ticket was positively reviewed yesterday, your ticket #13605 is 4 months old, is needing a review, weighs 400kb and depends on another ticket #13688 which also needs a review. Why the hell would you delay this one instead and have us work on top of yours ?
 
> - Please check the discussion on sage-combinat-devel about
>   number_of_partitions; I don't remember whether we decided we wanted
>   to deprecate it or not.

Have fun chatting about what should be done in the future. `number_of_partitions` has been deprecated by #13072.

> - ``See http://trac.sagemath.org/14138 for details'' Please use :trac:`14138`.

This is no Sphinx code. This is a deprecation warning, automatically generated by the `deprecation()` function.

>   Besides, if the user is referred to the ticket, then the ticket
>   should be more explicit not only about what you don't like, but what
>   the ticket actually does about it.

What I do not like in this ticket should be obvious to everybody. Just read the code sample and the documentation I quoted.

This ticket has been created, written and reviewed in three days. It is very short. Unless you can give me a fair reason why my patch should depend on yours, which once more is NOT reviewed, is 400kb long and depends on another ticket which still waits for a review please set this ticket back to its initial state.

Nathann



---

archive/issue_comments_168356.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n> Il faut vraiment que tu comprennes qu'on passe *aussi* notre temps \u00e0\n> nettoyer des trucs et qu'il n'y a que 24 heures dans une journ\u00e9e.\n\nBullshit. Quand je vous parle de bugs dans votre code, la seule r\u00e9ponse que j'ai jamais eue c'est 'on le fera plus tard', ou \"faut voir si le code perso de tout le monde continue \u00e0 passer\". JE fixe les bugs que je trouve dans votre code, et votre code pourri ruine MES calculs. Je fous dans ce projet les codes dont je pense qu'ils peuvent aider d'autres personnes, mais je ne me permets pas d'y foutre des trucs faux qui peuvent induire en erreur des mecs qui essaient de faire leur taf.\n\n> Le\n> monde n'est pas parfait, mais on ne peut pas tout attaquer de\n> front. Donc on prioritise notre \u00e9nergie selon ce que l'on juge plus\n> plus important.\n\nVous ne prioritisez pas, vous vous foutez de ma gueule. Vous ne corrigez pas les bugs que vous voyez, vous les remettez systematiquement \u00e0 plus tard, et c'est pour ca que j'\u00e9cris des patches comme celui-l\u00e0. Je change ce que je peux changer sans avoir a comprendre vos hierachies insupportables. Sur #14019 il est \u00e9crit que Florent s'engageait \u00e0 corriger le bug des posets sous un mois. C'\u00e9tait le 27 janvier. Si tu devais prendre les paris dessus, tu dirais quoi ? Qu'il est dessus, ou qu'il a oubli\u00e9 ? Il reste une semaine. Je crois que depuis mon d\u00e9part j'ai du lui balancer une bonne dizaine de mails auxquels je n'ai eu AUCUNE r\u00e9ponse.\n\nJ'en ai marre de la politique. Faut corriger ces conneries, et le faire vite. Si vous preferez passer votre temps \u00e0 discuter c'est cool, mais faut nous laisser faire le taf urgent. Et les r\u00e9sultats faux, c'est prioritaire sur les features.\n\nNathann",
    "created_at": "2013-02-19T22:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168356",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

> Il faut vraiment que tu comprennes qu'on passe *aussi* notre temps à
> nettoyer des trucs et qu'il n'y a que 24 heures dans une journée.

Bullshit. Quand je vous parle de bugs dans votre code, la seule réponse que j'ai jamais eue c'est 'on le fera plus tard', ou "faut voir si le code perso de tout le monde continue à passer". JE fixe les bugs que je trouve dans votre code, et votre code pourri ruine MES calculs. Je fous dans ce projet les codes dont je pense qu'ils peuvent aider d'autres personnes, mais je ne me permets pas d'y foutre des trucs faux qui peuvent induire en erreur des mecs qui essaient de faire leur taf.

> Le
> monde n'est pas parfait, mais on ne peut pas tout attaquer de
> front. Donc on prioritise notre énergie selon ce que l'on juge plus
> plus important.

Vous ne prioritisez pas, vous vous foutez de ma gueule. Vous ne corrigez pas les bugs que vous voyez, vous les remettez systematiquement à plus tard, et c'est pour ca que j'écris des patches comme celui-là. Je change ce que je peux changer sans avoir a comprendre vos hierachies insupportables. Sur #14019 il est écrit que Florent s'engageait à corriger le bug des posets sous un mois. C'était le 27 janvier. Si tu devais prendre les paris dessus, tu dirais quoi ? Qu'il est dessus, ou qu'il a oublié ? Il reste une semaine. Je crois que depuis mon départ j'ai du lui balancer une bonne dizaine de mails auxquels je n'ai eu AUCUNE réponse.

J'en ai marre de la politique. Faut corriger ces conneries, et le faire vite. Si vous preferez passer votre temps à discuter c'est cool, mais faut nous laisser faire le taf urgent. Et les résultats faux, c'est prioritaire sur les features.

Nathann



---

archive/issue_comments_168357.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n@nthiery: This ticket is mostly orthogonal in functionality to the work in #13605. Most of the changes are in combinat.py which is largely untouched by that ticket. This ticket should not be based on #13605.\n\nAbout `min_part=0` - the warning has been present since early 2009. That's nearly four years. I think it is about time it should either be allowed to have this *value 0* in the parameter, or be deprecated. There are no doctests/examples in the file which show *when* it produces wrong results. If the user has no idea when this gives correct results or when it gives wrong results, it should be removed.\n\nPlease set this back to positive review, unless there are more compelling reasons to base it on #13605.\n\n**Edit**: Refer to correct ticket #13605 instead of #14019",
    "created_at": "2013-02-20T00:51:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168357",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:18" align="right">comment:18</div>

@nthiery: This ticket is mostly orthogonal in functionality to the work in #13605. Most of the changes are in combinat.py which is largely untouched by that ticket. This ticket should not be based on #13605.

About `min_part=0` - the warning has been present since early 2009. That's nearly four years. I think it is about time it should either be allowed to have this *value 0* in the parameter, or be deprecated. There are no doctests/examples in the file which show *when* it produces wrong results. If the user has no idea when this gives correct results or when it gives wrong results, it should be removed.

Please set this back to positive review, unless there are more compelling reasons to base it on #13605.

**Edit**: Refer to correct ticket #13605 instead of #14019



---

archive/issue_comments_168358.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -28,5 +28,13 @@\n     Do not use this function. It will be deprecated in future version                                                                                                                          \n     of Sage and eventually removed. Use Permutations instead;\n \n-help of number_of_permutations (same as above) :\n+help of number_of_permutations (same as above).\n \n+What this ticket does :\n+* It adds a deprecation warning when `min_part = 0`, in the hope that the feature will be made unavailable as soon as possible, and because Nicolas told me that I should deprecate it first (turns out that there has been a warning since 2009 already).\n+* It calls the proper Sage object to compute things that use to be done with GAP\n+* Some documentation improvements.\n+* This ticket *does nothing* about `MultichooseNK(5,3)` because I refuse to touch anything that uses things like CombinatorialClass.\n+* This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are alomot all deprecated anyway and will be removed, even if we have to wait for one year.\n+\n+Nathann\n``````\n",
    "created_at": "2013-02-20T08:19:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168358",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -28,5 +28,13 @@
     Do not use this function. It will be deprecated in future version                                                                                                                          
     of Sage and eventually removed. Use Permutations instead;
 
-help of number_of_permutations (same as above) :
+help of number_of_permutations (same as above).
 
+What this ticket does :
+* It adds a deprecation warning when `min_part = 0`, in the hope that the feature will be made unavailable as soon as possible, and because Nicolas told me that I should deprecate it first (turns out that there has been a warning since 2009 already).
+* It calls the proper Sage object to compute things that use to be done with GAP
+* Some documentation improvements.
+* This ticket *does nothing* about `MultichooseNK(5,3)` because I refuse to touch anything that uses things like CombinatorialClass.
+* This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are alomot all deprecated anyway and will be removed, even if we have to wait for one year.
+
+Nathann
``````




---

archive/issue_comments_168359.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -35,6 +35,6 @@\n * It calls the proper Sage object to compute things that use to be done with GAP\n * Some documentation improvements.\n * This ticket *does nothing* about `MultichooseNK(5,3)` because I refuse to touch anything that uses things like CombinatorialClass.\n-* This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are alomot all deprecated anyway and will be removed, even if we have to wait for one year.\n+* This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are almost all deprecated anyway and will be removed, even if we have to wait for one more year.\n \n Nathann\n``````\n",
    "created_at": "2013-02-20T08:20:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168359",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -35,6 +35,6 @@
 * It calls the proper Sage object to compute things that use to be done with GAP
 * Some documentation improvements.
 * This ticket *does nothing* about `MultichooseNK(5,3)` because I refuse to touch anything that uses things like CombinatorialClass.
-* This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are alomot all deprecated anyway and will be removed, even if we have to wait for one year.
+* This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are almost all deprecated anyway and will be removed, even if we have to wait for one more year.
 
 Nathann
``````




---

archive/issue_comments_168360.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@ppurka](#comment:18):\n> @nthiery: This ticket is mostly orthogonal in functionality to the work in #13605. Most of the changes are in combinat.py which is largely untouched by that ticket. This ticket should not be based on #13605.\n\nI totaly agree: it should not depend on #13605! I am just pointing out that, for a minor change that is debatable, it might not be worth creating a conflict.\n\n> About `min_part=0` - the warning has been present since early 2009. That's nearly four years. I think it is about time it should either be allowed to have this *value 0* in the parameter, or be deprecated. There are no doctests/examples in the file which show *when* it produces wrong results. If the user has no idea when this gives correct results or when it gives wrong results, it should be removed.\n\nAs you wish, as long as you promise to support those users that are using this option,\nin full knowledge of the risks they were taking, when it will actually be removed.",
    "created_at": "2013-02-20T14:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168360",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@ppurka](#comment:18):
> @nthiery: This ticket is mostly orthogonal in functionality to the work in #13605. Most of the changes are in combinat.py which is largely untouched by that ticket. This ticket should not be based on #13605.

I totaly agree: it should not depend on #13605! I am just pointing out that, for a minor change that is debatable, it might not be worth creating a conflict.

> About `min_part=0` - the warning has been present since early 2009. That's nearly four years. I think it is about time it should either be allowed to have this *value 0* in the parameter, or be deprecated. There are no doctests/examples in the file which show *when* it produces wrong results. If the user has no idea when this gives correct results or when it gives wrong results, it should be removed.

As you wish, as long as you promise to support those users that are using this option,
in full knowledge of the risks they were taking, when it will actually be removed.



---

archive/issue_comments_168361.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@nathanncohen](#comment:16):\n> I wrote that above. The reason is that the code changed as it now calls what it should have been calling in the first place, and this doctests which says that \"the behaviour is not the one that we usually expect\" has apprently become what one would expect. Correct it if it is wrong.\n\nFair enough. I missed the one line change in the code. Thanks for fixing this!\n\nPlease add a doctest for the new behavior stating something like: \"repetitions are handled properly since #....\"\n\n> This ticket was positively reviewed yesterday, your ticket #13605 is 4 months old, is needing a review, weighs 400kb and depends on another ticket #13688 which also needs a review. Why the hell would you delay this one instead and have us work on top of yours ?\n\nI never said it should wait for #13605.\n\n> > - Please check the discussion on sage-combinat-devel about\n> >   number_of_partitions; I don't remember whether we decided we wanted\n> >   to deprecate it or not.\n\n> `number_of_partitions` has been deprecated by #13072.\n\nPerfect. Thanks for checking this out.\n\n> > - ``See http://trac.sagemath.org/14138 for details'' Please use :trac:`14138`.\n\n> \n> This is no Sphinx code. This is a deprecation warning, automatically generated by the `deprecation()` function.\n\nGood point.\n\n> What I do not like in this ticket should be obvious to everybody. Just read the code sample and the documentation I quoted.\n\nThanks for adding a description. I might be stupid, but I was missing this information.\n\n> This ticket has been created, written and reviewed in three days. It is very short.\n\nYou can set it back to positive review as soon as the little things above are resolved. Thanks for handling this in such a prompt manner.",
    "created_at": "2013-02-20T14:08:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168361",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@nathanncohen](#comment:16):
> I wrote that above. The reason is that the code changed as it now calls what it should have been calling in the first place, and this doctests which says that "the behaviour is not the one that we usually expect" has apprently become what one would expect. Correct it if it is wrong.

Fair enough. I missed the one line change in the code. Thanks for fixing this!

Please add a doctest for the new behavior stating something like: "repetitions are handled properly since #...."

> This ticket was positively reviewed yesterday, your ticket #13605 is 4 months old, is needing a review, weighs 400kb and depends on another ticket #13688 which also needs a review. Why the hell would you delay this one instead and have us work on top of yours ?

I never said it should wait for #13605.

> > - Please check the discussion on sage-combinat-devel about
> >   number_of_partitions; I don't remember whether we decided we wanted
> >   to deprecate it or not.

> `number_of_partitions` has been deprecated by #13072.

Perfect. Thanks for checking this out.

> > - ``See http://trac.sagemath.org/14138 for details'' Please use :trac:`14138`.

> 
> This is no Sphinx code. This is a deprecation warning, automatically generated by the `deprecation()` function.

Good point.

> What I do not like in this ticket should be obvious to everybody. Just read the code sample and the documentation I quoted.

Thanks for adding a description. I might be stupid, but I was missing this information.

> This ticket has been created, written and reviewed in three days. It is very short.

You can set it back to positive review as soon as the little things above are resolved. Thanks for handling this in such a prompt manner.



---

archive/issue_comments_168362.json:
```json
{
    "body": "Attachment: **[trac_14138-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket14138/trac_14138-doctests.patch.gz)**",
    "created_at": "2013-02-20T14:43:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168362",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_14138-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket14138/trac_14138-doctests.patch.gz)**



---

archive/issue_events_199845.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-20T14:44:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199845"
}
```



---

archive/issue_events_199846.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-02-20T14:44:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199846"
}
```



---

archive/issue_comments_168363.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nNeeds a review !\n\nNathann",
    "created_at": "2013-02-20T14:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168363",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

Needs a review !

Nathann



---

archive/issue_comments_168364.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -38,3 +38,7 @@\n * This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are almost all deprecated anyway and will be removed, even if we have to wait for one more year.\n \n Nathann\n+\n+Apply:\n+* [attachment: trac_14138.patch](https://github.com/sagemath/sage/files/ticket14138/trac_14138.patch.gz)\n+* [attachment: trac_14138-doctests.patch](https://github.com/sagemath/sage/files/ticket14138/trac_14138-doctests.patch.gz)\n``````\n",
    "created_at": "2013-02-20T14:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168364",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -38,3 +38,7 @@
 * This ticket does *not* remove all the functions `number_of_*` that are imported in the global namespace by a `from sage.combinat.combinat import *` because they are almost all deprecated anyway and will be removed, even if we have to wait for one more year.
 
 Nathann
+
+Apply:
+* [attachment: trac_14138.patch](https://github.com/sagemath/sage/files/ticket14138/trac_14138.patch.gz)
+* [attachment: trac_14138-doctests.patch](https://github.com/sagemath/sage/files/ticket14138/trac_14138-doctests.patch.gz)
``````




---

archive/issue_comments_168365.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> > About `min_part=0` - the warning has been present since early 2009. That's nearly four years. I think it is about time it should either be allowed to have this *value 0* in the parameter, or be deprecated. There are no doctests/examples in the file which show *when* it produces wrong results. If the user has no idea when this gives correct results or when it gives wrong results, it should be removed.\n\n> \n> As you wish, as long as you promise to support those users that are using this option,\n> in full knowledge of the risks they were taking, when it will actually be removed.\n\nI can't answer for Punarbasu, but I personally will not. I will not tolerate bugs in this software because 10 guys who know where the code is wrong and do not make any effort to fix it would have to change their personal code.\nAnd there is no reason on earth why I should feel responsible for the backward compatibility of their code when they do not feel responsible at all for the bugs they require us to keep in Sage. This might lead innocents users into very bad situations they have no way to guess.\n\nIf it's a problem for you, just create in your branch a patch that reverses the removal of those functions when it will be deleted. Of course that will take time to rebase, and you may have to do this often, and that's a lot of work, but well.. You chosed this development model, didn't you ?\n\nWhat is for sure is that we never did.\n\nNathann",
    "created_at": "2013-02-20T14:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168365",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

> > About `min_part=0` - the warning has been present since early 2009. That's nearly four years. I think it is about time it should either be allowed to have this *value 0* in the parameter, or be deprecated. There are no doctests/examples in the file which show *when* it produces wrong results. If the user has no idea when this gives correct results or when it gives wrong results, it should be removed.

> 
> As you wish, as long as you promise to support those users that are using this option,
> in full knowledge of the risks they were taking, when it will actually be removed.

I can't answer for Punarbasu, but I personally will not. I will not tolerate bugs in this software because 10 guys who know where the code is wrong and do not make any effort to fix it would have to change their personal code.
And there is no reason on earth why I should feel responsible for the backward compatibility of their code when they do not feel responsible at all for the bugs they require us to keep in Sage. This might lead innocents users into very bad situations they have no way to guess.

If it's a problem for you, just create in your branch a patch that reverses the removal of those functions when it will be deleted. Of course that will take time to rebase, and you may have to do this often, and that's a lot of work, but well.. You chosed this development model, didn't you ?

What is for sure is that we never did.

Nathann



---

archive/issue_events_199847.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-02-22T16:46:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199847"
}
```



---

archive/issue_events_199848.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-02-22T16:46:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199848"
}
```



---

archive/issue_comments_168366.json:
```json
{
    "body": "Changed reviewer from **Punarbasu Purkayastha** to **Punarbasu Purkayastha, Nicolas M. Thi\u00e9ry**",
    "created_at": "2013-02-22T16:46:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168366",
    "user": "https://github.com/ppurka"
}
```

Changed reviewer from **Punarbasu Purkayastha** to **Punarbasu Purkayastha, Nicolas M. Thiéry**



---

archive/issue_comments_168367.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nDoctests look good to me. Thanks for fixing this. :)",
    "created_at": "2013-02-22T16:46:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168367",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:25" align="right">comment:25</div>

Doctests look good to me. Thanks for fixing this. :)



---

archive/issue_comments_168368.json:
```json
{
    "body": "Merged: **sage-5.8.beta1**",
    "created_at": "2013-02-24T13:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168368",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.8.beta1**



---

archive/issue_events_199849.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-24T13:20:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199849"
}
```



---

archive/issue_events_199850.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-24T13:20:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14138#event-199850"
}
```



---

archive/issue_comments_168369.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nFor the record, it took me an hour to rebase #13605 over this patch and #13605 (inadvertently) fixed the issue in `partition.py` that Nathann wanted to deprecate.",
    "created_at": "2013-02-24T19:09:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168369",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

For the record, it took me an hour to rebase #13605 over this patch and #13605 (inadvertently) fixed the issue in `partition.py` that Nathann wanted to deprecate.



---

archive/issue_comments_168370.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n> For the record, it took me an hour to rebase #13605 over this patch and #13605 (inadvertently) fixed the issue in `partition.py` that Nathann wanted to deprecate.\n\nSorry for the trouble. I did not want to have this ticket depend on something else that would be waiting for a review for a year, as #13605 is already 4 months old.\n\nNathann",
    "created_at": "2013-02-24T19:20:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168370",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

> For the record, it took me an hour to rebase #13605 over this patch and #13605 (inadvertently) fixed the issue in `partition.py` that Nathann wanted to deprecate.

Sorry for the trouble. I did not want to have this ticket depend on something else that would be waiting for a review for a year, as #13605 is already 4 months old.

Nathann



---

archive/issue_comments_168371.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAlso for the record, #13605 was positively reviewed about the same time as this one.",
    "created_at": "2013-02-24T19:33:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168371",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

Also for the record, #13605 was positively reviewed about the same time as this one.



---

archive/issue_comments_168372.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n> Also for the record, #13605 was positively reviewed about the same time as this one.\n\nThis ticket was set to `positive_review` 5 days ago, when Nicolas Thiery changed it \"needs_work\" for 4 invalid reasons (you can read it, it is just above) and a new doctest which says \"the function does what it should\". I have yet to be surprised by the speed at which the combinat code is fixed, so please do not blame me for not believing that your ticket would be reviewed 5 days later, to inadvertently fix a problem which had been laying around for 4 years.\n\nI'm sorry for the trouble it created on your side. I just want to see those problems fixed quickly. And twice, if needed.\n\nNathann",
    "created_at": "2013-02-24T19:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14138",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14138#issuecomment-168372",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

> Also for the record, #13605 was positively reviewed about the same time as this one.

This ticket was set to `positive_review` 5 days ago, when Nicolas Thiery changed it "needs_work" for 4 invalid reasons (you can read it, it is just above) and a new doctest which says "the function does what it should". I have yet to be surprised by the speed at which the combinat code is fixed, so please do not blame me for not believing that your ticket would be reviewed 5 days later, to inadvertently fix a problem which had been laying around for 4 years.

I'm sorry for the trouble it created on your side. I just want to see those problems fixed quickly. And twice, if needed.

Nathann
