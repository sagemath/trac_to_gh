# Issue 14683: New datastructure for iet

archive/issues_014479.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "**It was decided to develop flatsurf as an independent package**\n\n---\nOld description\n\nIn #8386 we decided to only move iet to sage/dynamics. This ticket stands for the creation of the new datatype and the correction of the following bug\n\n```\nsage: p = iet.Permutation('a b','b a')\nsage: q = iet.Permutation('b a','a b')\nsage: p == q\nTrue\n```\n\nCC:  @sagetrac-Fougeroc\n\nComponent: **combinatorics**\n\nKeywords: **iet, flat surfaces**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14683_\n\n",
    "closed_at": "2016-06-12T12:02:30Z",
    "created_at": "2013-06-03T20:42:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New datastructure for iet",
    "type": "issue",
    "updated_at": "2016-06-12T12:02:30Z",
    "url": "https://github.com/sagemath/sage/issues/14683",
    "user": "https://github.com/videlec"
}
```
**It was decided to develop flatsurf as an independent package**

---
Old description

In #8386 we decided to only move iet to sage/dynamics. This ticket stands for the creation of the new datatype and the correction of the following bug

```
sage: p = iet.Permutation('a b','b a')
sage: q = iet.Permutation('b a','a b')
sage: p == q
True
```

CC:  @sagetrac-Fougeroc

Component: **combinatorics**

Keywords: **iet, flat surfaces**

Reviewer: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/14683_





---

archive/issue_events_206282.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-06-03T20:42:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206282"
}
```



---

archive/issue_events_206283.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-06-03T20:42:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206283"
}
```



---

archive/issue_events_206284.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-06-03T20:42:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206284"
}
```



---

archive/issue_events_206285.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-06-03T20:42:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206285"
}
```



---

archive/issue_events_206286.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2013-06-03T20:42:24Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "subject": "https://github.com/videlec",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206286"
}
```



---

archive/issue_events_206287.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206287"
}
```



---

archive/issue_events_206288.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206288"
}
```



---

archive/issue_events_206289.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206289"
}
```



---

archive/issue_events_206290.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206290"
}
```



---

archive/issue_comments_178348.json:
```json
{
    "body": "Commit: **[`530fe85`](https://github.com/sagemath/sagetrac-mirror/commit/530fe858e831dc986235125a0baa3630bbc58505)**",
    "created_at": "2014-04-14T14:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178348",
    "user": "https://github.com/videlec"
}
```

Commit: **[`530fe85`](https://github.com/sagemath/sagetrac-mirror/commit/530fe858e831dc986235125a0baa3630bbc58505)**



---

archive/issue_comments_178349.json:
```json
{
    "body": "Branch: **[u/vdelecroix/14683-iet_new_datastructure](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/14683-iet_new_datastructure)**",
    "created_at": "2014-04-14T14:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178349",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/14683-iet_new_datastructure](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/14683-iet_new_datastructure)**



---

archive/issue_comments_178350.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/530fe858e831dc986235125a0baa3630bbc58505\"><code>530fe85</code></a></td><td><code>Initial commit: new datastructure for iet.</code></td></tr></table>\n",
    "created_at": "2014-04-14T14:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178350",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/530fe858e831dc986235125a0baa3630bbc58505"><code>530fe85</code></a></td><td><code>Initial commit: new datastructure for iet.</code></td></tr></table>




---

archive/issue_comments_178351.json:
```json
{
    "body": "Changed keywords from none to **iet, flat surfaces**",
    "created_at": "2014-04-14T14:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178351",
    "user": "https://github.com/videlec"
}
```

Changed keywords from none to **iet, flat surfaces**



---

archive/issue_events_206291.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206291"
}
```



---

archive/issue_events_206292.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206292"
}
```



---

archive/issue_comments_178352.json:
```json
{
    "body": "Changed commit from **[`530fe85`](https://github.com/sagemath/sagetrac-mirror/commit/530fe858e831dc986235125a0baa3630bbc58505)** to **[`4d69202`](https://github.com/sagemath/sagetrac-mirror/commit/4d69202504be026bb76ced36c68c96d2f2da9baa)**",
    "created_at": "2014-07-18T19:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178352",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`530fe85`](https://github.com/sagemath/sagetrac-mirror/commit/530fe858e831dc986235125a0baa3630bbc58505)** to **[`4d69202`](https://github.com/sagemath/sagetrac-mirror/commit/4d69202504be026bb76ced36c68c96d2f2da9baa)**



---

archive/issue_comments_178353.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/14683-iet_new_datastructure](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/14683-iet_new_datastructure)** to **[public/ticket/14683](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14683)**",
    "created_at": "2014-07-18T19:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178353",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/vdelecroix/14683-iet_new_datastructure](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/14683-iet_new_datastructure)** to **[public/ticket/14683](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14683)**



---

archive/issue_comments_178354.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nrebased. Is this needs review ?\n  \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d69202504be026bb76ced36c68c96d2f2da9baa\"><code>4d69202</code></a></td><td><code>Merge branch 'u/vdelecroix/14683-iet_new_datastructure' of ssh://trac.sagemath.org:22/sage into 14683</code></td></tr></table>\n",
    "created_at": "2014-07-18T19:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178354",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

rebased. Is this needs review ?
  
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d69202504be026bb76ced36c68c96d2f2da9baa"><code>4d69202</code></a></td><td><code>Merge branch 'u/vdelecroix/14683-iet_new_datastructure' of ssh://trac.sagemath.org:22/sage into 14683</code></td></tr></table>




---

archive/issue_comments_178355.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHi Frederic,\n\nThanks for the update. It would be nice if you provide clearer message with your commit. The following is completely meaningless\n\n```\nMerge branch 'u/vdelecroix/14683-iet_new_datastructure' of\nssh://trac.sagemath.org:22/sage into 14683\n```\n\nVincent",
    "created_at": "2014-07-19T19:36:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178355",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

Hi Frederic,

Thanks for the update. It would be nice if you provide clearer message with your commit. The following is completely meaningless

```
Merge branch 'u/vdelecroix/14683-iet_new_datastructure' of
ssh://trac.sagemath.org:22/sage into 14683
```

Vincent



---

archive/issue_comments_178356.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis was just a rebase, as explained in the comment. Once again, is this ticket in \"needs review\" ?",
    "created_at": "2014-07-19T20:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178356",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

This was just a rebase, as explained in the comment. Once again, is this ticket in "needs review" ?



---

archive/issue_events_206293.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-20T09:39:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206293"
}
```



---

archive/issue_comments_178357.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHi Frederic,\n\nYour comment on trac will not appear in the git history. So please, set your message to \"rebase #14683 on sage-X.betaY\" or something meaningful. The fact that it is \"just a rebase\" is not an argument to have an ugly commit message.\n\nAnd yes it is in needs review.\n\nVincent",
    "created_at": "2014-07-20T09:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178357",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

Hi Frederic,

Your comment on trac will not appear in the git history. So please, set your message to "rebase #14683 on sage-X.betaY" or something meaningful. The fact that it is "just a rebase" is not an argument to have an ugly commit message.

And yes it is in needs review.

Vincent



---

archive/issue_comments_178358.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fe873450d232ad485a650e3bb5c701456c6a52f\"><code>7fe8734</code></a></td><td><code>trac #14683 pour raise statements into py3 syntax</code></td></tr></table>\n",
    "created_at": "2014-07-20T16:20:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178358",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fe873450d232ad485a650e3bb5c701456c6a52f"><code>7fe8734</code></a></td><td><code>trac #14683 pour raise statements into py3 syntax</code></td></tr></table>




---

archive/issue_comments_178359.json:
```json
{
    "body": "Changed commit from **[`4d69202`](https://github.com/sagemath/sagetrac-mirror/commit/4d69202504be026bb76ced36c68c96d2f2da9baa)** to **[`7fe8734`](https://github.com/sagemath/sagetrac-mirror/commit/7fe873450d232ad485a650e3bb5c701456c6a52f)**",
    "created_at": "2014-07-20T16:20:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178359",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4d69202`](https://github.com/sagemath/sagetrac-mirror/commit/4d69202504be026bb76ced36c68c96d2f2da9baa)** to **[`7fe8734`](https://github.com/sagemath/sagetrac-mirror/commit/7fe873450d232ad485a650e3bb5c701456c6a52f)**



---

archive/issue_comments_178360.json:
```json
{
    "body": "Changed commit from **[`7fe8734`](https://github.com/sagemath/sagetrac-mirror/commit/7fe873450d232ad485a650e3bb5c701456c6a52f)** to **[`9464f5c`](https://github.com/sagemath/sagetrac-mirror/commit/9464f5cff7685334f8298e300f46f20c6738dec3)**",
    "created_at": "2014-07-22T14:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178360",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7fe8734`](https://github.com/sagemath/sagetrac-mirror/commit/7fe873450d232ad485a650e3bb5c701456c6a52f)** to **[`9464f5c`](https://github.com/sagemath/sagetrac-mirror/commit/9464f5cff7685334f8298e300f46f20c6738dec3)**



---

archive/issue_comments_178361.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4255b3c828861212d0dc6d2f135fe693037afa1\"><code>c4255b3</code></a></td><td><code>Merge with 6.3.beta6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9464f5cff7685334f8298e300f46f20c6738dec3\"><code>9464f5c</code></a></td><td><code>trac #14683 cleanup of constructor.py (raise in py3, use of ....:, etc)</code></td></tr></table>\n",
    "created_at": "2014-07-22T14:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178361",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4255b3c828861212d0dc6d2f135fe693037afa1"><code>c4255b3</code></a></td><td><code>Merge with 6.3.beta6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9464f5cff7685334f8298e300f46f20c6738dec3"><code>9464f5c</code></a></td><td><code>trac #14683 cleanup of constructor.py (raise in py3, use of ....:, etc)</code></td></tr></table>




---

archive/issue_comments_178362.json:
```json
{
    "body": "Changed commit from **[`9464f5c`](https://github.com/sagemath/sagetrac-mirror/commit/9464f5cff7685334f8298e300f46f20c6738dec3)** to **[`cf153d8`](https://github.com/sagemath/sagetrac-mirror/commit/cf153d84fd9539520d1374b6fe2f98bc3ec93f93)**",
    "created_at": "2014-07-22T15:24:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178362",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9464f5c`](https://github.com/sagemath/sagetrac-mirror/commit/9464f5cff7685334f8298e300f46f20c6738dec3)** to **[`cf153d8`](https://github.com/sagemath/sagetrac-mirror/commit/cf153d84fd9539520d1374b6fe2f98bc3ec93f93)**



---

archive/issue_comments_178363.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae5d4b51b46e05e18ce50e078286317a71cab53a\"><code>ae5d4b5</code></a></td><td><code>trac #14683 cleanup of iet.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc8e33f67484886c1e070a27fbbae2798ead84fd\"><code>dc8e33f</code></a></td><td><code>trac #14683 cleanup of labelled.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf153d84fd9539520d1374b6fe2f98bc3ec93f93\"><code>cf153d8</code></a></td><td><code>trac #14683 cleanup of reduced.py</code></td></tr></table>\n",
    "created_at": "2014-07-22T15:24:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178363",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae5d4b51b46e05e18ce50e078286317a71cab53a"><code>ae5d4b5</code></a></td><td><code>trac #14683 cleanup of iet.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc8e33f67484886c1e070a27fbbae2798ead84fd"><code>dc8e33f</code></a></td><td><code>trac #14683 cleanup of labelled.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf153d84fd9539520d1374b6fe2f98bc3ec93f93"><code>cf153d8</code></a></td><td><code>trac #14683 cleanup of reduced.py</code></td></tr></table>




---

archive/issue_comments_178364.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nHello Vincent,\n\nI am in the middle of the process of reading quickly the code, making small cosmetic changes, like putting doctest continuation and raise statements to new standards, etc. Once done, I will run the tests.\n\nIf the tests pass, I could give a positive review, but without checking the new data structure. would it be ok to you ? Have you used this branch heavily, so that you know that it works (and is really better than the current state) ?",
    "created_at": "2014-07-22T15:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178364",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

Hello Vincent,

I am in the middle of the process of reading quickly the code, making small cosmetic changes, like putting doctest continuation and raise statements to new standards, etc. Once done, I will run the tests.

If the tests pass, I could give a positive review, but without checking the new data structure. would it be ok to you ? Have you used this branch heavily, so that you know that it works (and is really better than the current state) ?



---

archive/issue_comments_178365.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/880af1473c9d10ddd3fe3cb9e0c6da4a0acfe2bd\"><code>880af14</code></a></td><td><code>trac #14683 cleanup of template.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db9430e3dfa371ac37f9842974d3fc3e7d35f3fa\"><code>db9430e</code></a></td><td><code>trac #14683 start of pyflakes cleanup</code></td></tr></table>\n",
    "created_at": "2014-07-23T09:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178365",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/880af1473c9d10ddd3fe3cb9e0c6da4a0acfe2bd"><code>880af14</code></a></td><td><code>trac #14683 cleanup of template.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db9430e3dfa371ac37f9842974d3fc3e7d35f3fa"><code>db9430e</code></a></td><td><code>trac #14683 start of pyflakes cleanup</code></td></tr></table>




---

archive/issue_comments_178366.json:
```json
{
    "body": "Changed commit from **[`cf153d8`](https://github.com/sagemath/sagetrac-mirror/commit/cf153d84fd9539520d1374b6fe2f98bc3ec93f93)** to **[`db9430e`](https://github.com/sagemath/sagetrac-mirror/commit/db9430e3dfa371ac37f9842974d3fc3e7d35f3fa)**",
    "created_at": "2014-07-23T09:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178366",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cf153d8`](https://github.com/sagemath/sagetrac-mirror/commit/cf153d84fd9539520d1374b6fe2f98bc3ec93f93)** to **[`db9430e`](https://github.com/sagemath/sagetrac-mirror/commit/db9430e3dfa371ac37f9842974d3fc3e7d35f3fa)**



---

archive/issue_events_206294.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206294"
}
```



---

archive/issue_events_206295.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206295"
}
```



---

archive/issue_events_206296.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-01T08:48:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206296"
}
```



---

archive/issue_events_206297.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-01T08:48:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206297"
}
```



---

archive/issue_comments_178367.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWhat's your justification for removing doctests like\n\n```\nTESTS::\n\n    sage: t(-3/2)\n    Traceback (most recent call last):\n     ...\n    ValueError: value must positive and smaller than length\n```\nand replacing the `raise ValueError` with an `assert`?\n\n(note that I don't really care about this ticket, I am just looking for abuses of `assert`)",
    "created_at": "2014-10-01T08:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178367",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

What's your justification for removing doctests like

```
TESTS::

    sage: t(-3/2)
    Traceback (most recent call last):
     ...
    ValueError: value must positive and smaller than length
```
and replacing the `raise ValueError` with an `assert`?

(note that I don't really care about this ticket, I am just looking for abuses of `assert`)



---

archive/issue_comments_178368.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jdemeyer](#comment%3A15):\n> What's your justification for removing doctests like\n> \n> ```\n> TESTS::\n> \n>     sage: t(-3/2)\n>     Traceback (most recent call last):\n>      ...\n>     ValueError: value must positive and smaller than length\n> ```\n> and replacing the `raise ValueError` with an `assert`?\n\nBad design choice ;-P\n\nThis ticket is pending since it needs some more intensive testing/proof of concepts.\n\nVincent",
    "created_at": "2014-10-01T08:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178368",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jdemeyer](#comment%3A15):
> What's your justification for removing doctests like
> 
> ```
> TESTS::
> 
>     sage: t(-3/2)
>     Traceback (most recent call last):
>      ...
>     ValueError: value must positive and smaller than length
> ```
> and replacing the `raise ValueError` with an `assert`?

Bad design choice ;-P

This ticket is pending since it needs some more intensive testing/proof of concepts.

Vincent



---

archive/issue_events_206298.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-01T09:05:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206298"
}
```



---

archive/issue_events_206299.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-01T09:05:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206299"
}
```



---

archive/issue_comments_178369.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc249b6e699c95974efa35edea4b4723155d6b15\"><code>fc249b6</code></a></td><td><code>Merge branch 'public/ticket/14683' into 6.8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62797e9d80ee0aa3ef22cf87f7cf65725ef8c916\"><code>62797e9</code></a></td><td><code>trac #14683 rebased and all tests pass</code></td></tr></table>\n",
    "created_at": "2015-07-28T12:01:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178369",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc249b6e699c95974efa35edea4b4723155d6b15"><code>fc249b6</code></a></td><td><code>Merge branch 'public/ticket/14683' into 6.8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62797e9d80ee0aa3ef22cf87f7cf65725ef8c916"><code>62797e9</code></a></td><td><code>trac #14683 rebased and all tests pass</code></td></tr></table>




---

archive/issue_comments_178370.json:
```json
{
    "body": "Changed commit from **[`db9430e`](https://github.com/sagemath/sagetrac-mirror/commit/db9430e3dfa371ac37f9842974d3fc3e7d35f3fa)** to **[`62797e9`](https://github.com/sagemath/sagetrac-mirror/commit/62797e9d80ee0aa3ef22cf87f7cf65725ef8c916)**",
    "created_at": "2015-07-28T12:01:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178370",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`db9430e`](https://github.com/sagemath/sagetrac-mirror/commit/db9430e3dfa371ac37f9842974d3fc3e7d35f3fa)** to **[`62797e9`](https://github.com/sagemath/sagetrac-mirror/commit/62797e9d80ee0aa3ef22cf87f7cf65725ef8c916)**



---

archive/issue_events_206300.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-28T12:02:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206300"
}
```



---

archive/issue_events_206301.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-28T12:02:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206301"
}
```



---

archive/issue_comments_178371.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b2d683ec628daf2acebe7cd589731535c2a5758\"><code>2b2d683</code></a></td><td><code>Merge branch 'public/ticket/14683' into 7.2.rc0</code></td></tr></table>\n",
    "created_at": "2016-03-26T11:58:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178371",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b2d683ec628daf2acebe7cd589731535c2a5758"><code>2b2d683</code></a></td><td><code>Merge branch 'public/ticket/14683' into 7.2.rc0</code></td></tr></table>




---

archive/issue_comments_178372.json:
```json
{
    "body": "Changed commit from **[`62797e9`](https://github.com/sagemath/sagetrac-mirror/commit/62797e9d80ee0aa3ef22cf87f7cf65725ef8c916)** to **[`2b2d683`](https://github.com/sagemath/sagetrac-mirror/commit/2b2d683ec628daf2acebe7cd589731535c2a5758)**",
    "created_at": "2016-03-26T11:58:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178372",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`62797e9`](https://github.com/sagemath/sagetrac-mirror/commit/62797e9d80ee0aa3ef22cf87f7cf65725ef8c916)** to **[`2b2d683`](https://github.com/sagemath/sagetrac-mirror/commit/2b2d683ec628daf2acebe7cd589731535c2a5758)**



---

archive/issue_events_206302.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-26T12:00:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206302"
}
```



---

archive/issue_events_206303.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-26T12:00:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206303"
}
```



---

archive/issue_events_206304.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-27T17:32:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206304"
}
```



---

archive/issue_events_206305.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-27T17:32:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206305"
}
```



---

archive/issue_events_206306.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-27T17:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206306"
}
```



---

archive/issue_comments_178373.json:
```json
{
    "body": "Changed commit from **[`2b2d683`](https://github.com/sagemath/sagetrac-mirror/commit/2b2d683ec628daf2acebe7cd589731535c2a5758)** to none",
    "created_at": "2016-05-27T17:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178373",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[`2b2d683`](https://github.com/sagemath/sagetrac-mirror/commit/2b2d683ec628daf2acebe7cd589731535c2a5758)** to none



---

archive/issue_comments_178374.json:
```json
{
    "body": "Changed branch from **[public/ticket/14683](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14683)** to none",
    "created_at": "2016-05-27T17:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178374",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[public/ticket/14683](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14683)** to none



---

archive/issue_comments_178375.json:
```json
{
    "body": "Changed author from **Vincent Delecroix** to none",
    "created_at": "2016-05-27T17:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178375",
    "user": "https://github.com/videlec"
}
```

Changed author from **Vincent Delecroix** to none



---

archive/issue_comments_178376.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,8 @@\n+**It was decided to develop flatsurf as an independent package**\n+\n+---\n+Old description\n+\n In #8386 we decided to only move iet to sage/dynamics. This ticket stands for the creation of the new datatype and the correction of the following bug\n \n ```\n``````\n",
    "created_at": "2016-05-27T17:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178376",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,8 @@
+**It was decided to develop flatsurf as an independent package**
+
+---
+Old description
+
 In #8386 we decided to only move iet to sage/dynamics. This ticket stands for the creation of the new datatype and the correction of the following bug
 
 ```
``````




---

archive/issue_comments_178377.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nok, I agree this could be closed. But maybe there would be a short way to solve the bug ?",
    "created_at": "2016-05-27T19:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178377",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

ok, I agree this could be closed. But maybe there would be a short way to solve the bug ?



---

archive/issue_comments_178378.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI am focusing on #20695 and will not fix this bug in the mean time.",
    "created_at": "2016-05-28T00:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178378",
    "user": "https://github.com/videlec"
}
```

<div id="comment:24" align="right">comment:24</div>

I am focusing on #20695 and will not fix this bug in the mean time.



---

archive/issue_events_206307.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-28T06:28:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206307"
}
```



---

archive/issue_events_206308.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-28T06:28:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206308"
}
```



---

archive/issue_comments_178379.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2016-05-28T06:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178379",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_178380.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nok, then",
    "created_at": "2016-05-28T06:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14683#issuecomment-178380",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">comment:25</div>

ok, then



---

archive/issue_events_206309.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-12T12:02:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206309"
}
```



---

archive/issue_events_206310.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-12T12:02:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14683",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14683#event-206310"
}
```
