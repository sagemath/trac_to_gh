# Issue 14876: Update NTL to 6.0.0

archive/issues_014672.json:
```json
{
    "body": "New upstream version.\n\nUse git branch and tarball at:\n\n* [http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2](http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2)\n\nAssignee: @jdemeyer\n\nCC:  @nexttime jpflori\n\nReviewer: Jean-Pierre Flori,Fran\u00e7ois Bissey\n\nAuthor: Volker Braun, Jean-Pierre Flori\n\nBranch: 8c9d71149f0a968fc6f876991c9a73aa37f18990\n\nDependencies: #14333\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14876\n\n",
    "closed_at": "2014-02-20T23:17:08Z",
    "created_at": "2013-07-10T13:53:38Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Update NTL to 6.0.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14876",
    "user": "https://github.com/vbraun"
}
```
New upstream version.

Use git branch and tarball at:

* [http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2](http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2)

Assignee: @jdemeyer

CC:  @nexttime jpflori

Reviewer: Jean-Pierre Flori,Fran√ßois Bissey

Author: Volker Braun, Jean-Pierre Flori

Branch: 8c9d71149f0a968fc6f876991c9a73aa37f18990

Dependencies: #14333

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14876





---

archive/issue_comments_199192.json:
```json
{
    "body": "<a id='comment:2'></a>... and keep the `$MAKE` patches in mind (don't recall the ticket number right now), in case they're still necessary.",
    "created_at": "2013-07-10T14:30:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199192",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:2'></a>... and keep the `$MAKE` patches in mind (don't recall the ticket number right now), in case they're still necessary.



---

archive/issue_comments_199193.json:
```json
{
    "body": "<a id='comment:3'></a>If you mean #14692: I won't included anything from that ticket as long as it is not finished.",
    "created_at": "2013-07-10T14:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199193",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>If you mean #14692: I won't included anything from that ticket as long as it is not finished.



---

archive/issue_comments_199194.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 vbraun]:\n> If you mean #14692: I won't included anything from that ticket as long as it is not finished.\n\n\nYes, that's what I meant.\n\nIt *is* finished, you just have to include the (`$MAKE`-related) patches.\n\nI rebased Jean-Pierre's spkg at #2114 on mine, but then Jeroen felt he had to make trivial changes to that again, so that I would now again have to *rebase mine* on that of #2114, but that doesn't make sense if you're going to create a 6.0.0 anyway.",
    "created_at": "2013-07-10T15:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199194",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:4'></a>Replying to [comment:3 vbraun]:
> If you mean #14692: I won't included anything from that ticket as long as it is not finished.


Yes, that's what I meant.

It *is* finished, you just have to include the (`$MAKE`-related) patches.

I rebased Jean-Pierre's spkg at #2114 on mine, but then Jeroen felt he had to make trivial changes to that again, so that I would now again have to *rebase mine* on that of #2114, but that doesn't make sense if you're going to create a 6.0.0 anyway.



---

archive/issue_comments_199195.json:
```json
{
    "body": "<a id='comment:5'></a>Yes please include #14692, there was just a trivial change to .hgignore to do and hg addremove but I completely forgot...",
    "created_at": "2013-07-10T15:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199195",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:5'></a>Yes please include #14692, there was just a trivial change to .hgignore to do and hg addremove but I completely forgot...



---

archive/issue_comments_199196.json:
```json
{
    "body": "<a id='comment:6'></a>If Shoup has some interest on updating NTL again, we should definitely forward him our patches.",
    "created_at": "2013-07-10T15:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199196",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:6'></a>If Shoup has some interest on updating NTL again, we should definitely forward him our patches.



---

archive/issue_comments_199197.json:
```json
{
    "body": "Attachment [trac_14876_ntl_typedef.patch](tarball://root/attachments/some-uuid/ticket14876/trac_14876_ntl_typedef.patch) by @vbraun created at 2013-07-10 15:36:42\n\nInitial patch",
    "created_at": "2013-07-10T15:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199197",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_14876_ntl_typedef.patch](tarball://root/attachments/some-uuid/ticket14876/trac_14876_ntl_typedef.patch) by @vbraun created at 2013-07-10 15:36:42

Initial patch



---

archive/issue_comments_199198.json:
```json
{
    "body": "<a id='comment:7'></a>Please somebody go ahead and forward our patches...",
    "created_at": "2013-07-10T15:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199198",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>Please somebody go ahead and forward our patches...



---

archive/issue_comments_199199.json:
```json
{
    "body": "<a id='comment:8'></a>Ok, I'll take care of forwarding the patches.",
    "created_at": "2013-07-10T15:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199199",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>Ok, I'll take care of forwarding the patches.



---

archive/issue_comments_199200.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n New upstream version. Also add a spkg-src to generate the stub autoconf files and track all files.\n+\n+Update spkg http://boxen.math.washington.edu/home/vbraun/spkg/ntl-6.0.0.p0.spkg\n+\n+Apply\n+* [attachment:trac_14876_ntl_typedef.patch] to the Sage library\n \n Author: Volker Braun\n \n``````\n",
    "created_at": "2013-07-10T15:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199200",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
 New upstream version. Also add a spkg-src to generate the stub autoconf files and track all files.
+
+Update spkg http://boxen.math.washington.edu/home/vbraun/spkg/ntl-6.0.0.p0.spkg
+
+Apply
+* [attachment:trac_14876_ntl_typedef.patch] to the Sage library
 
 Author: Volker Braun
 
``````




---

archive/issue_comments_199201.json:
```json
{
    "body": "<a id='comment:10'></a>Groumpf, you just prevented me from posting that:\n\nPlease don't produce any spkg yet if not already done.\nBefore forwarding the patches I have to check they still apply onto 6.0.0, so I can draft an initial spkg on top of the one from #14692 and then you can fix whatever you want on top of it to ease the git transition and so on.\n\n\nSo I'll just check your spkg.",
    "created_at": "2013-07-10T15:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199201",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>Groumpf, you just prevented me from posting that:

Please don't produce any spkg yet if not already done.
Before forwarding the patches I have to check they still apply onto 6.0.0, so I can draft an initial spkg on top of the one from #14692 and then you can fix whatever you want on top of it to ease the git transition and so on.


So I'll just check your spkg.



---

archive/issue_comments_199202.json:
```json
{
    "body": "<a id='comment:11'></a>Singular doesn't build with NTL-6.0.0.\n\nIn the interest of getting this git-ready let's wait with the version bump.",
    "created_at": "2013-07-10T16:48:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199202",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>Singular doesn't build with NTL-6.0.0.

In the interest of getting this git-ready let's wait with the version bump.



---

archive/issue_comments_199203.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+New upstream version. \n \n+Update spkg http://boxen.math.washington.edu/home/vbraun/spkg/ntl-6.0.0.p0.spkg\n+\n+Apply\n+* [attachment:trac_14876_ntl_typedef.patch] to the Sage library\n \n Author: Volker Braun\n \n``````\n",
    "created_at": "2013-07-10T17:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199203",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
+New upstream version. 
 
+Update spkg http://boxen.math.washington.edu/home/vbraun/spkg/ntl-6.0.0.p0.spkg
+
+Apply
+* [attachment:trac_14876_ntl_typedef.patch] to the Sage library
 
 Author: Volker Braun
 
``````




---

archive/issue_comments_199204.json:
```json
{
    "body": "<a id='comment:13'></a>For the record, this is not fixed in Singular-3.1.6 (#14333), but is fixed in the upstream trunk https://groups.google.com/d/msg/libsingular-devel/aiMvEnN8qyg/cIFUsOXxK_MJ",
    "created_at": "2013-07-10T19:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199204",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>For the record, this is not fixed in Singular-3.1.6 (#14333), but is fixed in the upstream trunk https://groups.google.com/d/msg/libsingular-devel/aiMvEnN8qyg/cIFUsOXxK_MJ



---

archive/issue_comments_199205.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:8 jpflori]:\n> Ok, I'll take care of forwarding the patches.\n\nDone and taken into account by Shoup.\nIt's on his todo list.\nGreat news.",
    "created_at": "2013-07-11T14:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199205",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:14'></a>Replying to [comment:8 jpflori]:
> Ok, I'll take care of forwarding the patches.

Done and taken into account by Shoup.
It's on his todo list.
Great news.



---

archive/issue_comments_199206.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 jpflori]:\n> Replying to [comment:8 jpflori]:\n> > Ok, I'll take care of forwarding the patches.\n\n> Done and taken into account by Shoup.\n> It's on his todo list.\n> Great news.\n\nFor future reference:\nhttp://shoup.net/pipermail/ntl_shoup.net/2013-July/000041.html\n\nNote that Victor's answer is not appearing there.",
    "created_at": "2013-07-15T12:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199206",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:15'></a>Replying to [comment:14 jpflori]:
> Replying to [comment:8 jpflori]:
> > Ok, I'll take care of forwarding the patches.

> Done and taken into account by Shoup.
> It's on his todo list.
> Great news.

For future reference:
http://shoup.net/pipermail/ntl_shoup.net/2013-July/000041.html

Note that Victor's answer is not appearing there.



---

archive/issue_comments_199207.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+New upstream version. \n+\n+Use git branch and tarball at:\n+* http://boxen.math.washington.edu/home/jpflori/upstram/ntl-6.0.0.tar.bz2\n \n \n Author: Volker Braun\n``````\n",
    "created_at": "2013-12-31T13:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199207",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
+New upstream version. 
+
+Use git branch and tarball at:
+* http://boxen.math.washington.edu/home/jpflori/upstram/ntl-6.0.0.tar.bz2
 
 
 Author: Volker Braun
``````




---

archive/issue_comments_199208.json:
```json
{
    "body": "<a id='comment:16'></a>Singular update is positively reviewed.\nI simply gitified everything and had to add a definition in the Singular patch for NTL 6.0.0 compat.\nLet's get this in, I agree with Volker previous changes.\nThe only point left is quickly check that I did not screwed up the singular patch modif; and fix all the horrible segfaults.\n\n---\nNew commits:",
    "created_at": "2013-12-31T13:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199208",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:16'></a>Singular update is positively reviewed.
I simply gitified everything and had to add a definition in the Singular patch for NTL 6.0.0 compat.
Let's get this in, I agree with Volker previous changes.
The only point left is quickly check that I did not screwed up the singular patch modif; and fix all the horrible segfaults.

---
New commits:



---

archive/issue_comments_199209.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-31T13:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199209",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_199210.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-31T13:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199210",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_199211.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-31T13:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199211",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_199212.json:
```json
{
    "body": "<a id='comment:20'></a>It seems we now have double frees.\nAs a first guess, I'd say that with the previous hacks we explicitely destroyed the hacked C++ objects, and we still do, but Cython might as well now it's aware that these are C++ object, and so boom.",
    "created_at": "2013-12-31T14:29:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199212",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:20'></a>It seems we now have double frees.
As a first guess, I'd say that with the previous hacks we explicitely destroyed the hacked C++ objects, and we still do, but Cython might as well now it's aware that these are C++ object, and so boom.



---

archive/issue_comments_199213.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-31T15:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199213",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_199214.json:
```json
{
    "body": "<a id='comment:22'></a>All tests should pass now.",
    "created_at": "2013-12-31T15:01:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199214",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:22'></a>All tests should pass now.



---

archive/issue_comments_199215.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-12-31T15:01:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199215",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_199216.json:
```json
{
    "body": "<a id='comment:23'></a>Just to be clear. You git branch has both #14333 and this ticket. Which now that I wrote it, seem totally normal. With git, branch depending from another ticket will include change from the depending ticket.",
    "created_at": "2013-12-31T18:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199216",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:23'></a>Just to be clear. You git branch has both #14333 and this ticket. Which now that I wrote it, seem totally normal. With git, branch depending from another ticket will include change from the depending ticket.



---

archive/issue_comments_199217.json:
```json
{
    "body": "<a id='comment:24'></a>I don't really know what should happen here.\nFor sure #14333 is a dependency.\nBut I forgot the # in the dependencies field so maybe that's what confused the git plugin.",
    "created_at": "2014-01-03T13:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199217",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:24'></a>I don't really know what should happen here.
For sure #14333 is a dependency.
But I forgot the # in the dependencies field so maybe that's what confused the git plugin.



---

archive/issue_comments_199218.json:
```json
{
    "body": "<a id='comment:25'></a>OK so I will try to do some testing of this. Apart from singular the following packages have a dependency to ntl:\n* flint\n* eclib\n* linbox\n* \"sage-clib\" and sage itself.\n\nSo my plan is to start from 6.1.beta2 add #14333, this ticket the flint upgrade and then rebuild the rest.",
    "created_at": "2014-01-04T01:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199218",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:25'></a>OK so I will try to do some testing of this. Apart from singular the following packages have a dependency to ntl:
* flint
* eclib
* linbox
* "sage-clib" and sage itself.

So my plan is to start from 6.1.beta2 add #14333, this ticket the flint upgrade and then rebuild the rest.



---

archive/issue_events_042732.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14876#event-42732"
}
```



---

archive/issue_comments_199219.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:25 fbissey]:\n> OK so I will try to do some testing of this. Apart from singular the following packages have a dependency to ntl:\n> * flint\n> * eclib\n> * linbox\n> * \"sage-clib\" and sage itself.\n> \n> So my plan is to start from 6.1.beta2 add #14333, this ticket the flint upgrade and then rebuild the rest.\n\nAny result on that? :)",
    "created_at": "2014-02-17T15:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199219",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:27'></a>Replying to [comment:25 fbissey]:
> OK so I will try to do some testing of this. Apart from singular the following packages have a dependency to ntl:
> * flint
> * eclib
> * linbox
> * "sage-clib" and sage itself.
> 
> So my plan is to start from 6.1.beta2 add #14333, this ticket the flint upgrade and then rebuild the rest.

Any result on that? :)



---

archive/issue_comments_199220.json:
```json
{
    "body": "<a id='comment:28'></a>I dropped the ball because of other stuff. It will be easier to start from 6.2.beta2 since singular has been merged.",
    "created_at": "2014-02-17T18:23:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199220",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:28'></a>I dropped the ball because of other stuff. It will be easier to start from 6.2.beta2 since singular has been merged.



---

archive/issue_comments_199221.json:
```json
{
    "body": "<a id='comment:29'></a>Well so far it is extremely painful and not going very far. Switching branch with sage --dev checkout brought me in a state where I ended downloading older versions of sage's dependencies.\nI have a thing about complaining about documentation, I'll certainly try to write some stuff down if I ever figure out things.",
    "created_at": "2014-02-18T00:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199221",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:29'></a>Well so far it is extremely painful and not going very far. Switching branch with sage --dev checkout brought me in a state where I ended downloading older versions of sage's dependencies.
I have a thing about complaining about documentation, I'll certainly try to write some stuff down if I ever figure out things.



---

archive/issue_comments_199222.json:
```json
{
    "body": "<a id='comment:30'></a>Oh and the tarball cannot be found for good measure.",
    "created_at": "2014-02-18T00:24:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199222",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:30'></a>Oh and the tarball cannot be found for good measure.



---

archive/issue_comments_199223.json:
```json
{
    "body": "<a id='comment:31'></a>Typo indeed.",
    "created_at": "2014-02-18T07:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199223",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:31'></a>Typo indeed.



---

archive/issue_comments_199224.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+New upstream version.\n \n+Use git branch and tarball at:\n+\n+* [http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2](http://boxen.math.washington.edu/home/jpflori/upstram/ntl-6.0.0.tar.bz2)\n \n Author: Volker Braun\n \n``````\n",
    "created_at": "2014-02-18T07:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199224",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+New upstream version.
 
+Use git branch and tarball at:
+
+* [http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2](http://boxen.math.washington.edu/home/jpflori/upstram/ntl-6.0.0.tar.bz2)
 
 Author: Volker Braun
 
``````




---

archive/issue_comments_199225.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+New upstream version.\n \n+Use git branch and tarball at:\n+\n+* [http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2](http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2)\n \n Author: Volker Braun\n \n``````\n",
    "created_at": "2014-02-18T07:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199225",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+New upstream version.
 
+Use git branch and tarball at:
+
+* [http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2](http://boxen.math.washington.edu/home/jpflori/upstream/ntl-6.0.0.tar.bz2)
 
 Author: Volker Braun
 
``````




---

archive/issue_comments_199226.json:
```json
{
    "body": "<a id='comment:33'></a>Replying to [comment:31 jpflori]:\n> Typo indeed.\n\n\nCan't believe I didn't notice that.",
    "created_at": "2014-02-18T09:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199226",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:33'></a>Replying to [comment:31 jpflori]:
> Typo indeed.


Can't believe I didn't notice that.



---

archive/issue_comments_199227.json:
```json
{
    "body": "<a id='comment:34'></a>Can you rebase the branch on 6.2.beta2? I have done:\n\n* ./sage -dev checkout --ticket 14876\n* downloaded ntl-6.0.0.tar.bz2 to upstream\n* tried to rebuild flint...\n\n```\ncat build/pkgs/flint/package-version.txt \n2.3.p1\n```\nSo that branch is still on the old versions of flint, singular and eclib. I need to be able to rebuild them to fully test the ticket.",
    "created_at": "2014-02-18T22:22:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199227",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:34'></a>Can you rebase the branch on 6.2.beta2? I have done:

* ./sage -dev checkout --ticket 14876
* downloaded ntl-6.0.0.tar.bz2 to upstream
* tried to rebuild flint...

```
cat build/pkgs/flint/package-version.txt 
2.3.p1
```
So that branch is still on the old versions of flint, singular and eclib. I need to be able to rebuild them to fully test the ticket.



---

archive/issue_comments_199228.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-02-18T22:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_199229.json:
```json
{
    "body": "<a id='comment:36'></a>Do you know how I should checkout the changes? ./sage -dev checkout --ticket 14876 still leaves me with flint 2.3.p1.",
    "created_at": "2014-02-18T22:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199229",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:36'></a>Do you know how I should checkout the changes? ./sage -dev checkout --ticket 14876 still leaves me with flint 2.3.p1.



---

archive/issue_comments_199230.json:
```json
{
    "body": "<a id='comment:37'></a>I'd say\n\n```\ngit fetch --all\ngit checkout -b test_ntl trac/u/jpflori/ticket/14876\n```\nOf course, you need to be tracking everything from the track git branch for that to work.\nI don't remmeber the syntac, but something like\n\n```\ngit fetch trac u/jpflori/ticket/14876\ngit checkout -b test_ntl trac/u/jpflori/ticket/14876\n```\nmight do the trick if you don't.\n\nI don't know how to do that with the dev scripts, sorry :(",
    "created_at": "2014-02-18T22:31:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199230",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:37'></a>I'd say

```
git fetch --all
git checkout -b test_ntl trac/u/jpflori/ticket/14876
```
Of course, you need to be tracking everything from the track git branch for that to work.
I don't remmeber the syntac, but something like

```
git fetch trac u/jpflori/ticket/14876
git checkout -b test_ntl trac/u/jpflori/ticket/14876
```
might do the trick if you don't.

I don't know how to do that with the dev scripts, sorry :(



---

archive/issue_comments_199231.json:
```json
{
    "body": "<a id='comment:38'></a>Forget about the dev scripts for now.\n\n```\ngit fetch --all\ngit checkout u/jpflori/ticket/14876\n```\nworked. pity I didn't think of switching to a test branch earlier.\nSo far I did ./sage -f flint,eclib,singular,linbox and ./sage -b successfully.\nRunning ./sage -tp 12 --all --long now.",
    "created_at": "2014-02-19T01:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199231",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:38'></a>Forget about the dev scripts for now.

```
git fetch --all
git checkout u/jpflori/ticket/14876
```
worked. pity I didn't think of switching to a test branch earlier.
So far I did ./sage -f flint,eclib,singular,linbox and ./sage -b successfully.
Running ./sage -tp 12 --all --long now.



---

archive/issue_comments_199232.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-02-19T01:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199232",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_199233.json:
```json
{
    "body": "<a id='comment:39'></a>\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 1234.6 seconds\n    cpu time: 12669.7 seconds\n    cumulative wall time: 13905.8 seconds\n```\nYes!",
    "created_at": "2014-02-19T01:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199233",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:39'></a>
```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1234.6 seconds
    cpu time: 12669.7 seconds
    cumulative wall time: 13905.8 seconds
```
Yes!



---

archive/issue_comments_199234.json:
```json
{
    "body": "<a id='comment:40'></a>I just had a thought. Will the dependency of ntl need an artificial bump to be rebuilt or is the upgrade system able to cope with that?",
    "created_at": "2014-02-19T20:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199234",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'></a>I just had a thought. Will the dependency of ntl need an artificial bump to be rebuilt or is the upgrade system able to cope with that?



---

archive/issue_comments_199235.json:
```json
{
    "body": "<a id='comment:41'></a>Dependents of NTL will be rebuilt automatically.\n\nI tried upgrading and it didn't produce a working Sage, but complete rebuild does. Possibly because wrong header files are used at one point, one of the limitations of our build system.",
    "created_at": "2014-02-20T11:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199235",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'></a>Dependents of NTL will be rebuilt automatically.

I tried upgrading and it didn't produce a working Sage, but complete rebuild does. Possibly because wrong header files are used at one point, one of the limitations of our build system.



---

archive/issue_comments_199236.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-02-20T23:17:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199236",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_042733.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-20T23:17:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14876#event-42733"
}
```



---

archive/issue_comments_199237.json:
```json
{
    "body": "<a id='comment:43'></a>For those interested, 6.1 has been released: #15938 (nothing to see there yet).",
    "created_at": "2014-03-14T10:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14876#issuecomment-199237",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:43'></a>For those interested, 6.1 has been released: #15938 (nothing to see there yet).
