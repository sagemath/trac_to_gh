# Issue 14164: Error in NumberField.composite_fields()

archive/issues_013960.json:
```json
{
    "assignees": [],
    "body": "The method `composite_fields()` of number fields used to fail when the defining polynomials were not monic and integral:\n\n```\nsage: R.<x>=QQ[]\nsage: f=6*x^5+x^4+x^2+5*x+7\nsage: r=f.roots(QQbar,multiplicities=False)\nsage: F1=NumberField(f.monic(),'a',embedding=r[0])\nsage: F2=NumberField(f.monic(),'a',embedding=r[1])\nsage: F1.composite_fields(F2,both_maps=True)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-6-dacb8cbc99b0> in <module>()\n----> 1 F1.composite_fields(F2,both_maps=True)\n\n/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in composite_fields(self, other, names, both_maps, preserve_embedding)\n   3805                             i -= 1\n   3806                         else:\n-> 3807                             self_to_F = self.hom([F(a_in_F)])\n   3808                             other_to_F = other.hom([F(b_in_F)])\n   3809                     else:\n\n/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7415)()\n\n/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3583)()\n\n/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3485)()\n\n/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in _element_constructor_(self, x)\n   1229                 result += x[i]*self.gen(0)**i\n   1230             return result\n-> 1231         return self._coerce_non_number_field_element_in(x)\n   1232\n   1233     def _coerce_from_str(self, x):\n\n/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in _coerce_non_number_field_element_in(self, x)\n   5732                               integer.Integer, pari_gen,\n   5733                               list)):\n-> 5734             return self._element_class(self, x)\n   5735\n   5736         if isinstance(x, sage.rings.polynomial.polynomial_quotient_ring_element.PolynomialQuotientRingElement)\\\n\n/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_element.so in sage.rings.number_field.number_field_element.NumberFieldElement.__init__ (sage/rings/number_field/number_field_element.cpp:6018)()\n\nTypeError: Coercion of PARI polmod with modulus 10077696*x^20 - 6718464*x^19 - 559872*x^18 - 56173824*x^17 + 728401248*x^16 - 2136243456*x^15 + 1038731904*x^14 - 3715874496*x^13 + 21591002400*x^12 - 63829125504*x^11 + 414323181024*x^10 - 242460667872*x^9 + 573731183904*x^8 - 1417417413120*x^7 - 5375183629440*x^6 + 23136669276768*x^5 + 9900813726912*x^4 - 70740914752800*x^3 + 237933452109888*x^2 - 479963026372896*x + 500774065215360 into number field with defining polynomial 104976*x^20 - 69984*x^19 - 5832*x^18 - 585144*x^17 + 7587513*x^16 - 22252536*x^15 + 10820124*x^14 - 38707026*x^13 + 224906275*x^12 - 664886724*x^11 + 4315866469*x^10 - 2525631957*x^9 + 5976366499*x^8 - 14764764720*x^7 - 55991496140*x^6 + 241006971633*x^5 + 103133476322*x^4 - 736884528675*x^3 + 2478473459478*x^2 - 4999614858051*x + 5216396512660 failed\n```\n\nSee also #18243. The bug is fixed in #252. We just ad add doctests for both tickets.\n\nAssignee: **@loefflerd**\n\nCC:  @williamstein @robertwb @jdemeyer\n\nKeywords: **number field**\n\nBranch/Commit: **[c108b70](https://github.com/sagemath/sagetrac-mirror/commit/c108b70eb65b6a93c7c45a35998b8ad819874204)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Peter Bruin**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14164_\n\n",
    "closed_at": "2015-09-18T13:03:15Z",
    "created_at": "2013-02-22T12:36:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Error in NumberField.composite_fields()",
    "type": "issue",
    "updated_at": "2015-09-18T13:03:15Z",
    "url": "https://github.com/sagemath/sage/issues/14164",
    "user": "https://github.com/miguelmarco"
}
```
The method `composite_fields()` of number fields used to fail when the defining polynomials were not monic and integral:

```
sage: R.<x>=QQ[]
sage: f=6*x^5+x^4+x^2+5*x+7
sage: r=f.roots(QQbar,multiplicities=False)
sage: F1=NumberField(f.monic(),'a',embedding=r[0])
sage: F2=NumberField(f.monic(),'a',embedding=r[1])
sage: F1.composite_fields(F2,both_maps=True)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-6-dacb8cbc99b0> in <module>()
----> 1 F1.composite_fields(F2,both_maps=True)

/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in composite_fields(self, other, names, both_maps, preserve_embedding)
   3805                             i -= 1
   3806                         else:
-> 3807                             self_to_F = self.hom([F(a_in_F)])
   3808                             other_to_F = other.hom([F(b_in_F)])
   3809                     else:

/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7415)()

/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3583)()

/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3485)()

/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in _element_constructor_(self, x)
   1229                 result += x[i]*self.gen(0)**i
   1230             return result
-> 1231         return self._coerce_non_number_field_element_in(x)
   1232
   1233     def _coerce_from_str(self, x):

/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in _coerce_non_number_field_element_in(self, x)
   5732                               integer.Integer, pari_gen,
   5733                               list)):
-> 5734             return self._element_class(self, x)
   5735
   5736         if isinstance(x, sage.rings.polynomial.polynomial_quotient_ring_element.PolynomialQuotientRingElement)\

/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_element.so in sage.rings.number_field.number_field_element.NumberFieldElement.__init__ (sage/rings/number_field/number_field_element.cpp:6018)()

TypeError: Coercion of PARI polmod with modulus 10077696*x^20 - 6718464*x^19 - 559872*x^18 - 56173824*x^17 + 728401248*x^16 - 2136243456*x^15 + 1038731904*x^14 - 3715874496*x^13 + 21591002400*x^12 - 63829125504*x^11 + 414323181024*x^10 - 242460667872*x^9 + 573731183904*x^8 - 1417417413120*x^7 - 5375183629440*x^6 + 23136669276768*x^5 + 9900813726912*x^4 - 70740914752800*x^3 + 237933452109888*x^2 - 479963026372896*x + 500774065215360 into number field with defining polynomial 104976*x^20 - 69984*x^19 - 5832*x^18 - 585144*x^17 + 7587513*x^16 - 22252536*x^15 + 10820124*x^14 - 38707026*x^13 + 224906275*x^12 - 664886724*x^11 + 4315866469*x^10 - 2525631957*x^9 + 5976366499*x^8 - 14764764720*x^7 - 55991496140*x^6 + 241006971633*x^5 + 103133476322*x^4 - 736884528675*x^3 + 2478473459478*x^2 - 4999614858051*x + 5216396512660 failed
```

See also #18243. The bug is fixed in #252. We just ad add doctests for both tickets.

Assignee: **@loefflerd**

CC:  @williamstein @robertwb @jdemeyer

Keywords: **number field**

Branch/Commit: **[c108b70](https://github.com/sagemath/sagetrac-mirror/commit/c108b70eb65b6a93c7c45a35998b8ad819874204)**

Reviewer: **Vincent Delecroix**

Author: **Peter Bruin**

_Issue created by migration from https://trac.sagemath.org/ticket/14164_





---

archive/issue_events_182889.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-02-22T12:36:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182889"
}
```



---

archive/issue_events_182890.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-02-22T12:36:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "component: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182890"
}
```



---

archive/issue_events_182891.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-02-22T12:36:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182891"
}
```



---

archive/issue_events_182892.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-02-22T12:36:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182892"
}
```



---

archive/issue_comments_171339.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nThis is at least partially a duplicate of #13054, in the sense that #13054 changes the error message to\n\n```\nTypeError: Coercion of PARI polmod with modulus 10077696*x^20 - 6718464*x^19 - 559872*x^18 - 56173824*x^17 + 728401248*x^16 - 2136243456*x^15 + 1038731904*x^14 - 3715874496*x^13 + 21591002400*x^12 - 63829125504*x^11 + 414323181024*x^10 - 242460667872*x^9 + 573731183904*x^8 - 1417417413120*x^7 - 5375183629440*x^6 + 23136669276768*x^5 + 9900813726912*x^4 - 70740914752800*x^3 + 237933452109888*x^2 - 479963026372896*x + 500774065215360 into number field with defining polynomial 104976*x^20 - 69984*x^19 - 5832*x^18 - 585144*x^17 + 7587513*x^16 - 22252536*x^15 + 10820124*x^14 - 38707026*x^13 + 224906275*x^12 - 664886724*x^11 + 4315866469*x^10 - 2525631957*x^9 + 5976366499*x^8 - 14764764720*x^7 - 55991496140*x^6 + 241006971633*x^5 + 103133476322*x^4 - 736884528675*x^3 + 2478473459478*x^2 - 4999614858051*x + 5216396512660 failed\n```",
    "created_at": "2013-02-22T13:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171339",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'>Comment 1:</a>
This is at least partially a duplicate of #13054, in the sense that #13054 changes the error message to

```
TypeError: Coercion of PARI polmod with modulus 10077696*x^20 - 6718464*x^19 - 559872*x^18 - 56173824*x^17 + 728401248*x^16 - 2136243456*x^15 + 1038731904*x^14 - 3715874496*x^13 + 21591002400*x^12 - 63829125504*x^11 + 414323181024*x^10 - 242460667872*x^9 + 573731183904*x^8 - 1417417413120*x^7 - 5375183629440*x^6 + 23136669276768*x^5 + 9900813726912*x^4 - 70740914752800*x^3 + 237933452109888*x^2 - 479963026372896*x + 500774065215360 into number field with defining polynomial 104976*x^20 - 69984*x^19 - 5832*x^18 - 585144*x^17 + 7587513*x^16 - 22252536*x^15 + 10820124*x^14 - 38707026*x^13 + 224906275*x^12 - 664886724*x^11 + 4315866469*x^10 - 2525631957*x^9 + 5976366499*x^8 - 14764764720*x^7 - 55991496140*x^6 + 241006971633*x^5 + 103133476322*x^4 - 736884528675*x^3 + 2478473459478*x^2 - 4999614858051*x + 5216396512660 failed
```



---

archive/issue_comments_171340.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,664 +8,38 @@\n sage: F2=NumberField(f.monic(),'a',embedding=r[1])\n sage: F1.composite_fields(F2,both_maps=True)\n ---------------------------------------------------------------------------\n-PariError                                 Traceback (most recent call last)\n+TypeError                                 Traceback (most recent call last)\n+<ipython-input-6-dacb8cbc99b0> in <module>()\n+----> 1 F1.composite_fields(F2,both_maps=True)\n \n-/home/mmarco/sage-5.7/<ipython console> in <module>()\n+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in composite_fields(self, other, names, both_maps, preserve_embedding)\n+   3805                             i -= 1\n+   3806                         else:\n+-> 3807                             self_to_F = self.hom([F(a_in_F)])\n+   3808                             other_to_F = other.hom([F(b_in_F)])\n+   3809                     else:\n \n-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field.pyc in composite_fields(self, other, names, both_maps, preserve_embedding)\n-   3788                 if subfields_have_embeddings:\n-   3789                     embedding = other.coerce_embedding()(b) + k*self.coerce_embedding()(a)\n--> 3790                 F = NumberField(r, names[i], check=False, embedding=embedding)\n-   3791                 i += 1\n-   3792                 if both_maps:\n+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7415)()\n \n-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field.pyc in NumberField(polynomial, name, check, names, cache, embedding, latex_name, assume_disc_small, maximize_at_primes)\n-    459     else:\n-    460         K = NumberField_absolute(polynomial, name, latex_name, check, embedding,\n---> 461              assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes)\n-    462 \n-    463     if cache:\n+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3583)()\n \n-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field.pyc in __init__(self, polynomial, name, latex_name, check, embedding, assume_disc_small, maximize_at_primes)\n-   5449         \"\"\"\n-   5450         NumberField_generic.__init__(self, polynomial, name, latex_name, check, embedding,\n--> 5451                                      assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes)\n-   5452         self._element_class = number_field_element.NumberFieldElement_absolute\n-   5453         self._zero_element = self(0)\n+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3485)()\n \n-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field.pyc in __init__(self, polynomial, name, latex_name, check, embedding, category, assume_disc_small, maximize_at_primes)\n-   1022         self.__pari_bnf_certified = False\n-   1023         self._integral_basis_dict = {}\n--> 1024         embedding = number_field_morphisms.create_embedding_from_approx(self, embedding)\n-   1025         self._populate_coercion_lists_(embedding=embedding)\n-   1026                                                                                                                    \n+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in _element_constructor_(self, x)\n+   1229                 result += x[i]*self.gen(0)**i\n+   1230             return result\n+-> 1231         return self._coerce_non_number_field_element_in(x)\n+   1232\n+   1233     def _coerce_from_str(self, x):\n \n-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field_morphisms.so in sage.rings.number_field.number_field_morphisms.create_embedding_from_approx (sage/rings/number_field/number_field_morphisms.c:5021)()\n+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in _coerce_non_number_field_element_in(self, x)\n+   5732                               integer.Integer, pari_gen,\n+   5733                               list)):\n+-> 5734             return self._element_class(self, x)\n+   5735\n+   5736         if isinstance(x, sage.rings.polynomial.polynomial_quotient_ring_element.PolynomialQuotientRingElement)\\\n \n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __ne__(self, other)\n-   3803             True\n-   3804         \"\"\"\n--> 3805         return not self.__eq__(other)\n-   3806 \n-   3807     def __nonzero__(self):\n+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_element.so in sage.rings.number_field.number_field_element.NumberFieldElement.__init__ (sage/rings/number_field/number_field_element.cpp:6018)()\n \n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __eq__(self, other)\n-   3778             try:\n-   3779                 self, other = canonical_coercion(self, other)\n--> 3780                 return self == other\n-   3781             except TypeError:\n-   3782                 return False\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __eq__(self, other)\n-   3783         if self is other: return True\n-   3784         if other._descr.is_rational() and other._descr.rational_value() == 0:\n--> 3785             return not self.__nonzero__()\n-   3786         if self._descr.is_rational() and self._descr.rational_value() == 0:\n-   3787             return not other.__nonzero__()\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __nonzero__(self)\n-   3829         if self._value.prec() < 128:\n-   3830             self._more_precision()\n--> 3831             return self.__nonzero__()\n-   3832 \n-   3833         # Sigh...\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __nonzero__(self)\n-   3832 \n-   3833         # Sigh...\n--> 3834         self.exactify()\n-   3835         return self.__nonzero__()\n-   3836 \n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7589             left = self._left\n-   7590             right = self._right\n--> 7591             left.exactify()\n-   7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7590             right = self._right\n-   7591             left.exactify()\n--> 7592             right.exactify()\n-   7593             gen = left._exact_field().union(right._exact_field())\n-   7594             left_value = gen(left._exact_value())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   3464         od = self._descr\n-   3465         if od.is_exact(): return\n--> 3466         self._set_descr(self._descr.exactify())\n-   3467 \n-   3468     def _set_descr(self, new_descr):\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)\n-   7591             left.exactify()\n-   7592             right.exactify()\n--> 7593             gen = left._exact_field().union(right._exact_field())\n-   7594             left_value = gen(left._exact_value())\n-   7595             right_value = gen(right._exact_value())\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in union(self, other)\n-   2280         newpol_sage_y = QQy(newpol_sage)\n-   2281 \n--> 2282         red_elt, red_back, red_pol = do_polred(newpol_sage_y)\n-   2283 \n-   2284         red_back_x = QQx(red_back)\n-\n-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in do_polred(poly)\n-   1561     assert(best is not None)\n-   1562     parent = poly.parent()\n--> 1563     rev = parent(best_elt.Mod(pari_poly).modreverse().lift())\n-   1564     return parent(best_elt), rev, parent(best)\n-   1565 \n-\n-/usr/lib64/python2.7/site-packages/sage/libs/pari/gen.so in sage.libs.pari.gen._pari_trap (sage/libs/pari/gen.c:55006)()\n-\n-PariError:  (5)\n+TypeError: Coercion of PARI polmod with modulus 10077696*x^20 - 6718464*x^19 - 559872*x^18 - 56173824*x^17 + 728401248*x^16 - 2136243456*x^15 + 1038731904*x^14 - 3715874496*x^13 + 21591002400*x^12 - 63829125504*x^11 + 414323181024*x^10 - 242460667872*x^9 + 573731183904*x^8 - 1417417413120*x^7 - 5375183629440*x^6 + 23136669276768*x^5 + 9900813726912*x^4 - 70740914752800*x^3 + 237933452109888*x^2 - 479963026372896*x + 500774065215360 into number field with defining polynomial 104976*x^20 - 69984*x^19 - 5832*x^18 - 585144*x^17 + 7587513*x^16 - 22252536*x^15 + 10820124*x^14 - 38707026*x^13 + 224906275*x^12 - 664886724*x^11 + 4315866469*x^10 - 2525631957*x^9 + 5976366499*x^8 - 14764764720*x^7 - 55991496140*x^6 + 241006971633*x^5 + 103133476322*x^4 - 736884528675*x^3 + 2478473459478*x^2 - 4999614858051*x + 5216396512660 failed\n ```\n``````\n",
    "created_at": "2013-02-24T09:38:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171340",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,664 +8,38 @@
 sage: F2=NumberField(f.monic(),'a',embedding=r[1])
 sage: F1.composite_fields(F2,both_maps=True)
 ---------------------------------------------------------------------------
-PariError                                 Traceback (most recent call last)
+TypeError                                 Traceback (most recent call last)
+<ipython-input-6-dacb8cbc99b0> in <module>()
+----> 1 F1.composite_fields(F2,both_maps=True)
 
-/home/mmarco/sage-5.7/<ipython console> in <module>()
+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in composite_fields(self, other, names, both_maps, preserve_embedding)
+   3805                             i -= 1
+   3806                         else:
+-> 3807                             self_to_F = self.hom([F(a_in_F)])
+   3808                             other_to_F = other.hom([F(b_in_F)])
+   3809                     else:
 
-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field.pyc in composite_fields(self, other, names, both_maps, preserve_embedding)
-   3788                 if subfields_have_embeddings:
-   3789                     embedding = other.coerce_embedding()(b) + k*self.coerce_embedding()(a)
--> 3790                 F = NumberField(r, names[i], check=False, embedding=embedding)
-   3791                 i += 1
-   3792                 if both_maps:
+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7415)()
 
-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field.pyc in NumberField(polynomial, name, check, names, cache, embedding, latex_name, assume_disc_small, maximize_at_primes)
-    459     else:
-    460         K = NumberField_absolute(polynomial, name, latex_name, check, embedding,
---> 461              assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes)
-    462 
-    463     if cache:
+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3583)()
 
-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field.pyc in __init__(self, polynomial, name, latex_name, check, embedding, assume_disc_small, maximize_at_primes)
-   5449         """
-   5450         NumberField_generic.__init__(self, polynomial, name, latex_name, check, embedding,
--> 5451                                      assume_disc_small=assume_disc_small, maximize_at_primes=maximize_at_primes)
-   5452         self._element_class = number_field_element.NumberFieldElement_absolute
-   5453         self._zero_element = self(0)
+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3485)()
 
-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field.pyc in __init__(self, polynomial, name, latex_name, check, embedding, category, assume_disc_small, maximize_at_primes)
-   1022         self.__pari_bnf_certified = False
-   1023         self._integral_basis_dict = {}
--> 1024         embedding = number_field_morphisms.create_embedding_from_approx(self, embedding)
-   1025         self._populate_coercion_lists_(embedding=embedding)
-   1026                                                                                                                    
+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in _element_constructor_(self, x)
+   1229                 result += x[i]*self.gen(0)**i
+   1230             return result
+-> 1231         return self._coerce_non_number_field_element_in(x)
+   1232
+   1233     def _coerce_from_str(self, x):
 
-/usr/lib64/python2.7/site-packages/sage/rings/number_field/number_field_morphisms.so in sage.rings.number_field.number_field_morphisms.create_embedding_from_approx (sage/rings/number_field/number_field_morphisms.c:5021)()
+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field.pyc in _coerce_non_number_field_element_in(self, x)
+   5732                               integer.Integer, pari_gen,
+   5733                               list)):
+-> 5734             return self._element_class(self, x)
+   5735
+   5736         if isinstance(x, sage.rings.polynomial.polynomial_quotient_ring_element.PolynomialQuotientRingElement)\
 
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __ne__(self, other)
-   3803             True
-   3804         """
--> 3805         return not self.__eq__(other)
-   3806 
-   3807     def __nonzero__(self):
+/usr/local/src/sage-5.7.beta1/local/lib/python2.7/site-packages/sage/rings/number_field/number_field_element.so in sage.rings.number_field.number_field_element.NumberFieldElement.__init__ (sage/rings/number_field/number_field_element.cpp:6018)()
 
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __eq__(self, other)
-   3778             try:
-   3779                 self, other = canonical_coercion(self, other)
--> 3780                 return self == other
-   3781             except TypeError:
-   3782                 return False
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __eq__(self, other)
-   3783         if self is other: return True
-   3784         if other._descr.is_rational() and other._descr.rational_value() == 0:
--> 3785             return not self.__nonzero__()
-   3786         if self._descr.is_rational() and self._descr.rational_value() == 0:
-   3787             return not other.__nonzero__()
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __nonzero__(self)
-   3829         if self._value.prec() < 128:
-   3830             self._more_precision()
--> 3831             return self.__nonzero__()
-   3832 
-   3833         # Sigh...
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in __nonzero__(self)
-   3832 
-   3833         # Sigh...
--> 3834         self.exactify()
-   3835         return self.__nonzero__()
-   3836 
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7589             left = self._left
-   7590             right = self._right
--> 7591             left.exactify()
-   7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7590             right = self._right
-   7591             left.exactify()
--> 7592             right.exactify()
-   7593             gen = left._exact_field().union(right._exact_field())
-   7594             left_value = gen(left._exact_value())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   3464         od = self._descr
-   3465         if od.is_exact(): return
--> 3466         self._set_descr(self._descr.exactify())
-   3467 
-   3468     def _set_descr(self, new_descr):
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in exactify(self)
-   7591             left.exactify()
-   7592             right.exactify()
--> 7593             gen = left._exact_field().union(right._exact_field())
-   7594             left_value = gen(left._exact_value())
-   7595             right_value = gen(right._exact_value())
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in union(self, other)
-   2280         newpol_sage_y = QQy(newpol_sage)
-   2281 
--> 2282         red_elt, red_back, red_pol = do_polred(newpol_sage_y)
-   2283 
-   2284         red_back_x = QQx(red_back)
-
-/usr/lib64/python2.7/site-packages/sage/rings/qqbar.pyc in do_polred(poly)
-   1561     assert(best is not None)
-   1562     parent = poly.parent()
--> 1563     rev = parent(best_elt.Mod(pari_poly).modreverse().lift())
-   1564     return parent(best_elt), rev, parent(best)
-   1565 
-
-/usr/lib64/python2.7/site-packages/sage/libs/pari/gen.so in sage.libs.pari.gen._pari_trap (sage/libs/pari/gen.c:55006)()
-
-PariError:  (5)
+TypeError: Coercion of PARI polmod with modulus 10077696*x^20 - 6718464*x^19 - 559872*x^18 - 56173824*x^17 + 728401248*x^16 - 2136243456*x^15 + 1038731904*x^14 - 3715874496*x^13 + 21591002400*x^12 - 63829125504*x^11 + 414323181024*x^10 - 242460667872*x^9 + 573731183904*x^8 - 1417417413120*x^7 - 5375183629440*x^6 + 23136669276768*x^5 + 9900813726912*x^4 - 70740914752800*x^3 + 237933452109888*x^2 - 479963026372896*x + 500774065215360 into number field with defining polynomial 104976*x^20 - 69984*x^19 - 5832*x^18 - 585144*x^17 + 7587513*x^16 - 22252536*x^15 + 10820124*x^14 - 38707026*x^13 + 224906275*x^12 - 664886724*x^11 + 4315866469*x^10 - 2525631957*x^9 + 5976366499*x^8 - 14764764720*x^7 - 55991496140*x^6 + 241006971633*x^5 + 103133476322*x^4 - 736884528675*x^3 + 2478473459478*x^2 - 4999614858051*x + 5216396512660 failed
 ```
``````




---

archive/issue_comments_171341.json:
```json
{
    "body": "Dependencies: **#13054**",
    "created_at": "2013-02-24T09:38:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171341",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#13054**



---

archive/issue_events_182893.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182893"
}
```



---

archive/issue_events_182894.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182894"
}
```



---

archive/issue_events_182895.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182895"
}
```



---

archive/issue_events_182896.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182896"
}
```



---

archive/issue_events_182897.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182897"
}
```



---

archive/issue_events_182898.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182898"
}
```



---

archive/issue_events_182899.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182899"
}
```



---

archive/issue_events_182900.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182900"
}
```



---

archive/issue_events_182901.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-20T08:03:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182901"
}
```



---

archive/issue_events_182902.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-20T08:03:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182902"
}
```



---

archive/issue_comments_171342.json:
```json
{
    "body": "Changed dependencies from **#13054** to **#13054, #252**",
    "created_at": "2015-06-20T08:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171342",
    "user": "https://github.com/pjbruin"
}
```

Changed dependencies from **#13054** to **#13054, #252**



---

archive/issue_comments_171343.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-composite fields fails for certain values:\n+The method `composite_fields()` of number fields fails when the defining polynomials are not monic and integral:\n \n ```\n sage: R.<x>=QQ[]\n``````\n",
    "created_at": "2015-06-20T08:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171343",
    "user": "https://github.com/pjbruin"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-composite fields fails for certain values:
+The method `composite_fields()` of number fields fails when the defining polynomials are not monic and integral:
 
 ```
 sage: R.<x>=QQ[]
``````




---

archive/issue_comments_171344.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nSee also #18243.  The bug should soon be fixed by #252; let's use this ticket to add doctests for both tickets.",
    "created_at": "2015-06-20T08:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171344",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:7'>Comment 7:</a>
See also #18243.  The bug should soon be fixed by #252; let's use this ticket to add doctests for both tickets.



---

archive/issue_comments_171345.json:
```json
{
    "body": "Branch: **[u/pbruin/14164-composite_number_fields](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/14164-composite_number_fields)**",
    "created_at": "2015-07-22T11:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171345",
    "user": "https://github.com/pjbruin"
}
```

Branch: **[u/pbruin/14164-composite_number_fields](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/14164-composite_number_fields)**



---

archive/issue_comments_171346.json:
```json
{
    "body": "Commit: **[47790f4](https://github.com/sagemath/sagetrac-mirror/commit/47790f45d458c4b8bc6138a7309ab548e0ebe145)**",
    "created_at": "2015-07-22T11:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171346",
    "user": "https://github.com/pjbruin"
}
```

Commit: **[47790f4](https://github.com/sagemath/sagetrac-mirror/commit/47790f45d458c4b8bc6138a7309ab548e0ebe145)**



---

archive/issue_events_182903.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-07-22T11:48:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182903"
}
```



---

archive/issue_comments_171347.json:
```json
{
    "body": "Author: **Peter Bruin**",
    "created_at": "2015-07-22T11:52:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171347",
    "user": "https://github.com/pjbruin"
}
```

Author: **Peter Bruin**



---

archive/issue_comments_171348.json:
```json
{
    "body": "Changed commit from **[47790f4](https://github.com/sagemath/sagetrac-mirror/commit/47790f45d458c4b8bc6138a7309ab548e0ebe145)** to **[688f8fa](https://github.com/sagemath/sagetrac-mirror/commit/688f8fa50b32cdec702e9638f41bf56ce4121790)**",
    "created_at": "2015-07-22T11:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171348",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[47790f4](https://github.com/sagemath/sagetrac-mirror/commit/47790f45d458c4b8bc6138a7309ab548e0ebe145)** to **[688f8fa](https://github.com/sagemath/sagetrac-mirror/commit/688f8fa50b32cdec702e9638f41bf56ce4121790)**



---

archive/issue_comments_171349.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/688f8fa50b32cdec702e9638f41bf56ce4121790\">688f8fa</a></td><td><code>Trac 14164: check degree of composite fields in doctests</code></td></tr></table>\n",
    "created_at": "2015-07-22T11:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171349",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/688f8fa50b32cdec702e9638f41bf56ce4121790">688f8fa</a></td><td><code>Trac 14164: check degree of composite fields in doctests</code></td></tr></table>




---

archive/issue_comments_171350.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c108b70eb65b6a93c7c45a35998b8ad819874204\">c108b70</a></td><td><code>Merge branch 'develop' into ticket/14164-composite_number_fields</code></td></tr></table>\n",
    "created_at": "2015-08-28T21:19:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171350",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c108b70eb65b6a93c7c45a35998b8ad819874204">c108b70</a></td><td><code>Merge branch 'develop' into ticket/14164-composite_number_fields</code></td></tr></table>




---

archive/issue_comments_171351.json:
```json
{
    "body": "Changed commit from **[688f8fa](https://github.com/sagemath/sagetrac-mirror/commit/688f8fa50b32cdec702e9638f41bf56ce4121790)** to **[c108b70](https://github.com/sagemath/sagetrac-mirror/commit/c108b70eb65b6a93c7c45a35998b8ad819874204)**",
    "created_at": "2015-08-28T21:19:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171351",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[688f8fa](https://github.com/sagemath/sagetrac-mirror/commit/688f8fa50b32cdec702e9638f41bf56ce4121790)** to **[c108b70](https://github.com/sagemath/sagetrac-mirror/commit/c108b70eb65b6a93c7c45a35998b8ad819874204)**



---

archive/issue_events_182904.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-17T02:36:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182904"
}
```



---

archive/issue_events_182905.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-17T02:36:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182905"
}
```



---

archive/issue_comments_171352.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2015-09-17T02:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171352",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_182906.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-17T02:36:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182906"
}
```



---

archive/issue_events_182907.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-17T02:36:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182907"
}
```



---

archive/issue_comments_171353.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The method `composite_fields()` of number fields fails when the defining polynomials are not monic and integral:\n+The method `composite_fields()` of number fields used to fail when the defining polynomials were not monic and integral:\n \n ```\n sage: R.<x>=QQ[]\n@@ -43,3 +43,5 @@\n \n TypeError: Coercion of PARI polmod with modulus 10077696*x^20 - 6718464*x^19 - 559872*x^18 - 56173824*x^17 + 728401248*x^16 - 2136243456*x^15 + 1038731904*x^14 - 3715874496*x^13 + 21591002400*x^12 - 63829125504*x^11 + 414323181024*x^10 - 242460667872*x^9 + 573731183904*x^8 - 1417417413120*x^7 - 5375183629440*x^6 + 23136669276768*x^5 + 9900813726912*x^4 - 70740914752800*x^3 + 237933452109888*x^2 - 479963026372896*x + 500774065215360 into number field with defining polynomial 104976*x^20 - 69984*x^19 - 5832*x^18 - 585144*x^17 + 7587513*x^16 - 22252536*x^15 + 10820124*x^14 - 38707026*x^13 + 224906275*x^12 - 664886724*x^11 + 4315866469*x^10 - 2525631957*x^9 + 5976366499*x^8 - 14764764720*x^7 - 55991496140*x^6 + 241006971633*x^5 + 103133476322*x^4 - 736884528675*x^3 + 2478473459478*x^2 - 4999614858051*x + 5216396512660 failed\n ```\n+\n+See also #18243. The bug is fixed in #252. We just ad add doctests for both tickets.\n``````\n",
    "created_at": "2015-09-17T02:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171353",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The method `composite_fields()` of number fields fails when the defining polynomials are not monic and integral:
+The method `composite_fields()` of number fields used to fail when the defining polynomials were not monic and integral:
 
 ```
 sage: R.<x>=QQ[]
@@ -43,3 +43,5 @@
 
 TypeError: Coercion of PARI polmod with modulus 10077696*x^20 - 6718464*x^19 - 559872*x^18 - 56173824*x^17 + 728401248*x^16 - 2136243456*x^15 + 1038731904*x^14 - 3715874496*x^13 + 21591002400*x^12 - 63829125504*x^11 + 414323181024*x^10 - 242460667872*x^9 + 573731183904*x^8 - 1417417413120*x^7 - 5375183629440*x^6 + 23136669276768*x^5 + 9900813726912*x^4 - 70740914752800*x^3 + 237933452109888*x^2 - 479963026372896*x + 500774065215360 into number field with defining polynomial 104976*x^20 - 69984*x^19 - 5832*x^18 - 585144*x^17 + 7587513*x^16 - 22252536*x^15 + 10820124*x^14 - 38707026*x^13 + 224906275*x^12 - 664886724*x^11 + 4315866469*x^10 - 2525631957*x^9 + 5976366499*x^8 - 14764764720*x^7 - 55991496140*x^6 + 241006971633*x^5 + 103133476322*x^4 - 736884528675*x^3 + 2478473459478*x^2 - 4999614858051*x + 5216396512660 failed
 ```
+
+See also #18243. The bug is fixed in #252. We just ad add doctests for both tickets.
``````




---

archive/issue_comments_171354.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI changed the description a little bit.",
    "created_at": "2015-09-17T02:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171354",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'>Comment 12:</a>
I changed the description a little bit.



---

archive/issue_comments_171355.json:
```json
{
    "body": "Changed dependencies from **#13054, #252** to **#13054**",
    "created_at": "2015-09-17T14:23:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171355",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#13054, #252** to **#13054**



---

archive/issue_comments_171356.json:
```json
{
    "body": "Changed dependencies from **#13054** to none",
    "created_at": "2015-09-17T14:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171356",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#13054** to none



---

archive/issue_comments_171357.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nOn some 32-bit machines I get now \n\n```\nsage -t --long src/sage/modular/modform/ambient.py\n**********************************************************************\nFile \"src/sage/modular/modform/ambient.py\", line 812, in sage.modular.modform.ambient.?._compute_hecke_matrix\nFailed example:\n    f = t.charpoly()                   # long time (4s)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.modform.ambient.?._compute_hecke_matrix[4]>\", line 1, in <module>\n        f = t.charpoly()                   # long time (4s)\n      File \"sage/matrix/matrix_integer_dense.pyx\", line 1251, in sage.matrix.matrix_integer_dense.Matrix_integer_dense.charpoly (/home/buildbot/slave/sage_git/build/src/build/cythonized/sage/matrix/matrix_integer_dense.c:12808)\n        g = self._charpoly_linbox(var)\n      File \"sage/matrix/matrix_integer_dense.pyx\", line 1304, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._charpoly_linbox (/home/buildbot/slave/sage_git/build/src/build/cythonized/sage/matrix/matrix_integer_dense.c:13608)\n        return self._poly_linbox(var=var, typ='charpoly')\n      File \"sage/matrix/matrix_integer_dense.pyx\", line 1327, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._poly_linbox (/home/buildbot/slave/sage_git/build/src/build/cythonized/sage/matrix/matrix_integer_dense.c:13967)\n        sig_on()\n      File \"sage/libs/ntl/error.pyx\", line 42, in sage.libs.ntl.error.NTL_error_callback (/home/buildbot/slave/sage_git/build/src/build/cythonized/sage/libs/ntl/error.cpp:756)\n        raise NTLError(s)\n    NTLError: FFT prime index too large\n**********************************************************************\n```\n* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20bu14_32s02%20%28Ubuntu%2014.04%2032%20bit%29%20incremental/builds/120/steps/shell_4/logs/stdio\n* http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/220/steps/shell_4/logs/stdio",
    "created_at": "2015-09-17T20:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171357",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'>Comment 15:</a>
On some 32-bit machines I get now 

```
sage -t --long src/sage/modular/modform/ambient.py
**********************************************************************
File "src/sage/modular/modform/ambient.py", line 812, in sage.modular.modform.ambient.?._compute_hecke_matrix
Failed example:
    f = t.charpoly()                   # long time (4s)
Exception raised:
    Traceback (most recent call last):
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.modform.ambient.?._compute_hecke_matrix[4]>", line 1, in <module>
        f = t.charpoly()                   # long time (4s)
      File "sage/matrix/matrix_integer_dense.pyx", line 1251, in sage.matrix.matrix_integer_dense.Matrix_integer_dense.charpoly (/home/buildbot/slave/sage_git/build/src/build/cythonized/sage/matrix/matrix_integer_dense.c:12808)
        g = self._charpoly_linbox(var)
      File "sage/matrix/matrix_integer_dense.pyx", line 1304, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._charpoly_linbox (/home/buildbot/slave/sage_git/build/src/build/cythonized/sage/matrix/matrix_integer_dense.c:13608)
        return self._poly_linbox(var=var, typ='charpoly')
      File "sage/matrix/matrix_integer_dense.pyx", line 1327, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._poly_linbox (/home/buildbot/slave/sage_git/build/src/build/cythonized/sage/matrix/matrix_integer_dense.c:13967)
        sig_on()
      File "sage/libs/ntl/error.pyx", line 42, in sage.libs.ntl.error.NTL_error_callback (/home/buildbot/slave/sage_git/build/src/build/cythonized/sage/libs/ntl/error.cpp:756)
        raise NTLError(s)
    NTLError: FFT prime index too large
**********************************************************************
```
* http://build.sagedev.org/release/builders/%20%20slow%20AIMS%20bu14_32s02%20%28Ubuntu%2014.04%2032%20bit%29%20incremental/builds/120/steps/shell_4/logs/stdio
* http://build.sagedev.org/release/builders/%20%20slow%20Oxford%20ARM%20%28Ubuntu%2012.10%29%20incremental/builds/220/steps/shell_4/logs/stdio



---

archive/issue_events_182908.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-17T20:55:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182908"
}
```



---

archive/issue_events_182909.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-17T20:55:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182909"
}
```



---

archive/issue_comments_171358.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nHmm must be a different ticket...",
    "created_at": "2015-09-17T20:59:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171358",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'>Comment 16:</a>
Hmm must be a different ticket...



---

archive/issue_events_182910.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-17T20:59:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182910"
}
```



---

archive/issue_events_182911.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-17T20:59:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182911"
}
```



---

archive/issue_comments_171359.json:
```json
{
    "body": "Changed branch from **[u/pbruin/14164-composite_number_fields](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/14164-composite_number_fields)** to **[c108b70](https://github.com/sagemath/sagetrac-mirror/commit/c108b70eb65b6a93c7c45a35998b8ad819874204)**",
    "created_at": "2015-09-18T13:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14164#issuecomment-171359",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/pbruin/14164-composite_number_fields](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/14164-composite_number_fields)** to **[c108b70](https://github.com/sagemath/sagetrac-mirror/commit/c108b70eb65b6a93c7c45a35998b8ad819874204)**



---

archive/issue_events_182912.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-18T13:03:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182912"
}
```



---

archive/issue_events_182913.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "505041fdf8e62f610330e66594b35ee8bc341fbd",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-09-18T13:03:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14164",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14164#event-182913"
}
```
