# Issue 14610: Energy function for level zero LS paths for all types

archive/issues_014406.json:
```json
{
    "body": "Extend the energy function for level zero LS paths to work for dual untwisted affine root systems. Currently it only works for untwisted affine root systems.\nThis patch also implements is_short_root for finite irreducible types.\n\nAssignee: mshimo\n\nCC:  sage-combinat @bsalisbury1\n\nKeywords: crystal graph, days49\n\nReviewer: Anne Schilling, Mark Shimozono, Ben Salisbury\n\nAuthor: Mark Shimozono, Anne Schilling\n\nMerged: sage-5.12.beta1\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14610\n\n",
    "closed_at": "2013-08-16T21:15:48Z",
    "created_at": "2013-05-18T15:40:23Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Energy function for level zero LS paths for all types",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14610",
    "user": "https://trac.sagemath.org/admin/accounts/users/mshimo"
}
```
Extend the energy function for level zero LS paths to work for dual untwisted affine root systems. Currently it only works for untwisted affine root systems.
This patch also implements is_short_root for finite irreducible types.

Assignee: mshimo

CC:  sage-combinat @bsalisbury1

Keywords: crystal graph, days49

Reviewer: Anne Schilling, Mark Shimozono, Ben Salisbury

Author: Mark Shimozono, Anne Schilling

Merged: sage-5.12.beta1

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14610





---

archive/issue_comments_181870.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-05-21T01:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181870",
    "user": "https://github.com/anneschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_181871.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-21T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181871",
    "user": "https://trac.sagemath.org/admin/accounts/users/mshimo"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_181872.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-21T14:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181872",
    "user": "https://trac.sagemath.org/admin/accounts/users/mshimo"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_181873.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-06-21T10:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181873",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_181874.json:
```json
{
    "body": "Changing keywords from \"crystal graph\" to \"crystal graph, days49\".",
    "created_at": "2013-07-02T00:11:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181874",
    "user": "https://github.com/anneschilling"
}
```

Changing keywords from "crystal graph" to "crystal graph, days49".



---

archive/issue_comments_181875.json:
```json
{
    "body": "<a id='comment:8'></a>Hi Ben,\n\nThe patch is now ready for the final review.\n\nThanks,\n\nAnne",
    "created_at": "2013-07-02T17:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181875",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:8'></a>Hi Ben,

The patch is now ready for the final review.

Thanks,

Anne



---

archive/issue_comments_181876.json:
```json
{
    "body": "<a id='comment:9'></a>Hi Anne and Mark,\n\nThank you for your work on this!  Everything looks good!\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 1692.1 seconds\n    cpu time: 5689.0 seconds\n    cumulative wall time: 9948.0 seconds\n```\n\n~Ben",
    "created_at": "2013-07-02T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181876",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:9'></a>Hi Anne and Mark,

Thank you for your work on this!  Everything looks good!

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1692.1 seconds
    cpu time: 5689.0 seconds
    cumulative wall time: 9948.0 seconds
```

~Ben



---

archive/issue_comments_181877.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-02T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181877",
    "user": "https://github.com/bsalisbury1"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_181878.json:
```json
{
    "body": "<a id='comment:10'></a>Ben, thank you for the review!",
    "created_at": "2013-07-02T19:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181878",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:10'></a>Ben, thank you for the review!



---

archive/issue_events_041647.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:45:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-41647"
}
```



---

archive/issue_comments_181879.json:
```json
{
    "body": "<a id='comment:12'></a>This `AssertionError` should be changed into a `ValueError` or `TypeError`:\n\n```\nsage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root() \n---------------------------------------------------------------------------\nAssertionError                            Traceback (most recent call last)\n<ipython-input-25-e961de76571c> in <module>()\n----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()\n\n/mazur/release/merger/sage-5.12.beta1/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)\n   3290             \"\"\"\n   3291             ct = self.parent().cartan_type()\n-> 3292             assert ct.is_irreducible()\n   3293             if not ct.is_finite():\n   3294                 raise NotImplementedError, \"Implemented only for irreducible finite root systems\"\n\nAssertionError: \n```",
    "created_at": "2013-08-15T15:23:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181879",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>This `AssertionError` should be changed into a `ValueError` or `TypeError`:

```
sage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root() 
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
<ipython-input-25-e961de76571c> in <module>()
----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()

/mazur/release/merger/sage-5.12.beta1/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)
   3290             """
   3291             ct = self.parent().cartan_type()
-> 3292             assert ct.is_irreducible()
   3293             if not ct.is_finite():
   3294                 raise NotImplementedError, "Implemented only for irreducible finite root systems"

AssertionError: 
```



---

archive/issue_comments_181880.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-08-15T15:23:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181880",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_181881.json:
```json
{
    "body": "Attachment [trac_14610-LSenergy-ms.patch](tarball://root/attachments/some-uuid/ticket14610/trac_14610-LSenergy-ms.patch) by @anneschilling created at 2013-08-15 16:14:42",
    "created_at": "2013-08-15T16:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181881",
    "user": "https://github.com/anneschilling"
}
```

Attachment [trac_14610-LSenergy-ms.patch](tarball://root/attachments/some-uuid/ticket14610/trac_14610-LSenergy-ms.patch) by @anneschilling created at 2013-08-15 16:14:42



---

archive/issue_comments_181882.json:
```json
{
    "body": "<a id='comment:13'></a>Fixed!",
    "created_at": "2013-08-15T16:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181882",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:13'></a>Fixed!



---

archive/issue_comments_181883.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-08-16T09:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181883",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_181884.json:
```json
{
    "body": "<a id='comment:15'></a>Here is the new output for the above situation:\n\n```\nsage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-1-31128c2ac44d> in <module>()\n----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()\n\n/Users/salis1bt/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)\n   3291             ct = self.parent().cartan_type()\n   3292             if not ct.is_irreducible():\n-> 3293                 raise ValueError, \"Cartan type needs to be irreducible!\"\n   3294             if not ct.is_finite():\n   3295                 raise NotImplementedError, \"Implemented only for irreducible finite root systems\"\n\nValueError: Cartan type needs to be irreducible!\n```\nAll looks good to me.\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 1835.0 seconds\n    cpu time: 5844.4 seconds\n    cumulative wall time: 7022.8 seconds\n```",
    "created_at": "2013-08-16T16:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181884",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:15'></a>Here is the new output for the above situation:

```
sage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-1-31128c2ac44d> in <module>()
----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()

/Users/salis1bt/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)
   3291             ct = self.parent().cartan_type()
   3292             if not ct.is_irreducible():
-> 3293                 raise ValueError, "Cartan type needs to be irreducible!"
   3294             if not ct.is_finite():
   3295                 raise NotImplementedError, "Implemented only for irreducible finite root systems"

ValueError: Cartan type needs to be irreducible!
```
All looks good to me.

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1835.0 seconds
    cpu time: 5844.4 seconds
    cumulative wall time: 7022.8 seconds
```



---

archive/issue_comments_181885.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-08-16T16:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181885",
    "user": "https://github.com/bsalisbury1"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_181886.json:
```json
{
    "body": "<a id='comment:16'></a>Thank you!\n\nAnne",
    "created_at": "2013-08-16T18:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181886",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:16'></a>Thank you!

Anne



---

archive/issue_comments_181887.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-16T21:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181887",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_041648.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-16T21:15:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-41648"
}
```
