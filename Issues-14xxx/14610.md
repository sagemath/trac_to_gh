# Issue 14610: Energy function for level zero LS paths for all types

archive/issues_014406.json:
```json
{
    "body": "Extend the energy function for level zero LS paths to work for dual untwisted affine root systems. Currently it only works for untwisted affine root systems.\nThis patch also implements is_short_root for finite irreducible types.\n\n**Assignee:** mshimo\n\n**CC:**  sage-combinat @bsalisbury1\n\n**Keywords:** crystal graph, days49\n\n**Reviewer:** Anne Schilling, Mark Shimozono, Ben Salisbury\n\n**Author:** Mark Shimozono, Anne Schilling\n\n**Merged:** sage-5.12.beta1\n\nIssue created by migration from https://trac.sagemath.org/ticket/14610\n\n",
    "closed_at": "2013-08-16T21:15:48Z",
    "created_at": "2013-05-18T15:40:23Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Energy function for level zero LS paths for all types",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14610",
    "user": "https://trac.sagemath.org/admin/accounts/users/mshimo"
}
```
Extend the energy function for level zero LS paths to work for dual untwisted affine root systems. Currently it only works for untwisted affine root systems.
This patch also implements is_short_root for finite irreducible types.

**Assignee:** mshimo

**CC:**  sage-combinat @bsalisbury1

**Keywords:** crystal graph, days49

**Reviewer:** Anne Schilling, Mark Shimozono, Ben Salisbury

**Author:** Mark Shimozono, Anne Schilling

**Merged:** sage-5.12.beta1

Issue created by migration from https://trac.sagemath.org/ticket/14610





---

archive/issue_events_129995.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-05-21T01:59:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-129995"
}
```



---

archive/issue_comments_181211.json:
```json
{
    "body": "**Reviewer:** Anne Schilling, Mark Shimozono",
    "created_at": "2013-05-21T01:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181211",
    "user": "https://github.com/anneschilling"
}
```

**Reviewer:** Anne Schilling, Mark Shimozono



---

archive/issue_comments_181212.json:
```json
{
    "body": "**Author:** Mark Shimozono, Anne Schilling",
    "created_at": "2013-05-21T01:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181212",
    "user": "https://github.com/anneschilling"
}
```

**Author:** Mark Shimozono, Anne Schilling



---

archive/issue_events_129996.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mshimo",
    "created_at": "2013-05-21T04:08:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-129996"
}
```



---

archive/issue_events_129997.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mshimo",
    "created_at": "2013-05-21T04:08:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-129997"
}
```



---

archive/issue_events_129998.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mshimo",
    "created_at": "2013-05-21T14:18:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-129998"
}
```



---

archive/issue_events_129999.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mshimo",
    "created_at": "2013-05-21T14:18:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-129999"
}
```



---

archive/issue_events_130000.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-06-21T10:38:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "rename": {
        "from": "energy function for level zero LS paths for dual untwisted affine root systems",
        "to": "Energy function for level zero LS paths for all types"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130000"
}
```



---

archive/issue_events_130001.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-06-21T10:38:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130001"
}
```



---

archive/issue_events_130002.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-06-21T10:38:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130002"
}
```



---

archive/issue_comments_181213.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,2 @@\n-Extend the energy function for level zero LS paths to work for dual untwisted affine root systems.\n-Currently it works for untwisted affine root systems.\n+Extend the energy function for level zero LS paths to work for dual untwisted affine root systems. Currently it only works for untwisted affine root systems.\n+This patch also implements is_short_root for finite irreducible types.\n``````\n",
    "created_at": "2013-06-21T10:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181213",
    "user": "https://github.com/anneschilling"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,2 @@
-Extend the energy function for level zero LS paths to work for dual untwisted affine root systems.
-Currently it works for untwisted affine root systems.
+Extend the energy function for level zero LS paths to work for dual untwisted affine root systems. Currently it only works for untwisted affine root systems.
+This patch also implements is_short_root for finite irreducible types.
``````




---

archive/issue_comments_181214.json:
```json
{
    "body": "**Changing keywords** from \"crystal graph\" to \"crystal graph, days49\".",
    "created_at": "2013-07-02T00:11:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181214",
    "user": "https://github.com/anneschilling"
}
```

**Changing keywords** from "crystal graph" to "crystal graph, days49".



---

archive/issue_comments_181215.json:
```json
{
    "body": "**Changing author** from \"Mark Shimozono, Anne Schilling\" to \"Mark Shimozono, Anne Schilling, Ben Salisbury\".",
    "created_at": "2013-07-02T17:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181215",
    "user": "https://github.com/anneschilling"
}
```

**Changing author** from "Mark Shimozono, Anne Schilling" to "Mark Shimozono, Anne Schilling, Ben Salisbury".



---

archive/issue_comments_181216.json:
```json
{
    "body": "<a id='comment:8'></a>\nHi Ben,\n\nThe patch is now ready for the final review.\n\nThanks,\n\nAnne",
    "created_at": "2013-07-02T17:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181216",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:8'></a>
Hi Ben,

The patch is now ready for the final review.

Thanks,

Anne



---

archive/issue_comments_181217.json:
```json
{
    "body": "<a id='comment:9'></a>\nHi Anne and Mark,\n\nThank you for your work on this!  Everything looks good!\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 1692.1 seconds\n    cpu time: 5689.0 seconds\n    cumulative wall time: 9948.0 seconds\n```\n\n~Ben",
    "created_at": "2013-07-02T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181217",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:9'></a>
Hi Anne and Mark,

Thank you for your work on this!  Everything looks good!

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1692.1 seconds
    cpu time: 5689.0 seconds
    cumulative wall time: 9948.0 seconds
```

~Ben



---

archive/issue_comments_181218.json:
```json
{
    "body": "**Changing author** from \"Mark Shimozono, Anne Schilling, Ben Salisbury\" to \"Mark Shimozono, Anne Schilling\".",
    "created_at": "2013-07-02T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181218",
    "user": "https://github.com/bsalisbury1"
}
```

**Changing author** from "Mark Shimozono, Anne Schilling, Ben Salisbury" to "Mark Shimozono, Anne Schilling".



---

archive/issue_comments_181219.json:
```json
{
    "body": "**Changing reviewer** from \"Anne Schilling, Mark Shimozono\" to \"Anne Schilling, Mark Shimozono, Ben Salisbury\".",
    "created_at": "2013-07-02T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181219",
    "user": "https://github.com/bsalisbury1"
}
```

**Changing reviewer** from "Anne Schilling, Mark Shimozono" to "Anne Schilling, Mark Shimozono, Ben Salisbury".



---

archive/issue_events_130003.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2013-07-02T18:54:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130003"
}
```



---

archive/issue_events_130004.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2013-07-02T18:54:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130004"
}
```



---

archive/issue_comments_181220.json:
```json
{
    "body": "<a id='comment:10'></a>\nBen, thank you for the review!",
    "created_at": "2013-07-02T19:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181220",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:10'></a>
Ben, thank you for the review!



---

archive/issue_events_130005.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:45:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130005"
}
```



---

archive/issue_events_130006.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:45:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130006"
}
```



---

archive/issue_comments_181221.json:
```json
{
    "body": "<a id='comment:12'></a>\nThis `AssertionError` should be changed into a `ValueError` or `TypeError`:\n\n```\nsage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root() \n---------------------------------------------------------------------------\nAssertionError                            Traceback (most recent call last)\n<ipython-input-25-e961de76571c> in <module>()\n----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()\n\n/mazur/release/merger/sage-5.12.beta1/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)\n   3290             \"\"\"\n   3291             ct = self.parent().cartan_type()\n-> 3292             assert ct.is_irreducible()\n   3293             if not ct.is_finite():\n   3294                 raise NotImplementedError, \"Implemented only for irreducible finite root systems\"\n\nAssertionError: \n```",
    "created_at": "2013-08-15T15:23:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181221",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
This `AssertionError` should be changed into a `ValueError` or `TypeError`:

```
sage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root() 
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
<ipython-input-25-e961de76571c> in <module>()
----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()

/mazur/release/merger/sage-5.12.beta1/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)
   3290             """
   3291             ct = self.parent().cartan_type()
-> 3292             assert ct.is_irreducible()
   3293             if not ct.is_finite():
   3294                 raise NotImplementedError, "Implemented only for irreducible finite root systems"

AssertionError: 
```



---

archive/issue_events_130007.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-15T15:23:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130007"
}
```



---

archive/issue_events_130008.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-15T15:23:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130008"
}
```



---

archive/attachments_019710.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14610-LSenergy-ms.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14610/trac_14610-LSenergy-ms.patch",
    "created_at": "2013-08-15T16:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/anneschilling"
}
```



---

archive/issue_comments_181222.json:
```json
{
    "body": "",
    "created_at": "2013-08-15T16:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181222",
    "user": "https://github.com/anneschilling"
}
```





---

archive/issue_comments_181223.json:
```json
{
    "body": "<a id='comment:13'></a>\nFixed!",
    "created_at": "2013-08-15T16:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181223",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:13'></a>
Fixed!



---

archive/issue_events_130009.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-16T09:46:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130009"
}
```



---

archive/issue_events_130010.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-16T09:46:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130010"
}
```



---

archive/issue_comments_181224.json:
```json
{
    "body": "<a id='comment:15'></a>\nHere is the new output for the above situation:\n\n```\nsage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-1-31128c2ac44d> in <module>()\n----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()\n\n/Users/salis1bt/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)\n   3291             ct = self.parent().cartan_type()\n   3292             if not ct.is_irreducible():\n-> 3293                 raise ValueError, \"Cartan type needs to be irreducible!\"\n   3294             if not ct.is_finite():\n   3295                 raise NotImplementedError, \"Implemented only for irreducible finite root systems\"\n\nValueError: Cartan type needs to be irreducible!\n```\nAll looks good to me.\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 1835.0 seconds\n    cpu time: 5844.4 seconds\n    cumulative wall time: 7022.8 seconds\n```",
    "created_at": "2013-08-16T16:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181224",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:15'></a>
Here is the new output for the above situation:

```
sage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-1-31128c2ac44d> in <module>()
----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()

/Users/salis1bt/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)
   3291             ct = self.parent().cartan_type()
   3292             if not ct.is_irreducible():
-> 3293                 raise ValueError, "Cartan type needs to be irreducible!"
   3294             if not ct.is_finite():
   3295                 raise NotImplementedError, "Implemented only for irreducible finite root systems"

ValueError: Cartan type needs to be irreducible!
```
All looks good to me.

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1835.0 seconds
    cpu time: 5844.4 seconds
    cumulative wall time: 7022.8 seconds
```



---

archive/issue_events_130011.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2013-08-16T16:46:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130011"
}
```



---

archive/issue_events_130012.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2013-08-16T16:46:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130012"
}
```



---

archive/issue_comments_181225.json:
```json
{
    "body": "<a id='comment:16'></a>\nThank you!\n\nAnne",
    "created_at": "2013-08-16T18:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181225",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:16'></a>
Thank you!

Anne



---

archive/issue_events_130013.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-16T21:15:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130013"
}
```



---

archive/issue_events_130014.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-16T21:15:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14610#event-130014"
}
```



---

archive/issue_comments_181226.json:
```json
{
    "body": "**Merged:** sage-5.12.beta1",
    "created_at": "2013-08-16T21:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14610#issuecomment-181226",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.12.beta1
