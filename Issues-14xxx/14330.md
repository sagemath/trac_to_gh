# Issue 14330: Upgrade to sagenb 0.10.7

archive/issues_014126.json:
```json
{
    "assignees": [],
    "body": "Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.\n\nSPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.1.spkg\n\nWhen this is merged, merge also #14273.\n\nDepends on #10637\n\nCC:  @novoselt @ppurka @ohanar @kcrisman\n\nBranch: **[u/tkluck/ticket/14330](https://github.com/sagemath/sagetrac-mirror/tree/u/tkluck/ticket/14330)**\n\nReviewer: **Dmitrii Pasechnik, Karl-Dieter Crisman, Jeroen Demeyer, Andrey Novoseltsev, Punarbasu Purkayastha**\n\nAuthor: **Keshav Kini**\n\nMerged: **sage-5.12.beta0**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14330_\n\n",
    "closed_at": "2013-08-02T14:13:50Z",
    "created_at": "2013-03-22T02:52:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.12",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to sagenb 0.10.7",
    "type": "issue",
    "updated_at": "2013-08-02T14:13:50Z",
    "url": "https://github.com/sagemath/sage/issues/14330",
    "user": "https://github.com/kini"
}
```
Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.

SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.1.spkg

When this is merged, merge also #14273.

Depends on #10637

CC:  @novoselt @ppurka @ohanar @kcrisman

Branch: **[u/tkluck/ticket/14330](https://github.com/sagemath/sagetrac-mirror/tree/u/tkluck/ticket/14330)**

Reviewer: **Dmitrii Pasechnik, Karl-Dieter Crisman, Jeroen Demeyer, Andrey Novoseltsev, Punarbasu Purkayastha**

Author: **Keshav Kini**

Merged: **sage-5.12.beta0**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/14330_





---

archive/issue_events_202331.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-03-22T02:52:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202331"
}
```



---

archive/issue_events_202332.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-03-22T02:52:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202332"
}
```



---

archive/issue_events_202333.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-03-22T02:52:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202333"
}
```



---

archive/issue_events_202334.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-03-22T02:52:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202334"
}
```



---

archive/issue_comments_171996.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.\n+\n+When this is merged, merge also #14273.\n``````\n",
    "created_at": "2013-03-22T08:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-171996",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.
+
+When this is merged, merge also #14273.
``````




---

archive/issue_comments_171997.json:
```json
{
    "body": "Dependencies: **#10637**",
    "created_at": "2013-04-13T07:54:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-171997",
    "user": "https://github.com/ppurka"
}
```

Dependencies: **#10637**



---

archive/issue_events_202335.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-04-13T07:54:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "title_is": "Upgrade to sagenb 0.10.6",
    "title_was": "Upgrade to sagenb 0.10.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202335"
}
```



---

archive/issue_comments_171998.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAny ETA on this?",
    "created_at": "2013-04-27T03:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-171998",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:5" align="right">comment:5</div>

Any ETA on this?



---

archive/issue_comments_171999.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIt should be in by the next release. Too late for 5.9.",
    "created_at": "2013-04-28T00:45:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-171999",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:6" align="right">comment:6</div>

It should be in by the next release. Too late for 5.9.



---

archive/issue_comments_172000.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI'm aware of that, but it would be nice to get it in an early 5.10 beta since sagenb won't work in the git releases until this is merged.",
    "created_at": "2013-04-28T02:07:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172000",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:7" align="right">comment:7</div>

I'm aware of that, but it would be nice to get it in an early 5.10 beta since sagenb won't work in the git releases until this is merged.



---

archive/issue_comments_172001.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nppurka just cleaned up a bunch of PRs so I think I'll release 0.10.6 now. Hang on a bit.",
    "created_at": "2013-04-28T02:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172001",
    "user": "https://github.com/kini"
}
```

<div id="comment:8" align="right">comment:8</div>

ppurka just cleaned up a bunch of PRs so I think I'll release 0.10.6 now. Hang on a bit.



---

archive/issue_comments_172002.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOK, SPKG is up.",
    "created_at": "2013-04-28T02:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172002",
    "user": "https://github.com/kini"
}
```

<div id="comment:9" align="right">comment:9</div>

OK, SPKG is up.



---

archive/issue_events_202336.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-04-28T02:54:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202336"
}
```



---

archive/issue_comments_172003.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.\n \n+SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.6.spkg\n+\n When this is merged, merge also #14273.\n``````\n",
    "created_at": "2013-04-28T02:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172003",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.
 
+SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.6.spkg
+
 When this is merged, merge also #14273.
``````




---

archive/issue_comments_172004.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n#10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?\n\nActually, should #10637 really be a dependency of this ticket?",
    "created_at": "2013-04-30T04:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172004",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

#10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?

Actually, should #10637 really be a dependency of this ticket?



---

archive/issue_comments_172005.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@dimpase](#comment:10):\n> #10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?\n> \n> Actually, should #10637 really be a dependency of this ticket?\n\nIf I am not incorrect, these patches are [upstream already](https://github.com/sagemath/sagenb/pull/75). So, #10637 is indeed a dependency of this ticket.",
    "created_at": "2013-04-30T05:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172005",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@dimpase](#comment:10):
> #10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?
> 
> Actually, should #10637 really be a dependency of this ticket?

If I am not incorrect, these patches are [upstream already](https://github.com/sagemath/sagenb/pull/75). So, #10637 is indeed a dependency of this ticket.



---

archive/issue_comments_172006.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@ppurka](#comment:11):\n> Replying to [@dimpase](#comment:10):\n> > #10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?\n> > \n> > Actually, should #10637 really be a dependency of this ticket?\n\n> If I am not incorrect, these patches are [upstream already](https://github.com/sagemath/sagenb/pull/75). So, #10637 is indeed a dependency of this ticket.\n\nIf so, the instructions on  #10637 are quite unclear.",
    "created_at": "2013-04-30T06:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172006",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@ppurka](#comment:11):
> Replying to [@dimpase](#comment:10):
> > #10637 includes patches to sagenb Sage repo (sic!). Shouldn't they be patches to the upstream sagenb?
> > 
> > Actually, should #10637 really be a dependency of this ticket?

> If I am not incorrect, these patches are [upstream already](https://github.com/sagemath/sagenb/pull/75). So, #10637 is indeed a dependency of this ticket.

If so, the instructions on  #10637 are quite unclear.



---

archive/issue_comments_172007.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nFixed.",
    "created_at": "2013-04-30T06:46:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172007",
    "user": "https://github.com/kini"
}
```

<div id="comment:13" align="right">comment:13</div>

Fixed.



---

archive/issue_comments_172008.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe notebook spkg works fine for me. I have a question though, now that ldap is in the notebook. Are there any other (system) requirements for getting the ldap functionality working?",
    "created_at": "2013-04-30T08:26:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172008",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:14" align="right">comment:14</div>

The notebook spkg works fine for me. I have a question though, now that ldap is in the notebook. Are there any other (system) requirements for getting the ldap functionality working?



---

archive/issue_events_202337.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-30T15:12:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202337"
}
```



---

archive/issue_events_202338.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-30T15:12:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202338"
}
```



---

archive/issue_comments_172009.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n\n```\nsage -t devel/sagenb-main/sagenb/notebook/cell.py\n**********************************************************************\nFile \"devel/sagenb-main/sagenb/notebook/cell.py\", line 228, in sagenb.notebook.cell.Cell_generic.worksheet\nFailed example:\n    W = nb.create_new_worksheet('Test', 'admin')\nException raised:\n    Traceback (most recent call last):\n      File \"/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 454, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 813, in execute\n        exec compiled in globs\n      File \"<doctest sagenb.notebook.cell.Cell_generic.worksheet[3]>\", line 1, in <module>\n        W = nb.create_new_worksheet('Test', 'admin')\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py\", line 461, in create_new_worksheet\n        W = self.worksheet(username)\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py\", line 757, in worksheet\n        id_number = self.new_id_number(username)\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py\", line 769, in new_id_number\n        u = self.user(username).conf()\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py\", line 279, in user\n        return self.user_manager().user(username)\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py\", line 110, in user\n        return self._user(username)\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py\", line 520, in _user\n        raise KeyError, \"no user '%s'\"%username\n    KeyError: \"no user 'admin'\"\n**********************************************************************\n```\n\nPS: the value of a `KeyError` should be the missing key. So you should either\n\n```\nraise KeyError(username)\n```\nor\n\n```\nraise LookupError(\"no user '%s'\"%username)\n```",
    "created_at": "2013-04-30T15:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172009",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>


```
sage -t devel/sagenb-main/sagenb/notebook/cell.py
**********************************************************************
File "devel/sagenb-main/sagenb/notebook/cell.py", line 228, in sagenb.notebook.cell.Cell_generic.worksheet
Failed example:
    W = nb.create_new_worksheet('Test', 'admin')
Exception raised:
    Traceback (most recent call last):
      File "/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 454, in _run
        self.execute(example, compiled, test.globs)
      File "/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 813, in execute
        exec compiled in globs
      File "<doctest sagenb.notebook.cell.Cell_generic.worksheet[3]>", line 1, in <module>
        W = nb.create_new_worksheet('Test', 'admin')
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py", line 461, in create_new_worksheet
        W = self.worksheet(username)
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py", line 757, in worksheet
        id_number = self.new_id_number(username)
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py", line 769, in new_id_number
        u = self.user(username).conf()
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/notebook.py", line 279, in user
        return self.user_manager().user(username)
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py", line 110, in user
        return self._user(username)
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py", line 520, in _user
        raise KeyError, "no user '%s'"%username
    KeyError: "no user 'admin'"
**********************************************************************
```

PS: the value of a `KeyError` should be the missing key. So you should either

```
raise KeyError(username)
```
or

```
raise LookupError("no user '%s'"%username)
```



---

archive/issue_comments_172010.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n\n```\nsage -t devel/sagenb-main/sagenb/notebook/user_manager.py\n**********************************************************************\nFile \"devel/sagenb-main/sagenb/notebook/user_manager.py\", line 571, in sagenb.notebook.user_manager.OpenIDUserManager.get_username_from_openid\nFailed example:\n    UM.create_new_openid('https://www.google.com/accounts/o8/id?id=AItdaWgzjV1HJTa552549o1csTDdfeH6_bPxF14', 'thedude')\nException raised:\n    Traceback (most recent call last):\n      File \"/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 454, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 813, in execute\n        exec compiled in globs\n      File \"<doctest sagenb.notebook.user_manager.OpenIDUserManager.get_username_from_openid[3]>\", line 1, in <module>\n        UM.create_new_openid('https://www.google.com/accounts/o8/id?id=AItdaWgzjV1HJTa552549o1csTDdfeH6_bPxF14', 'thedude')\n      File \"/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py\", line 594, in create_new_openid\n        if not self._conf['openid']:\n    KeyError: 'openid'\n**********************************************************************\n```",
    "created_at": "2013-04-30T15:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172010",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>


```
sage -t devel/sagenb-main/sagenb/notebook/user_manager.py
**********************************************************************
File "devel/sagenb-main/sagenb/notebook/user_manager.py", line 571, in sagenb.notebook.user_manager.OpenIDUserManager.get_username_from_openid
Failed example:
    UM.create_new_openid('https://www.google.com/accounts/o8/id?id=AItdaWgzjV1HJTa552549o1csTDdfeH6_bPxF14', 'thedude')
Exception raised:
    Traceback (most recent call last):
      File "/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 454, in _run
        self.execute(example, compiled, test.globs)
      File "/mazur/release/merger/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 813, in execute
        exec compiled in globs
      File "<doctest sagenb.notebook.user_manager.OpenIDUserManager.get_username_from_openid[3]>", line 1, in <module>
        UM.create_new_openid('https://www.google.com/accounts/o8/id?id=AItdaWgzjV1HJTa552549o1csTDdfeH6_bPxF14', 'thedude')
      File "/mazur/release/merger/sage-5.10.beta2/devel/sagenb/sagenb/notebook/user_manager.py", line 594, in create_new_openid
        if not self._conf['openid']:
    KeyError: 'openid'
**********************************************************************
```



---

archive/issue_comments_172011.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n@jdemeyer Can you say why there are `ImportError` and `IOError` on doctesting files which have no doctests in them? The specific issue I am talking about is in [this sagenb ticket](https://github.com/sagemath/sagenb/pull/161).",
    "created_at": "2013-05-03T17:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172011",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:17" align="right">comment:17</div>

@jdemeyer Can you say why there are `ImportError` and `IOError` on doctesting files which have no doctests in them? The specific issue I am talking about is in [this sagenb ticket](https://github.com/sagemath/sagenb/pull/161).



---

archive/issue_comments_172012.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nWhen using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.\n\n```\nExecuting twistd  --pidfile=\"sage_notebook.sagenb/sagenb.pid\" -ny \"sage_notebook.sagenb/twistedconf.tac\"\nUnhandled Error\nTraceback (most recent call last):\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py\", line 652, in run\n    runApp(config)\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/scripts/twistd.py\", line 23, in runApp\n    _SomeApplicationRunner(config).run()\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py\", line 386, in run\n    self.application = self.createOrGetApplication()\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py\", line 451, in createOrGetApplication\n    application = getApplication(self.config, passphrase)\n--- <exception caught here> ---\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py\", line 462, in getApplication\n    application = service.loadApplication(filename, style, passphrase)\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/service.py\", line 405, in loadApplication\n    application = sob.loadValueFromFile(filename, 'application', passphrase)\n  File \"/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/persisted/sob.py\", line 210, in loadValueFromFile\n    exec fileObj in d, d\n  File \"sage_notebook.sagenb/twistedconf.tac\", line 15, in <module>\n    import base as flask_base\n  File \"/Users/.../sage-5.9.rc1/devel/sagenb/flask_version/base.py\", line 10, in <module>\n    from flaskext.openid import OpenID\nexceptions.ImportError: No module named openid\n\nFailed to load application: No module named openid\n\nTraceback (most recent call last):\n  File \"/Users/.../sage-5.9.rc1/local/bin/sage-notebook\", line 34, in <module>\n    notebook()\n  File \"/Users/.../sage-5.9.rc1/devel/sagenb/sagenb/notebook/notebook_object.py\", line 219, in __call__\n    return self.notebook(*args, **kwds)\n  File \"/Users/.../sage-5.9.rc1/devel/sagenb/sagenb/notebook/run_notebook.py\", line 608, in notebook_run\n    raise socket.error\nsocket.error\n```",
    "created_at": "2013-05-07T16:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172012",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:18" align="right">comment:18</div>

When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.

```
Executing twistd  --pidfile="sage_notebook.sagenb/sagenb.pid" -ny "sage_notebook.sagenb/twistedconf.tac"
Unhandled Error
Traceback (most recent call last):
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py", line 652, in run
    runApp(config)
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/scripts/twistd.py", line 23, in runApp
    _SomeApplicationRunner(config).run()
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py", line 386, in run
    self.application = self.createOrGetApplication()
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py", line 451, in createOrGetApplication
    application = getApplication(self.config, passphrase)
--- <exception caught here> ---
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/app.py", line 462, in getApplication
    application = service.loadApplication(filename, style, passphrase)
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/application/service.py", line 405, in loadApplication
    application = sob.loadValueFromFile(filename, 'application', passphrase)
  File "/Users/.../sage-5.9.rc1/local/lib/python2.7/site-packages/Twisted-12.3.0-py2.7-macosx-10.7-x86_64.egg/twisted/persisted/sob.py", line 210, in loadValueFromFile
    exec fileObj in d, d
  File "sage_notebook.sagenb/twistedconf.tac", line 15, in <module>
    import base as flask_base
  File "/Users/.../sage-5.9.rc1/devel/sagenb/flask_version/base.py", line 10, in <module>
    from flaskext.openid import OpenID
exceptions.ImportError: No module named openid

Failed to load application: No module named openid

Traceback (most recent call last):
  File "/Users/.../sage-5.9.rc1/local/bin/sage-notebook", line 34, in <module>
    notebook()
  File "/Users/.../sage-5.9.rc1/devel/sagenb/sagenb/notebook/notebook_object.py", line 219, in __call__
    return self.notebook(*args, **kwds)
  File "/Users/.../sage-5.9.rc1/devel/sagenb/sagenb/notebook/run_notebook.py", line 608, in notebook_run
    raise socket.error
socket.error
```



---

archive/issue_comments_172013.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAre you using the git version of sage-5.9.rc1? I have seen this when using the git version and it is a known bug. Normal sage-5.9.rc1 worked fine here (Linux).",
    "created_at": "2013-05-07T20:28:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172013",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:19" align="right">comment:19</div>

Are you using the git version of sage-5.9.rc1? I have seen this when using the git version and it is a known bug. Normal sage-5.9.rc1 worked fine here (Linux).



---

archive/issue_comments_172014.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n> Are you using the git version of sage-5.9.rc1? I have seen this when using the git version and it is a known bug. Normal sage-5.9.rc1 worked fine here (Linux).\n\nNo, just the git version of the sagenb (latest).  I don't know how to use the git version of 5.9.rc1 :)",
    "created_at": "2013-05-08T02:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172014",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:20" align="right">comment:20</div>

> Are you using the git version of sage-5.9.rc1? I have seen this when using the git version and it is a known bug. Normal sage-5.9.rc1 worked fine here (Linux).

No, just the git version of the sagenb (latest).  I don't know how to use the git version of 5.9.rc1 :)



---

archive/issue_comments_172015.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOk. I have tested\n1. sage-5.9.beta1 on my Gentoo Linux laptop with (i) sagenb from git and (ii) the sagenb-0.10.6 spkg here.\n2. sage-5.9 on a Gentoo Linux desktop with (i) sagenb from git and (ii) the spkg here.\n3. sage-5.9.rc1 on a Debian 6 server with (i) sagenb from git and (ii) the spkg here.\n\nAll of them work.",
    "created_at": "2013-05-08T14:11:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172015",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:21" align="right">comment:21</div>

Ok. I have tested
1. sage-5.9.beta1 on my Gentoo Linux laptop with (i) sagenb from git and (ii) the sagenb-0.10.6 spkg here.
2. sage-5.9 on a Gentoo Linux desktop with (i) sagenb from git and (ii) the spkg here.
3. sage-5.9.rc1 on a Debian 6 server with (i) sagenb from git and (ii) the spkg here.

All of them work.



---

archive/issue_comments_172016.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIn `SPKG.txt`, the following is wrong:\n\n```\n== License ==\n\nGPLv2+\n\n```\n\nMathJax is licensed under Apache 2.0, which is compatible with GPLv3 but not GPLv2.",
    "created_at": "2013-05-27T12:04:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172016",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

In `SPKG.txt`, the following is wrong:

```
== License ==

GPLv2+

```

MathJax is licensed under Apache 2.0, which is compatible with GPLv3 but not GPLv2.



---

archive/issue_comments_172017.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAlso in `setup.py`:\n\n```\n    code = setup(name = 'sagenb',\n          version     = '0.10.6',\n          description = 'The Sage Notebook',\n          license     = 'GNU General Public License (GPL) v2+',\n```",
    "created_at": "2013-05-27T12:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172017",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Also in `setup.py`:

```
    code = setup(name = 'sagenb',
          version     = '0.10.6',
          description = 'The Sage Notebook',
          license     = 'GNU General Public License (GPL) v2+',
```



---

archive/issue_comments_172018.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nTwo questions:\n1. Does it matter? Anyone who wants to fork it or do whatever with it is free to use GPLv3 instead of GPLv2. It is written as GPLv2+. It also has been so for over a year now (since MathJax went in).\n2. What does it imply about Sage? If the nb is converted to GPLv3, is it still ok to distribute it with sage?",
    "created_at": "2013-05-27T13:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172018",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:24" align="right">comment:24</div>

Two questions:
1. Does it matter? Anyone who wants to fork it or do whatever with it is free to use GPLv3 instead of GPLv2. It is written as GPLv2+. It also has been so for over a year now (since MathJax went in).
2. What does it imply about Sage? If the nb is converted to GPLv3, is it still ok to distribute it with sage?



---

archive/issue_comments_172019.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@ppurka](#comment:24):\n> Two questions:\n> 1. Does it matter?\n\nI don't know whether it really matters. As a matter of correct documentation, it is something which can easily be fixed (simply by stating that sagenb is really GPLv3).\n\n> 2. What does it imply about Sage?\n\nNothing, given that Sage-as-distribution already has GPLv3 as only applicable license. Sage-the-library is GPLv2+.",
    "created_at": "2013-05-27T14:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172019",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@ppurka](#comment:24):
> Two questions:
> 1. Does it matter?

I don't know whether it really matters. As a matter of correct documentation, it is something which can easily be fixed (simply by stating that sagenb is really GPLv3).

> 2. What does it imply about Sage?

Nothing, given that Sage-as-distribution already has GPLv3 as only applicable license. Sage-the-library is GPLv2+.



---

archive/issue_comments_172020.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n1. The [pull request 162](https://github.com/sagemath/sagenb/pull/162) can be merged to upstream.\n2. I created an spkg with the changes. It can be downloaded for testing from my [Google Drive here](https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg).",
    "created_at": "2013-06-03T14:10:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172020",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:26" align="right">comment:26</div>

1. The [pull request 162](https://github.com/sagemath/sagenb/pull/162) can be merged to upstream.
2. I created an spkg with the changes. It can be downloaded for testing from my [Google Drive here](https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg).



---

archive/issue_comments_172021.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@ppurka](#comment:26):\n\n> 2. I created an spkg with the changes. It can be downloaded for testing from my [Google Drive here](https://docs.google.com/file/d/0B2kYdLdBVFHIcEJJUnR6dGtERkE/edit?usp=sharing) (I don't know any means of giving a \n\ndirect download).\n\ndid you try this:\n\nhttp://thebiobucket.blogspot.sg/2011/10/how-to-link-to-google-docs-for-download.html",
    "created_at": "2013-06-03T15:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172021",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@ppurka](#comment:26):

> 2. I created an spkg with the changes. It can be downloaded for testing from my [Google Drive here](https://docs.google.com/file/d/0B2kYdLdBVFHIcEJJUnR6dGtERkE/edit?usp=sharing) (I don't know any means of giving a 

direct download).

did you try this:

http://thebiobucket.blogspot.sg/2011/10/how-to-link-to-google-docs-for-download.html



---

archive/issue_comments_172022.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThis will work only till a certain extent. There is in fact a Google doc page which generates this url if you give it the public link. But this still can't be automated to a command line with wget. You have to use a browser to get the correct file name.",
    "created_at": "2013-06-03T16:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172022",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:28" align="right">comment:28</div>

This will work only till a certain extent. There is in fact a Google doc page which generates this url if you give it the public link. But this still can't be automated to a command line with wget. You have to use a browser to get the correct file name.



---

archive/issue_comments_172023.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@ppurka](#comment:28):\n> This will work only till a certain extent. There is in fact a Google doc page which generates this url if you give it the public link. But this still can't be automated to a command line with wget. You have to use a browser to get the correct file name. \n\nOK, here is the right way:\n \n* in your Google docs, create a world-shared folder: during its sharing, it will tell  you a link, something like https://drive.google.com/folderview?id=0B92yb82dH00zcTR4T0pNd042foo&usp=sharing\n* now a file placed in this folder, say, blah.spkg, can be directly wgotten via the link https://googledrive.com/host/0B92yb82dH00zcTR4T0pNd042foo/blah.spkg",
    "created_at": "2013-06-03T16:52:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172023",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@ppurka](#comment:28):
> This will work only till a certain extent. There is in fact a Google doc page which generates this url if you give it the public link. But this still can't be automated to a command line with wget. You have to use a browser to get the correct file name. 

OK, here is the right way:
 
* in your Google docs, create a world-shared folder: during its sharing, it will tell  you a link, something like https://drive.google.com/folderview?id=0B92yb82dH00zcTR4T0pNd042foo&usp=sharing
* now a file placed in this folder, say, blah.spkg, can be directly wgotten via the link https://googledrive.com/host/0B92yb82dH00zcTR4T0pNd042foo/blah.spkg



---

archive/issue_comments_172024.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThanks. The spkg is here: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg",
    "created_at": "2013-06-03T19:18:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172024",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:30" align="right">comment:30</div>

Thanks. The spkg is here: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg



---

archive/issue_comments_172025.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@ppurka](#comment:30):\n> Thanks. The spkg is here: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg\n\nOK. Did you test the LDAP feature on NTU's setup?",
    "created_at": "2013-06-04T06:10:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172025",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@ppurka](#comment:30):
> Thanks. The spkg is here: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg

OK. Did you test the LDAP feature on NTU's setup?



---

archive/issue_comments_172026.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nNo I didn't check. An earlier version of the patch is already running for over 2y in the servers.",
    "created_at": "2013-06-04T06:59:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172026",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:32" align="right">comment:32</div>

No I didn't check. An earlier version of the patch is already running for over 2y in the servers.



---

archive/issue_events_202339.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-08T10:19:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202339"
}
```



---

archive/issue_events_202340.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-08T10:19:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202340"
}
```



---

archive/issue_comments_172027.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.\n \n-SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.6.spkg\n+SPKG: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg\n \n When this is merged, merge also #14273.\n``````\n",
    "created_at": "2013-06-08T10:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172027",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.
 
-SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.6.spkg
+SPKG: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg
 
 When this is merged, merge also #14273.
``````




---

archive/issue_comments_172028.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@kcrisman](#comment:18):\n> When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.\n> exceptions.ImportError: No module named openid\n> \n\nSo... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.",
    "created_at": "2013-06-08T12:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172028",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@kcrisman](#comment:18):
> When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.
> exceptions.ImportError: No module named openid
> 

So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.



---

archive/issue_comments_172029.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@kcrisman](#comment:34):\n> Replying to [@kcrisman](#comment:18):\n> > When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.\n> > exceptions.ImportError: No module named openid\n> > \n\n> So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.\n\nApparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...",
    "created_at": "2013-06-08T17:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172029",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@kcrisman](#comment:34):
> Replying to [@kcrisman](#comment:18):
> > When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.
> > exceptions.ImportError: No module named openid
> > 

> So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.

Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...



---

archive/issue_comments_172030.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n> > > When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.\n> > > exceptions.ImportError: No module named openid\n> > > \n\n> > So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.\n\n> \n> Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...\n\nHmm, so maybe just installing upstream doesn't simply require doing a soft link to upstream, but also some other unpacking of something...",
    "created_at": "2013-06-09T03:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172030",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:36" align="right">comment:36</div>

> > > When using this ticket, I get the following problem with `sage -n`.  I can't say whether this is unique to me.
> > > exceptions.ImportError: No module named openid
> > > 

> > So... is this universally fixed?  I haven't even been able to use this at all because of this, and relinked to the current sagenb on my personal installation.

> 
> Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...

Hmm, so maybe just installing upstream doesn't simply require doing a soft link to upstream, but also some other unpacking of something...



---

archive/issue_comments_172031.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nWell, you should be running `setup.py develop` or `setup.py install`. But...\n\nReplying to [@dimpase](#comment:35):\n> Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...\n\nIf this is true, then `setup.py`'s dependency list is wrong - it only claims you need Twisted version 11 or greater.",
    "created_at": "2013-06-09T03:06:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172031",
    "user": "https://github.com/kini"
}
```

<div id="comment:37" align="right">comment:37</div>

Well, you should be running `setup.py develop` or `setup.py install`. But...

Replying to [@dimpase](#comment:35):
> Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...

If this is true, then `setup.py`'s dependency list is wrong - it only claims you need Twisted version 11 or greater.



---

archive/issue_comments_172032.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@kini](#comment:37):\n> Well, you should be running `setup.py develop` or `setup.py install`. But...\n> \n> Replying to [@dimpase](#comment:35):\n> > Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...\n\n> \n> If this is true, then `setup.py`'s dependency list is wrong - it only claims you need Twisted version 11 or greater.\n\n I just did `sage -f ` on the spkg file. Is this not enough? I see that at startup I get\n\n```\nsage: notebook()\nThe notebook files are stored in: sage_notebook.sagenb\n**************************************************\n*                                                *\n* Open your web browser to http://localhost:8080 *\n*                                                *\n**************************************************\nExecuting twistd  --pidfile=\"sage_notebook.sagenb/sagenb.pid\" -ny \"sage_notebook.sagenb/twistedconf.tac\"\n2013-06-09 13:57:50+0800 [-] Log opened.\n2013-06-09 13:57:50+0800 [-] twistd 13.0.0 (/usr/local/src/sage/sage-5.10.rc1/local/bin/python 2.7.4) starting up.\n...\n```\nso Twisted got updated to version 13 along the way. \n\nBut I have no clue how to tell what version is actually being run. Can one implement some functionality for this? Otherwise  this will keep causing trouble... Something like `notebook.version()`.",
    "created_at": "2013-06-09T06:13:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172032",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@kini](#comment:37):
> Well, you should be running `setup.py develop` or `setup.py install`. But...
> 
> Replying to [@dimpase](#comment:35):
> > Apparently, your installation didn't go well. You should be running Twisted version 13, not version 12. (And you get traceback from the latter)...

> 
> If this is true, then `setup.py`'s dependency list is wrong - it only claims you need Twisted version 11 or greater.

 I just did `sage -f ` on the spkg file. Is this not enough? I see that at startup I get

```
sage: notebook()
The notebook files are stored in: sage_notebook.sagenb
**************************************************
*                                                *
* Open your web browser to http://localhost:8080 *
*                                                *
**************************************************
Executing twistd  --pidfile="sage_notebook.sagenb/sagenb.pid" -ny "sage_notebook.sagenb/twistedconf.tac"
2013-06-09 13:57:50+0800 [-] Log opened.
2013-06-09 13:57:50+0800 [-] twistd 13.0.0 (/usr/local/src/sage/sage-5.10.rc1/local/bin/python 2.7.4) starting up.
...
```
so Twisted got updated to version 13 along the way. 

But I have no clue how to tell what version is actually being run. Can one implement some functionality for this? Otherwise  this will keep causing trouble... Something like `notebook.version()`.



---

archive/issue_comments_172033.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\n`sage -f` on the SPKG certainly should set everything up perfectly. I assumed kcrisman was trying to do something with the sagenb *repo*, rather than using the SPKG, since he mentions softlinks and upstreams.\n\nTwisted got updated to version 13 when you installed the SPKG because the SPKG comes with Twisted version 13 in it (because it was packaged at some point in time during which PyPI's best match for the version requirement \"twisted>=11\" was Twisted version 13). This doesn't mean that sagenb necessarily *requires* that recent of a version of Twisted. Maybe it does, but if that is the case, that's a bug and someone needs to update `setup.py` and `util/fetch_deps.py` in the sagenb repo.\n\nBTW since release 0.10.6 is already tagged in the git repo I suggest you call the SPKG you've made 0.10.7 and, once this ticket gets positive review, tag master as such and rebuild the SPKG with `dist.sh`. Basu, you might also want to ask William for an account on the Sage cluster if you don't already have one - then you can host arbitrary files on wstein.org/home/username instead of using Google Drive links :)",
    "created_at": "2013-06-09T07:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172033",
    "user": "https://github.com/kini"
}
```

<div id="comment:39" align="right">comment:39</div>

`sage -f` on the SPKG certainly should set everything up perfectly. I assumed kcrisman was trying to do something with the sagenb *repo*, rather than using the SPKG, since he mentions softlinks and upstreams.

Twisted got updated to version 13 when you installed the SPKG because the SPKG comes with Twisted version 13 in it (because it was packaged at some point in time during which PyPI's best match for the version requirement "twisted>=11" was Twisted version 13). This doesn't mean that sagenb necessarily *requires* that recent of a version of Twisted. Maybe it does, but if that is the case, that's a bug and someone needs to update `setup.py` and `util/fetch_deps.py` in the sagenb repo.

BTW since release 0.10.6 is already tagged in the git repo I suggest you call the SPKG you've made 0.10.7 and, once this ticket gets positive review, tag master as such and rebuild the SPKG with `dist.sh`. Basu, you might also want to ask William for an account on the Sage cluster if you don't already have one - then you can host arbitrary files on wstein.org/home/username instead of using Google Drive links :)



---

archive/issue_comments_172034.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nIs there any documentation on LDAP functionality available, and/or any UI?  How can a user find it?",
    "created_at": "2013-06-10T11:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172034",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:40" align="right">comment:40</div>

Is there any documentation on LDAP functionality available, and/or any UI?  How can a user find it?



---

archive/issue_comments_172035.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n> I assumed kcrisman was trying to do something with the sagenb repo, rather than using the SPKG, since he mentions softlinks and upstreams.\n\nCorrect, but I thought that was the only way to do *development* with the sagenb (which I needed for sws2rst).  I'm going to try this again.  I just did \n\n```\n$ git pull upstream master\n```\nbut maybe I also have to do some `python setup.py develop` command in addition, *even after I already had done so at some point*?  I hadn't done that.  In fact, reading the comments above, it seems I should do that, though\n* I didn't want to break anything by doing so after pulling from master, and\n* for some reason after pulling from master (but not doing `develop`) it works again!  ???!!  I still have Twisted 12, apparently.\n\nI agree about the 0.10.7 (or 0.10.6.1 or whatever).  Note that these are in master, so I think what you mean is you want is for release to get updated to master or something?",
    "created_at": "2013-06-10T21:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172035",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:41" align="right">comment:41</div>

> I assumed kcrisman was trying to do something with the sagenb repo, rather than using the SPKG, since he mentions softlinks and upstreams.

Correct, but I thought that was the only way to do *development* with the sagenb (which I needed for sws2rst).  I'm going to try this again.  I just did 

```
$ git pull upstream master
```
but maybe I also have to do some `python setup.py develop` command in addition, *even after I already had done so at some point*?  I hadn't done that.  In fact, reading the comments above, it seems I should do that, though
* I didn't want to break anything by doing so after pulling from master, and
* for some reason after pulling from master (but not doing `develop`) it works again!  ???!!  I still have Twisted 12, apparently.

I agree about the 0.10.7 (or 0.10.6.1 or whatever).  Note that these are in master, so I think what you mean is you want is for release to get updated to master or something?



---

archive/issue_comments_172036.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@kcrisman](#comment:41):\n> I just did \n> \n> ```\n> $ git pull upstream master\n> ```\n> but maybe I also have to do some `python setup.py develop` command in addition, *even after I already had done so at some point*?  I hadn't done that.  \n\nWell, you pulled an updated source. Assuming that your stuff is not 100% source-only, you need to do some kind of re-building, i.e. \"python setup.py blah foo\" or \"./configure/make\", or \"sage -b\", whatever is appropriate, every time you updated the source.\nAn intelligent building system would not repeat unnecessary recompilations, so it ought to be quick...",
    "created_at": "2013-06-11T18:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172036",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@kcrisman](#comment:41):
> I just did 
> 
> ```
> $ git pull upstream master
> ```
> but maybe I also have to do some `python setup.py develop` command in addition, *even after I already had done so at some point*?  I hadn't done that.  

Well, you pulled an updated source. Assuming that your stuff is not 100% source-only, you need to do some kind of re-building, i.e. "python setup.py blah foo" or "./configure/make", or "sage -b", whatever is appropriate, every time you updated the source.
An intelligent building system would not repeat unnecessary recompilations, so it ought to be quick...



---

archive/issue_comments_172037.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nOh, it was quick :)  Note this needs to be done with the Sage Python... anyway, apparently all is well on that score.",
    "created_at": "2013-06-11T18:51:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172037",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:43" align="right">comment:43</div>

Oh, it was quick :)  Note this needs to be done with the Sage Python... anyway, apparently all is well on that score.



---

archive/issue_comments_172038.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nOK, I think I can give it a positive review, assuming that a ticket on improving sagenb admin documentation will be open. (E.g.: how on Earth one can figure out how to set up LDAP auth without reading sources?!)",
    "created_at": "2013-06-14T07:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172038",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:44" align="right">comment:44</div>

OK, I think I can give it a positive review, assuming that a ticket on improving sagenb admin documentation will be open. (E.g.: how on Earth one can figure out how to set up LDAP auth without reading sources?!)



---

archive/issue_events_202341.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-14T07:00:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202341"
}
```



---

archive/issue_events_202342.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-06-14T07:00:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202342"
}
```



---

archive/issue_comments_172039.json:
```json
{
    "body": "Reviewer: **Dmitrii Pasechnik**",
    "created_at": "2013-06-14T07:09:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172039",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Dmitrii Pasechnik**



---

archive/issue_events_202343.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T07:09:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202343"
}
```



---

archive/issue_events_202344.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-14T07:09:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202344"
}
```



---

archive/issue_comments_172040.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nCan anyone test if the idle timeouts are working fine? I am getting a timeout and the sage process is quitting even when the idle timeout setting in my notebook is set to 0. There should be no timeouts at all in this case. See the last line below.\n\n```\n**************************************************\n*                                                *\n* Open your web browser to http://localhost:8080 *\n*                                                *\n**************************************************\nExecuting twistd  --pidfile=\"aaa.sagenb/sagenb.pid\" -ny \"aaa.sagenb/twistedconf.tac\"\n2013-06-14 20:31:07+0800 [-] Log opened.\n2013-06-14 20:31:07+0800 [-] twistd 13.0.0 (/home/punarbasu/Installations/sage-5.10.rc0.sagenb/local/bin/python 2.7.4) starting up.\n2013-06-14 20:31:07+0800 [-] reactor class: twisted.internet.epollreactor.EPollReactor.\n2013-06-14 20:31:07+0800 [-] QuietSite starting on 8080\n2013-06-14 20:31:07+0800 [-] Starting factory <__builtin__.QuietSite instance at 0x5e1a758>\n2013-06-14 20:37:13+0800 [HTTPChannel,6,127.0.0.1] Quitting ignored worksheet process for u'aaa'.\n```\n\n*Edit* The timeout that I face is roughly 300s and it also doesn't match any of the timeout settings that I can see in the notebook interface.",
    "created_at": "2013-06-14T12:37:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172040",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:46" align="right">comment:46</div>

Can anyone test if the idle timeouts are working fine? I am getting a timeout and the sage process is quitting even when the idle timeout setting in my notebook is set to 0. There should be no timeouts at all in this case. See the last line below.

```
**************************************************
*                                                *
* Open your web browser to http://localhost:8080 *
*                                                *
**************************************************
Executing twistd  --pidfile="aaa.sagenb/sagenb.pid" -ny "aaa.sagenb/twistedconf.tac"
2013-06-14 20:31:07+0800 [-] Log opened.
2013-06-14 20:31:07+0800 [-] twistd 13.0.0 (/home/punarbasu/Installations/sage-5.10.rc0.sagenb/local/bin/python 2.7.4) starting up.
2013-06-14 20:31:07+0800 [-] reactor class: twisted.internet.epollreactor.EPollReactor.
2013-06-14 20:31:07+0800 [-] QuietSite starting on 8080
2013-06-14 20:31:07+0800 [-] Starting factory <__builtin__.QuietSite instance at 0x5e1a758>
2013-06-14 20:37:13+0800 [HTTPChannel,6,127.0.0.1] Quitting ignored worksheet process for u'aaa'.
```

*Edit* The timeout that I face is roughly 300s and it also doesn't match any of the timeout settings that I can see in the notebook interface.



---

archive/issue_comments_172041.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI did notice a lot of timeouts lately, but I thought it was something I did wrong.  I don't have any details, I'm sorry, but can confirm that it's a little off.",
    "created_at": "2013-06-14T12:43:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172041",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:47" align="right">comment:47</div>

I did notice a lot of timeouts lately, but I thought it was something I did wrong.  I don't have any details, I'm sorry, but can confirm that it's a little off.



---

archive/issue_comments_172042.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI didn't experiment myself, but with two people having this issue it definitely should not be merged, plenty of worksheets require more than 5 minutes. On a related note of quitting worksheets unnecessarily: https://github.com/sagemath/sagenb/issues/163",
    "created_at": "2013-06-14T14:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172042",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:48" align="right">comment:48</div>

I didn't experiment myself, but with two people having this issue it definitely should not be merged, plenty of worksheets require more than 5 minutes. On a related note of quitting worksheets unnecessarily: https://github.com/sagemath/sagenb/issues/163



---

archive/issue_events_202345.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2013-06-14T14:12:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202345"
}
```



---

archive/issue_events_202346.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2013-06-14T14:12:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202346"
}
```



---

archive/issue_comments_172043.json:
```json
{
    "body": "Work Issues: **timeout does not work**",
    "created_at": "2013-06-14T14:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172043",
    "user": "https://github.com/novoselt"
}
```

Work Issues: **timeout does not work**



---

archive/issue_comments_172044.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nAnd this is now https://github.com/sagemath/sagenb/issues/164",
    "created_at": "2013-06-14T14:15:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172044",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:49" align="right">comment:49</div>

And this is now https://github.com/sagemath/sagenb/issues/164



---

archive/issue_comments_172045.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nThis also solves #13752, I think.",
    "created_at": "2013-06-14T20:11:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172045",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:50" align="right">comment:50</div>

This also solves #13752, I think.



---

archive/issue_comments_172046.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nFor me current top of sagenb does not process docstrings either via tab-completion or question mark.",
    "created_at": "2013-06-19T17:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172046",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:51" align="right">comment:51</div>

For me current top of sagenb does not process docstrings either via tab-completion or question mark.



---

archive/issue_comments_172047.json:
```json
{
    "body": "Changed work issues from **timeout does not work** to **sphynx does not work for introspection**",
    "created_at": "2013-06-19T17:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172047",
    "user": "https://github.com/novoselt"
}
```

Changed work issues from **timeout does not work** to **sphynx does not work for introspection**



---

archive/issue_comments_172048.json:
```json
{
    "body": "Changed work issues from **sphynx does not work for introspection** to **timeout does not work; sphynx does not work for introspection**",
    "created_at": "2013-06-19T19:49:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172048",
    "user": "https://github.com/dimpase"
}
```

Changed work issues from **sphynx does not work for introspection** to **timeout does not work; sphynx does not work for introspection**



---

archive/issue_comments_172049.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@novoselt](#comment:51):\n> For me current top of sagenb does not process docstrings either via tab-completion or question mark.\n\nHas the \"timeout does not work\" problem been magically solved?",
    "created_at": "2013-06-19T19:49:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172049",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@novoselt](#comment:51):
> For me current top of sagenb does not process docstrings either via tab-completion or question mark.

Has the "timeout does not work" problem been magically solved?



---

archive/issue_comments_172050.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nNot magically, but it sounds like Andrey has an upstream pull request for this with correct code.  We would need a new spkg, of course.",
    "created_at": "2013-06-19T19:51:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172050",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:53" align="right">comment:53</div>

Not magically, but it sounds like Andrey has an upstream pull request for this with correct code.  We would need a new spkg, of course.



---

archive/issue_comments_172051.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nDo these lines look familiar to anyone?\n\n```\n    from pkg_resources import Requirement, working_set\n    sagenb_path = working_set.find(Requirement.parse('sagenb')).location\n```\nIn current master find returns None, which leads to an exception, all exceptions are caught by `except:` and then Sphinx is not working...",
    "created_at": "2013-06-19T20:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172051",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:54" align="right">comment:54</div>

Do these lines look familiar to anyone?

```
    from pkg_resources import Requirement, working_set
    sagenb_path = working_set.find(Requirement.parse('sagenb')).location
```
In current master find returns None, which leads to an exception, all exceptions are caught by `except:` and then Sphinx is not working...



---

archive/issue_comments_172052.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nAndrey, does you pull request fix the issue mentioned here? To me it looks like it just makes sagenb respect the configuration file when the timeout isn't specified from the command-line -- which at least from reading this thread seems different than the issues others are experiencing.",
    "created_at": "2013-06-19T20:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172052",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:55" align="right">comment:55</div>

Andrey, does you pull request fix the issue mentioned here? To me it looks like it just makes sagenb respect the configuration file when the timeout isn't specified from the command-line -- which at least from reading this thread seems different than the issues others are experiencing.



---

archive/issue_comments_172053.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nChanging `idle_timeout` from 120 to 0 fixes timeout issue. Changing `timeout=0` to `timeout=None` and extra if-check ensure that user settings via web interface affect the situation.\n\nMeanwhile, can anyone else confirm that introspection is not working and it is not just me doing something stupid with git?",
    "created_at": "2013-06-19T20:13:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172053",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:56" align="right">comment:56</div>

Changing `idle_timeout` from 120 to 0 fixes timeout issue. Changing `timeout=0` to `timeout=None` and extra if-check ensure that user settings via web interface affect the situation.

Meanwhile, can anyone else confirm that introspection is not working and it is not just me doing something stupid with git?



---

archive/issue_comments_172054.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nOK, I have not run setup to register new notebook and that's why it could not find location of whatever.",
    "created_at": "2013-06-19T20:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172054",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:57" align="right">comment:57</div>

OK, I have not run setup to register new notebook and that's why it could not find location of whatever.



---

archive/issue_comments_172055.json:
```json
{
    "body": "Changed work issues from **timeout does not work; sphynx does not work for introspection** to **timeout does not work**",
    "created_at": "2013-06-19T20:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172055",
    "user": "https://github.com/novoselt"
}
```

Changed work issues from **timeout does not work; sphynx does not work for introspection** to **timeout does not work**



---

archive/issue_comments_172056.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nSlightly off-topic, but I would like to point out that #14273 (which is supposed to be merged with this ticket) also needs review.",
    "created_at": "2013-06-20T07:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172056",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:58" align="right">comment:58</div>

Slightly off-topic, but I would like to point out that #14273 (which is supposed to be merged with this ticket) also needs review.



---

archive/issue_comments_172057.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nI'm also wondering whether the spkg eventually created will be from the release branch or master branch.  The master branch is missing things like some doctest fixes and of course anything new mentioned by Andrey et al. in the last while.  Maybe there should be a 0.10.7 release that includes all the fixes before finally merging this.",
    "created_at": "2013-06-20T20:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172057",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:59" align="right">comment:59</div>

I'm also wondering whether the spkg eventually created will be from the release branch or master branch.  The master branch is missing things like some doctest fixes and of course anything new mentioned by Andrey et al. in the last while.  Maybe there should be a 0.10.7 release that includes all the fixes before finally merging this.



---

archive/issue_comments_172058.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nThe SPKG will have a version number, so the sagenb code in it should be the state of the repository at that version. That means the SPKG should be built from a tag. The tag should be somewhere on master. The `release` branch is just a branch that sits there and gets master merged into it whenever there's a new tagged version. It doesn't serve much of a purpose other than to track what the latest released version is.",
    "created_at": "2013-06-20T20:56:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172058",
    "user": "https://github.com/kini"
}
```

<div id="comment:60" align="right">comment:60</div>

The SPKG will have a version number, so the sagenb code in it should be the state of the repository at that version. That means the SPKG should be built from a tag. The tag should be somewhere on master. The `release` branch is just a branch that sits there and gets master merged into it whenever there's a new tagged version. It doesn't serve much of a purpose other than to track what the latest released version is.



---

archive/issue_comments_172059.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nOkay, in that case we need a new tag (eventually) for all these fixes :-)",
    "created_at": "2013-06-20T21:06:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172059",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:61" align="right">comment:61</div>

Okay, in that case we need a new tag (eventually) for all these fixes :-)



---

archive/issue_comments_172060.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nI would really like to have all my changes in as they have fixed old bugs that were really bugging me ;-) Plus the new version of MathJax is significantly faster, like twice, which helps preventing script timeouts in browsers.",
    "created_at": "2013-06-20T21:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172060",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:62" align="right">comment:62</div>

I would really like to have all my changes in as they have fixed old bugs that were really bugging me ;-) Plus the new version of MathJax is significantly faster, like twice, which helps preventing script timeouts in browsers.



---

archive/issue_events_202347.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-06-24T17:51:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "title_is": "Upgrade to sagenb 0.10.7",
    "title_was": "Upgrade to sagenb 0.10.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202347"
}
```



---

archive/issue_comments_172061.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.\n \n-SPKG: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg\n+SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.spkg\n \n When this is merged, merge also #14273.\n``````\n",
    "created_at": "2013-06-24T17:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172061",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.
 
-SPKG: https://googledrive.com/host/0B2kYdLdBVFHIZEd4ekpjNUFBNTQ/sagenb-0.10.6.spkg
+SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.spkg
 
 When this is merged, merge also #14273.
``````




---

archive/issue_comments_172062.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nNew SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.spkg",
    "created_at": "2013-06-24T17:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172062",
    "user": "https://github.com/kini"
}
```

<div id="comment:63" align="right">comment:63</div>

New SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.spkg



---

archive/issue_comments_172063.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nI have 5.10 and 5.11.beta3 with this spkg running and typesetting does not work for published worksheets, I just see things like\n\n```\n<script type=\"math/tex\">\\newcommand{\\Bold}[1]{\\mathbf{#1}}\\left[9, 18\\right]</script>\n```\nWon't have time right now to figure out what triggers it, but will try in a couple of days if nobody beats me to it. Still \"needs work\", unfortunately... Is it maybe sanitation of worksheets to prevent scripts from running?..",
    "created_at": "2013-06-24T23:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172063",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:64" align="right">comment:64</div>

I have 5.10 and 5.11.beta3 with this spkg running and typesetting does not work for published worksheets, I just see things like

```
<script type="math/tex">\newcommand{\Bold}[1]{\mathbf{#1}}\left[9, 18\right]</script>
```
Won't have time right now to figure out what triggers it, but will try in a couple of days if nobody beats me to it. Still "needs work", unfortunately... Is it maybe sanitation of worksheets to prevent scripts from running?..



---

archive/issue_comments_172064.json:
```json
{
    "body": "Changed work issues from **timeout does not work** to **published formulas**",
    "created_at": "2013-06-24T23:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172064",
    "user": "https://github.com/novoselt"
}
```

Changed work issues from **timeout does not work** to **published formulas**



---

archive/issue_comments_172065.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nAnd looks like images are not shown either.",
    "created_at": "2013-06-24T23:20:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172065",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:65" align="right">comment:65</div>

And looks like images are not shown either.



---

archive/issue_comments_172066.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nReplying to [@novoselt](#comment:64):\n> I have 5.10 and 5.11.beta3 with this spkg running and typesetting does not work for published worksheets, I just see things like\n> \n> ```\n> <script type=\"math/tex\">\\newcommand{\\Bold}[1]{\\mathbf{#1}}\\left[9, 18\\right]</script>\n> ```\n> Won't have time right now to figure out what triggers it, but will try in a couple of days if nobody beats me to it. Still \"needs work\", unfortunately... Is it maybe sanitation of worksheets to prevent scripts from running?..\n\nYou must be right.    I thought that this was only run as an option, but closer scrutiny says not.   Mathjax isn't supposed to be killed off:\n\n```\nif el.tag=='script' and el.get('type')=='math/tex' and not el.get('src'):\n    return True\n```\nbut apparently it's not working right.  Maybe it's working okay but some other stuff around it is removed so that the Mathjax doesn't render?\n\nIn any case, I feel like it should be an *option* to have this happen, and now I see it's required for all published worksheets.  I could be persuaded otherwise, but at least this should work first :)",
    "created_at": "2013-06-25T12:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172066",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:66" align="right">comment:66</div>

Replying to [@novoselt](#comment:64):
> I have 5.10 and 5.11.beta3 with this spkg running and typesetting does not work for published worksheets, I just see things like
> 
> ```
> <script type="math/tex">\newcommand{\Bold}[1]{\mathbf{#1}}\left[9, 18\right]</script>
> ```
> Won't have time right now to figure out what triggers it, but will try in a couple of days if nobody beats me to it. Still "needs work", unfortunately... Is it maybe sanitation of worksheets to prevent scripts from running?..

You must be right.    I thought that this was only run as an option, but closer scrutiny says not.   Mathjax isn't supposed to be killed off:

```
if el.tag=='script' and el.get('type')=='math/tex' and not el.get('src'):
    return True
```
but apparently it's not working right.  Maybe it's working okay but some other stuff around it is removed so that the Mathjax doesn't render?

In any case, I feel like it should be an *option* to have this happen, and now I see it's required for all published worksheets.  I could be persuaded otherwise, but at least this should work first :)



---

archive/issue_comments_172067.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nIf this is the case, perhaps we should not ship sanitation with Sage. Those who run world-accessible servers should know what they are doing, what are the risks, and how to deal with them, in particular they are free to install the branch with sanitation. For those who run servers for trusted/known users only, sanitation is not really necessary...",
    "created_at": "2013-06-25T14:41:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172067",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:67" align="right">comment:67</div>

If this is the case, perhaps we should not ship sanitation with Sage. Those who run world-accessible servers should know what they are doing, what are the risks, and how to deal with them, in particular they are free to install the branch with sanitation. For those who run servers for trusted/known users only, sanitation is not really necessary...



---

archive/issue_comments_172068.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI just tried and it is possible to *remove* (not revert) the commits by running\n\n```\ngit rebase -i\n```\nand removing the commits corresponding to\n\n```\n| * | 003436a - Remove the remainder of the whatwg unsafe tags. 9 months ago <Jason Grout>\n| * | 9f5bcf4 - Don't scrub html twice. 9 months ago <Jason Grout>\n| * | 941299f - Add nofollow to html scrubbing.  Thanks to Volker Braun for bringing it up. 9 months ago <Jason Grout>\n| * | 77fb49a - Sanitize the output and text cells of published worksheets. 9 months ago <Jason Grout>\n```\n\nThen we need to push (force) this update to sagenb master.\n\nDo we want to do that? Will this automatically revert the status of jason's pull request to \"open\" again?",
    "created_at": "2013-06-25T15:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172068",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:68" align="right">comment:68</div>

I just tried and it is possible to *remove* (not revert) the commits by running

```
git rebase -i
```
and removing the commits corresponding to

```
| * | 003436a - Remove the remainder of the whatwg unsafe tags. 9 months ago <Jason Grout>
| * | 9f5bcf4 - Don't scrub html twice. 9 months ago <Jason Grout>
| * | 941299f - Add nofollow to html scrubbing.  Thanks to Volker Braun for bringing it up. 9 months ago <Jason Grout>
| * | 77fb49a - Sanitize the output and text cells of published worksheets. 9 months ago <Jason Grout>
```

Then we need to push (force) this update to sagenb master.

Do we want to do that? Will this automatically revert the status of jason's pull request to "open" again?



---

archive/issue_comments_172069.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nNo, we don't want to force push to master. That's a very bad practice and will screw up anyone else who has pulled from the repo since I released 0.10.7. This will have to be 0.10.7.1, I'm afraid :P I'll cut it, give me a sec",
    "created_at": "2013-06-25T15:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172069",
    "user": "https://github.com/kini"
}
```

<div id="comment:69" align="right">comment:69</div>

No, we don't want to force push to master. That's a very bad practice and will screw up anyone else who has pulled from the repo since I released 0.10.7. This will have to be 0.10.7.1, I'm afraid :P I'll cut it, give me a sec



---

archive/issue_events_202348.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-06-25T15:30:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202348"
}
```



---

archive/issue_events_202349.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2013-06-25T15:30:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202349"
}
```



---

archive/issue_comments_172070.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nNew SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.1.spkg",
    "created_at": "2013-06-25T15:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172070",
    "user": "https://github.com/kini"
}
```

<div id="comment:70" align="right">comment:70</div>

New SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.1.spkg



---

archive/issue_comments_172071.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.\n \n-SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.spkg\n+SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.1.spkg\n \n When this is merged, merge also #14273.\n``````\n",
    "created_at": "2013-06-25T15:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172071",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Next minor version of sagenb. Will contain LDAP functionality by Robin Martinjak (finally) and some other minor adjustments.
 
-SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.spkg
+SPKG: http://wstein.org/home/keshav/files/sagenb-0.10.7.1.spkg
 
 When this is merged, merge also #14273.
``````




---

archive/issue_comments_172072.json:
```json
{
    "body": "Changed reviewer from **Dmitrii Pasechnik** to **Dmitrii Pasechnik, Karl-Dieter Crisman, Jeroen Demeyer, Andrey Novoseltsev, Punarbasu Purkayastha**",
    "created_at": "2013-06-25T15:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172072",
    "user": "https://github.com/kini"
}
```

Changed reviewer from **Dmitrii Pasechnik** to **Dmitrii Pasechnik, Karl-Dieter Crisman, Jeroen Demeyer, Andrey Novoseltsev, Punarbasu Purkayastha**



---

archive/issue_comments_172073.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nThanks Keshav, published formulas and pictures are back, will keep testing!",
    "created_at": "2013-06-25T19:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172073",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:72" align="right">comment:72</div>

Thanks Keshav, published formulas and pictures are back, will keep testing!



---

archive/issue_comments_172074.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nThanks for catching this, Andrey!   Sorry for missing this somehow :(",
    "created_at": "2013-06-25T19:50:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172074",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:73" align="right">comment:73</div>

Thanks for catching this, Andrey!   Sorry for missing this somehow :(



---

archive/issue_comments_172075.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nI see `[Math Processing Error]` on published worksheets when the renderer is set to SVG. It works fine when it is kept at the default HTML-CSS.\n\n3D plots show up fine (the 2D static version at least), and plots show up fine. I think this ticket is good to go.",
    "created_at": "2013-06-30T07:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172075",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:74" align="right">comment:74</div>

I see `[Math Processing Error]` on published worksheets when the renderer is set to SVG. It works fine when it is kept at the default HTML-CSS.

3D plots show up fine (the 2D static version at least), and plots show up fine. I think this ticket is good to go.



---

archive/issue_events_202350.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-06-30T07:24:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202350"
}
```



---

archive/issue_events_202351.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-06-30T07:24:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202351"
}
```



---

archive/issue_events_202352.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:40:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202352"
}
```



---

archive/issue_events_202353.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:40:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202353"
}
```



---

archive/issue_comments_172076.json:
```json
{
    "body": "Branch: **[u/tkluck/ticket/134330](https://github.com/sagemath/sagetrac-mirror/tree/u/tkluck/ticket/134330)**",
    "created_at": "2013-07-22T22:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172076",
    "user": "https://github.com/tkluck"
}
```

Branch: **[u/tkluck/ticket/134330](https://github.com/sagemath/sagetrac-mirror/tree/u/tkluck/ticket/134330)**



---

archive/issue_comments_172077.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nI added a git branch containing just the spkg meta files. It needs the file sagenb-0.10.7.1.tar.gz, which is available to people with accounts on boxen in my home directory (/home/tkluck/sagenb-0.10.7.1.tar.gz)\n\nThis does not (yet?) incorporate #10637 or #14273.",
    "created_at": "2013-07-22T22:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172077",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:76" align="right">comment:76</div>

I added a git branch containing just the spkg meta files. It needs the file sagenb-0.10.7.1.tar.gz, which is available to people with accounts on boxen in my home directory (/home/tkluck/sagenb-0.10.7.1.tar.gz)

This does not (yet?) incorporate #10637 or #14273.



---

archive/issue_comments_172078.json:
```json
{
    "body": "Changed branch from **[u/tkluck/ticket/134330](https://github.com/sagemath/sagetrac-mirror/tree/u/tkluck/ticket/134330)** to **[u/tkluck/ticket/14330](https://github.com/sagemath/sagetrac-mirror/tree/u/tkluck/ticket/14330)**",
    "created_at": "2013-07-22T22:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172078",
    "user": "https://github.com/tkluck"
}
```

Changed branch from **[u/tkluck/ticket/134330](https://github.com/sagemath/sagetrac-mirror/tree/u/tkluck/ticket/134330)** to **[u/tkluck/ticket/14330](https://github.com/sagemath/sagetrac-mirror/tree/u/tkluck/ticket/14330)**



---

archive/issue_comments_172079.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nI also put the tarball on http://www.infty.nl/misc/sagenb-0.10.7.1.tar.gz",
    "created_at": "2013-07-23T12:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172079",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:78" align="right">comment:78</div>

I also put the tarball on http://www.infty.nl/misc/sagenb-0.10.7.1.tar.gz



---

archive/issue_comments_172080.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nWhy does this ticket depend on #10637?\n\nOn the one hand, we need to update to version 0.10.7.1 of the notebook to be able to switch to the integrated git repository. On the other hand, we try to keep the number of changes to a minimum. Is it okay to update the sage notebook in the git repository without applying #10637 there?",
    "created_at": "2013-07-23T12:48:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172080",
    "user": "https://github.com/tkluck"
}
```

<div id="comment:79" align="right">comment:79</div>

Why does this ticket depend on #10637?

On the one hand, we need to update to version 0.10.7.1 of the notebook to be able to switch to the integrated git repository. On the other hand, we try to keep the number of changes to a minimum. Is it okay to update the sage notebook in the git repository without applying #10637 there?



---

archive/issue_comments_172081.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nReplying to [@tkluck](#comment:79):\n> Why does this ticket depend on #10637?\n\nThe changes to the notebook to support sws2rst have already [been merged](https://github.com/sagemath/sagenb/pull/160) and is present in 0.10.7.1.\n\nAs such you don't really need to apply #10637 to Sage to get a functional notebook. You won't lose any functionality in Sage, except that the sws2rst option won't be present. Doctests in sagenb should not fail, as long as you do not doctest the optional parts.",
    "created_at": "2013-07-23T13:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172081",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:80" align="right">comment:80</div>

Replying to [@tkluck](#comment:79):
> Why does this ticket depend on #10637?

The changes to the notebook to support sws2rst have already [been merged](https://github.com/sagemath/sagenb/pull/160) and is present in 0.10.7.1.

As such you don't really need to apply #10637 to Sage to get a functional notebook. You won't lose any functionality in Sage, except that the sws2rst option won't be present. Doctests in sagenb should not fail, as long as you do not doctest the optional parts.



---

archive/issue_comments_172082.json:
```json
{
    "body": "Changed work issues from **published formulas** to none",
    "created_at": "2013-07-30T10:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172082",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **published formulas** to none



---

archive/issue_comments_172083.json:
```json
{
    "body": "Merged: **sage-5.12.beta0**",
    "created_at": "2013-08-02T14:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14330#issuecomment-172083",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.12.beta0**



---

archive/issue_events_202354.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-02T14:13:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202354"
}
```



---

archive/issue_events_202355.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-02T14:13:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14330",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14330#event-202355"
}
```
