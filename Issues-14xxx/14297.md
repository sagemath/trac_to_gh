# Issue 14297: is_strongly_regular does not handle complete graphs

archive/issues_014093.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/nathanncohen",
        "https://github.com/rlmill"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nIt appears that the strongly regular thing does not handle complete graphs\n\n```\nsage: G.is_strongly_regular()\nsage: \n```\n\nwhat it should return is false. I am currently too lazy to fix this so I am reporting it in case anyone of you guys is willing to fix it. Otherwise I might do it at some undefined time in the future.\n\nApply:\n* [attachment: trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch.gz)\n* [attachment: trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch.gz)\n\nCC:  @nathanncohen @rbeezer @dcoudert @fchapoton\n\nComponent: **graph theory**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nReviewer: **Jernej Azarija, Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen**\n\nMerged: **sage-5.10.beta2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14297_\n\n",
    "closed_at": "2013-05-07T09:05:32Z",
    "created_at": "2013-03-18T17:41:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "is_strongly_regular does not handle complete graphs",
    "type": "issue",
    "updated_at": "2013-05-07T09:05:32Z",
    "url": "https://github.com/sagemath/sage/issues/14297",
    "user": "https://github.com/sagetrac-azi"
}
```
<div id="comment:0"></div>

It appears that the strongly regular thing does not handle complete graphs

```
sage: G.is_strongly_regular()
sage: 
```

what it should return is false. I am currently too lazy to fix this so I am reporting it in case anyone of you guys is willing to fix it. Otherwise I might do it at some undefined time in the future.

Apply:
* [attachment: trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch.gz)
* [attachment: trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch.gz)

CC:  @nathanncohen @rbeezer @dcoudert @fchapoton

Component: **graph theory**

Author: **Frédéric Chapoton**

Reviewer: **Jernej Azarija, Frédéric Chapoton, Nathann Cohen**

Merged: **sage-5.10.beta2**

_Issue created by migration from https://trac.sagemath.org/ticket/14297_





---

archive/issue_events_199790.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2013-03-18T17:41:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199790"
}
```



---

archive/issue_events_199791.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2013-03-18T17:41:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199791"
}
```



---

archive/issue_events_199792.json:
```json
{
    "actor": "https://github.com/sagetrac-azi",
    "created_at": "2013-03-18T17:41:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199792"
}
```



---

archive/issue_events_199793.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2013-03-18T17:41:14Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "subject": "https://github.com/sagetrac-azi",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199793"
}
```



---

archive/issue_events_199794.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-03-18T17:41:14Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "subject": "https://github.com/sagetrac-azi",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199794"
}
```



---

archive/issue_events_199795.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2013-03-18T17:41:14Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "subject": "https://github.com/sagetrac-azi",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199795"
}
```



---

archive/issue_events_199796.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-03-19T01:39:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199796"
}
```



---

archive/issue_events_199797.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-03-29T19:48:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199797"
}
```



---

archive/issue_comments_171311.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2013-03-29T19:48:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171311",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_171312.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHere is a patch, please review !",
    "created_at": "2013-03-29T19:48:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171312",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

Here is a patch, please review !



---

archive/issue_comments_171313.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHello!\n\nThank you for the patch! \n\nThe patch appears to be correct but I am not sure it implements the proper conventions. For example on wolfram it is said that the complete graph is strongly regular while wikipedia and the book by Godsil and Royle (algebraic graph theory) both exclude complete graphs from the class of strongly regular graphs. \n\nHence I am not sure what to do in this case :-)",
    "created_at": "2013-03-29T20:05:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171313",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:4" align="right">comment:4</div>

Hello!

Thank you for the patch! 

The patch appears to be correct but I am not sure it implements the proper conventions. For example on wolfram it is said that the complete graph is strongly regular while wikipedia and the book by Godsil and Royle (algebraic graph theory) both exclude complete graphs from the class of strongly regular graphs. 

Hence I am not sure what to do in this case :-)



---

archive/issue_comments_171314.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNathann, any opinion about whether complete graphs are strongly regular or not ?",
    "created_at": "2013-05-03T08:43:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171314",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

Nathann, any opinion about whether complete graphs are strongly regular or not ?



---

archive/issue_comments_171315.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI would say that they are. And that when I look at the code and your patch, it is probably what I tried to do but failed by giving the last block a wrong indentation, which you fixed... As there is an `if self.is_clique()` in this code, which returns nothing `:-P`\n\nThis is a problem of Dogma, though. What about deciding with head or tails ? Looks like the only honorable way out `:-P`\n\nNathann",
    "created_at": "2013-05-03T08:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171315",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

I would say that they are. And that when I look at the code and your patch, it is probably what I tried to do but failed by giving the last block a wrong indentation, which you fixed... As there is an `if self.is_clique()` in this code, which returns nothing `:-P`

This is a problem of Dogma, though. What about deciding with head or tails ? Looks like the only honorable way out `:-P`

Nathann



---

archive/issue_comments_171316.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nEeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. \n\nI like gambling so we can toss a coin though I prefer to exclude complete graphs.\n\nAlso while we are at it:\n\n```\n2293         degree = self.degree()\n2294         k = degree[0]\n2295         if not all(d == k for d in degree):\n2296             return False\n2297 \n2298         if self.is_clique():\n```\n\nis it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)",
    "created_at": "2013-05-03T09:53:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171316",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:7" align="right">comment:7</div>

Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. 

I like gambling so we can toss a coin though I prefer to exclude complete graphs.

Also while we are at it:

```
2293         degree = self.degree()
2294         k = degree[0]
2295         if not all(d == k for d in degree):
2296             return False
2297 
2298         if self.is_clique():
```

is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)



---

archive/issue_comments_171317.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAlso once we do the regularity check it might be better to simply check if the degree of self is order()-1?",
    "created_at": "2013-05-03T09:54:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171317",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:8" align="right">comment:8</div>

Also once we do the regularity check it might be better to simply check if the degree of self is order()-1?



---

archive/issue_comments_171318.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n> Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. \n\nWell, they are free to have their own opinion too. Mine is that I like to consider them as strongly regular graphs. Now we can put whatever you want in Sage, the one who agrees with a book is usually the one who is acknowledged to be right, nowadays `:-P`\n\n> I like gambling so we can toss a coin though I prefer to exclude complete graphs.\n> \n> Also while we are at it:\n> \n> ```\n> 2293         degree = self.degree()\n> 2294         k = degree[0]\n> 2295         if not all(d == k for d in degree):\n> 2296             return False\n> 2297 \n> 2298         if self.is_clique():\n> ```\n> \n> is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)\n\nOh. Well, then one would first have to take \"any\" vertex of the graph, compute its degree, then call `is_regular` on it with this degree as parameter. Otherwise it will call `self.degree()` twice. It's up to you !\n\nNathann",
    "created_at": "2013-05-03T09:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171318",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

> Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. 

Well, they are free to have their own opinion too. Mine is that I like to consider them as strongly regular graphs. Now we can put whatever you want in Sage, the one who agrees with a book is usually the one who is acknowledged to be right, nowadays `:-P`

> I like gambling so we can toss a coin though I prefer to exclude complete graphs.
> 
> Also while we are at it:
> 
> ```
> 2293         degree = self.degree()
> 2294         k = degree[0]
> 2295         if not all(d == k for d in degree):
> 2296             return False
> 2297 
> 2298         if self.is_clique():
> ```
> 
> is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)

Oh. Well, then one would first have to take "any" vertex of the graph, compute its degree, then call `is_regular` on it with this degree as parameter. Otherwise it will call `self.degree()` twice. It's up to you !

Nathann



---

archive/issue_comments_171319.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nathanncohen](#comment%3A9):\n> > Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. \n> \n> \n> Well, they are free to have their own opinion too. Mine is that I like to consider them as strongly regular graphs. Now we can put whatever you want in Sage, the one who agrees with a book is usually the one who is acknowledged to be right, nowadays `:-P`\n\nLuckily we don't have as many books saying different things as religions do :-)\n\nAnyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)\n\nThat said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!\n\n> > I like gambling so we can toss a coin though I prefer to exclude complete graphs.\n> > \n> > Also while we are at it:\n> > \n> > ```\n> > 2293         degree = self.degree()\n> > 2294         k = degree[0]\n> > 2295         if not all(d == k for d in degree):\n> > 2296             return False\n> > 2297 \n> > 2298         if self.is_clique():\n> > ```\n> > \n> > is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)\n> \n> \n> Oh. Well, then one would first have to take \"any\" vertex of the graph, compute its degree, then call `is_regular` on it with this degree as parameter. Otherwise it will call `self.degree()` twice. It's up to you !\n\nYou got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??\n\n> \n> Nathann",
    "created_at": "2013-05-03T10:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171319",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nathanncohen](#comment%3A9):
> > Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. 
> 
> 
> Well, they are free to have their own opinion too. Mine is that I like to consider them as strongly regular graphs. Now we can put whatever you want in Sage, the one who agrees with a book is usually the one who is acknowledged to be right, nowadays `:-P`

Luckily we don't have as many books saying different things as religions do :-)

Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)

That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!

> > I like gambling so we can toss a coin though I prefer to exclude complete graphs.
> > 
> > Also while we are at it:
> > 
> > ```
> > 2293         degree = self.degree()
> > 2294         k = degree[0]
> > 2295         if not all(d == k for d in degree):
> > 2296             return False
> > 2297 
> > 2298         if self.is_clique():
> > ```
> > 
> > is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)
> 
> 
> Oh. Well, then one would first have to take "any" vertex of the graph, compute its degree, then call `is_regular` on it with this degree as parameter. Otherwise it will call `self.degree()` twice. It's up to you !

You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??

> 
> Nathann



---

archive/issue_comments_171320.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHellooooooooo !!!\n\n> Luckily we don't have as many books saying different things as religions do :-)\n\nYeah ? Well, try to publish a paper with you own notations for everything and see if it goes through. We don't have many religions because only one religion is allowed to exist `:-P`\n\n> Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)\n\nOh ? I didn't know that !\n\n> That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!\n\nWell, if you have a nice theorem like that, after all... So, Frederic ?\n\n> You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??\n\nAhahahah. And what if is_clique just computes the number of edges, and if the number of edges is cached ? `:-P`\n\nI don't know if it is, though. But calling `.size()` probably does not list all edges..... At least I hope !\n\nNathann",
    "created_at": "2013-05-03T10:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171320",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Hellooooooooo !!!

> Luckily we don't have as many books saying different things as religions do :-)

Yeah ? Well, try to publish a paper with you own notations for everything and see if it goes through. We don't have many religions because only one religion is allowed to exist `:-P`

> Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)

Oh ? I didn't know that !

> That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!

Well, if you have a nice theorem like that, after all... So, Frederic ?

> You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??

Ahahahah. And what if is_clique just computes the number of edges, and if the number of edges is cached ? `:-P`

I don't know if it is, though. But calling `.size()` probably does not list all edges..... At least I hope !

Nathann



---

archive/issue_comments_171321.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@nathanncohen](#comment%3A11):\n> Hellooooooooo !!!\n> \n> > Luckily we don't have as many books saying different things as religions do :-)\n> \n> \n> Yeah ? Well, try to publish a paper with you own notations for everything and see if it goes through. We don't have many religions because only one religion is allowed to exist `:-P`\n\nThat's the proper way to do it.. Isn't there only one God after all?\n> \n> > Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)\n> \n> \n> Oh ? I didn't know that !\n\nYey,yes there are some nice results like that for SR graphs.\n> \n> > That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!\n> \n> \n> Well, if you have a nice theorem like that, after all... So, Frederic ?\n> \n> > You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??\n> \n> \n> Ahahahah. And what if is_clique just computes the number of edges, and if the number of edges is cached ? `:-P`\n\nLOL\n> \n> I don't know if it is, though. But calling `.size()` probably does not list all edges..... At least I hope !\n\nOf course it does and it does so in a fancy manner \n\n```\n\n2001             if self.loops(None):\n2002                 if self.multiple_edges(None):\n2003                     for j in self.iterator_verts():\n2004                         if self.has_edge(j, j, None):\n2005                             k += len(self.get_edge_label(j, j))\n2006                 else:\n2007                     for j in self.iterator_verts():\n2008                         if self.has_edge(j, j, None):\n2009                             k += 1\n2010             i = (i - k) / 2\n2011             return i + k\n\n```\n\nSeems like we can add this to a new ticket? Or am I missing a detail that makes this code actually efficient?\n\n> \n> Nathann",
    "created_at": "2013-05-03T10:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171321",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@nathanncohen](#comment%3A11):
> Hellooooooooo !!!
> 
> > Luckily we don't have as many books saying different things as religions do :-)
> 
> 
> Yeah ? Well, try to publish a paper with you own notations for everything and see if it goes through. We don't have many religions because only one religion is allowed to exist `:-P`

That's the proper way to do it.. Isn't there only one God after all?
> 
> > Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)
> 
> 
> Oh ? I didn't know that !

Yey,yes there are some nice results like that for SR graphs.
> 
> > That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!
> 
> 
> Well, if you have a nice theorem like that, after all... So, Frederic ?
> 
> > You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??
> 
> 
> Ahahahah. And what if is_clique just computes the number of edges, and if the number of edges is cached ? `:-P`

LOL
> 
> I don't know if it is, though. But calling `.size()` probably does not list all edges..... At least I hope !

Of course it does and it does so in a fancy manner 

```

2001             if self.loops(None):
2002                 if self.multiple_edges(None):
2003                     for j in self.iterator_verts():
2004                         if self.has_edge(j, j, None):
2005                             k += len(self.get_edge_label(j, j))
2006                 else:
2007                     for j in self.iterator_verts():
2008                         if self.has_edge(j, j, None):
2009                             k += 1
2010             i = (i - k) / 2
2011             return i + k

```

Seems like we can add this to a new ticket? Or am I missing a detail that makes this code actually efficient?

> 
> Nathann



---

archive/issue_comments_171322.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n> Seems like we can add this to a new ticket? Or am I missing a detail that makes this code actually efficient?\n\nWell, it's just for multiple edges and loops, and no sensible being would use that. This being said I do not know how to skip those tests, unless you create another counter for loops...\n\nNathann",
    "created_at": "2013-05-03T10:35:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171322",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">comment:13</div>

> Seems like we can add this to a new ticket? Or am I missing a detail that makes this code actually efficient?

Well, it's just for multiple edges and loops, and no sensible being would use that. This being said I do not know how to skip those tests, unless you create another counter for loops...

Nathann



---

archive/issue_comments_171323.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAaah, you're right! I just realized that.\n\nGood, then its just for Frederic to decide the fate of the definition of SR graphs.",
    "created_at": "2013-05-03T10:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171323",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:14" align="right">comment:14</div>

Aaah, you're right! I just realized that.

Good, then its just for Frederic to decide the fate of the definition of SR graphs.



---

archive/issue_comments_171324.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHere is new patch, that says that complete graphs are not strongly regular, and also that the empty graph is not strongly regular either.",
    "created_at": "2013-05-04T08:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171324",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">comment:15</div>

Here is new patch, that says that complete graphs are not strongly regular, and also that the empty graph is not strongly regular either.



---

archive/issue_comments_171325.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHMmm... Looks like you can remove the `if len(self)==0` and move the `return False` it contains to `elif self.size()==0` !\n\nNathann",
    "created_at": "2013-05-04T08:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171325",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

HMmm... Looks like you can remove the `if len(self)==0` and move the `return False` it contains to `elif self.size()==0` !

Nathann



---

archive/issue_comments_171326.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWhat happens if I make\n\n```\ngraphs.CompleteGraph(10).complement().is_strongly_regular()\n```",
    "created_at": "2013-05-04T09:02:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171326",
    "user": "https://github.com/sagetrac-azi"
}
```

<div id="comment:17" align="right">comment:17</div>

What happens if I make

```
graphs.CompleteGraph(10).complement().is_strongly_regular()
```



---

archive/issue_comments_171327.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nNew patch, handles the complements of complete graphs : they are not strongly regular",
    "created_at": "2013-05-04T09:15:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171327",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

New patch, handles the complements of complete graphs : they are not strongly regular



---

archive/issue_comments_171328.json:
```json
{
    "body": "Attachment: **[trac-14297-fc.patch.gz](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch.gz)**",
    "created_at": "2013-05-04T09:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171328",
    "user": "https://github.com/fchapoton"
}
```

Attachment: **[trac-14297-fc.patch.gz](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch.gz)**



---

archive/issue_comments_171329.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nnew patch. Nathann, your suggestion does not work because of the line `k=degree[0]`\n\ninstead I have removed the case self.size()==0",
    "created_at": "2013-05-04T09:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171329",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

new patch. Nathann, your suggestion does not work because of the line `k=degree[0]`

instead I have removed the case self.size()==0



---

archive/issue_comments_171330.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nA reviewer's patch that removes a couple of lines.\n\nNathann",
    "created_at": "2013-05-04T09:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171330",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:20" align="right">comment:20</div>

A reviewer's patch that removes a couple of lines.

Nathann



---

archive/issue_comments_171331.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,5 +7,6 @@\n \n what it should return is false. I am currently too lazy to fix this so I am reporting it in case anyone of you guys is willing to fix it. Otherwise I might do it at some undefined time in the future.\n \n-\n-\n+Apply:\n+* [attachment: trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch.gz)\n+* [attachment: trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch.gz)\n``````\n",
    "created_at": "2013-05-04T09:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171331",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,5 +7,6 @@
 
 what it should return is false. I am currently too lazy to fix this so I am reporting it in case anyone of you guys is willing to fix it. Otherwise I might do it at some undefined time in the future.
 
-
-
+Apply:
+* [attachment: trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch.gz)
+* [attachment: trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch.gz)
``````




---

archive/issue_comments_171332.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nWell, in the mean time  I have changed the patch..",
    "created_at": "2013-05-04T09:23:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171332",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

Well, in the mean time  I have changed the patch..



---

archive/issue_comments_171333.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOk, what about that ?",
    "created_at": "2013-05-04T09:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171333",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

Ok, what about that ?



---

archive/issue_comments_171334.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWhy do you remove the lines about graphs with no edges ?",
    "created_at": "2013-05-04T09:26:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171334",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

Why do you remove the lines about graphs with no edges ?



---

archive/issue_comments_171335.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nBecause when you test `self.size()==0` you deal with both cases at once : no edges, or no vertices !\n\nNathann",
    "created_at": "2013-05-04T09:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171335",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

Because when you test `self.size()==0` you deal with both cases at once : no edges, or no vertices !

Nathann



---

archive/issue_comments_171336.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\noh, scuse me : `self.size()` is the number of edges. `self.order()` is the number of vertices. That's not very clear, it is true.\n\nNathann",
    "created_at": "2013-05-04T09:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171336",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

oh, scuse me : `self.size()` is the number of edges. `self.order()` is the number of vertices. That's not very clear, it is true.

Nathann



---

archive/issue_comments_171337.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nok, looks good to me, except the comment on the line which tests size()==0",
    "created_at": "2013-05-04T09:30:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171337",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

ok, looks good to me, except the comment on the line which tests size()==0



---

archive/issue_comments_171338.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nNobody would really mind if you talked about an \"empty graph\" for a graph with no edges I guess, but it is now fixed !\n\nNathann",
    "created_at": "2013-05-04T09:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171338",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:27" align="right">comment:27</div>

Nobody would really mind if you talked about an "empty graph" for a graph with no edges I guess, but it is now fixed !

Nathann



---

archive/issue_comments_171339.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nAttachment: **[trac_14297-rev.patch.gz](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch.gz)**\n\nok, maybe it's time for a positive review ?",
    "created_at": "2013-05-04T09:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171339",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:28" align="right">comment:28</div>

Attachment: **[trac_14297-rev.patch.gz](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch.gz)**

ok, maybe it's time for a positive review ?



---

archive/issue_comments_171340.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nWell, I agree with your patch so if you agree with mine... `:-)` \n\nNathann",
    "created_at": "2013-05-04T09:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171340",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:29" align="right">comment:29</div>

Well, I agree with your patch so if you agree with mine... `:-)` 

Nathann



---

archive/issue_comments_171341.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen**",
    "created_at": "2013-05-04T09:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171341",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Frédéric Chapoton, Nathann Cohen**



---

archive/issue_comments_171342.json:
```json
{
    "body": "Changed reviewer from **Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen** to **Jernej Azarija, Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen**",
    "created_at": "2013-05-04T10:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171342",
    "user": "https://github.com/nathanncohen"
}
```

Changed reviewer from **Frédéric Chapoton, Nathann Cohen** to **Jernej Azarija, Frédéric Chapoton, Nathann Cohen**



---

archive/issue_events_199798.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-04T10:02:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199798"
}
```



---

archive/issue_events_199799.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-04T10:02:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199799"
}
```



---

archive/issue_comments_171343.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nok, done",
    "created_at": "2013-05-04T10:02:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171343",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:31" align="right">comment:31</div>

ok, done



---

archive/issue_events_199800.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-07T09:05:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199800"
}
```



---

archive/issue_events_199801.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-07T09:05:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-199801"
}
```



---

archive/issue_comments_171344.json:
```json
{
    "body": "Merged: **sage-5.10.beta2**",
    "created_at": "2013-05-07T09:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-171344",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.10.beta2**
