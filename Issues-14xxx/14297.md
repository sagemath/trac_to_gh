# Issue 14297: is_strongly_regular does not handle complete graphs

archive/issues_014093.json:
```json
{
    "body": "It appears that the strongly regular thing does not handle complete graphs\n\n```\nsage: G.is_strongly_regular()\nsage: \n```\n\nwhat it should return is false. I am currently too lazy to fix this so I am reporting it in case anyone of you guys is willing to fix it. Otherwise I might do it at some undefined time in the future.\n\nApply:\n* [attachment:trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch)\n* [attachment:trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch)\n\n**Assignee:** @jasongrout, @nathanncohen, @rlmill\n\n**CC:**  @nathanncohen @rbeezer @dcoudert @fchapoton\n\n**Reviewer:** Jernej Azarija, Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\n**Merged:** sage-5.10.beta2\n\nIssue created by migration from https://trac.sagemath.org/ticket/14297\n\n",
    "closed_at": "2013-05-07T09:05:32Z",
    "created_at": "2013-03-18T17:41:14Z",
    "labels": [
        "component: graph theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.10",
    "title": "is_strongly_regular does not handle complete graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/14297",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```
It appears that the strongly regular thing does not handle complete graphs

```
sage: G.is_strongly_regular()
sage: 
```

what it should return is false. I am currently too lazy to fix this so I am reporting it in case anyone of you guys is willing to fix it. Otherwise I might do it at some undefined time in the future.

Apply:
* [attachment:trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch)
* [attachment:trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch)

**Assignee:** @jasongrout, @nathanncohen, @rlmill

**CC:**  @nathanncohen @rbeezer @dcoudert @fchapoton

**Reviewer:** Jernej Azarija, Frédéric Chapoton, Nathann Cohen

**Author:** Frédéric Chapoton

**Merged:** sage-5.10.beta2

Issue created by migration from https://trac.sagemath.org/ticket/14297





---

archive/issue_events_123756.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-03-19T01:39:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-123756"
}
```



---

archive/issue_events_123757.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-03-29T19:48:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-123757"
}
```



---

archive/issue_comments_173708.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2013-03-29T19:48:37Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173708",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_173709.json:
```json
{
    "body": "<a id='comment:3'></a>\nHere is a patch, please review !",
    "created_at": "2013-03-29T19:48:37Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173709",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
Here is a patch, please review !



---

archive/issue_comments_173710.json:
```json
{
    "body": "<a id='comment:4'></a>\nHello!\n\nThank you for the patch! \n\nThe patch appears to be correct but I am not sure it implements the proper conventions. For example on wolfram it is said that the complete graph is strongly regular while wikipedia and the book by Godsil and Royle (algebraic graph theory) both exclude complete graphs from the class of strongly regular graphs. \n\nHence I am not sure what to do in this case :-)",
    "created_at": "2013-03-29T20:05:15Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173710",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```

<a id='comment:4'></a>
Hello!

Thank you for the patch! 

The patch appears to be correct but I am not sure it implements the proper conventions. For example on wolfram it is said that the complete graph is strongly regular while wikipedia and the book by Godsil and Royle (algebraic graph theory) both exclude complete graphs from the class of strongly regular graphs. 

Hence I am not sure what to do in this case :-)



---

archive/issue_comments_173711.json:
```json
{
    "body": "<a id='comment:5'></a>\nNathann, any opinion about whether complete graphs are strongly regular or not ?",
    "created_at": "2013-05-03T08:43:21Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173711",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Nathann, any opinion about whether complete graphs are strongly regular or not ?



---

archive/issue_comments_173712.json:
```json
{
    "body": "<a id='comment:6'></a>\nI would say that they are. And that when I look at the code and your patch, it is probably what I tried to do but failed by giving the last block a wrong indentation, which you fixed... As there is an `if self.is_clique()` in this code, which returns nothing `:-P`\n\nThis is a problem of Dogma, though. What about deciding with head or tails ? Looks like the only honorable way out `:-P`\n\nNathann",
    "created_at": "2013-05-03T08:50:54Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173712",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>
I would say that they are. And that when I look at the code and your patch, it is probably what I tried to do but failed by giving the last block a wrong indentation, which you fixed... As there is an `if self.is_clique()` in this code, which returns nothing `:-P`

This is a problem of Dogma, though. What about deciding with head or tails ? Looks like the only honorable way out `:-P`

Nathann



---

archive/issue_comments_173713.json:
```json
{
    "body": "<a id='comment:7'></a>\nEeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. \n\nI like gambling so we can toss a coin though I prefer to exclude complete graphs.\n\nAlso while we are at it:\n\n```\n2293         degree = self.degree()\n2294         k = degree[0]\n2295         if not all(d == k for d in degree):\n2296             return False\n2297 \n2298         if self.is_clique():\n```\n\nis it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)",
    "created_at": "2013-05-03T09:53:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173713",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```

<a id='comment:7'></a>
Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. 

I like gambling so we can toss a coin though I prefer to exclude complete graphs.

Also while we are at it:

```
2293         degree = self.degree()
2294         k = degree[0]
2295         if not all(d == k for d in degree):
2296             return False
2297 
2298         if self.is_clique():
```

is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)



---

archive/issue_comments_173714.json:
```json
{
    "body": "<a id='comment:8'></a>\nAlso once we do the regularity check it might be better to simply check if the degree of self is order()-1?",
    "created_at": "2013-05-03T09:54:26Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173714",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```

<a id='comment:8'></a>
Also once we do the regularity check it might be better to simply check if the degree of self is order()-1?



---

archive/issue_comments_173715.json:
```json
{
    "body": "<a id='comment:9'></a>\n> Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. \n\nWell, they are free to have their own opinion too. Mine is that I like to consider them as strongly regular graphs. Now we can put whatever you want in Sage, the one who agrees with a book is usually the one who is acknowledged to be right, nowadays `:-P`\n\n> I like gambling so we can toss a coin though I prefer to exclude complete graphs.\n> \n> Also while we are at it:\n> \n> ```\n> 2293         degree = self.degree()\n> 2294         k = degree[0]\n> 2295         if not all(d == k for d in degree):\n> 2296             return False\n> 2297 \n> 2298         if self.is_clique():\n> ```\n> \n> is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)\n\nOh. Well, then one would first have to take \"any\" vertex of the graph, compute its degree, then call `is_regular` on it with this degree as parameter. Otherwise it will call `self.degree()` twice. It's up to you !\n\nNathann",
    "created_at": "2013-05-03T09:58:16Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173715",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
> Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. 

Well, they are free to have their own opinion too. Mine is that I like to consider them as strongly regular graphs. Now we can put whatever you want in Sage, the one who agrees with a book is usually the one who is acknowledged to be right, nowadays `:-P`

> I like gambling so we can toss a coin though I prefer to exclude complete graphs.
> 
> Also while we are at it:
> 
> ```
> 2293         degree = self.degree()
> 2294         k = degree[0]
> 2295         if not all(d == k for d in degree):
> 2296             return False
> 2297 
> 2298         if self.is_clique():
> ```
> 
> is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)

Oh. Well, then one would first have to take "any" vertex of the graph, compute its degree, then call `is_regular` on it with this degree as parameter. Otherwise it will call `self.degree()` twice. It's up to you !

Nathann



---

archive/issue_comments_173716.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [ncohen](#comment%3A9):\n> > Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. \n\n> \n> Well, they are free to have their own opinion too. Mine is that I like to consider them as strongly regular graphs. Now we can put whatever you want in Sage, the one who agrees with a book is usually the one who is acknowledged to be right, nowadays `:-P`\n\nLuckily we don't have as many books saying different things as religions do :-)\n\nAnyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)\n\nThat said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!\n\n> > I like gambling so we can toss a coin though I prefer to exclude complete graphs.\n> > \n> > Also while we are at it:\n> > \n> > ```\n> > 2293         degree = self.degree()\n> > 2294         k = degree[0]\n> > 2295         if not all(d == k for d in degree):\n> > 2296             return False\n> > 2297 \n> > 2298         if self.is_clique():\n> > ```\n> > \n> > is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)\n\n> \n> Oh. Well, then one would first have to take \"any\" vertex of the graph, compute its degree, then call `is_regular` on it with this degree as parameter. Otherwise it will call `self.degree()` twice. It's up to you !\n\nYou got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??\n\n> \n> Nathann",
    "created_at": "2013-05-03T10:16:26Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173716",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```

<a id='comment:10'></a>
Replying to [ncohen](#comment%3A9):
> > Eeeehm just checked in the book (http://www.win.tue.nl/~aeb/2WF02/spectra.pdf page 123 lol) by Brower and Haemers they exclude the complete graph and its complement as well. 

> 
> Well, they are free to have their own opinion too. Mine is that I like to consider them as strongly regular graphs. Now we can put whatever you want in Sage, the one who agrees with a book is usually the one who is acknowledged to be right, nowadays `:-P`

Luckily we don't have as many books saying different things as religions do :-)

Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)

That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!

> > I like gambling so we can toss a coin though I prefer to exclude complete graphs.
> > 
> > Also while we are at it:
> > 
> > ```
> > 2293         degree = self.degree()
> > 2294         k = degree[0]
> > 2295         if not all(d == k for d in degree):
> > 2296             return False
> > 2297 
> > 2298         if self.is_clique():
> > ```
> > 
> > is it perhaps better to call self.is_regular()? I would like that since it somehow leaves any optimizations that is_regular *could* do and has the added benefit that this method does not break for the EmptyGraph (corner cases lol)

> 
> Oh. Well, then one would first have to take "any" vertex of the graph, compute its degree, then call `is_regular` on it with this degree as parameter. Otherwise it will call `self.degree()` twice. It's up to you !

You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??

> 
> Nathann



---

archive/issue_comments_173717.json:
```json
{
    "body": "<a id='comment:11'></a>\nHellooooooooo !!!\n\n> Luckily we don't have as many books saying different things as religions do :-)\n\nYeah ? Well, try to publish a paper with you own notations for everything and see if it goes through. We don't have many religions because only one religion is allowed to exist `:-P`\n\n> Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)\n\nOh ? I didn't know that !\n\n> That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!\n\nWell, if you have a nice theorem like that, after all... So, Frederic ?\n\n> You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??\n\nAhahahah. And what if is_clique just computes the number of edges, and if the number of edges is cached ? `:-P`\n\nI don't know if it is, though. But calling `.size()` probably does not list all edges..... At least I hope !\n\nNathann",
    "created_at": "2013-05-03T10:21:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173717",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>
Hellooooooooo !!!

> Luckily we don't have as many books saying different things as religions do :-)

Yeah ? Well, try to publish a paper with you own notations for everything and see if it goes through. We don't have many religions because only one religion is allowed to exist `:-P`

> Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)

Oh ? I didn't know that !

> That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!

Well, if you have a nice theorem like that, after all... So, Frederic ?

> You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??

Ahahahah. And what if is_clique just computes the number of edges, and if the number of edges is cached ? `:-P`

I don't know if it is, though. But calling `.size()` probably does not list all edges..... At least I hope !

Nathann



---

archive/issue_comments_173718.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [ncohen](#comment%3A11):\n> Hellooooooooo !!!\n> \n> > Luckily we don't have as many books saying different things as religions do :-)\n\n> \n> Yeah ? Well, try to publish a paper with you own notations for everything and see if it goes through. We don't have many religions because only one religion is allowed to exist `:-P`\n\nThat's the proper way to do it.. Isn't there only one God after all?\n> \n> > Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)\n\n> \n> Oh ? I didn't know that !\n\nYey,yes there are some nice results like that for SR graphs.\n> \n> > That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!\n\n> \n> Well, if you have a nice theorem like that, after all... So, Frederic ?\n> \n> > You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??\n\n> \n> Ahahahah. And what if is_clique just computes the number of edges, and if the number of edges is cached ? `:-P`\n\nLOL\n> \n> I don't know if it is, though. But calling `.size()` probably does not list all edges..... At least I hope !\n\nOf course it does and it does so in a fancy manner \n\n```\n\n2001             if self.loops(None):\n2002                 if self.multiple_edges(None):\n2003                     for j in self.iterator_verts():\n2004                         if self.has_edge(j, j, None):\n2005                             k += len(self.get_edge_label(j, j))\n2006                 else:\n2007                     for j in self.iterator_verts():\n2008                         if self.has_edge(j, j, None):\n2009                             k += 1\n2010             i = (i - k) / 2\n2011             return i + k\n\n```\n\nSeems like we can add this to a new ticket? Or am I missing a detail that makes this code actually efficient?\n\n> \n> Nathann",
    "created_at": "2013-05-03T10:29:59Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173718",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```

<a id='comment:12'></a>
Replying to [ncohen](#comment%3A11):
> Hellooooooooo !!!
> 
> > Luckily we don't have as many books saying different things as religions do :-)

> 
> Yeah ? Well, try to publish a paper with you own notations for everything and see if it goes through. We don't have many religions because only one religion is allowed to exist `:-P`

That's the proper way to do it.. Isn't there only one God after all?
> 
> > Anyways, I personally like to have it that way because then there are other theorems for strongly regular graphs that follow naturally. For example a strongly regular graphs has precisely three distinct eigenvalues (which does not hold for the empty graph and complete graph)

> 
> Oh ? I didn't know that !

Yey,yes there are some nice results like that for SR graphs.
> 
> > That said I don't care what we do with this as long as its fine with you guys. Hence I let you and Frederic decide!

> 
> Well, if you have a nice theorem like that, after all... So, Frederic ?
> 
> > You got a point I overlooked that! BUT we can at least remove the is_clique part and check if the degree is order()-1 once we know its regular right??

> 
> Ahahahah. And what if is_clique just computes the number of edges, and if the number of edges is cached ? `:-P`

LOL
> 
> I don't know if it is, though. But calling `.size()` probably does not list all edges..... At least I hope !

Of course it does and it does so in a fancy manner 

```

2001             if self.loops(None):
2002                 if self.multiple_edges(None):
2003                     for j in self.iterator_verts():
2004                         if self.has_edge(j, j, None):
2005                             k += len(self.get_edge_label(j, j))
2006                 else:
2007                     for j in self.iterator_verts():
2008                         if self.has_edge(j, j, None):
2009                             k += 1
2010             i = (i - k) / 2
2011             return i + k

```

Seems like we can add this to a new ticket? Or am I missing a detail that makes this code actually efficient?

> 
> Nathann



---

archive/issue_comments_173719.json:
```json
{
    "body": "<a id='comment:13'></a>\n> Seems like we can add this to a new ticket? Or am I missing a detail that makes this code actually efficient?\n\nWell, it's just for multiple edges and loops, and no sensible being would use that. This being said I do not know how to skip those tests, unless you create another counter for loops...\n\nNathann",
    "created_at": "2013-05-03T10:35:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173719",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>
> Seems like we can add this to a new ticket? Or am I missing a detail that makes this code actually efficient?

Well, it's just for multiple edges and loops, and no sensible being would use that. This being said I do not know how to skip those tests, unless you create another counter for loops...

Nathann



---

archive/issue_comments_173720.json:
```json
{
    "body": "<a id='comment:14'></a>\nAaah, you're right! I just realized that.\n\nGood, then its just for Frederic to decide the fate of the definition of SR graphs.",
    "created_at": "2013-05-03T10:40:38Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173720",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```

<a id='comment:14'></a>
Aaah, you're right! I just realized that.

Good, then its just for Frederic to decide the fate of the definition of SR graphs.



---

archive/issue_comments_173721.json:
```json
{
    "body": "<a id='comment:15'></a>\nHere is new patch, that says that complete graphs are not strongly regular, and also that the empty graph is not strongly regular either.",
    "created_at": "2013-05-04T08:49:05Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173721",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
Here is new patch, that says that complete graphs are not strongly regular, and also that the empty graph is not strongly regular either.



---

archive/issue_comments_173722.json:
```json
{
    "body": "<a id='comment:16'></a>\nHMmm... Looks like you can remove the `if len(self)==0` and move the `return False` it contains to `elif self.size()==0` !\n\nNathann",
    "created_at": "2013-05-04T08:55:29Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173722",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>
HMmm... Looks like you can remove the `if len(self)==0` and move the `return False` it contains to `elif self.size()==0` !

Nathann



---

archive/issue_comments_173723.json:
```json
{
    "body": "<a id='comment:17'></a>\nWhat happens if I make\n\n```\ngraphs.CompleteGraph(10).complement().is_strongly_regular()\n```",
    "created_at": "2013-05-04T09:02:50Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173723",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```

<a id='comment:17'></a>
What happens if I make

```
graphs.CompleteGraph(10).complement().is_strongly_regular()
```



---

archive/issue_comments_173724.json:
```json
{
    "body": "<a id='comment:18'></a>\nNew patch, handles the complements of complete graphs : they are not strongly regular",
    "created_at": "2013-05-04T09:15:58Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173724",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
New patch, handles the complements of complete graphs : they are not strongly regular



---

archive/attachments_019974.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac-14297-fc.patch",
    "asset_url": "tarball://root/attachments/ticket14297/trac-14297-fc.patch",
    "created_at": "2013-05-04T09:18:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_173725.json:
```json
{
    "body": "**Attachment:** [trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch)",
    "created_at": "2013-05-04T09:18:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173725",
    "user": "https://github.com/fchapoton"
}
```

**Attachment:** [trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch)



---

archive/issue_comments_173726.json:
```json
{
    "body": "<a id='comment:19'></a>\nnew patch. Nathann, your suggestion does not work because of the line `k=degree[0]`\n\ninstead I have removed the case self.size()==0",
    "created_at": "2013-05-04T09:19:41Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173726",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
new patch. Nathann, your suggestion does not work because of the line `k=degree[0]`

instead I have removed the case self.size()==0



---

archive/issue_comments_173727.json:
```json
{
    "body": "<a id='comment:20'></a>\nA reviewer's patch that removes a couple of lines.\n\nNathann",
    "created_at": "2013-05-04T09:21:00Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173727",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>
A reviewer's patch that removes a couple of lines.

Nathann



---

archive/issue_comments_173728.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,5 +7,6 @@\n \n what it should return is false. I am currently too lazy to fix this so I am reporting it in case anyone of you guys is willing to fix it. Otherwise I might do it at some undefined time in the future.\n \n-\n-\n+Apply:\n+* [attachment:trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch)\n+* [attachment:trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch)\n``````\n",
    "created_at": "2013-05-04T09:21:00Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173728",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,5 +7,6 @@
 
 what it should return is false. I am currently too lazy to fix this so I am reporting it in case anyone of you guys is willing to fix it. Otherwise I might do it at some undefined time in the future.
 
-
-
+Apply:
+* [attachment:trac-14297-fc.patch](https://github.com/sagemath/sage/files/ticket14297/trac-14297-fc.patch)
+* [attachment:trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch)
``````




---

archive/issue_comments_173729.json:
```json
{
    "body": "<a id='comment:21'></a>\nWell, in the mean time  I have changed the patch..",
    "created_at": "2013-05-04T09:23:03Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173729",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
Well, in the mean time  I have changed the patch..



---

archive/issue_comments_173730.json:
```json
{
    "body": "<a id='comment:22'></a>\nOk, what about that ?",
    "created_at": "2013-05-04T09:24:05Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173730",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>
Ok, what about that ?



---

archive/issue_comments_173731.json:
```json
{
    "body": "<a id='comment:23'></a>\nWhy do you remove the lines about graphs with no edges ?",
    "created_at": "2013-05-04T09:26:09Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173731",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
Why do you remove the lines about graphs with no edges ?



---

archive/issue_comments_173732.json:
```json
{
    "body": "<a id='comment:24'></a>\nBecause when you test `self.size()==0` you deal with both cases at once : no edges, or no vertices !\n\nNathann",
    "created_at": "2013-05-04T09:27:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173732",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
Because when you test `self.size()==0` you deal with both cases at once : no edges, or no vertices !

Nathann



---

archive/issue_comments_173733.json:
```json
{
    "body": "<a id='comment:25'></a>\noh, scuse me : `self.size()` is the number of edges. `self.order()` is the number of vertices. That's not very clear, it is true.\n\nNathann",
    "created_at": "2013-05-04T09:28:00Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173733",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>
oh, scuse me : `self.size()` is the number of edges. `self.order()` is the number of vertices. That's not very clear, it is true.

Nathann



---

archive/issue_comments_173734.json:
```json
{
    "body": "<a id='comment:26'></a>\nok, looks good to me, except the comment on the line which tests size()==0",
    "created_at": "2013-05-04T09:30:29Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173734",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>
ok, looks good to me, except the comment on the line which tests size()==0



---

archive/issue_comments_173735.json:
```json
{
    "body": "<a id='comment:27'></a>\nNobody would really mind if you talked about an \"empty graph\" for a graph with no edges I guess, but it is now fixed !\n\nNathann",
    "created_at": "2013-05-04T09:34:10Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173735",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'></a>
Nobody would really mind if you talked about an "empty graph" for a graph with no edges I guess, but it is now fixed !

Nathann



---

archive/attachments_019975.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14297-rev.patch",
    "asset_url": "tarball://root/attachments/ticket14297/trac_14297-rev.patch",
    "created_at": "2013-05-04T09:40:16Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_173736.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Attachment:** [trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch)\n\nok, maybe it's time for a positive review ?",
    "created_at": "2013-05-04T09:40:16Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173736",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'></a>
**Attachment:** [trac_14297-rev.patch](https://github.com/sagemath/sage/files/ticket14297/trac_14297-rev.patch)

ok, maybe it's time for a positive review ?



---

archive/issue_comments_173737.json:
```json
{
    "body": "<a id='comment:29'></a>\nWell, I agree with your patch so if you agree with mine... `:-)` \n\nNathann",
    "created_at": "2013-05-04T09:59:49Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173737",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:29'></a>
Well, I agree with your patch so if you agree with mine... `:-)` 

Nathann



---

archive/issue_comments_173738.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen",
    "created_at": "2013-05-04T09:59:49Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173738",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Frédéric Chapoton, Nathann Cohen



---

archive/issue_comments_173739.json:
```json
{
    "body": "**Changing reviewer** from \"Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen\" to \"Jernej Azarija, Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen\".",
    "created_at": "2013-05-04T10:00:41Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173739",
    "user": "https://github.com/nathanncohen"
}
```

**Changing reviewer** from "Frédéric Chapoton, Nathann Cohen" to "Jernej Azarija, Frédéric Chapoton, Nathann Cohen".



---

archive/issue_events_123758.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-04T10:02:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-123758"
}
```



---

archive/issue_events_123759.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-04T10:02:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-123759"
}
```



---

archive/issue_comments_173740.json:
```json
{
    "body": "<a id='comment:31'></a>\nok, done",
    "created_at": "2013-05-04T10:02:10Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173740",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
ok, done



---

archive/issue_events_123760.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-07T09:05:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-123760"
}
```



---

archive/issue_events_123761.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-07T09:05:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14297#event-123761"
}
```



---

archive/issue_comments_173741.json:
```json
{
    "body": "**Merged:** sage-5.10.beta2",
    "created_at": "2013-05-07T09:05:32Z",
    "issue": "https://github.com/sagemath/sage/issues/14297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14297#issuecomment-173741",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.10.beta2
