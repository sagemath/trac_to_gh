# Issue 14707: patchbot broken

archive/issues_014503.json:
```json
{
    "assignees": [
        "https://github.com/robertwb"
    ],
    "body": "My patchbot http://patchbot.sagemath.org/ticket/?machine=openSUSE%20/12.3/x86_64/3.7.10-1.1-desktop/jehova.local&status=open just broke with the error\n\n```\n...\n\nTraceback (most recent call last):\n  File \"/plethora/patchbot/sage-5.10.rc1/local/bin/patchbot/patchbot.py\", line 793, in <module>\n    main(args)\n  File \"/plethora/patchbot/sage-5.10.rc1/local/bin/patchbot/patchbot.py\", line 777, in main\n    patchbot.test_a_ticket(ticket)\n  File \"/plethora/patchbot/sage-5.10.rc1/local/bin/patchbot/patchbot.py\", line 404, in test_a_ticket\n    print ticket['title']\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 40: ordinal not in range(128)\n```\n\nThe last line in the log file was \n\n```\n============================== 14339 ==============================\n```\nso presumably the bot broke when it tried to format the title of that ticket. \n\nKeywords: **patchbot**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14707_\n\n",
    "closed_at": "2015-07-17T20:06:42Z",
    "created_at": "2013-06-09T14:04:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "patchbot broken",
    "type": "issue",
    "updated_at": "2015-07-17T20:06:42Z",
    "url": "https://github.com/sagemath/sage/issues/14707",
    "user": "https://github.com/cnassau"
}
```
My patchbot http://patchbot.sagemath.org/ticket/?machine=openSUSE%20/12.3/x86_64/3.7.10-1.1-desktop/jehova.local&status=open just broke with the error

```
...

Traceback (most recent call last):
  File "/plethora/patchbot/sage-5.10.rc1/local/bin/patchbot/patchbot.py", line 793, in <module>
    main(args)
  File "/plethora/patchbot/sage-5.10.rc1/local/bin/patchbot/patchbot.py", line 777, in main
    patchbot.test_a_ticket(ticket)
  File "/plethora/patchbot/sage-5.10.rc1/local/bin/patchbot/patchbot.py", line 404, in test_a_ticket
    print ticket['title']
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe9' in position 40: ordinal not in range(128)
```

The last line in the log file was 

```
============================== 14339 ==============================
```
so presumably the bot broke when it tried to format the title of that ticket. 

Keywords: **patchbot**

Reviewer: **Frédéric Chapoton**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/14707_





---

archive/issue_events_209646.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-06-09T14:04:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209646"
}
```



---

archive/issue_events_209647.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-06-09T14:04:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209647"
}
```



---

archive/issue_events_209648.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-06-09T14:04:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209648"
}
```



---

archive/issue_events_209649.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2013-06-09T14:04:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209649"
}
```



---

archive/issue_comments_178923.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n7 weeks later, still broken:\n\n```\n============================== 14720 ==============================\nTraceback (most recent call last):\n  File \"/patchbot/sage-5.11.beta3/local/bin/patchbot/patchbot.py\", line 793, in <module>\n    main(args)\n  File \"/patchbot/sage-5.11.beta3/local/bin/patchbot/patchbot.py\", line 777, in main\n    patchbot.test_a_ticket(ticket)\n  File \"/patchbot/sage-5.11.beta3/local/bin/patchbot/patchbot.py\", line 404, in test_a_ticket\n    print ticket['title']\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 3: ordinal not in range(128)\n```",
    "created_at": "2013-07-29T14:31:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14707#issuecomment-178923",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:1" align="right">comment:1</div>

7 weeks later, still broken:

```
============================== 14720 ==============================
Traceback (most recent call last):
  File "/patchbot/sage-5.11.beta3/local/bin/patchbot/patchbot.py", line 793, in <module>
    main(args)
  File "/patchbot/sage-5.11.beta3/local/bin/patchbot/patchbot.py", line 777, in main
    patchbot.test_a_ticket(ticket)
  File "/patchbot/sage-5.11.beta3/local/bin/patchbot/patchbot.py", line 404, in test_a_ticket
    print ticket['title']
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128)
```



---

archive/issue_events_209650.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2013-07-30T08:36:03Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "subject": "https://github.com/cnassau",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209650"
}
```



---

archive/issue_comments_178924.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI just noted that there is a pretty recent test ticket #14974 for such issues. It would be good to put a Pad\u00e9 into its title to check utf-8 support there.\n\nI removed the accents from #14720, much to the chagrin of the patch author.",
    "created_at": "2013-07-30T08:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14707#issuecomment-178924",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:3" align="right">comment:3</div>

I just noted that there is a pretty recent test ticket #14974 for such issues. It would be good to put a Padé into its title to check utf-8 support there.

I removed the accents from #14720, much to the chagrin of the patch author.



---

archive/issue_events_209651.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209651"
}
```



---

archive/issue_events_209652.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209652"
}
```



---

archive/issue_events_209653.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209653"
}
```



---

archive/issue_events_209654.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209654"
}
```



---

archive/issue_events_209655.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209655"
}
```



---

archive/issue_events_209656.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209656"
}
```



---

archive/issue_events_209657.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209657"
}
```



---

archive/issue_events_209658.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209658"
}
```



---

archive/issue_comments_178925.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis can be closed. Patchbot now runs without problem on ticket #14974 with unicode in the title.",
    "created_at": "2015-06-28T12:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14707#issuecomment-178925",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

This can be closed. Patchbot now runs without problem on ticket #14974 with unicode in the title.



---

archive/issue_comments_178926.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2015-06-28T12:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14707#issuecomment-178926",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_209659.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-28T12:15:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209659"
}
```



---

archive/issue_events_209660.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-28T12:15:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209660"
}
```



---

archive/issue_events_209661.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-28T12:15:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "c6c6c6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209661"
}
```



---

archive/issue_events_209662.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-28T12:15:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209662"
}
```



---

archive/issue_events_209663.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-28T12:15:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209663"
}
```



---

archive/issue_events_209664.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-28T12:15:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209664"
}
```



---

archive/issue_events_209665.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-17T20:06:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209665"
}
```



---

archive/issue_events_209666.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-17T20:06:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14707",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14707#event-209666"
}
```
