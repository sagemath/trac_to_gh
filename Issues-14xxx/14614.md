# Issue 14614: Declare PARI finite field functions (FF_*), wrap ffgen() and ffinit()

archive/issues_014614.json:
```json
{
    "body": "Assignee: @ClementPernet\n\nCC:  jpflori\n\nKeywords: pari\n\nTo access the PARI library functions related to the `t_FFELT` type for finite fields (see #12142), these functions need to be declared in `sage/libs/pari/decl.pxi`.  Also, wrappers for the functions `ffgen()` and `ffinit()` are missing.\n\nI am attaching a patch, which will become a dependency of #12142.\n\nApply:\n* [attachment:trac14818-pari_FF_decl.patch]\n* [attachment:trac_14818-reviewer.patch]\n\nIssue created by migration from https://trac.sagemath.org/ticket/14818\n\n",
    "closed_at": "2013-08-02T14:20:16Z",
    "created_at": "2013-06-25T13:25:14Z",
    "labels": [
        "component: finite rings",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Declare PARI finite field functions (FF_*), wrap ffgen() and ffinit()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14614",
    "user": "https://github.com/pjbruin"
}
```
Assignee: @ClementPernet

CC:  jpflori

Keywords: pari

To access the PARI library functions related to the `t_FFELT` type for finite fields (see #12142), these functions need to be declared in `sage/libs/pari/decl.pxi`.  Also, wrappers for the functions `ffgen()` and `ffinit()` are missing.

I am attaching a patch, which will become a dependency of #12142.

Apply:
* [attachment:trac14818-pari_FF_decl.patch]
* [attachment:trac_14818-reviewer.patch]

Issue created by migration from https://trac.sagemath.org/ticket/14818





---

archive/issue_comments_185616.json:
```json
{
    "body": "based on 5.11.beta3",
    "created_at": "2013-06-25T13:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185616",
    "user": "https://github.com/pjbruin"
}
```

based on 5.11.beta3



---

archive/issue_comments_185617.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-06-25T13:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185617",
    "user": "https://github.com/pjbruin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_185618.json:
```json
{
    "body": "Attachment [trac14818-pari_FF_decl.patch](tarball://root/attachments/some-uuid/ticket14818/trac14818-pari_FF_decl.patch) by @pjbruin created at 2013-06-25 13:29:08",
    "created_at": "2013-06-25T13:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185618",
    "user": "https://github.com/pjbruin"
}
```

Attachment [trac14818-pari_FF_decl.patch](tarball://root/attachments/some-uuid/ticket14818/trac14818-pari_FF_decl.patch) by @pjbruin created at 2013-06-25 13:29:08



---

archive/issue_comments_185619.json:
```json
{
    "body": "Please add some doctests.\n\nI know this will be indirectly doctested through further tickets, but it would be nice to have some example directly in the docstrings of ffgen and ffinit.",
    "created_at": "2013-07-08T14:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185619",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Please add some doctests.

I know this will be indirectly doctested through further tickets, but it would be nice to have some example directly in the docstrings of ffgen and ffinit.



---

archive/issue_comments_185620.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-07-08T14:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185620",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_185621.json:
```json
{
    "body": "There is also a problem with the docstring for ffinit which mentions a polynomial P.\n\nAnd the doc avout the v variable is kind of obscure.\nIn the docstring for get_var it's mentioned it should be a string or -1.\nHere it seems you suggest it can be an integer.\nIndeed, the PARI ffinit functions wants a long and will treat negative input in a special way, but the point of the call to get_var is to convert the var's string to the correct integer.\nSo either skip the get_var call or correcte the docstring.\nI think the second option is better, and is what you wanted, isn't it?",
    "created_at": "2013-07-08T14:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185621",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

There is also a problem with the docstring for ffinit which mentions a polynomial P.

And the doc avout the v variable is kind of obscure.
In the docstring for get_var it's mentioned it should be a string or -1.
Here it seems you suggest it can be an integer.
Indeed, the PARI ffinit functions wants a long and will treat negative input in a special way, but the point of the call to get_var is to convert the var's string to the correct integer.
So either skip the get_var call or correcte the docstring.
I think the second option is better, and is what you wanted, isn't it?



---

archive/issue_comments_185622.json:
```json
{
    "body": "Reviewer patch.",
    "created_at": "2013-07-11T21:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185622",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Reviewer patch.



---

archive/issue_comments_185623.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-07-11T21:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185623",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_185624.json:
```json
{
    "body": "Attachment [trav_14818-reviewer.patch](tarball://root/attachments/some-uuid/ticket14818/trav_14818-reviewer.patch) by jpflori created at 2013-07-11 21:16:18\n\nJust added simple doctests and corrected the doc, so let's consider this a reviewer patch and I give positive review to the real changes made by Peter.",
    "created_at": "2013-07-11T21:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185624",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Attachment [trav_14818-reviewer.patch](tarball://root/attachments/some-uuid/ticket14818/trav_14818-reviewer.patch) by jpflori created at 2013-07-11 21:16:18

Just added simple doctests and corrected the doc, so let's consider this a reviewer patch and I give positive review to the real changes made by Peter.



---

archive/issue_comments_185625.json:
```json
{
    "body": "Thanks, I realise that I was really sloppy with the docstrings...",
    "created_at": "2013-07-11T22:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185625",
    "user": "https://github.com/pjbruin"
}
```

Thanks, I realise that I was really sloppy with the docstrings...



---

archive/issue_comments_185626.json:
```json
{
    "body": "Reviewer patch.",
    "created_at": "2013-07-11T22:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185626",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Reviewer patch.



---

archive/issue_comments_185627.json:
```json
{
    "body": "Attachment [trac_14818-reviewer.patch](tarball://root/attachments/some-uuid/ticket14818/trac_14818-reviewer.patch) by jpflori created at 2013-07-11 22:11:42\n\nCorrect and better named patch.",
    "created_at": "2013-07-11T22:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185627",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Attachment [trac_14818-reviewer.patch](tarball://root/attachments/some-uuid/ticket14818/trac_14818-reviewer.patch) by jpflori created at 2013-07-11 22:11:42

Correct and better named patch.



---

archive/issue_comments_185628.json:
```json
{
    "body": "For the patchbot, apply only:\n* [attachment:trac14818-pari_FF_decl.patch]\n* [attachment:trac_14818-reviewer.patch]",
    "created_at": "2013-07-12T09:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185628",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

For the patchbot, apply only:
* [attachment:trac14818-pari_FF_decl.patch]
* [attachment:trac_14818-reviewer.patch]



---

archive/issue_comments_185629.json:
```json
{
    "body": "The patchbot doesn't seem to get it:\n\nApply trac14818-pari_FF_decl.patch, trac_14818-reviewer.patch",
    "created_at": "2013-07-16T09:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185629",
    "user": "https://github.com/pjbruin"
}
```

The patchbot doesn't seem to get it:

Apply trac14818-pari_FF_decl.patch, trac_14818-reviewer.patch



---

archive/issue_events_042540.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-02T14:20:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14614#event-42540"
}
```



---

archive/issue_comments_185630.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-02T14:20:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14614#issuecomment-185630",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
