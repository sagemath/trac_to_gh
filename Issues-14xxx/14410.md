# Issue 14410: Let ATLAS build shared libraries on Cygwin

archive/issues_014206.json:
```json
{
    "body": "Currently ATLAS build static libraries without problems on Cygwin, but the autotools build system crafted by Volker which uses libtool fail to repackage them into shared one.\nIndeed:\n* on usual platforms libtool already rants that it should not pack non-libtool objects (extracted from the static libs) together.\n* on Cygwin it just refuses to do so, and I could not find a flag to get the usual behavior (i.e. \"rant but do it\").\nThe solution is to replace the libtool invokations by direct invocations to gcc and gfortran (or even ld if you feel adventurous).\nSee http://trac.sagemath.org/sage_trac/ticket/10508#comment:392\n\nUse:\n* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p7.spkg\n\nThis also allows building ATLAS by default on Cygwin.\n\n\nDepends on #14754\n\nDepends on #15270\n\n**CC:**  @kcrisman @dimpase @vbraun\n\n**Keywords:** atlas spkg cygwin\n\n**Reviewer:** Volker Braun, Jeroen Demeyer\n\n**Author:** Jean-Pierre Flori\n\n**Merged:** sage-5.13.beta5\n\nIssue created by migration from https://trac.sagemath.org/ticket/14410\n\n",
    "closed_at": "2013-12-05T08:05:49Z",
    "created_at": "2013-04-04T07:52:07Z",
    "labels": [
        "component: porting: cygwin",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.13",
    "title": "Let ATLAS build shared libraries on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/14410",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Currently ATLAS build static libraries without problems on Cygwin, but the autotools build system crafted by Volker which uses libtool fail to repackage them into shared one.
Indeed:
* on usual platforms libtool already rants that it should not pack non-libtool objects (extracted from the static libs) together.
* on Cygwin it just refuses to do so, and I could not find a flag to get the usual behavior (i.e. "rant but do it").
The solution is to replace the libtool invokations by direct invocations to gcc and gfortran (or even ld if you feel adventurous).
See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392

Use:
* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p7.spkg

This also allows building ATLAS by default on Cygwin.


Depends on #14754

Depends on #15270

**CC:**  @kcrisman @dimpase @vbraun

**Keywords:** atlas spkg cygwin

**Reviewer:** Volker Braun, Jeroen Demeyer

**Author:** Jean-Pierre Flori

**Merged:** sage-5.13.beta5

Issue created by migration from https://trac.sagemath.org/ticket/14410





---

archive/issue_comments_175865.json:
```json
{
    "body": "**Dependencies:** #10508",
    "created_at": "2013-04-04T07:52:23Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175865",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Dependencies:** #10508



---

archive/issue_comments_175866.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,6 @@\n * on Cygwin it just refuses to do so, and I could not find a flag to get the usual behavior (i.e. \"rant but do it\").\n The solution is to replace the libtool invokations by direct invocations to gcc and gfortran (or even ld if you feel adventurous).\n See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392\n+\n+Also note that on platforms (all of them are unsupported by Sage though) affected by thread related undefined symbols (https://sourceforge.net/p/math-atlas/support-requests/895/) which makes the use of (both threaded and unthreaded) shared libraries problematic, using (unthreaded) static libraries should be ok.\n+And on every system using (unthreaded) shared libraries is currently broken (but Sage uses threaded ones!).\n``````\n",
    "created_at": "2013-04-05T13:20:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175866",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,6 @@
 * on Cygwin it just refuses to do so, and I could not find a flag to get the usual behavior (i.e. "rant but do it").
 The solution is to replace the libtool invokations by direct invocations to gcc and gfortran (or even ld if you feel adventurous).
 See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392
+
+Also note that on platforms (all of them are unsupported by Sage though) affected by thread related undefined symbols (https://sourceforge.net/p/math-atlas/support-requests/895/) which makes the use of (both threaded and unthreaded) shared libraries problematic, using (unthreaded) static libraries should be ok.
+And on every system using (unthreaded) shared libraries is currently broken (but Sage uses threaded ones!).
``````




---

archive/issue_comments_175867.json:
```json
{
    "body": "**Changing dependencies** from \"#10508\" to \"#14754\".",
    "created_at": "2013-06-17T20:38:36Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175867",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#10508" to "#14754".



---

archive/issue_comments_175868.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,5 +5,3 @@\n The solution is to replace the libtool invokations by direct invocations to gcc and gfortran (or even ld if you feel adventurous).\n See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392\n \n-Also note that on platforms (all of them are unsupported by Sage though) affected by thread related undefined symbols (https://sourceforge.net/p/math-atlas/support-requests/895/) which makes the use of (both threaded and unthreaded) shared libraries problematic, using (unthreaded) static libraries should be ok.\n-And on every system using (unthreaded) shared libraries is currently broken (but Sage uses threaded ones!).\n``````\n",
    "created_at": "2013-06-18T13:24:29Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175868",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,5 +5,3 @@
 The solution is to replace the libtool invokations by direct invocations to gcc and gfortran (or even ld if you feel adventurous).
 See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392
 
-Also note that on platforms (all of them are unsupported by Sage though) affected by thread related undefined symbols (https://sourceforge.net/p/math-atlas/support-requests/895/) which makes the use of (both threaded and unthreaded) shared libraries problematic, using (unthreaded) static libraries should be ok.
-And on every system using (unthreaded) shared libraries is currently broken (but Sage uses threaded ones!).
``````




---

archive/issue_events_125127.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-06-18T13:24:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "rename": {
        "from": "Let ATLAS build shared libraries on Cygwin and install static libraries",
        "to": "Let ATLAS build shared libraries on Cygwin"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125127"
}
```



---

archive/issue_events_125128.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125128"
}
```



---

archive/issue_events_125129.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125129"
}
```



---

archive/issue_comments_175869.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,3 +5,9 @@\n The solution is to replace the libtool invokations by direct invocations to gcc and gfortran (or even ld if you feel adventurous).\n See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392\n \n+Use:\n+* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p6.spkg\n+\n+This also allows building ATLAS by default on Cygwin.\n+(I must admit it does not support SAGE_ATLAS_LIB correctly right now...)\n+\n``````\n",
    "created_at": "2013-11-07T16:24:04Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175869",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,3 +5,9 @@
 The solution is to replace the libtool invokations by direct invocations to gcc and gfortran (or even ld if you feel adventurous).
 See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392
 
+Use:
+* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p6.spkg
+
+This also allows building ATLAS by default on Cygwin.
+(I must admit it does not support SAGE_ATLAS_LIB correctly right now...)
+
``````




---

archive/issue_comments_175870.json:
```json
{
    "body": "**Author:** Jean-Pierre Flori",
    "created_at": "2013-11-07T16:24:04Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175870",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Author:** Jean-Pierre Flori



---

archive/issue_events_125130.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-07T16:24:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125130"
}
```



---

archive/issue_comments_175871.json:
```json
{
    "body": "<a id='comment:7'></a>\nMore or less tested on debian/ubuntu and cygwin(32).",
    "created_at": "2013-11-07T16:25:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175871",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:7'></a>
More or less tested on debian/ubuntu and cygwin(32).



---

archive/issue_comments_175872.json:
```json
{
    "body": "Spkg diff, for review only.",
    "created_at": "2013-11-07T16:35:45Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175872",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Spkg diff, for review only.



---

archive/issue_comments_175873.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,5 +9,4 @@\n * http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p6.spkg\n \n This also allows building ATLAS by default on Cygwin.\n-(I must admit it does not support SAGE_ATLAS_LIB correctly right now...)\n \n``````\n",
    "created_at": "2013-11-07T16:37:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175873",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,5 +9,4 @@
 * http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p6.spkg
 
 This also allows building ATLAS by default on Cygwin.
-(I must admit it does not support SAGE_ATLAS_LIB correctly right now...)
 
``````




---

archive/attachments_019444.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "atlas-3.10.1.p6.diff",
    "asset_url": "tarball://root/attachments/ticket14410/atlas-3.10.1.p6.diff",
    "created_at": "2013-11-07T16:37:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14410/atlas-3.10.1.p6.diff",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```



---

archive/issue_comments_175874.json:
```json
{
    "body": "<a id='comment:8'></a>\nAttachment [atlas-3.10.1.p6.diff](https://github.com/sagemath/sage/files/ticket14410/atlas-3.10.1.p6.diff) by jpflori created at 2013-11-07 16:37:11\n\nSAGE_ATLAS_LIB should be ok on Cygwin as well now...",
    "created_at": "2013-11-07T16:37:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175874",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>
Attachment [atlas-3.10.1.p6.diff](https://github.com/sagemath/sage/files/ticket14410/atlas-3.10.1.p6.diff) by jpflori created at 2013-11-07 16:37:11

SAGE_ATLAS_LIB should be ok on Cygwin as well now...



---

archive/issue_comments_175875.json:
```json
{
    "body": "<a id='comment:9'></a>\nWhy are you moving the build dir into src? The whole point of a separate build dir is to keep it separate from the sources.\n\nIf you really want to build ATLAS by default on Cygwin then get rid of the \"if False\". Don't leave crap lying around after you are finished ;-)",
    "created_at": "2013-11-18T16:06:33Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175875",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>
Why are you moving the build dir into src? The whole point of a separate build dir is to keep it separate from the sources.

If you really want to build ATLAS by default on Cygwin then get rid of the "if False". Don't leave crap lying around after you are finished ;-)



---

archive/issue_comments_175876.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [vbraun](#comment%3A9):\n> Why are you moving the build dir into src? The whole point of a separate build dir is to keep it separate from the sources.\n\nHum, don't really know.\nI wanted to get something consistent with how the ATLAS-lib dir is treated so I made a choice between:\n* moving ATLAS-build to the (first level of) src,\n* making a copy of ATLAS-lib below src before building the autotools project,\n* making something more sensible and more complicated.\n> \n> If you really want to build ATLAS by default on Cygwin then get rid of the \"if False\". Don't leave crap lying around after you are finished ;-)\n\nI also hesitated, but I think keeping it in the spkg-install script, either as dead code or as a comment, cannot hurt.\nYou can argue that it is saved into the hg history anyway.",
    "created_at": "2013-11-18T16:15:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175876",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>
Replying to [vbraun](#comment%3A9):
> Why are you moving the build dir into src? The whole point of a separate build dir is to keep it separate from the sources.

Hum, don't really know.
I wanted to get something consistent with how the ATLAS-lib dir is treated so I made a choice between:
* moving ATLAS-build to the (first level of) src,
* making a copy of ATLAS-lib below src before building the autotools project,
* making something more sensible and more complicated.
> 
> If you really want to build ATLAS by default on Cygwin then get rid of the "if False". Don't leave crap lying around after you are finished ;-)

I also hesitated, but I think keeping it in the spkg-install script, either as dead code or as a comment, cannot hurt.
You can argue that it is saved into the hg history anyway.



---

archive/issue_comments_175877.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [jpflori](#comment%3A10):\n> I also hesitated, but I think keeping it in the spkg-install script, either as dead code or as a comment, cannot hurt.\n\n\nIt can, e.g. the next person might think that you really wanted to enable that but could not at that time for some unknown reason...",
    "created_at": "2013-11-20T01:58:24Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175877",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
Replying to [jpflori](#comment%3A10):
> I also hesitated, but I think keeping it in the spkg-install script, either as dead code or as a comment, cannot hurt.


It can, e.g. the next person might think that you really wanted to enable that but could not at that time for some unknown reason...



---

archive/issue_comments_175878.json:
```json
{
    "body": "<a id='comment:12'></a>\nSpkg updated at the same address.",
    "created_at": "2013-11-20T13:56:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175878",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:12'></a>
Spkg updated at the same address.



---

archive/issue_events_125131.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-11-21T03:26:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125131"
}
```



---

archive/issue_events_125132.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-11-21T03:26:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125132"
}
```



---

archive/issue_comments_175879.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2013-11-21T03:26:41Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175879",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_comments_175880.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks. But \"therefore\" means \"for that reason; consequently\" and not \"before that\".\n\nOn a practical level, I don't think Jeroen is going to merge this before the git switch. Spkg changes might need to be manually converted to git branches...",
    "created_at": "2013-11-21T03:26:41Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175880",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
Thanks. But "therefore" means "for that reason; consequently" and not "before that".

On a practical level, I don't think Jeroen is going to merge this before the git switch. Spkg changes might need to be manually converted to git branches...



---

archive/issue_comments_175881.json:
```json
{
    "body": "<a id='comment:14'></a>\n`spkg-check` doesn't work:\n\n```\n...\nSuccessfully installed atlas-3.10.1.p6\nRunning the test suite for atlas-3.10.1.p6...\n./spkg-check: line 38: cd: ATLAS-build: No such file or directory\n```",
    "created_at": "2013-11-22T14:47:39Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175881",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
`spkg-check` doesn't work:

```
...
Successfully installed atlas-3.10.1.p6
Running the test suite for atlas-3.10.1.p6...
./spkg-check: line 38: cd: ATLAS-build: No such file or directory
```



---

archive/issue_events_125133.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-22T14:47:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125133"
}
```



---

archive/issue_events_125134.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-22T14:47:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125134"
}
```



---

archive/issue_comments_175882.json:
```json
{
    "body": "<a id='comment:15'></a>\nAlso, the spkg needs to be rebased to #15270.",
    "created_at": "2013-11-22T20:26:14Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175882",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Also, the spkg needs to be rebased to #15270.



---

archive/issue_comments_175883.json:
```json
{
    "body": "**Changing dependencies** from \"#14754\" to \"#14754, #15270\".",
    "created_at": "2013-11-22T20:29:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175883",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#14754" to "#14754, #15270".



---

archive/issue_events_125135.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-25T14:05:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125135"
}
```



---

archive/issue_events_125136.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-25T14:05:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125136"
}
```



---

archive/issue_comments_175884.json:
```json
{
    "body": "<a id='comment:17'></a>\nRebased on top of #15270 and revamped spkg-check.",
    "created_at": "2013-11-25T14:05:14Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175884",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:17'></a>
Rebased on top of #15270 and revamped spkg-check.



---

archive/issue_comments_175885.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392\n \n Use:\n-* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p6.spkg\n+* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p7.spkg\n \n This also allows building ATLAS by default on Cygwin.\n \n``````\n",
    "created_at": "2013-11-25T14:05:14Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175885",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 See http://trac.sagemath.org/sage_trac/ticket/10508#comment:392
 
 Use:
-* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p6.spkg
+* http://boxen.math.washington.edu/home/jpflori/spkg/atlas-3.10.1.p7.spkg
 
 This also allows building ATLAS by default on Cygwin.
 
``````




---

archive/issue_comments_175886.json:
```json
{
    "body": "<a id='comment:18'></a>\nFor the record this should only:\n* fix a bug in spkg-install which thought that the serial shared libraries were built even when not and so left the sage install without any ATLAS libraries,\n* let ATLAS build on Cygwin without any impact on other systems,\n* clean spkg-check.\nSo this is not so intrusive for usual systems and I wouldn't mind that Jeroen includes it in 5.13 if it's not too late (as the two other easy and (hopefully) Cygwin-only spkg fixes at #15365 and #15366).",
    "created_at": "2013-11-25T15:02:07Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175886",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:18'></a>
For the record this should only:
* fix a bug in spkg-install which thought that the serial shared libraries were built even when not and so left the sage install without any ATLAS libraries,
* let ATLAS build on Cygwin without any impact on other systems,
* clean spkg-check.
So this is not so intrusive for usual systems and I wouldn't mind that Jeroen includes it in 5.13 if it's not too late (as the two other easy and (hopefully) Cygwin-only spkg fixes at #15365 and #15366).



---

archive/issue_events_125137.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-11-25T15:27:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125137"
}
```



---

archive/issue_events_125138.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-11-25T15:27:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125138"
}
```



---

archive/issue_comments_175887.json:
```json
{
    "body": "<a id='comment:19'></a>\nI think the general policy is not to merge new spkgs late in the beta cycle, but I'll let Jeroen decide on that ;-)",
    "created_at": "2013-11-25T15:27:34Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175887",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'></a>
I think the general policy is not to merge new spkgs late in the beta cycle, but I'll let Jeroen decide on that ;-)



---

archive/issue_comments_175888.json:
```json
{
    "body": "<a id='comment:20'></a>\nThe Changelog inside `SPKG.txt` is wrong:\n\n```\n### atlas-3.10.1.p6, lapack-3.4.2 (Volker Braun, 11 October 2013)\n * Trac #15270: Do not give up if the upstream shared library build\n   fails\n * Solaris / ZFS fixes\n\n### atlas-3.10.1.p6, lapack-3.4.2 (Jean-Pierre Flori, 7 November 2013)\n * Trac #14410: Let ATLAS build and install shared libraries on Cygwin.\n * Bunch of modifications to the autotools project generating shared libraries\n   so that it does not invoke libtool on Cygwin.\n * Fix a bug in spkg-install.\n```\n\nThese two entries should be switched and the version number (atlas-3.10.1.**p7**) corrected.",
    "created_at": "2013-11-26T11:02:11Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175888",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
The Changelog inside `SPKG.txt` is wrong:

```
### atlas-3.10.1.p6, lapack-3.4.2 (Volker Braun, 11 October 2013)
 * Trac #15270: Do not give up if the upstream shared library build
   fails
 * Solaris / ZFS fixes

### atlas-3.10.1.p6, lapack-3.4.2 (Jean-Pierre Flori, 7 November 2013)
 * Trac #14410: Let ATLAS build and install shared libraries on Cygwin.
 * Bunch of modifications to the autotools project generating shared libraries
   so that it does not invoke libtool on Cygwin.
 * Fix a bug in spkg-install.
```

These two entries should be switched and the version number (atlas-3.10.1.**p7**) corrected.



---

archive/issue_events_125139.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-26T11:02:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125139"
}
```



---

archive/issue_events_125140.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-26T11:02:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125140"
}
```



---

archive/issue_comments_175889.json:
```json
{
    "body": "<a id='comment:21'></a>\nYup, I'm quite sure I did it, but as I screwed up later on and had to reapply other changes i guess I forgot to correct that again.",
    "created_at": "2013-11-26T13:33:22Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175889",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
Yup, I'm quite sure I did it, but as I screwed up later on and had to reapply other changes i guess I forgot to correct that again.



---

archive/issue_events_125141.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-26T13:38:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125141"
}
```



---

archive/issue_events_125142.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-26T13:38:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125142"
}
```



---

archive/issue_comments_175890.json:
```json
{
    "body": "<a id='comment:22'></a>\nShould be ok now...",
    "created_at": "2013-11-26T13:38:45Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175890",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:22'></a>
Should be ok now...



---

archive/issue_events_125143.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-26T16:46:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125143"
}
```



---

archive/issue_events_125144.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-26T16:46:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125144"
}
```



---

archive/issue_comments_175891.json:
```json
{
    "body": "<a id='comment:23'></a>\nmake check does not work.",
    "created_at": "2013-11-26T16:46:03Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175891",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:23'></a>
make check does not work.



---

archive/issue_comments_175892.json:
```json
{
    "body": "<a id='comment:24'></a>\nOk, fixed and tested this time.",
    "created_at": "2013-11-26T17:26:46Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175892",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:24'></a>
Ok, fixed and tested this time.



---

archive/issue_events_125145.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-26T17:26:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125145"
}
```



---

archive/issue_events_125146.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-11-26T17:26:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125146"
}
```



---

archive/issue_comments_175893.json:
```json
{
    "body": "<a id='comment:25'></a>\nTested (SPKG_CHECK=yes) with success on Solaris as well.",
    "created_at": "2013-11-28T09:32:06Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175893",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:25'></a>
Tested (SPKG_CHECK=yes) with success on Solaris as well.



---

archive/issue_events_125147.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-12-05T08:05:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125147"
}
```



---

archive/issue_events_125148.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-12-05T08:05:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14410#event-125148"
}
```



---

archive/issue_comments_175894.json:
```json
{
    "body": "**Merged:** sage-5.13.beta5",
    "created_at": "2013-12-05T08:05:49Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175894",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.13.beta5



---

archive/issue_comments_175895.json:
```json
{
    "body": "**Changing reviewer** from \"Volker Braun\" to \"Volker Braun, Jeroen Demeyer\".",
    "created_at": "2013-12-05T08:05:49Z",
    "issue": "https://github.com/sagemath/sage/issues/14410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14410#issuecomment-175895",
    "user": "https://github.com/jdemeyer"
}
```

**Changing reviewer** from "Volker Braun" to "Volker Braun, Jeroen Demeyer".
