# Issue 14454: Regular crystals category

archive/issues_014250.json:
```json
{
    "body": "Currently the crystals category assumes that all crystals are regular. With #14192 and #14413, there are non-regular crystals going into Sage. This will add a new subcategory of crystals for regular crystals.\n\n---\n\nApply: [attachment:trac_14454-regular_crystals-ts.patch]\n\n**Assignee:** sage-combinat\n\n**CC:**  sage-combinat @bsalisbury1 @anneschilling @nthiery\n\n**Keywords:** normal crystals, categories\n\n**Reviewer:** Anne Schilling, Travis Scrimshaw\n\n**Author:** Travis Scrimshaw, Anne Schilling\n\n**Merged:** sage-5.10.beta2\n\n**Dependencies:** #14252, #14287\n\nIssue created by migration from https://trac.sagemath.org/ticket/14454\n\n",
    "closed_at": "2013-05-07T09:06:33Z",
    "created_at": "2013-04-15T18:31:44Z",
    "labels": [
        "component: categories",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Regular crystals category",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14454",
    "user": "https://github.com/tscrim"
}
```
Currently the crystals category assumes that all crystals are regular. With #14192 and #14413, there are non-regular crystals going into Sage. This will add a new subcategory of crystals for regular crystals.

---

Apply: [attachment:trac_14454-regular_crystals-ts.patch]

**Assignee:** sage-combinat

**CC:**  sage-combinat @bsalisbury1 @anneschilling @nthiery

**Keywords:** normal crystals, categories

**Reviewer:** Anne Schilling, Travis Scrimshaw

**Author:** Travis Scrimshaw, Anne Schilling

**Merged:** sage-5.10.beta2

**Dependencies:** #14252, #14287

Issue created by migration from https://trac.sagemath.org/ticket/14454





---

archive/issue_comments_214918.json:
```json
{
    "body": "**Changing dependencies** from \"#14413\" to \"\".",
    "created_at": "2013-04-15T18:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214918",
    "user": "https://github.com/tscrim"
}
```

**Changing dependencies** from "#14413" to "".



---

archive/issue_comments_214919.json:
```json
{
    "body": "<a id='comment:2'></a>\nChanging dependencies to make #14402 a dependency of this ticket.",
    "created_at": "2013-04-15T18:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214919",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>
Changing dependencies to make #14402 a dependency of this ticket.



---

archive/issue_comments_214920.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-04-15T19:57:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214920",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_214921.json:
```json
{
    "body": "**Dependencies:** #14252",
    "created_at": "2013-04-15T19:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214921",
    "user": "https://github.com/tscrim"
}
```

**Dependencies:** #14252



---

archive/issue_comments_214922.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n-Currently the crystals category assumes that all crystals are normal. With #14192 and #14413, there are non-normal crystals going into Sage. This will add a new subcategory of crystals for normal crystals.\n+Currently the crystals category assumes that all crystals are regular. With #14192 and #14413, there are non-regular crystals going into Sage. This will add a new subcategory of crystals for regular crystals.\n+\n+---\n+\n+Apply: [attachment:trac_14454-regular_crystals-ts.patch]\n``````\n",
    "created_at": "2013-04-15T21:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214922",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,5 @@
-Currently the crystals category assumes that all crystals are normal. With #14192 and #14413, there are non-normal crystals going into Sage. This will add a new subcategory of crystals for normal crystals.
+Currently the crystals category assumes that all crystals are regular. With #14192 and #14413, there are non-regular crystals going into Sage. This will add a new subcategory of crystals for regular crystals.
+
+---
+
+Apply: [attachment:trac_14454-regular_crystals-ts.patch]
``````




---

archive/issue_comments_214923.json:
```json
{
    "body": "<a id='comment:5'></a>\nAfter some discussion with Ben, we decided to call these regular crystals (this agrees with the crystals tutorial).\n\nFor patchbot:\n\nApply: trac_14454-regular_crystals-ts.patch",
    "created_at": "2013-04-15T21:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214923",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
After some discussion with Ben, we decided to call these regular crystals (this agrees with the crystals tutorial).

For patchbot:

Apply: trac_14454-regular_crystals-ts.patch



---

archive/issue_events_047631.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "rename": {
        "from": "Normal crystals category",
        "to": "Regular crystals category"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14454#event-47631"
}
```



---

archive/issue_comments_214924.json:
```json
{
    "body": "**Reviewer:** Anen Schilling, Travis Scrimshaw",
    "created_at": "2013-04-21T17:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214924",
    "user": "https://github.com/anneschilling"
}
```

**Reviewer:** Anen Schilling, Travis Scrimshaw



---

archive/issue_comments_214925.json:
```json
{
    "body": "**Changing author** from \"Travis Scrimshaw\" to \"Travis Scrimshaw, Anne Schilling\".",
    "created_at": "2013-04-21T17:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214925",
    "user": "https://github.com/anneschilling"
}
```

**Changing author** from "Travis Scrimshaw" to "Travis Scrimshaw, Anne Schilling".



---

archive/issue_comments_214926.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n ---\n \n-Apply: [attachment:trac_14454-regular_crystals-ts.patch]\n+Apply: [attachment:trac_14454-regular_crystals-ts.patch], [attachment:trac_14454-regular_crystals-as.patch]\n``````\n",
    "created_at": "2013-04-21T17:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214926",
    "user": "https://github.com/anneschilling"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 ---
 
-Apply: [attachment:trac_14454-regular_crystals-ts.patch]
+Apply: [attachment:trac_14454-regular_crystals-ts.patch], [attachment:trac_14454-regular_crystals-as.patch]
``````




---

archive/issue_comments_214927.json:
```json
{
    "body": "<a id='comment:7'></a>\nI posted a review patch which moves some material to the appropriate category. There is still one issue: there are tests for the Stembridge rules in the finite crystal category. But really they should be in a finite/regular category. Should we create a separate category for finite regular crystals?\n\nAnne",
    "created_at": "2013-04-21T17:46:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214927",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:7'></a>
I posted a review patch which moves some material to the appropriate category. There is still one issue: there are tests for the Stembridge rules in the finite crystal category. But really they should be in a finite/regular category. Should we create a separate category for finite regular crystals?

Anne



---

archive/issue_comments_214928.json:
```json
{
    "body": "<a id='comment:8'></a>\nI believe the Stembridge axioms are valid for any crystal with a simply-laced Cartan matrix, with no assumption that the crystal is finite.  Can the Stembridge axioms be moved to the regular crystals category with an added condition that if the cardinality of the crystal is infinite (or unknown), then only test to finite depth?",
    "created_at": "2013-04-22T18:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214928",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:8'></a>
I believe the Stembridge axioms are valid for any crystal with a simply-laced Cartan matrix, with no assumption that the crystal is finite.  Can the Stembridge axioms be moved to the regular crystals category with an added condition that if the cardinality of the crystal is infinite (or unknown), then only test to finite depth?



---

archive/issue_comments_214929.json:
```json
{
    "body": "<a id='comment:9'></a>\nI tried this, but then the tests in generalized_young_walls.py did not pass any longer.\n\nAnne",
    "created_at": "2013-04-22T18:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214929",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:9'></a>
I tried this, but then the tests in generalized_young_walls.py did not pass any longer.

Anne



---

archive/issue_comments_214930.json:
```json
{
    "body": "<a id='comment:10'></a>\nI should say for the highest weight crystals in that file.",
    "created_at": "2013-04-22T18:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214930",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:10'></a>
I should say for the highest weight crystals in that file.



---

archive/issue_comments_214931.json:
```json
{
    "body": "<a id='comment:11'></a>\nNew version of the patch with the review patch folded in and a couple of other tweaks.",
    "created_at": "2013-04-26T11:56:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214931",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
New version of the patch with the review patch folded in and a couple of other tweaks.



---

archive/issue_comments_214932.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n ---\n \n-Apply: [attachment:trac_14454-regular_crystals-ts.patch], [attachment:trac_14454-regular_crystals-as.patch]\n+Apply: [attachment:trac_14454-regular_crystals-ts.patch]\n``````\n",
    "created_at": "2013-04-26T11:56:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214932",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 ---
 
-Apply: [attachment:trac_14454-regular_crystals-ts.patch], [attachment:trac_14454-regular_crystals-as.patch]
+Apply: [attachment:trac_14454-regular_crystals-ts.patch]
``````




---

archive/issue_comments_214933.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-04-26T12:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214933",
    "user": "https://github.com/anneschilling"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_214934.json:
```json
{
    "body": "**Changing dependencies** from \"#14252\" to \"#14252, #14287\".",
    "created_at": "2013-04-29T11:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214934",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#14252" to "#14252, #14287".



---

archive/issue_comments_214935.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2013-04-29T11:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214935",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_214936.json:
```json
{
    "body": "<a id='comment:13'></a>\nThis needs to be rebased to #14287.",
    "created_at": "2013-04-29T11:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214936",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
This needs to be rebased to #14287.



---

archive/attachments_019505.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14454-regular_crystals-ts.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14454/trac_14454-regular_crystals-ts.patch",
    "created_at": "2013-04-29T15:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_214937.json:
```json
{
    "body": "",
    "created_at": "2013-04-29T15:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214937",
    "user": "https://github.com/tscrim"
}
```





---

archive/issue_comments_214938.json:
```json
{
    "body": "<a id='comment:14'></a>\nFixed doctest from changes in #14287.",
    "created_at": "2013-04-29T15:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214938",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
Fixed doctest from changes in #14287.



---

archive/issue_comments_214939.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2013-04-29T15:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214939",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_214940.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-04-29T18:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214940",
    "user": "https://github.com/anneschilling"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_214941.json:
```json
{
    "body": "**Changing reviewer** from \"Anen Schilling, Travis Scrimshaw\" to \"Anne Schilling, Travis Scrimshaw\".",
    "created_at": "2013-05-07T09:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214941",
    "user": "https://github.com/jdemeyer"
}
```

**Changing reviewer** from "Anen Schilling, Travis Scrimshaw" to "Anne Schilling, Travis Scrimshaw".



---

archive/issue_events_047632.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-07T09:06:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14454#event-47632"
}
```



---

archive/issue_comments_214942.json:
```json
{
    "body": "**Merged:** sage-5.10.beta2",
    "created_at": "2013-05-07T09:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214942",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.10.beta2



---

archive/issue_comments_214943.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe following doctest really takes too long:\n\n```\n**********************************************************************\nFile \"devel/sage/sage/combinat/crystals/generalized_young_walls.py\", line 850, in sage.combinat.crystals.generalized_young_walls.HighestWeightCrystalOfGYW.__init__\nFailed example:\n    TestSuite(YLa).run() # long time\nTest ran for 203.43 s\n**********************************************************************\n```\n\nIt is **by far** the longest doctest in all of Sage. Can this test be made faster? Or removed in the worst case?",
    "created_at": "2013-05-18T08:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214943",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
The following doctest really takes too long:

```
**********************************************************************
File "devel/sage/sage/combinat/crystals/generalized_young_walls.py", line 850, in sage.combinat.crystals.generalized_young_walls.HighestWeightCrystalOfGYW.__init__
Failed example:
    TestSuite(YLa).run() # long time
Test ran for 203.43 s
**********************************************************************
```

It is **by far** the longest doctest in all of Sage. Can this test be made faster? Or removed in the worst case?



---

archive/issue_comments_214944.json:
```json
{
    "body": "<a id='comment:18'></a>\nHey Jeroen,\n\nI'm working on it right now. I'll let you know what I find.\n\nBest,\n\nTravis",
    "created_at": "2013-05-19T00:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14454#issuecomment-214944",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
Hey Jeroen,

I'm working on it right now. I'll let you know what I find.

Best,

Travis
