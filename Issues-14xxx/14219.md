# Issue 14219: rational preperiodic points for projective morphisms

archive/issues_014015.json:
```json
{
    "assignees": [
        "https://github.com/bhutz"
    ],
    "body": "Main algorithms from Hutz, \"Determination of all rational preperiodic points for morphisms of PN\", submitted\n\nAlso includes the last of the ICERM dynamics functionality. Building on #13130, #14217, #14218.\n\nImplements all necessary functionality to determine QQ-rational periodic and preperiodic points for morphism of projective space in any dimension. This includes multipliers, hensel lifting, height difference bound, etc.\n\n\nApply:\n\n* [attachment: trac_14219_rational_preperiodic.patch](https://github.com/sagemath/sage/files/ticket14219/trac_14219_rational_preperiodic.patch.gz)\n\nDepends on #14218\n\nKeywords: **dynamics, sage-days55**\n\nReviewer: **Vincent Delecroix, Adam Towsley**\n\nAuthor: **Ben Hutz**\n\nMerged: **sage-5.13.beta4**\n\nComponent: **algebraic geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14219_\n\n",
    "closed_at": "2013-11-22T15:49:05Z",
    "created_at": "2013-03-03T18:35:02Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.13",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "rational preperiodic points for projective morphisms",
    "type": "issue",
    "updated_at": "2016-04-15T20:27:20Z",
    "url": "https://github.com/sagemath/sage/issues/14219",
    "user": "https://github.com/bhutz"
}
```
Main algorithms from Hutz, "Determination of all rational preperiodic points for morphisms of PN", submitted

Also includes the last of the ICERM dynamics functionality. Building on #13130, #14217, #14218.

Implements all necessary functionality to determine QQ-rational periodic and preperiodic points for morphism of projective space in any dimension. This includes multipliers, hensel lifting, height difference bound, etc.


Apply:

* [attachment: trac_14219_rational_preperiodic.patch](https://github.com/sagemath/sage/files/ticket14219/trac_14219_rational_preperiodic.patch.gz)

Depends on #14218

Keywords: **dynamics, sage-days55**

Reviewer: **Vincent Delecroix, Adam Towsley**

Author: **Ben Hutz**

Merged: **sage-5.13.beta4**

Component: **algebraic geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/14219_





---

archive/issue_events_201164.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-03-03T18:35:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "milestone_number": null,
    "milestone_title": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201164"
}
```



---

archive/issue_events_201165.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-03-03T18:35:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201165"
}
```



---

archive/issue_events_201166.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-03-03T18:35:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201166"
}
```



---

archive/issue_events_201167.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-03-03T18:35:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201167"
}
```



---

archive/issue_events_201168.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-03-03T18:35:02Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "subject": "https://github.com/bhutz",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201168"
}
```



---

archive/issue_comments_169784.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Main algorithms from Hutz, \"Determination of all rational preperiodic points for morphisms of PN\", submitted\n \n-Also includes the last of the ICERM dynamics functionality. Building on Trac 13130, Trac 14217, Trac 14218.\n+Also includes the last of the ICERM dynamics functionality. Building on #13130, #14217, #14218.\n \n Implements all necessary functionality to determine QQ-rational periodic and preperiodic points for morphism of projective space in any dimension. This includes multipliers, hensel lifting, height difference bound, etc.\n``````\n",
    "created_at": "2013-03-06T12:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169784",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Main algorithms from Hutz, "Determination of all rational preperiodic points for morphisms of PN", submitted
 
-Also includes the last of the ICERM dynamics functionality. Building on Trac 13130, Trac 14217, Trac 14218.
+Also includes the last of the ICERM dynamics functionality. Building on #13130, #14217, #14218.
 
 Implements all necessary functionality to determine QQ-rational periodic and preperiodic points for morphism of projective space in any dimension. This includes multipliers, hensel lifting, height difference bound, etc.
``````




---

archive/issue_comments_169785.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[rational_preperiodic.patch.gz](https://github.com/sagemath/sage/files/ticket14219/rational_preperiodic.patch.gz)**",
    "created_at": "2013-03-06T12:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169785",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[rational_preperiodic.patch.gz](https://github.com/sagemath/sage/files/ticket14219/rational_preperiodic.patch.gz)**



---

archive/issue_comments_169786.json:
```json
{
    "body": "Changed dependencies from **14128** to **#14128**",
    "created_at": "2013-03-06T12:50:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169786",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **14128** to **#14128**



---

archive/issue_comments_169787.json:
```json
{
    "body": "Changed dependencies from **#14128** to **#14218**",
    "created_at": "2013-03-06T12:51:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169787",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#14128** to **#14218**



---

archive/issue_comments_169788.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,8 @@\n Also includes the last of the ICERM dynamics functionality. Building on #13130, #14217, #14218.\n \n Implements all necessary functionality to determine QQ-rational periodic and preperiodic points for morphism of projective space in any dimension. This includes multipliers, hensel lifting, height difference bound, etc.\n+\n+\n+Apply:\n+\n+* [attachment: trac_14219_rational_preperiodic.patch](https://github.com/sagemath/sage/files/ticket14219/trac_14219_rational_preperiodic.patch.gz)\n``````\n",
    "created_at": "2013-03-18T12:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169788",
    "user": "https://github.com/bhutz"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,8 @@
 Also includes the last of the ICERM dynamics functionality. Building on #13130, #14217, #14218.
 
 Implements all necessary functionality to determine QQ-rational periodic and preperiodic points for morphism of projective space in any dimension. This includes multipliers, hensel lifting, height difference bound, etc.
+
+
+Apply:
+
+* [attachment: trac_14219_rational_preperiodic.patch](https://github.com/sagemath/sage/files/ticket14219/trac_14219_rational_preperiodic.patch.gz)
``````




---

archive/issue_events_201169.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-04-15T16:26:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201169"
}
```



---

archive/issue_comments_169789.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nFinished cleaning it up. Ready for review.\n\nChanged the milestone to something more realistic.",
    "created_at": "2013-04-15T16:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169789",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:5" align="right">comment:5</div>

Finished cleaning it up. Ready for review.

Changed the milestone to something more realistic.



---

archive/issue_events_201170.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-04-15T16:26:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "milestone_number": null,
    "milestone_title": "sage-5.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201170"
}
```



---

archive/issue_events_201171.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-04-15T16:26:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201171"
}
```



---

archive/issue_comments_169790.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\napply trac_14219_rational_preperiodic.patch",
    "created_at": "2013-05-07T20:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169790",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

apply trac_14219_rational_preperiodic.patch



---

archive/issue_comments_169791.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThere is one doctest missing.",
    "created_at": "2013-05-23T19:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169791",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

There is one doctest missing.



---

archive/issue_comments_169792.json:
```json
{
    "body": "Work Issues: **doctest missing**",
    "created_at": "2013-05-23T19:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169792",
    "user": "https://github.com/fchapoton"
}
```

Work Issues: **doctest missing**



---

archive/issue_comments_169793.json:
```json
{
    "body": "Changed keywords from none to **dynamics**",
    "created_at": "2013-05-23T19:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169793",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from none to **dynamics**



---

archive/issue_events_201172.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-23T19:52:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201172"
}
```



---

archive/issue_events_201173.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-05-23T19:52:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201173"
}
```



---

archive/issue_events_201174.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201174"
}
```



---

archive/issue_events_201175.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201175"
}
```



---

archive/issue_events_201176.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-08-23T22:55:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201176"
}
```



---

archive/issue_events_201177.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-08-23T22:55:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201177"
}
```



---

archive/issue_comments_169794.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nFixed the missing doctest.\n\nThis passes all tests on my machine for sage 5.11.",
    "created_at": "2013-08-23T22:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169794",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:9" align="right">comment:9</div>

Fixed the missing doctest.

This passes all tests on my machine for sage 5.11.



---

archive/issue_comments_169795.json:
```json
{
    "body": "Changed work issues from **doctest missing** to none",
    "created_at": "2013-08-23T22:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169795",
    "user": "https://github.com/bhutz"
}
```

Changed work issues from **doctest missing** to none



---

archive/issue_comments_169796.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\napply trac_14219_rational_preperiodic.patch",
    "created_at": "2013-08-23T22:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169796",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:10" align="right">comment:10</div>

apply trac_14219_rational_preperiodic.patch



---

archive/issue_comments_169797.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\napply trac_14219_rational_preperiodic.patch",
    "created_at": "2013-09-04T16:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169797",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:11" align="right">comment:11</div>

apply trac_14219_rational_preperiodic.patch



---

archive/issue_comments_169798.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\napply trac_14219_rational_preperiodic.patch",
    "created_at": "2013-10-20T13:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169798",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:12" align="right">comment:12</div>

apply trac_14219_rational_preperiodic.patch



---

archive/issue_comments_169799.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\napply trac_14219_rational_preperiodic.patch",
    "created_at": "2013-10-21T17:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169799",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:13" align="right">comment:13</div>

apply trac_14219_rational_preperiodic.patch



---

archive/issue_comments_169800.json:
```json
{
    "body": "optimize the root order computation over finite fields",
    "created_at": "2013-11-07T19:46:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169800",
    "user": "https://github.com/videlec"
}
```

optimize the root order computation over finite fields



---

archive/issue_comments_169801.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAttachment: **[trac_14219-optimize_root_order_computation.patch.gz](https://github.com/sagemath/sage/files/ticket14219/trac_14219-optimize_root_order_computation.patch.gz)**\n\nHi there,\n\nSome quick comments (I am not the person designed to review the mathematics in there):\n- the patch does not apply on sage-5.13.beta2\n- there are many trailing whitescaces that need to be removed\n- the indentation must be 4 spaces wide (it is 3 in many places)\n- sage convention is that `CamelCaseConvention` is somewhat reserved to classes and it would be better to not use it as variables names (I think this is too much pain to change it right now)\n- in the examples one should use \"a = bla()\" instead of \"a=bla()\"\n\nWe also discussed a very specific issue in the code (line 2588 to 2601). The [attachment: trac_14219-optimize_root_order_computation.patch](https://github.com/sagemath/sage/files/ticket14219/trac_14219-optimize_root_order_computation.patch.gz) proposes a much direct version with, as a consequence, a little bit of speedup.",
    "created_at": "2013-11-07T19:46:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169801",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

Attachment: **[trac_14219-optimize_root_order_computation.patch.gz](https://github.com/sagemath/sage/files/ticket14219/trac_14219-optimize_root_order_computation.patch.gz)**

Hi there,

Some quick comments (I am not the person designed to review the mathematics in there):
- the patch does not apply on sage-5.13.beta2
- there are many trailing whitescaces that need to be removed
- the indentation must be 4 spaces wide (it is 3 in many places)
- sage convention is that `CamelCaseConvention` is somewhat reserved to classes and it would be better to not use it as variables names (I think this is too much pain to change it right now)
- in the examples one should use "a = bla()" instead of "a=bla()"

We also discussed a very specific issue in the code (line 2588 to 2601). The [attachment: trac_14219-optimize_root_order_computation.patch](https://github.com/sagemath/sage/files/ticket14219/trac_14219-optimize_root_order_computation.patch.gz) proposes a much direct version with, as a consequence, a little bit of speedup.



---

archive/issue_events_201178.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-11-07T19:46:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201178"
}
```



---

archive/issue_events_201179.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-11-07T19:46:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201179"
}
```



---

archive/issue_comments_169802.json:
```json
{
    "body": "Changed keywords from **dynamics** to **dynamics, sage-days55**",
    "created_at": "2013-11-08T15:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169802",
    "user": "https://github.com/bhutz"
}
```

Changed keywords from **dynamics** to **dynamics, sage-days55**



---

archive/issue_comments_169803.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2013-11-08T15:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169803",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_169804.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThe change for the eigenvalue computation looks fine, I've folded that into the main patch.\n\nI removed the whitespace and added the spaces around the = signs.\n\nI also adjusted the variable naming as that wasn't too tedious.\n\nI couldn't find any 3 space indents, could you point out where those are.",
    "created_at": "2013-11-08T15:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169804",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:16" align="right">comment:16</div>

The change for the eigenvalue computation looks fine, I've folded that into the main patch.

I removed the whitespace and added the spaces around the = signs.

I also adjusted the variable naming as that wasn't too tedious.

I couldn't find any 3 space indents, could you point out where those are.



---

archive/issue_comments_169805.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nTo be modified in projective_morphism.py\n\n1) trailing whitespaces in at lines 1663, 1754, 1954, 1971, 1982, 1985, 1992, 1998, 2085, 2106, 2158, 2169, 2221, 2257, 2273, 2317, 2352,\n\n2) why do you use Hom(P,P) instead of End(P) ?\n\n3) problem of upper case/lower case at line 1746 (Periods instead of periods)\n\n4) prefer (line 1743-1746)\n\n```\nreturn sorted(periods)\n```\ninstead of\n\n```\nperiods=list(periods)\nperiods.sort()\nreturn(periods)\n```\n\n5) in method dynatomic_polynomial the argument is called period but is refered in the documentation as n. Moreover the specification of arguments are given too late. In the examples it might be good to check that the dynatomic polynomial actually gives you solution!\n\n```\nsage: P.<x,y> = ProjectiveSpace(QQ,1)\nsage: H = Hom(P,P)\nsage: f = H([x^2+y^2,y^2])\nsage: f.dynatomic_polynomial(2)\nx^2 + x*y + 2*y^2\nsage: K.<c> = NumberField(X^2 + X + 2, 'c')\nsage: PP = P.change_ring(K)\nsage: ff = f.change_ring(K)\nsage: p = PP((c,1))\nsage: ff(ff(p)) == p\n```\nHere I get troubles with coercions (this is why I defined PP and ff): there should be some canonical coercions as there is for polynomials (this will go in another ticket)\n\n```\nsage: R.<x> = PolynomialRing(QQ,'x')\nsage: K.<c> = NumberField(x^2 + 3*x + 1, 'c')\nsage: P = x^6 + 3*x + 19\nsage: P(c)\n-141*c - 36\n```\n\n6) The rational for the choice of putting methods in projective_point.py instead in projective_morphism.py is not at all clear to me. Why orbit, canonical_heights, etc methods of points and not of morphisms ?\n\n7) docbuild troubles\n[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_periodic_points:4: WARNING: Inline literal start-string without end-string.\n[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_periodic_points:72: WARNING: Inline strong start-string without end-string.\n[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism:7: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_preperiodic_points:4: WARNING: Inline literal start-string without end-string.\n[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism:12: WARNING: Bullet list ends without a blank line; unexpected unindent.\n\n8) I have serious trouble concerning the green function and canonical heights of points (I know that this was implemented in another ticket). In those two methods, there is no care about the fact that there are errors introduced by the fact that the floating points you are working with are with fixed precision. In particular, with floating points, the result of `x+y` is *not* the sum `x` + `y` but only an approximation of it. I really think that it should be reimplemented either using real interval fields (it will make it slower but at least you get a proven answer).",
    "created_at": "2013-11-08T21:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169805",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

To be modified in projective_morphism.py

1) trailing whitespaces in at lines 1663, 1754, 1954, 1971, 1982, 1985, 1992, 1998, 2085, 2106, 2158, 2169, 2221, 2257, 2273, 2317, 2352,

2) why do you use Hom(P,P) instead of End(P) ?

3) problem of upper case/lower case at line 1746 (Periods instead of periods)

4) prefer (line 1743-1746)

```
return sorted(periods)
```
instead of

```
periods=list(periods)
periods.sort()
return(periods)
```

5) in method dynatomic_polynomial the argument is called period but is refered in the documentation as n. Moreover the specification of arguments are given too late. In the examples it might be good to check that the dynatomic polynomial actually gives you solution!

```
sage: P.<x,y> = ProjectiveSpace(QQ,1)
sage: H = Hom(P,P)
sage: f = H([x^2+y^2,y^2])
sage: f.dynatomic_polynomial(2)
x^2 + x*y + 2*y^2
sage: K.<c> = NumberField(X^2 + X + 2, 'c')
sage: PP = P.change_ring(K)
sage: ff = f.change_ring(K)
sage: p = PP((c,1))
sage: ff(ff(p)) == p
```
Here I get troubles with coercions (this is why I defined PP and ff): there should be some canonical coercions as there is for polynomials (this will go in another ticket)

```
sage: R.<x> = PolynomialRing(QQ,'x')
sage: K.<c> = NumberField(x^2 + 3*x + 1, 'c')
sage: P = x^6 + 3*x + 19
sage: P(c)
-141*c - 36
```

6) The rational for the choice of putting methods in projective_point.py instead in projective_morphism.py is not at all clear to me. Why orbit, canonical_heights, etc methods of points and not of morphisms ?

7) docbuild troubles
[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_periodic_points:4: WARNING: Inline literal start-string without end-string.
[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_periodic_points:72: WARNING: Inline strong start-string without end-string.
[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism:7: WARNING: Bullet list ends without a blank line; unexpected unindent.
[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_preperiodic_points:4: WARNING: Inline literal start-string without end-string.
[schemes  ] /opt/sage/local/lib/python2.7/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism:12: WARNING: Bullet list ends without a blank line; unexpected unindent.

8) I have serious trouble concerning the green function and canonical heights of points (I know that this was implemented in another ticket). In those two methods, there is no care about the fact that there are errors introduced by the fact that the floating points you are working with are with fixed precision. In particular, with floating points, the result of `x+y` is *not* the sum `x` + `y` but only an approximation of it. I really think that it should be reimplemented either using real interval fields (it will make it slower but at least you get a proven answer).



---

archive/issue_comments_169806.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nfixed: 1,2,3,4,7\n\n5 - is two separate issues for other tickets\n\n6 - since the methods depends on both points I didn't think it mattered. I can see a preference for the code in morphism. If this is a strong preference for Sage users, then open a separate ticket to move this.\n\n8 - also an issue for a separate ticket",
    "created_at": "2013-11-08T23:01:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169806",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:18" align="right">comment:18</div>

fixed: 1,2,3,4,7

5 - is two separate issues for other tickets

6 - since the methods depends on both points I didn't think it mattered. I can see a preference for the code in morphism. If this is a strong preference for Sage users, then open a separate ticket to move this.

8 - also an issue for a separate ticket



---

archive/issue_events_201180.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-11-10T00:55:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201180"
}
```



---

archive/issue_events_201181.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2013-11-10T00:55:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201181"
}
```



---

archive/issue_events_201182.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2013-11-10T16:41:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201182"
}
```



---

archive/issue_events_201183.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2013-11-10T16:41:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201183"
}
```



---

archive/issue_comments_169807.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThe multiplier (and multipliermod) functions should have a check that the point P does have period n.",
    "created_at": "2013-11-10T16:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169807",
    "user": "https://github.com/sagetrac-atowsley"
}
```

<div id="comment:20" align="right">comment:20</div>

The multiplier (and multipliermod) functions should have a check that the point P does have period n.



---

archive/issue_comments_169808.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHere are a few more comments:\n\n1) Please remove debugging code from lines 1865-1968.\n\n2) It would be helpful to have some more comments to the code for the Henzel lifting to make it easier to read.\n\n3) Use is_endomorphism() where possible. Lines 2044, 2138, and 2199.\n\n4) I think it would be clearer if the rational_preimages and all_rational_preimages were written in that order. That is the reverse of how they appear now.\n\n5) Line 2145 the set 'preperiodic' as the name is misleading. Maybe 'all_preimages' would be better?\n\n6) More comments on the Groebner basis code would be nice.\n\n7) You should consider caching the functions rational_preperiodic_points and rational_periodic_points.",
    "created_at": "2013-11-10T17:30:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169808",
    "user": "https://github.com/sagetrac-atowsley"
}
```

<div id="comment:21" align="right">comment:21</div>

Here are a few more comments:

1) Please remove debugging code from lines 1865-1968.

2) It would be helpful to have some more comments to the code for the Henzel lifting to make it easier to read.

3) Use is_endomorphism() where possible. Lines 2044, 2138, and 2199.

4) I think it would be clearer if the rational_preimages and all_rational_preimages were written in that order. That is the reverse of how they appear now.

5) Line 2145 the set 'preperiodic' as the name is misleading. Maybe 'all_preimages' would be better?

6) More comments on the Groebner basis code would be nice.

7) You should consider caching the functions rational_preperiodic_points and rational_periodic_points.



---

archive/issue_comments_169809.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nMultiplier check added for the (2)-previous comment. I added a parameter to specify whether to do this or not as this function is called many times for `rational_periodic` and it would be better not to check if you known the input is good.\n\n1,2,3,4,5,6 all done\n\n7) Not possible since the points are rational projective points and they are not hashable (only hashable over finite fields)\n\nI also changed the mrange to xmrange in `lift_to_rational` to help improve the higher dimension performance.",
    "created_at": "2013-11-10T18:12:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169809",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:22" align="right">comment:22</div>

Multiplier check added for the (2)-previous comment. I added a parameter to specify whether to do this or not as this function is called many times for `rational_periodic` and it would be better not to check if you known the input is good.

1,2,3,4,5,6 all done

7) Not possible since the points are rational projective points and they are not hashable (only hashable over finite fields)

I also changed the mrange to xmrange in `lift_to_rational` to help improve the higher dimension performance.



---

archive/issue_comments_169810.json:
```json
{
    "body": "changes made",
    "created_at": "2013-11-10T18:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169810",
    "user": "https://github.com/bhutz"
}
```

changes made



---

archive/issue_comments_169811.json:
```json
{
    "body": "Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Adam Towsley**",
    "created_at": "2013-11-12T15:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169811",
    "user": "https://github.com/sagetrac-atowsley"
}
```

Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Adam Towsley**



---

archive/issue_comments_169812.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAttachment: **[trac_14219_rational_preperiodic.patch.gz](https://github.com/sagemath/sage/files/ticket14219/trac_14219_rational_preperiodic.patch.gz)**\n\nAll tests passed. Everything looks good.",
    "created_at": "2013-11-12T15:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169812",
    "user": "https://github.com/sagetrac-atowsley"
}
```

<div id="comment:23" align="right">comment:23</div>

Attachment: **[trac_14219_rational_preperiodic.patch.gz](https://github.com/sagemath/sage/files/ticket14219/trac_14219_rational_preperiodic.patch.gz)**

All tests passed. Everything looks good.



---

archive/issue_events_201184.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2013-11-12T15:34:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201184"
}
```



---

archive/issue_events_201185.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2013-11-12T15:34:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201185"
}
```



---

archive/issue_comments_169813.json:
```json
{
    "body": "Merged: **sage-5.13.beta4**",
    "created_at": "2013-11-22T15:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169813",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.13.beta4**



---

archive/issue_events_201186.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-22T15:49:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201186"
}
```



---

archive/issue_events_201187.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-11-22T15:49:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14219#event-201187"
}
```



---

archive/issue_comments_169814.json:
```json
{
    "body": "Changed author from **Ben Hutz** to **Benjamin Hutz**",
    "created_at": "2013-12-15T08:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169814",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Ben Hutz** to **Benjamin Hutz**



---

archive/issue_comments_169815.json:
```json
{
    "body": "Changed author from **Benjamin Hutz** to **Ben Hutz**",
    "created_at": "2016-04-15T20:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14219",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14219#issuecomment-169815",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Benjamin Hutz** to **Ben Hutz**
