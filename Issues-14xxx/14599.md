# Issue 14599: Allow custom fill endpoints in a filled plot

archive/issues_014395.json:
```json
{
    "body": "In [this ask.sagemath question](http://ask.sagemath.org/question/943/in-sage-plot-fill-the-area-under-a-curve-between), the issue is raised whether\n\n```\nsage: f = x*(x-1)*(x-2)+1\nsage: p = plot(f, 0.5, 1.5, fill=True) + plot(f, 0, 2)\n```\nshould be doable in a single command, such as with a `fillxmin`/`fillxmax` keyword (or some better name).\n\nAssignee: jason, was\n\nCC:  dsm @vbraun\n\nAuthor: Sergey Bykov\n\nBranch: u/captaintrunky/allow_custom_fill_endpoints_in_a_filled_plot\n\nStatus: needs_work\n\nCommit: 2f0fdcbbf72151007f9cd149fa4b12fdfcb8b141\n\nIssue created by migration from https://trac.sagemath.org/ticket/14599\n\n",
    "created_at": "2013-05-16T18:35:28Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Allow custom fill endpoints in a filled plot",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14599",
    "user": "https://github.com/kcrisman"
}
```
In [this ask.sagemath question](http://ask.sagemath.org/question/943/in-sage-plot-fill-the-area-under-a-curve-between), the issue is raised whether

```
sage: f = x*(x-1)*(x-2)+1
sage: p = plot(f, 0.5, 1.5, fill=True) + plot(f, 0, 2)
```
should be doable in a single command, such as with a `fillxmin`/`fillxmax` keyword (or some better name).

Assignee: jason, was

CC:  dsm @vbraun

Author: Sergey Bykov

Branch: u/captaintrunky/allow_custom_fill_endpoints_in_a_filled_plot

Status: needs_work

Commit: 2f0fdcbbf72151007f9cd149fa4b12fdfcb8b141

Issue created by migration from https://trac.sagemath.org/ticket/14599





---

archive/issue_events_055629.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14599#event-55629"
}
```



---

archive/issue_events_055630.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14599#event-55630"
}
```



---

archive/issue_events_055631.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14599#event-55631"
}
```



---

archive/issue_events_055632.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14599#event-55632"
}
```



---

archive/issue_events_055633.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14599#event-55633"
}
```



---

archive/issue_events_055634.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14599#event-55634"
}
```



---

archive/issue_events_055635.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14599#event-55635"
}
```



---

archive/issue_comments_224364.json:
```json
{
    "body": "Changing branch from \"\" to \"u/captaintrunky/allow_custom_fill_endpoints_in_a_filled_plot\"",
    "created_at": "2014-11-11T21:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224364",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing branch from "" to "u/captaintrunky/allow_custom_fill_endpoints_in_a_filled_plot"



---

archive/issue_comments_224365.json:
```json
{
    "body": "<a id='comment:6'></a>\nNew commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[c4cbac3](https://github.com/sagemath/sagetrac-mirror/commit/c4cbac3e55cb495b3dc978e066b456ca2ce0bee9)|`Added custom endpoints in a filled plot`|",
    "created_at": "2014-11-11T21:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224365",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

<a id='comment:6'></a>
New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[c4cbac3](https://github.com/sagemath/sagetrac-mirror/commit/c4cbac3e55cb495b3dc978e066b456ca2ce0bee9)|`Added custom endpoints in a filled plot`|



---

archive/issue_comments_224366.json:
```json
{
    "body": "Changing author from \"\" to \"Sergey Bykov\"",
    "created_at": "2014-11-11T21:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224366",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing author from "" to "Sergey Bykov"



---

archive/issue_comments_224367.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-11T21:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224367",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_224368.json:
```json
{
    "body": "Changing commit from \"\" to \"c4cbac3e55cb495b3dc978e066b456ca2ce0bee9\"",
    "created_at": "2014-11-11T21:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224368",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing commit from "" to "c4cbac3e55cb495b3dc978e066b456ca2ce0bee9"



---

archive/issue_comments_224369.json:
```json
{
    "body": "<a id='comment:7'></a>\nThis is great that you are working on this!  I don't see any obvious problems in the code, though I won't be able to look at it more carefully right now.  My first thought, though, is what happens with parametric plots?  Somehow their fill \"magically\" works right, and I'm wondering what the behavior might be with this keyword.",
    "created_at": "2014-11-11T21:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224369",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>
This is great that you are working on this!  I don't see any obvious problems in the code, though I won't be able to look at it more carefully right now.  My first thought, though, is what happens with parametric plots?  Somehow their fill "magically" works right, and I'm wondering what the behavior might be with this keyword.



---

archive/issue_comments_224370.json:
```json
{
    "body": "Changing commit from \"c4cbac3e55cb495b3dc978e066b456ca2ce0bee9\" to \"4c8dc263618a4d9095c245d259bf5d9fced3b2ca\"",
    "created_at": "2014-11-12T17:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224370",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c4cbac3e55cb495b3dc978e066b456ca2ce0bee9" to "4c8dc263618a4d9095c245d259bf5d9fced3b2ca"



---

archive/issue_comments_224371.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[4c8dc26](https://github.com/sagemath/sagetrac-mirror/commit/4c8dc263618a4d9095c245d259bf5d9fced3b2ca)|`Fixed fill for parametric curves`|",
    "created_at": "2014-11-12T17:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224371",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[4c8dc26](https://github.com/sagemath/sagetrac-mirror/commit/4c8dc263618a4d9095c245d259bf5d9fced3b2ca)|`Fixed fill for parametric curves`|



---

archive/issue_comments_224372.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [kcrisman](#comment%3A7):\n> This is great that you are working on this!  I don't see any obvious problems in the code, though I won't be able to look at it more carefully right now.  My first thought, though, is what happens with parametric plots?  Somehow their fill \"magically\" works right, and I'm wondering what the behavior might be with this keyword.\n\nThanks for the feedback. You were right, there was some weird staff with parametric curves. It seems to work fine now, but these new custom endpoints definitely require some additional checks. However, I couldn't break it with my test suite, which contains a set of well-known curves.",
    "created_at": "2014-11-12T17:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224372",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

<a id='comment:9'></a>
Replying to [kcrisman](#comment%3A7):
> This is great that you are working on this!  I don't see any obvious problems in the code, though I won't be able to look at it more carefully right now.  My first thought, though, is what happens with parametric plots?  Somehow their fill "magically" works right, and I'm wondering what the behavior might be with this keyword.

Thanks for the feedback. You were right, there was some weird staff with parametric curves. It seems to work fine now, but these new custom endpoints definitely require some additional checks. However, I couldn't break it with my test suite, which contains a set of well-known curves.



---

archive/issue_comments_224373.json:
```json
{
    "body": "<a id='comment:10'></a>\nHmm, maybe you can add some of those to the tests/examples; at any rate, currently your branch has only one *non*-example, not examples of how to use this.  Or, if you have a pretty extensive suite, there are a couple testing-only files out there that could be added to - we love tests!",
    "created_at": "2014-11-12T18:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224373",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
Hmm, maybe you can add some of those to the tests/examples; at any rate, currently your branch has only one *non*-example, not examples of how to use this.  Or, if you have a pretty extensive suite, there are a couple testing-only files out there that could be added to - we love tests!



---

archive/issue_comments_224374.json:
```json
{
    "body": "Changing commit from \"4c8dc263618a4d9095c245d259bf5d9fced3b2ca\" to \"2f0fdcbbf72151007f9cd149fa4b12fdfcb8b141\"",
    "created_at": "2014-11-13T19:21:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224374",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4c8dc263618a4d9095c245d259bf5d9fced3b2ca" to "2f0fdcbbf72151007f9cd149fa4b12fdfcb8b141"



---

archive/issue_comments_224375.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[2f0fdcb](https://github.com/sagemath/sagetrac-mirror/commit/2f0fdcbbf72151007f9cd149fa4b12fdfcb8b141)|`Adds some examples of custom fill endpoints`|",
    "created_at": "2014-11-13T19:21:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[2f0fdcb](https://github.com/sagemath/sagetrac-mirror/commit/2f0fdcbbf72151007f9cd149fa4b12fdfcb8b141)|`Adds some examples of custom fill endpoints`|



---

archive/issue_comments_224376.json:
```json
{
    "body": "<a id='comment:12'></a>\nLook at the following interesting behavior.\n\n```\nsage: plot([x^3,x^2,x], xmin=0, xmax=4, fill={0:[1], 1:1, 2:1-x}, fillxmin=1, fillxmax=2)\n```\nIt's definitely obeying the `fillxmax` but not in the way one might expect.\n\nSimilarly, I'm not sure that\n\n```\nsage: plot((cos(x),sin(x)), xmin=0, xmax=2*pi, parametric=True, fill=True, fillxmin=0.5)\n```\nis behaving as expected.\n\nAnd I'm completely flummoxed as to why\n\n```\nsage: plot((cos(x),sin(x)), xmin=0, xmax=2*pi, parametric=True, fill=True, fillxmin=1)\n<boom>\nKeyError: 'text/plain'\n```\ndue to the new display hook stuff!\n\nOne possible workaround would be to disallow the custom fill (for now) in parametric plots (i.e. raise an error) and make that a new ticket.  I do think that the first 'bad' example should be dealt with, though.",
    "created_at": "2015-02-04T00:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224376",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
Look at the following interesting behavior.

```
sage: plot([x^3,x^2,x], xmin=0, xmax=4, fill={0:[1], 1:1, 2:1-x}, fillxmin=1, fillxmax=2)
```
It's definitely obeying the `fillxmax` but not in the way one might expect.

Similarly, I'm not sure that

```
sage: plot((cos(x),sin(x)), xmin=0, xmax=2*pi, parametric=True, fill=True, fillxmin=0.5)
```
is behaving as expected.

And I'm completely flummoxed as to why

```
sage: plot((cos(x),sin(x)), xmin=0, xmax=2*pi, parametric=True, fill=True, fillxmin=1)
<boom>
KeyError: 'text/plain'
```
due to the new display hook stuff!

One possible workaround would be to disallow the custom fill (for now) in parametric plots (i.e. raise an error) and make that a new ticket.  I do think that the first 'bad' example should be dealt with, though.



---

archive/issue_comments_224377.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-02-04T00:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224377",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_224378.json:
```json
{
    "body": "<a id='comment:13'></a>\nthe problem is probably that the plot object is invalid (it can't actually show a plot). Because there is insufficient validation this only causes issues later when you actually try to plot it.",
    "created_at": "2015-02-04T01:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224378",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
the problem is probably that the plot object is invalid (it can't actually show a plot). Because there is insufficient validation this only causes issues later when you actually try to plot it.



---

archive/issue_comments_224379.json:
```json
{
    "body": "<a id='comment:14'></a>\nHmm, that makes sense.  I have to say that the error is a little cryptic.",
    "created_at": "2015-02-04T01:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224379",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
Hmm, that makes sense.  I have to say that the error is a little cryptic.



---

archive/issue_comments_224380.json:
```json
{
    "body": "<a id='comment:15'></a>\nRemoving the \"beginner\" tag from old tickets. Some could be returned to beginner-friendly status by adding a comment about what needs to be done. Some others might be easy for an experienced developer to finish.",
    "created_at": "2020-05-27T03:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224380",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:15'></a>
Removing the "beginner" tag from old tickets. Some could be returned to beginner-friendly status by adding a comment about what needs to be done. Some others might be easy for an experienced developer to finish.



---

archive/issue_comments_224381.json:
```json
{
    "body": "Changing keywords from \"beginner\" to \"\".",
    "created_at": "2020-05-27T03:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14599",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14599#issuecomment-224381",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing keywords from "beginner" to "".
