# Issue 14136: P-partition enumerators in QSym

archive/issues_013932.json:
```json
{
    "body": "Or did someone already implement them?\n\nHere's my code. Its weakest point is probably the input; instead of an actual pair of a poset and a map from its elements to {1,2,3,...}, it takes a pair of a poset and a linear order on it represented as a tuple of its elements. (See docstring for details. By the way, I'm hoping the LaTeX does work... no idea how to check that.)\n\nApply: \n* [attachment:trac_14136-p_partition_enumerator_folded.patch]\n\n**Assignee:** sage-combinat\n\n**CC:**  @saliola\n\n**Keywords:** QSym, P-partitions, posets, days45, days49\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw\n\n**Author:** Darij Grinberg\n\n**Merged:** sage-5.12.beta2\n\n**Dependencies:** #14748\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14136\n\n",
    "closed_at": "2013-08-16T21:17:47Z",
    "created_at": "2013-02-15T19:20:33Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "P-partition enumerators in QSym",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14136",
    "user": "https://github.com/darijgr"
}
```
Or did someone already implement them?

Here's my code. Its weakest point is probably the input; instead of an actual pair of a poset and a map from its elements to {1,2,3,...}, it takes a pair of a poset and a linear order on it represented as a tuple of its elements. (See docstring for details. By the way, I'm hoping the LaTeX does work... no idea how to check that.)

Apply: 
* [attachment:trac_14136-p_partition_enumerator_folded.patch]

**Assignee:** sage-combinat

**CC:**  @saliola

**Keywords:** QSym, P-partitions, posets, days45, days49

**Reviewer:** Frédéric Chapoton, Travis Scrimshaw

**Author:** Darij Grinberg

**Merged:** sage-5.12.beta2

**Dependencies:** #14748

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/14136





---

archive/issue_comments_221741.json:
```json
{
    "body": "P-partition enumerators for QSym",
    "created_at": "2013-02-15T19:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221741",
    "user": "https://github.com/darijgr"
}
```

P-partition enumerators for QSym



---

archive/issue_comments_221742.json:
```json
{
    "body": "**Changing keywords** from \"QSym, P-partitions, posets\" to \"QSym, P-partitions, posets, days45\".",
    "created_at": "2013-02-15T19:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221742",
    "user": "https://github.com/darijgr"
}
```

**Changing keywords** from "QSym, P-partitions, posets" to "QSym, P-partitions, posets, days45".



---

archive/attachments_019070.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "ppart.py",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14136/ppart.py",
    "created_at": "2013-02-15T19:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.py",
    "user": "https://github.com/darijgr"
}
```



---

archive/issue_comments_221743.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2013-02-15T19:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221743",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:1'></a>




---

archive/issue_comments_221744.json:
```json
{
    "body": "<a id='comment:3'></a>\nYou need to choose where to put this function :\n\n- as a method of finite posets ?\n- as a method of Quasisymmetric functions ?\n\nOnce this choice is made, please upload a patch rather than a python file\n\nYou need a white line after the EXAMPLES::",
    "created_at": "2013-04-29T16:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221744",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
You need to choose where to put this function :

- as a method of finite posets ?
- as a method of Quasisymmetric functions ?

Once this choice is made, please upload a patch rather than a python file

You need a white line after the EXAMPLES::



---

archive/issue_comments_221745.json:
```json
{
    "body": "<a id='comment:4'></a>\nhere is a patch. There remains a deprecation warning that need to be taken care of.",
    "created_at": "2013-04-30T16:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221745",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
here is a patch. There remains a deprecation warning that need to be taken care of.



---

archive/issue_comments_221746.json:
```json
{
    "body": "<a id='comment:5'></a>\nThank you, Fr\u00e9d\u00e9ric! What exactly is deprecated? (I'm at work now so I can't compile.)",
    "created_at": "2013-04-30T16:39:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221746",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:5'></a>
Thank you, Frédéric! What exactly is deprecated? (I'm at work now so I can't compile.)



---

archive/issue_comments_221747.json:
```json
{
    "body": "<a id='comment:6'></a>\nnew patch, better doc, almost pass tests, but I have not been able to solve this deprecation problem.\n\nIt may come from the line QR=QuasiSymmetric(R).",
    "created_at": "2013-04-30T19:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221747",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
new patch, better doc, almost pass tests, but I have not been able to solve this deprecation problem.

It may come from the line QR=QuasiSymmetric(R).



---

archive/issue_comments_221748.json:
```json
{
    "body": "<a id='comment:7'></a>\nI confirm that the DeprecationWarning comes from the line\n\n```\nQR = QuasiSymmetricFunctions(R)\n```\nBut I am not able so far to understand exactly what the problem is.",
    "created_at": "2013-05-05T18:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221748",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
I confirm that the DeprecationWarning comes from the line

```
QR = QuasiSymmetricFunctions(R)
```
But I am not able so far to understand exactly what the problem is.



---

archive/issue_comments_221749.json:
```json
{
    "body": "<a id='comment:8'></a>\nhg is driving me nuts...\n\n```\ndarij@travis-virtualbox:~/sage-5.9.rc1$ hg qpush -v\napplying trac_14136_p_partition_enumerator_v1.patch\n[Errno 20] Not a directory: '/home/darij/sage-5.9.rc1/sage/combinat/posets/posets.py'\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh trac_14136_p_partition_enumerator_v1.patch\ndarij@travis-virtualbox:~/sage-5.9.rc1$ \n```\n\nI was trying to install the patch on a fresh sage-5.9rc1, main branch (due to QSym being involved).\n\nEDIT: Oh... should I just manually replace \"combinat\" by \"sage\" in the patch file?",
    "created_at": "2013-05-06T00:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221749",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:8'></a>
hg is driving me nuts...

```
darij@travis-virtualbox:~/sage-5.9.rc1$ hg qpush -v
applying trac_14136_p_partition_enumerator_v1.patch
[Errno 20] Not a directory: '/home/darij/sage-5.9.rc1/sage/combinat/posets/posets.py'
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_14136_p_partition_enumerator_v1.patch
darij@travis-virtualbox:~/sage-5.9.rc1$ 
```

I was trying to install the patch on a fresh sage-5.9rc1, main branch (due to QSym being involved).

EDIT: Oh... should I just manually replace "combinat" by "sage" in the patch file?



---

archive/issue_comments_221750.json:
```json
{
    "body": "<a id='comment:9'></a>\nyou should be in '/home/darij/sage-5.9.rc1/devel/sage-main' to use hg",
    "created_at": "2013-05-06T07:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221750",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
you should be in '/home/darij/sage-5.9.rc1/devel/sage-main' to use hg



---

archive/attachments_019071.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14136_p_partition_enumerator_v1.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14136/trac_14136_p_partition_enumerator_v1.patch",
    "created_at": "2013-05-08T20:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_221751.json:
```json
{
    "body": "",
    "created_at": "2013-05-08T20:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221751",
    "user": "https://github.com/fchapoton"
}
```





---

archive/issue_comments_221752.json:
```json
{
    "body": "<a id='comment:10'></a>\nstill the same failing doctest with 5.10.beta1 ..",
    "created_at": "2013-05-08T20:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221752",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
still the same failing doctest with 5.10.beta1 ..



---

archive/issue_comments_221753.json:
```json
{
    "body": "<a id='comment:11'></a>\nThanks for the help with hg!!\n\nI can confirm the annoying `     doctest:201: DeprecationWarning: object.__init__() takes no parameters ` in response to ` QR = QuasiSymmetricFunctions(R) ` (unless there is some delay between the causing of the bug and the message). I'm using sage-main, so the breakage of QSym is out of question. No idea where it comes from...",
    "created_at": "2013-05-09T03:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221753",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:11'></a>
Thanks for the help with hg!!

I can confirm the annoying `     doctest:201: DeprecationWarning: object.__init__() takes no parameters ` in response to ` QR = QuasiSymmetricFunctions(R) ` (unless there is some delay between the causing of the bug and the message). I'm using sage-main, so the breakage of QSym is out of question. No idea where it comes from...



---

archive/attachments_019072.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14136-p_partition_enumerator-review-ts.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14136/trac_14136-p_partition_enumerator-review-ts.patch",
    "created_at": "2013-05-09T16:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_221754.json:
```json
{
    "body": "<a id='comment:12'></a>\nI've uploaded a small review patch which does some additional tweaks to the documentation and removes the print statements. I'm also getting the same error, and even adding this method above it:\n\n```\ndef test(self, R):\n    \"\"\"\n    EXAMPLES::\n\n        sage: P = Poset([[],[]])\n        sage: P.test(QQ)\n    \"\"\"\n    from sage.combinat.ncsf_qsym.qsym import QuasiSymmetricFunctions\n    return QuasiSymmetricFunctions(R)\n```\nthe error gets pushed into this method. I'm thinking we should post something to sage-devel about this (since the error cannot be reproduced in sage), and as a possible solution, just copy the output of the doctest with a comment about it basically saying we have no idea what is happening.\n\nBest,\n\nTravis",
    "created_at": "2013-05-09T16:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221754",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
I've uploaded a small review patch which does some additional tweaks to the documentation and removes the print statements. I'm also getting the same error, and even adding this method above it:

```
def test(self, R):
    """
    EXAMPLES::

        sage: P = Poset([[],[]])
        sage: P.test(QQ)
    """
    from sage.combinat.ncsf_qsym.qsym import QuasiSymmetricFunctions
    return QuasiSymmetricFunctions(R)
```
the error gets pushed into this method. I'm thinking we should post something to sage-devel about this (since the error cannot be reproduced in sage), and as a possible solution, just copy the output of the doctest with a comment about it basically saying we have no idea what is happening.

Best,

Travis



---

archive/issue_comments_221755.json:
```json
{
    "body": "<a id='comment:13'></a>\nHello, thanks for getting involved in this patch. \n\nHave you asked the question on sage-devel ?\n\nYou have introduced a typo \"parition\" in your review patch.",
    "created_at": "2013-05-09T17:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221755",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
Hello, thanks for getting involved in this patch. 

Have you asked the question on sage-devel ?

You have introduced a typo "parition" in your review patch.



---

archive/issue_comments_221756.json:
```json
{
    "body": "<a id='comment:14'></a>\nHey,\n\nHere's the topic:\n\nhttps://groups.google.com/forum/?fromgroups#!topic/sage-devel/wQoCEeKrZ3w\n\nI'll fix the typo once we figure out what to do with the deprecation warning.",
    "created_at": "2013-05-09T23:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221756",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
Hey,

Here's the topic:

https://groups.google.com/forum/?fromgroups#!topic/sage-devel/wQoCEeKrZ3w

I'll fix the typo once we figure out what to do with the deprecation warning.



---

archive/issue_comments_221757.json:
```json
{
    "body": "**Changing status** from new to needs_info.",
    "created_at": "2013-05-09T23:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221757",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_info.



---

archive/issue_comments_221758.json:
```json
{
    "body": "<a id='comment:15'></a>\nWithout the patches, there does appear to be deprecations associated with the `QuasiSymmetricFunctions` class that points to\n\n```\nDeprecationWarning: object.__init__() takes no parameters\n```\nA Traceback of the warning may be obtained by converting warnings to errors, i.e.\n\n```\nsage: import warnings\nsage: warnings.simplefilter('error', DeprecationWarning)\nsage: QuasiSymmetricFunctions(QQ)\n```\nwhich is fairly lengthy. It is curious that the patches now *expose* the warning. FWIW, the `SymmetricFunctions` class doesn't exhibit the warning:\n\n```\nsage: import warnings                                   \nsage: warnings.simplefilter('error', DeprecationWarning)\nsage: SymmetricFunctions(QQ)                            \nSymmetric Functions over Rational Field\n```",
    "created_at": "2013-05-11T00:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221758",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:15'></a>
Without the patches, there does appear to be deprecations associated with the `QuasiSymmetricFunctions` class that points to

```
DeprecationWarning: object.__init__() takes no parameters
```
A Traceback of the warning may be obtained by converting warnings to errors, i.e.

```
sage: import warnings
sage: warnings.simplefilter('error', DeprecationWarning)
sage: QuasiSymmetricFunctions(QQ)
```
which is fairly lengthy. It is curious that the patches now *expose* the warning. FWIW, the `SymmetricFunctions` class doesn't exhibit the warning:

```
sage: import warnings                                   
sage: warnings.simplefilter('error', DeprecationWarning)
sage: SymmetricFunctions(QQ)                            
Symmetric Functions over Rational Field
```



---

archive/issue_comments_221759.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [strogdon](#comment%3A15):\n> Without the patches, there does appear to be deprecations associated with the `QuasiSymmetricFunctions` class that points to\n> \n> ```\n> DeprecationWarning: object.__init__() takes no parameters\n> ```\n\n\nWhere/how did you see this? In particular, was this placed in another doctest somewhere?\n\n> A Traceback of the warning may be obtained by converting warnings to errors, i.e.\n> \n> ```\n> sage: import warnings\n> sage: warnings.simplefilter('error', DeprecationWarning)\n> sage: QuasiSymmetricFunctions(QQ)\n> ```\n> which is fairly lengthy. It is curious that the patches now *expose* the warning. FWIW, the `SymmetricFunctions` class doesn't exhibit the warning:\n> \n> ```\n> sage: import warnings                                   \n> sage: warnings.simplefilter('error', DeprecationWarning)\n> sage: SymmetricFunctions(QQ)                            \n> Symmetric Functions over Rational Field\n> ```\n\n\nHmmm, I didn't know that (kinda cool). I'll take a look at it. Thanks.",
    "created_at": "2013-05-11T19:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221759",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Replying to [strogdon](#comment%3A15):
> Without the patches, there does appear to be deprecations associated with the `QuasiSymmetricFunctions` class that points to
> 
> ```
> DeprecationWarning: object.__init__() takes no parameters
> ```


Where/how did you see this? In particular, was this placed in another doctest somewhere?

> A Traceback of the warning may be obtained by converting warnings to errors, i.e.
> 
> ```
> sage: import warnings
> sage: warnings.simplefilter('error', DeprecationWarning)
> sage: QuasiSymmetricFunctions(QQ)
> ```
> which is fairly lengthy. It is curious that the patches now *expose* the warning. FWIW, the `SymmetricFunctions` class doesn't exhibit the warning:
> 
> ```
> sage: import warnings                                   
> sage: warnings.simplefilter('error', DeprecationWarning)
> sage: SymmetricFunctions(QQ)                            
> Symmetric Functions over Rational Field
> ```


Hmmm, I didn't know that (kinda cool). I'll take a look at it. Thanks.



---

archive/issue_comments_221760.json:
```json
{
    "body": "<a id='comment:17'></a>\nHere's the backtrace I got:\n\n```\nFile \"posets.py\", line 3271, in sage.combinat.posets.posets.FinitePoset.p_partition_enumerator\nFailed example:\n    FP = P.p_partition_enumerator((3,1,2,4), QQ, check=True); FP\nException raised:\n    Traceback (most recent call last):\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 466, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 825, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.posets.posets.FinitePoset.p_partition_enumerator[3]>\", line 1, in <module>\n        FP = P.p_partition_enumerator((Integer(3),Integer(1),Integer(2),Integer(4)), QQ, check=True); FP\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/posets/posets.py\", line 3288, in p_partition_enumerator\n        QR = QuasiSymmetricFunctions(R)\n      File \"classcall_metaclass.pyx\", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:977)\n      File \"cachefunc.pyx\", line 992, in sage.misc.cachefunc.WeakCachedFunction.__call__ (sage/misc/cachefunc.c:5175)\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/structure/unique_representation.py\", line 447, in `__classcall__`\n        instance = typecall(cls, *args, **options)\n      File \"classcall_metaclass.pyx\", line 518, in sage.misc.classcall_metaclass.typecall (sage/misc/classcall_metaclass.c:1339)\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/ncsf_qsym/qsym.py\", line 427, in `__init__`\n        Parent.__init__(self, category = category.WithRealizations())\n      File \"parent.pyx\", line 339, in sage.structure.parent.Parent.__init__ (sage/structure/parent.c:4095)\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/categories/algebras.py\", line 159, in `__init_extra__`\n        one = self.one()\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/categories/monoids.py\", line 270, in one\n        return self.a_realization().one()\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/ncsf_qsym/qsym.py\", line 480, in a_realization\n        return self.Monomial()\n      File \"classcall_metaclass.pyx\", line 429, in sage.misc.classcall_metaclass.ClasscallMetaclass.__get__ (sage/misc/classcall_metaclass.c:1106)\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/bindable_class.py\", line 152, in `__classget__`\n        return BoundClass(cls, instance)\n      File \"/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/bindable_class.py\", line 201, in `__init__`\n        super(BoundClass, self).__init__(*args)\n    DeprecationWarning: object.__init__() takes no parameters\n```\nIt seems like the `BoundClass` (of `Monomial`) is calling up to the base `object` and at this point I don't understand why.",
    "created_at": "2013-05-12T07:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221760",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>
Here's the backtrace I got:

```
File "posets.py", line 3271, in sage.combinat.posets.posets.FinitePoset.p_partition_enumerator
Failed example:
    FP = P.p_partition_enumerator((3,1,2,4), QQ, check=True); FP
Exception raised:
    Traceback (most recent call last):
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 466, in _run
        self.execute(example, compiled, test.globs)
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 825, in execute
        exec compiled in globs
      File "<doctest sage.combinat.posets.posets.FinitePoset.p_partition_enumerator[3]>", line 1, in <module>
        FP = P.p_partition_enumerator((Integer(3),Integer(1),Integer(2),Integer(4)), QQ, check=True); FP
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/posets/posets.py", line 3288, in p_partition_enumerator
        QR = QuasiSymmetricFunctions(R)
      File "classcall_metaclass.pyx", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:977)
      File "cachefunc.pyx", line 992, in sage.misc.cachefunc.WeakCachedFunction.__call__ (sage/misc/cachefunc.c:5175)
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/structure/unique_representation.py", line 447, in `__classcall__`
        instance = typecall(cls, *args, **options)
      File "classcall_metaclass.pyx", line 518, in sage.misc.classcall_metaclass.typecall (sage/misc/classcall_metaclass.c:1339)
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/ncsf_qsym/qsym.py", line 427, in `__init__`
        Parent.__init__(self, category = category.WithRealizations())
      File "parent.pyx", line 339, in sage.structure.parent.Parent.__init__ (sage/structure/parent.c:4095)
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/categories/algebras.py", line 159, in `__init_extra__`
        one = self.one()
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/categories/monoids.py", line 270, in one
        return self.a_realization().one()
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/ncsf_qsym/qsym.py", line 480, in a_realization
        return self.Monomial()
      File "classcall_metaclass.pyx", line 429, in sage.misc.classcall_metaclass.ClasscallMetaclass.__get__ (sage/misc/classcall_metaclass.c:1106)
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/bindable_class.py", line 152, in `__classget__`
        return BoundClass(cls, instance)
      File "/home/travis/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/bindable_class.py", line 201, in `__init__`
        super(BoundClass, self).__init__(*args)
    DeprecationWarning: object.__init__() takes no parameters
```
It seems like the `BoundClass` (of `Monomial`) is calling up to the base `object` and at this point I don't understand why.



---

archive/issue_comments_221761.json:
```json
{
    "body": "<a id='comment:18'></a>\nThere seems to be one other place in Sage where `QuasiSymmetricFunctions()` is called in the same manner as in p_partition_enumerator - in devel/sage/sage/combinat/dyck_word.py where when doctesting there is no apparent `DeprecationWarning`. However, after converting warnings to exceptions I get the following backtrace:\n\n```\nFile \"devel/sage/sage/combinat/dyck_word.py\", line 1542, in sage.combinat.dyck_word.DyckWord_complete.characteristic_symmetric_function\nFailed example:\n    f = sum(t**D.area()*D.characteristic_symmetric_function() for D in DyckWords(3)); f\nException raised:\n    Traceback (most recent call last):\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 466, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 825, in execute\n        exec compiled in globs\n      File \"<doctest sage.combinat.dyck_word.DyckWord_complete.characteristic_symmetric_function[2]>\", line 1, in <module>\n        f = sum(t**D.area()*D.characteristic_symmetric_function() for D in DyckWords(Integer(3))); f\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/functional.py\", line 656, in symbolic_sum\n        return sum(expression, *args)\n      File \"<doctest sage.combinat.dyck_word.DyckWord_complete.characteristic_symmetric_function[2]>\", line 1, in <genexpr>\n        f = sum(t**D.area()*D.characteristic_symmetric_function() for D in DyckWords(Integer(3))); f\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/dyck_word.py\", line 1556, in characteristic_symmetric_function\n        F = QuasiSymmetricFunctions(R).Fundamental()\n      File \"classcall_metaclass.pyx\", line 279, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:932)\n      File \"cachefunc.pyx\", line 992, in sage.misc.cachefunc.WeakCachedFunction.__call__ (sage/misc/cachefunc.c:5175)\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/structure/unique_representation.py\", line 447, in `__classcall__`\n        instance = typecall(cls, *args, **options)\n      File \"classcall_metaclass.pyx\", line 467, in sage.misc.classcall_metaclass.typecall (sage/misc/classcall_metaclass.c:1294)\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/ncsf_qsym/qsym.py\", line 427, in `__init__`\n        Parent.__init__(self, category = category.WithRealizations())\n      File \"parent.pyx\", line 339, in sage.structure.parent.Parent.__init__ (sage/structure/parent.c:4095)\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/categories/algebras.py\", line 159, in `__init_extra__`\n        one = self.one()\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/categories/monoids.py\", line 270, in one\n        return self.a_realization().one()\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/ncsf_qsym/qsym.py\", line 480, in a_realization\n        return self.Monomial()\n      File \"classcall_metaclass.pyx\", line 378, in sage.misc.classcall_metaclass.ClasscallMetaclass.__get__ (sage/misc/classcall_metaclass.c:1061)\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/bindable_class.py\", line 152, in `__classget__`\n        return BoundClass(cls, instance)\n      File \"/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/bindable_class.py\", line 201, in `__init__`\n        super(BoundClass, self).__init__(*args)\n    DeprecationWarning: object.__init__() takes no parameters\n```\nThis looks very much like the above backtrace, but of course the `DeprecationWarning` does not present itself under norm doctesting. So something very subtle must be happening.",
    "created_at": "2013-05-16T06:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221761",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:18'></a>
There seems to be one other place in Sage where `QuasiSymmetricFunctions()` is called in the same manner as in p_partition_enumerator - in devel/sage/sage/combinat/dyck_word.py where when doctesting there is no apparent `DeprecationWarning`. However, after converting warnings to exceptions I get the following backtrace:

```
File "devel/sage/sage/combinat/dyck_word.py", line 1542, in sage.combinat.dyck_word.DyckWord_complete.characteristic_symmetric_function
Failed example:
    f = sum(t**D.area()*D.characteristic_symmetric_function() for D in DyckWords(3)); f
Exception raised:
    Traceback (most recent call last):
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 466, in _run
        self.execute(example, compiled, test.globs)
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 825, in execute
        exec compiled in globs
      File "<doctest sage.combinat.dyck_word.DyckWord_complete.characteristic_symmetric_function[2]>", line 1, in <module>
        f = sum(t**D.area()*D.characteristic_symmetric_function() for D in DyckWords(Integer(3))); f
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/functional.py", line 656, in symbolic_sum
        return sum(expression, *args)
      File "<doctest sage.combinat.dyck_word.DyckWord_complete.characteristic_symmetric_function[2]>", line 1, in <genexpr>
        f = sum(t**D.area()*D.characteristic_symmetric_function() for D in DyckWords(Integer(3))); f
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/dyck_word.py", line 1556, in characteristic_symmetric_function
        F = QuasiSymmetricFunctions(R).Fundamental()
      File "classcall_metaclass.pyx", line 279, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:932)
      File "cachefunc.pyx", line 992, in sage.misc.cachefunc.WeakCachedFunction.__call__ (sage/misc/cachefunc.c:5175)
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/structure/unique_representation.py", line 447, in `__classcall__`
        instance = typecall(cls, *args, **options)
      File "classcall_metaclass.pyx", line 467, in sage.misc.classcall_metaclass.typecall (sage/misc/classcall_metaclass.c:1294)
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/ncsf_qsym/qsym.py", line 427, in `__init__`
        Parent.__init__(self, category = category.WithRealizations())
      File "parent.pyx", line 339, in sage.structure.parent.Parent.__init__ (sage/structure/parent.c:4095)
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/categories/algebras.py", line 159, in `__init_extra__`
        one = self.one()
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/categories/monoids.py", line 270, in one
        return self.a_realization().one()
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/combinat/ncsf_qsym/qsym.py", line 480, in a_realization
        return self.Monomial()
      File "classcall_metaclass.pyx", line 378, in sage.misc.classcall_metaclass.ClasscallMetaclass.__get__ (sage/misc/classcall_metaclass.c:1061)
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/bindable_class.py", line 152, in `__classget__`
        return BoundClass(cls, instance)
      File "/storage/sage/sage-5.9.beta5/local/lib/python2.7/site-packages/sage/misc/bindable_class.py", line 201, in `__init__`
        super(BoundClass, self).__init__(*args)
    DeprecationWarning: object.__init__() takes no parameters
```
This looks very much like the above backtrace, but of course the `DeprecationWarning` does not present itself under norm doctesting. So something very subtle must be happening.



---

archive/issue_comments_221762.json:
```json
{
    "body": "<a id='comment:19'></a>\nFor the records, here is where the warning comes from. The BindableClass things\nuses a class BoundClass that inherit from functools.partial. And there seems to be an issue there:\n\n```\n    sage: import warnings\n    sage: warnings.simplefilter('error', DeprecationWarning)\n    sage: import functools\n    sage: def f(x): return x\n    sage: g = functools.partial(f,1)\n    sage: g()\n    1\n    sage: class mypartial(functools.partial):\n    ....:     def `__init__`(self, f, i):\n    ....:         functools.partial.__init__(self, f,i)\n    sage: g = mypartial(f,1)\n    Traceback (most recent call last)\n    ...\n    ----> 3                 functools.partial.__init__(self, f,i)\n    DeprecationWarning: object.__init__() takes no parameters\n    sage: g()\n    1\n```\n\nI had never noticed this. Please explore what's the best workaround!",
    "created_at": "2013-06-07T18:08:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221762",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:19'></a>
For the records, here is where the warning comes from. The BindableClass things
uses a class BoundClass that inherit from functools.partial. And there seems to be an issue there:

```
    sage: import warnings
    sage: warnings.simplefilter('error', DeprecationWarning)
    sage: import functools
    sage: def f(x): return x
    sage: g = functools.partial(f,1)
    sage: g()
    1
    sage: class mypartial(functools.partial):
    ....:     def `__init__`(self, f, i):
    ....:         functools.partial.__init__(self, f,i)
    sage: g = mypartial(f,1)
    Traceback (most recent call last)
    ...
    ----> 3                 functools.partial.__init__(self, f,i)
    DeprecationWarning: object.__init__() takes no parameters
    sage: g()
    1
```

I had never noticed this. Please explore what's the best workaround!



---

archive/issue_comments_221763.json:
```json
{
    "body": "<a id='comment:20'></a>\nThis is somewhat non-intuitive but the following seems to work\n\n```\nsage: import warnings\nsage: warnings.simplefilter('error', DeprecationWarning)\nsage: import functools\nsage: def f(x, y): return x^y\nsage: g = functools.partial(f, 2, 3)\nsage: g()\n8\nsage: class mypartial(functools.partial):\n....:     def `__init__`(self, f, i, j):\n....:         functools.partial.__init__(self)\n....:         \nsage: g = mypartial(f, 2, 3)\nsage: g()\n8\n```\nor\n\n```\nsage: class mynewpartial(functools.partial):\n....:     def `__init__`(self, f, i, j):\n....:         super(mynewpartial, self).__init__()\n....:         \nsage: g = mynewpartial(f, 2, 3)\nsage: g()\n8\n```\nThis perhaps suggests the `__init__` method of the `BoundClass` should be\n\n```\n    def `__init__`(self, *args):\n        super(BoundClass, self).__init__()\n        self.__doc__ = self.func.__doc__\n```\ninstead of\n\n```\n        super(BoundClass, self).__init__(*args)\n```\nI don't know whether this breaks anything?",
    "created_at": "2013-06-14T18:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221763",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:20'></a>
This is somewhat non-intuitive but the following seems to work

```
sage: import warnings
sage: warnings.simplefilter('error', DeprecationWarning)
sage: import functools
sage: def f(x, y): return x^y
sage: g = functools.partial(f, 2, 3)
sage: g()
8
sage: class mypartial(functools.partial):
....:     def `__init__`(self, f, i, j):
....:         functools.partial.__init__(self)
....:         
sage: g = mypartial(f, 2, 3)
sage: g()
8
```
or

```
sage: class mynewpartial(functools.partial):
....:     def `__init__`(self, f, i, j):
....:         super(mynewpartial, self).__init__()
....:         
sage: g = mynewpartial(f, 2, 3)
sage: g()
8
```
This perhaps suggests the `__init__` method of the `BoundClass` should be

```
    def `__init__`(self, *args):
        super(BoundClass, self).__init__()
        self.__doc__ = self.func.__doc__
```
instead of

```
        super(BoundClass, self).__init__(*args)
```
I don't know whether this breaks anything?



---

archive/issue_comments_221764.json:
```json
{
    "body": "<a id='comment:21'></a>\nmaybe this should be tried and solved in another ticket ? the purpose of the present one is only to introduce something new related to posets and quasi-symmetric functions ?",
    "created_at": "2013-06-14T18:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221764",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
maybe this should be tried and solved in another ticket ? the purpose of the present one is only to introduce something new related to posets and quasi-symmetric functions ?



---

archive/issue_comments_221765.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [chapoton](#comment%3A21):\n> maybe this should be tried and solved in another ticket ? the purpose of the present one is only to introduce something new related to posets and quasi-symmetric functions ?\n\n\nYou're right. This is now ticket #14748",
    "created_at": "2013-06-15T19:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221765",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:22'></a>
Replying to [chapoton](#comment%3A21):
> maybe this should be tried and solved in another ticket ? the purpose of the present one is only to introduce something new related to posets and quasi-symmetric functions ?


You're right. This is now ticket #14748



---

archive/issue_comments_221766.json:
```json
{
    "body": "<a id='comment:23'></a>\nSince the problem has been isolated to #14748 (I've added it as a dependency), I'm thinking we should set this to positive review. Any objections?",
    "created_at": "2013-06-16T10:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221766",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
Since the problem has been isolated to #14748 (I've added it as a dependency), I'm thinking we should set this to positive review. Any objections?



---

archive/issue_comments_221767.json:
```json
{
    "body": "**Changing author** from \"darij\" to \"Darij Grinberg\".",
    "created_at": "2013-06-16T10:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221767",
    "user": "https://github.com/tscrim"
}
```

**Changing author** from "darij" to "Darij Grinberg".



---

archive/issue_comments_221768.json:
```json
{
    "body": "**Reviewer:** Frederic Chapoton, Travis Scrimshaw",
    "created_at": "2013-06-16T10:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221768",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Frederic Chapoton, Travis Scrimshaw



---

archive/issue_comments_221769.json:
```json
{
    "body": "**Dependencies:** #14748",
    "created_at": "2013-06-16T10:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221769",
    "user": "https://github.com/tscrim"
}
```

**Dependencies:** #14748



---

archive/issue_comments_221770.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2013-06-16T10:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221770",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_221771.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Or did someone already implement them?\n \n Here's my code. Its weakest point is probably the input; instead of an actual pair of a poset and a map from its elements to {1,2,3,...}, it takes a pair of a poset and a linear order on it represented as a tuple of its elements. (See docstring for details. By the way, I'm hoping the LaTeX does work... no idea how to check that.)\n+\n+* Apply: [attachment:trac_14136-p_partition_enumerator-review-ts.patch]\n``````\n",
    "created_at": "2013-06-17T07:43:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221771",
    "user": "https://github.com/darijgr"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Or did someone already implement them?
 
 Here's my code. Its weakest point is probably the input; instead of an actual pair of a poset and a map from its elements to {1,2,3,...}, it takes a pair of a poset and a linear order on it represented as a tuple of its elements. (See docstring for details. By the way, I'm hoping the LaTeX does work... no idea how to check that.)
+
+* Apply: [attachment:trac_14136-p_partition_enumerator-review-ts.patch]
``````




---

archive/issue_comments_221772.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,6 @@\n \n Here's my code. Its weakest point is probably the input; instead of an actual pair of a poset and a map from its elements to {1,2,3,...}, it takes a pair of a poset and a linear order on it represented as a tuple of its elements. (See docstring for details. By the way, I'm hoping the LaTeX does work... no idea how to check that.)\n \n-* Apply: [attachment:trac_14136-p_partition_enumerator-review-ts.patch]\n+Apply: \n+* [attachment:trac_14136_p_partition_enumerator_v1.patch]\n+* [attachment:trac_14136-p_partition_enumerator-review-ts.patch]\n``````\n",
    "created_at": "2013-06-17T07:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221772",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,6 @@
 
 Here's my code. Its weakest point is probably the input; instead of an actual pair of a poset and a map from its elements to {1,2,3,...}, it takes a pair of a poset and a linear order on it represented as a tuple of its elements. (See docstring for details. By the way, I'm hoping the LaTeX does work... no idea how to check that.)
 
-* Apply: [attachment:trac_14136-p_partition_enumerator-review-ts.patch]
+Apply: 
+* [attachment:trac_14136_p_partition_enumerator_v1.patch]
+* [attachment:trac_14136-p_partition_enumerator-review-ts.patch]
``````




---

archive/issue_comments_221773.json:
```json
{
    "body": "<a id='comment:25'></a>\nthe review patch introduces a typo \"parition\", that needs to be corrected",
    "created_at": "2013-06-17T07:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221773",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>
the review patch introduces a typo "parition", that needs to be corrected



---

archive/issue_comments_221774.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,5 +3,4 @@\n Here's my code. Its weakest point is probably the input; instead of an actual pair of a poset and a map from its elements to {1,2,3,...}, it takes a pair of a poset and a linear order on it represented as a tuple of its elements. (See docstring for details. By the way, I'm hoping the LaTeX does work... no idea how to check that.)\n \n Apply: \n-* [attachment:trac_14136_p_partition_enumerator_v1.patch]\n-* [attachment:trac_14136-p_partition_enumerator-review-ts.patch]\n+* [attachment:trac_14136-p_partition_enumerator_folded.patch]\n``````\n",
    "created_at": "2013-06-17T07:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221774",
    "user": "https://github.com/darijgr"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,5 +3,4 @@
 Here's my code. Its weakest point is probably the input; instead of an actual pair of a poset and a map from its elements to {1,2,3,...}, it takes a pair of a poset and a linear order on it represented as a tuple of its elements. (See docstring for details. By the way, I'm hoping the LaTeX does work... no idea how to check that.)
 
 Apply: 
-* [attachment:trac_14136_p_partition_enumerator_v1.patch]
-* [attachment:trac_14136-p_partition_enumerator-review-ts.patch]
+* [attachment:trac_14136-p_partition_enumerator_folded.patch]
``````




---

archive/attachments_019073.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_14136-p_partition_enumerator_folded.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket14136/trac_14136-p_partition_enumerator_folded.patch",
    "created_at": "2013-06-17T07:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/darijgr"
}
```



---

archive/issue_comments_221775.json:
```json
{
    "body": "folded with Travis's review",
    "created_at": "2013-06-17T07:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221775",
    "user": "https://github.com/darijgr"
}
```

folded with Travis's review



---

archive/issue_comments_221776.json:
```json
{
    "body": "<a id='comment:27'></a>\nit was not necessary to fold. The typo is still there",
    "created_at": "2013-06-17T07:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221776",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>
it was not necessary to fold. The typo is still there



---

archive/issue_comments_221777.json:
```json
{
    "body": "<a id='comment:28'></a>\nChapoton: thanks, done (edited the folded version).",
    "created_at": "2013-06-17T07:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221777",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:28'></a>
Chapoton: thanks, done (edited the folded version).



---

archive/issue_events_046085.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-06-17T09:00:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14136#event-46085"
}
```



---

archive/issue_comments_221778.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-06-17T09:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221778",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_221779.json:
```json
{
    "body": "<a id='comment:29'></a>\nI don't see the typo in the folded patch, so I'm going to set this to positive review.\n\nApply: trac_14136-p_partition_enumerator_folded.patch",
    "created_at": "2013-06-17T09:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221779",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
I don't see the typo in the folded patch, so I'm going to set this to positive review.

Apply: trac_14136-p_partition_enumerator_folded.patch



---

archive/issue_comments_221780.json:
```json
{
    "body": "**Changing keywords** from \"QSym, P-partitions, posets, days45\" to \"QSym, P-partitions, posets, days45, days49\".",
    "created_at": "2013-06-17T09:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221780",
    "user": "https://github.com/tscrim"
}
```

**Changing keywords** from "QSym, P-partitions, posets, days45" to "QSym, P-partitions, posets, days45, days49".



---

archive/issue_comments_221781.json:
```json
{
    "body": "<a id='comment:31'></a>\nFr\u00e9d\u00e9ric and Travis: thank you!",
    "created_at": "2013-06-17T09:04:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221781",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:31'></a>
Frédéric and Travis: thank you!



---

archive/issue_events_046086.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-24T06:34:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14136#event-46086"
}
```



---

archive/issue_events_046087.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-24T06:34:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14136#event-46087"
}
```



---

archive/issue_comments_221782.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2013-08-16T21:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221782",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed



---

archive/issue_comments_221783.json:
```json
{
    "body": "**Merged:** sage-5.12.beta2",
    "created_at": "2013-08-16T21:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221783",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.12.beta2



---

archive/issue_events_046088.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-16T21:17:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14136#event-46088"
}
```



---

archive/issue_comments_221784.json:
```json
{
    "body": "<a id='comment:34'></a>\nmissing accents",
    "created_at": "2017-07-19T11:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221784",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'></a>
missing accents



---

archive/issue_comments_221785.json:
```json
{
    "body": "**Changing reviewer** from \"Frederic Chapoton, Travis Scrimshaw\" to \"Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw\".",
    "created_at": "2017-07-19T11:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14136#issuecomment-221785",
    "user": "https://github.com/fchapoton"
}
```

**Changing reviewer** from "Frederic Chapoton, Travis Scrimshaw" to "Frédéric Chapoton, Travis Scrimshaw".
