# Issue 14999: subgraph_search does not like labeled edges

archive/issues_014762.json:
```json
{
    "body": "Assignee: iconjack\n\nCC:  @rbeezer @nathanncohen @dcoudert\n\nIt appears that subgraph_search does not return the edge set of the searched graph in case we label the edges.\n\n```\nsage: G = graphs.CompleteGraph(10)               \nsage: C = G.subgraph_search(graphs.CycleGraph(4))\nsage: C.size()     \n4\nsage: C.edges()\n[(0, 1, None), (0, 3, None), (1, 2, None), (2, 3, None)]\n```\n\nBut after labeling the edges\n\n```\nsage: for (u,v) in G.edges(labels=False):    G.set_edge_label(u,v, u | v)\n....: \nsage: C = G.subgraph_search(graphs.CycleGraph(4))                          \nsage: C.size()                                                             \n0\nsage: C.edges()                                                            \n[]\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/14999\n\n",
    "closed_at": "2019-03-11T22:42:11Z",
    "created_at": "2013-08-05T10:23:52Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "subgraph_search does not like labeled edges",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14999",
    "user": "https://trac.sagemath.org/admin/accounts/users/azi"
}
```
Assignee: iconjack

CC:  @rbeezer @nathanncohen @dcoudert

It appears that subgraph_search does not return the edge set of the searched graph in case we label the edges.

```
sage: G = graphs.CompleteGraph(10)               
sage: C = G.subgraph_search(graphs.CycleGraph(4))
sage: C.size()     
4
sage: C.edges()
[(0, 1, None), (0, 3, None), (1, 2, None), (2, 3, None)]
```

But after labeling the edges

```
sage: for (u,v) in G.edges(labels=False):    G.set_edge_label(u,v, u | v)
....: 
sage: C = G.subgraph_search(graphs.CycleGraph(4))                          
sage: C.size()                                                             
0
sage: C.edges()                                                            
[]
```


Issue created by migration from https://trac.sagemath.org/ticket/14999





---

archive/issue_comments_187993.json:
```json
{
    "body": "Hmmmmmmmmm... Subgraph search as it is does NOT support labeled edges in the sense that the edge labels of the small graph are assumed to be unlabelled. And the copy of the small graph found in the large graph has nothing to do with the labels of edges in the large graph. Just saying `:-P`\n\nIt should probably return an exception when the small graph's edges are labelled. Just to be clear `:-P`\n\nBut of course, what you say makes sense. For as long as you do not expect Sage's result to change if you add many multiple edges between two adjacent vertices in the big graph. This would be a mess `:-P`\n\nNathann",
    "created_at": "2013-08-05T10:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-187993",
    "user": "https://github.com/nathanncohen"
}
```

Hmmmmmmmmm... Subgraph search as it is does NOT support labeled edges in the sense that the edge labels of the small graph are assumed to be unlabelled. And the copy of the small graph found in the large graph has nothing to do with the labels of edges in the large graph. Just saying `:-P`

It should probably return an exception when the small graph's edges are labelled. Just to be clear `:-P`

But of course, what you say makes sense. For as long as you do not expect Sage's result to change if you add many multiple edges between two adjacent vertices in the big graph. This would be a mess `:-P`

Nathann



---

archive/issue_events_043100.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14999#event-43100"
}
```



---

archive/issue_events_043101.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14999#event-43101"
}
```



---

archive/issue_events_043102.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14999#event-43102"
}
```



---

archive/issue_events_043103.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14999#event-43103"
}
```



---

archive/issue_events_043104.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14999#event-43104"
}
```



---

archive/issue_comments_187994.json:
```json
{
    "body": "Set assignee to iconjack.",
    "created_at": "2016-08-19T02:13:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-187994",
    "user": "https://trac.sagemath.org/admin/accounts/users/iconjack"
}
```

Set assignee to iconjack.



---

archive/issue_comments_187995.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-03-03T08:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-187995",
    "user": "https://github.com/Rithesh17"
}
```

New commits:



---

archive/issue_comments_187996.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-03-03T08:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-187996",
    "user": "https://github.com/Rithesh17"
}
```

Changing status from new to needs_review.



---

archive/issue_events_043105.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-03T16:05:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14999#event-43105"
}
```



---

archive/issue_events_043106.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-03T16:05:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14999#event-43106"
}
```



---

archive/issue_comments_187997.json:
```json
{
    "body": "Welcome to Sagemath !\n\nIf I understand well, you propose to raise an error whenever the the graph has a label on a vertex or an edge.\nWouldn't it be better to ignore labels in the subgraph search ?\n\n\nVarious comments:\n\n- I would prefer `check_vertices` instead of `check_in_vertices`. Similarly, `check_edges`.\n\n- I method `has_labels`, you must add an `INPUT:` block. See http://doc.sagemath.org/html/en/developer/coding_basics.html\n\n- The following form might be better\n\n```diff\n-        if check_in_vertices:\n-            for v in self.vertices():\n-                if self.get_vertex(v) != None:\n-                    return True\n+        if check_in_vertices:\n+            if any(self.get_vertex(v) is not None for v in self):\n+                return True\n```\n- We can avoid building a potentially very long list of None.\n\n```diff\n-            if self.edge_labels() != [None]*(len(self.edges())):\n-                return True\n+            if any(l is not None for _,_,l in self.edge_iterator()):\n+                return True\n```\n Note that instead of `len(self.edges())`, it's much better/faster to use `self.size()`\n\n\n- your patch adds trailing white spaces that we try to avoid. For instance:\n\n```diff\n-\n+            \n```\n or\n\n```diff\n+        flag is set to True. \n```\n\n- comments must be formatted in 80 columns mode\n\n- `Checks if the graph has labels.` -> `Check if the graph has labels.`\n\n- `atleast` -> `at least`\n\n- you must put the doctests reporting errors to a correct form\n\n```diff\n-            sage: g.subgraph_search(graphs.CycleGraph(3))\n-            ---------------------------------------------------------------------------\n-            ValueError                                Traceback (most recent call last)\n-            ...\n-            ValueError: Graph must be unlabelled\n+            sage: g.subgraph_search(graphs.CycleGraph(3))\n+            Traceback (most recent call last)\n+            ...\n+            ValueError: Graph must be unlabelled\n```\n\n- this seems better\n\n```diff\n-        If vertex labels or edge labels are found, it returns a ValuesError.\n+        If vertex labels or edge labels are found, an error is raised.\n```\n\n- remove useless space\n\n```diff\n-        For labelled edges (:trac: `14999`)::\n+        For labelled edges (:trac:`14999`)::\n```",
    "created_at": "2019-03-03T16:05:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-187997",
    "user": "https://github.com/dcoudert"
}
```

Welcome to Sagemath !

If I understand well, you propose to raise an error whenever the the graph has a label on a vertex or an edge.
Wouldn't it be better to ignore labels in the subgraph search ?


Various comments:

- I would prefer `check_vertices` instead of `check_in_vertices`. Similarly, `check_edges`.

- I method `has_labels`, you must add an `INPUT:` block. See http://doc.sagemath.org/html/en/developer/coding_basics.html

- The following form might be better

```diff
-        if check_in_vertices:
-            for v in self.vertices():
-                if self.get_vertex(v) != None:
-                    return True
+        if check_in_vertices:
+            if any(self.get_vertex(v) is not None for v in self):
+                return True
```
- We can avoid building a potentially very long list of None.

```diff
-            if self.edge_labels() != [None]*(len(self.edges())):
-                return True
+            if any(l is not None for _,_,l in self.edge_iterator()):
+                return True
```
 Note that instead of `len(self.edges())`, it's much better/faster to use `self.size()`


- your patch adds trailing white spaces that we try to avoid. For instance:

```diff
-
+            
```
 or

```diff
+        flag is set to True. 
```

- comments must be formatted in 80 columns mode

- `Checks if the graph has labels.` -> `Check if the graph has labels.`

- `atleast` -> `at least`

- you must put the doctests reporting errors to a correct form

```diff
-            sage: g.subgraph_search(graphs.CycleGraph(3))
-            ---------------------------------------------------------------------------
-            ValueError                                Traceback (most recent call last)
-            ...
-            ValueError: Graph must be unlabelled
+            sage: g.subgraph_search(graphs.CycleGraph(3))
+            Traceback (most recent call last)
+            ...
+            ValueError: Graph must be unlabelled
```

- this seems better

```diff
-        If vertex labels or edge labels are found, it returns a ValuesError.
+        If vertex labels or edge labels are found, an error is raised.
```

- remove useless space

```diff
-        For labelled edges (:trac: `14999`)::
+        For labelled edges (:trac:`14999`)::
```



---

archive/issue_comments_187998.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-03-03T16:05:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-187998",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_187999.json:
```json
{
    "body": "Thank you for the review.\n\nTo ignore the labels in the parent graph, the SubgraphSearch class does not give any option to ignore the labels. So we either need to set all the labels back to None, or create a new graph from the existing one but without the labels.\n\nPlease comment on which of the two methods is preferable. Or if there is a more efficient way to do this.",
    "created_at": "2019-03-03T19:55:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-187999",
    "user": "https://github.com/Rithesh17"
}
```

Thank you for the review.

To ignore the labels in the parent graph, the SubgraphSearch class does not give any option to ignore the labels. So we either need to set all the labels back to None, or create a new graph from the existing one but without the labels.

Please comment on which of the two methods is preferable. Or if there is a more efficient way to do this.



---

archive/issue_comments_188000.json:
```json
{
    "body": "You should investigate more where the problem comes from.\n\nFor instance, in `.subgraph_search(...)`, to ensure that we ignore the labels of the edges of `G`, you can do:\n\n```diff\n-                return self.subgraph(vertices=Gcopy, edges=Gcopy.edges(sort=False))\n+                return self.subgraph(vertices=Gcopy, edges=Gcopy.edges(labels=False, sort=False))\n```\nTo understand that, check methods `.subgraph`, `._subgraph_by_deleting` and `._subgraph_by_adding`.\n\nThis is not enough to solve the issue, but at least, we get:\n\n```\nsage: G = graphs.CompleteGraph(10)\nsage: for u,v in G.edge_iterator(labels=False):\n....:     G.set_edge_label(u, v, u)\nsage: C4 = graphs.CycleGraph(4)\nsage: G._subgraph_by_adding(vertices=C4, edges=C4.edges()).edges()\n[]\nsage: G._subgraph_by_adding(vertices=C4, edges=C4.edges(labels=False)).edges()\n[(0, 1, 0), (0, 3, 0), (1, 2, 1), (2, 3, 2)]\nsage: G._subgraph_by_deleting(vertices=C4, edges=C4.edges(labels=False)).edges()\n[(0, 1, 0), (0, 3, 0), (1, 2, 1), (2, 3, 2)]\n```\n\nNote also that inside `SubgraphSearch`, the search is done without considering vertex or edge labels, and that the graph returned by `.subgraph_search` has the correct 4 vertices but no edges...",
    "created_at": "2019-03-05T12:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188000",
    "user": "https://github.com/dcoudert"
}
```

You should investigate more where the problem comes from.

For instance, in `.subgraph_search(...)`, to ensure that we ignore the labels of the edges of `G`, you can do:

```diff
-                return self.subgraph(vertices=Gcopy, edges=Gcopy.edges(sort=False))
+                return self.subgraph(vertices=Gcopy, edges=Gcopy.edges(labels=False, sort=False))
```
To understand that, check methods `.subgraph`, `._subgraph_by_deleting` and `._subgraph_by_adding`.

This is not enough to solve the issue, but at least, we get:

```
sage: G = graphs.CompleteGraph(10)
sage: for u,v in G.edge_iterator(labels=False):
....:     G.set_edge_label(u, v, u)
sage: C4 = graphs.CycleGraph(4)
sage: G._subgraph_by_adding(vertices=C4, edges=C4.edges()).edges()
[]
sage: G._subgraph_by_adding(vertices=C4, edges=C4.edges(labels=False)).edges()
[(0, 1, 0), (0, 3, 0), (1, 2, 1), (2, 3, 2)]
sage: G._subgraph_by_deleting(vertices=C4, edges=C4.edges(labels=False)).edges()
[(0, 1, 0), (0, 3, 0), (1, 2, 1), (2, 3, 2)]
```

Note also that inside `SubgraphSearch`, the search is done without considering vertex or edge labels, and that the graph returned by `.subgraph_search` has the correct 4 vertices but no edges...



---

archive/issue_comments_188001.json:
```json
{
    "body": "I almost did not notice that the `.subgraph` function had an option already to disable labels. I will use it to solve the problem in `.subgraph_search` function.\n\nAs to the `._subgraph_by_adding` function, the edges are considered in this way:\n\n```\nfor u, v, l in self.edge_iterator(vertices):\n    if (v in vertices and ((u, v, l) in edges_to_keep_labeled\n                          or (u, v) in edges_to_keep_unlabeled)):\n        edges_to_keep.append((u, v, l))\n```\n\nI think if we just consider `self.edge_iterator(vertices, labels=False)` and only `(u, v) in edges_to_keep_labeled` instead of `self.edge_iterator(vertices)` we can deal with the issue. The same holds true in the case of `._subgraph_by_deleting`\n\nI would like to commit this to the branch only after this comment is reviewed.",
    "created_at": "2019-03-05T14:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188001",
    "user": "https://github.com/Rithesh17"
}
```

I almost did not notice that the `.subgraph` function had an option already to disable labels. I will use it to solve the problem in `.subgraph_search` function.

As to the `._subgraph_by_adding` function, the edges are considered in this way:

```
for u, v, l in self.edge_iterator(vertices):
    if (v in vertices and ((u, v, l) in edges_to_keep_labeled
                          or (u, v) in edges_to_keep_unlabeled)):
        edges_to_keep.append((u, v, l))
```

I think if we just consider `self.edge_iterator(vertices, labels=False)` and only `(u, v) in edges_to_keep_labeled` instead of `self.edge_iterator(vertices)` we can deal with the issue. The same holds true in the case of `._subgraph_by_deleting`

I would like to commit this to the branch only after this comment is reviewed.



---

archive/issue_comments_188002.json:
```json
{
    "body": "What you propose will break other parts of the code. `.subgraph` is used in various places so you can not change it just like that.\nAre you sure we are loosing edges in that precise loops ?",
    "created_at": "2019-03-06T08:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188002",
    "user": "https://github.com/dcoudert"
}
```

What you propose will break other parts of the code. `.subgraph` is used in various places so you can not change it just like that.
Are you sure we are loosing edges in that precise loops ?



---

archive/issue_comments_188003.json:
```json
{
    "body": "All the other applications of `._subgraph_by_adding` has neglected the labelling of the vertices and edges.\n\nI have verified that the loss of the edges in `._subgraph_by_adding` is happening in that loop. And that if I apply the proposed changes it works just fine.",
    "created_at": "2019-03-06T10:59:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188003",
    "user": "https://github.com/Rithesh17"
}
```

All the other applications of `._subgraph_by_adding` has neglected the labelling of the vertices and edges.

I have verified that the loss of the edges in `._subgraph_by_adding` is happening in that loop. And that if I apply the proposed changes it works just fine.



---

archive/issue_comments_188004.json:
```json
{
    "body": "Have you tried the change I proposed in #comment:10 ?",
    "created_at": "2019-03-06T11:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188004",
    "user": "https://github.com/dcoudert"
}
```

Have you tried the change I proposed in #comment:10 ?



---

archive/issue_comments_188005.json:
```json
{
    "body": "That will work. By setting `labels=False` in the `.subgraph` function call the `.subgraph_search` method ignores the labels.\n\n```\nsage: G = graphs.CompleteGraph(10)\nsage: for u,v in G.edge_iterator(labels=False): G.set_edge_label(u, v, u)\nsage: C4 = graphs.CycleGraph(4)\nsage: C = G.subgraph_search(C4)\nsage: C.edges()\n[(0, 1, 0), (0, 3, 0), (1, 2, 1), (2, 3, 2)]\n```\n\nCan I stick on to that as the solution?",
    "created_at": "2019-03-06T16:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188005",
    "user": "https://github.com/Rithesh17"
}
```

That will work. By setting `labels=False` in the `.subgraph` function call the `.subgraph_search` method ignores the labels.

```
sage: G = graphs.CompleteGraph(10)
sage: for u,v in G.edge_iterator(labels=False): G.set_edge_label(u, v, u)
sage: C4 = graphs.CycleGraph(4)
sage: C = G.subgraph_search(C4)
sage: C.edges()
[(0, 1, 0), (0, 3, 0), (1, 2, 1), (2, 3, 2)]
```

Can I stick on to that as the solution?



---

archive/issue_comments_188006.json:
```json
{
    "body": "Yes. At least it's better than the current situation. And, it's a much easier solution than your previous proposal :P\n\nThen you can try different graphs with labels to check if it's OK. I don't think that vertex labels are taken into account here. Check that to.",
    "created_at": "2019-03-06T16:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188006",
    "user": "https://github.com/dcoudert"
}
```

Yes. At least it's better than the current situation. And, it's a much easier solution than your previous proposal :P

Then you can try different graphs with labels to check if it's OK. I don't think that vertex labels are taken into account here. Check that to.



---

archive/issue_comments_188007.json:
```json
{
    "body": "The solution is working for a few variations that I can think of.\n\nAnd the vertex labels are ignored, as `Gcopy` in `return self.subgraph(vertices=Gcopy, edges=Gcopy.edges(labels=False, sort=False))` returns the vertices without their labels.\n\nExtending the previous example,\n\n```\nsage: G.set_vertex(0, 'foo')\nsage: C = G.subgraph_search(C4)\nsage: C.get_vertices()\n{0: 'foo', 1: None, 2: None, 3: None}\n```",
    "created_at": "2019-03-06T16:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188007",
    "user": "https://github.com/Rithesh17"
}
```

The solution is working for a few variations that I can think of.

And the vertex labels are ignored, as `Gcopy` in `return self.subgraph(vertices=Gcopy, edges=Gcopy.edges(labels=False, sort=False))` returns the vertices without their labels.

Extending the previous example,

```
sage: G.set_vertex(0, 'foo')
sage: C = G.subgraph_search(C4)
sage: C.get_vertices()
{0: 'foo', 1: None, 2: None, 3: None}
```



---

archive/issue_comments_188008.json:
```json
{
    "body": "good.",
    "created_at": "2019-03-06T16:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188008",
    "user": "https://github.com/dcoudert"
}
```

good.



---

archive/issue_comments_188009.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-06T17:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_188010.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-06T17:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_188011.json:
```json
{
    "body": "Can you clean this branch, keeping only what is necessary to fix the issue. For instance, we don't need to keep method `has_labels`. Also, I disagree with the removal of the `.. NOTE::` blocks which are important information for users.\n\nMay be you should restart from a new clean branch.",
    "created_at": "2019-03-07T07:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188011",
    "user": "https://github.com/dcoudert"
}
```

Can you clean this branch, keeping only what is necessary to fix the issue. For instance, we don't need to keep method `has_labels`. Also, I disagree with the removal of the `.. NOTE::` blocks which are important information for users.

May be you should restart from a new clean branch.



---

archive/issue_comments_188012.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-03-07T15:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188012",
    "user": "https://github.com/Rithesh17"
}
```

New commits:



---

archive/issue_comments_188013.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-03-07T15:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188013",
    "user": "https://github.com/Rithesh17"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_188014.json:
```json
{
    "body": "Some comments.\n\n```diff\n-            sage: for (u,v) in G.edges(labels=False): G.set_edge_label(u, v, u)\n-\n+            sage: for (u,v) in G.edges(labels=False):\n+            ....:     G.set_edge_label(u, v, u)\n```\n\nThis example might not be well chosen (result is 0, so are labels considered or not ??). May be you could take the same example you added in `subgraph_search_iterator`.\n\n```diff\n+        If the graph has vertex labels or edge labels, the label is just ignored::\n+\n+            sage: g.set_vertex(0, 'foo')\n+            sage: g.subgraph_search_count(graphs.CycleGraph(3))\n+            0\n+}}}",
    "created_at": "2019-03-08T16:27:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188014",
    "user": "https://github.com/dcoudert"
}
```

Some comments.

```diff
-            sage: for (u,v) in G.edges(labels=False): G.set_edge_label(u, v, u)
-
+            sage: for (u,v) in G.edges(labels=False):
+            ....:     G.set_edge_label(u, v, u)
```

This example might not be well chosen (result is 0, so are labels considered or not ??). May be you could take the same example you added in `subgraph_search_iterator`.

```diff
+        If the graph has vertex labels or edge labels, the label is just ignored::
+
+            sage: g.set_vertex(0, 'foo')
+            sage: g.subgraph_search_count(graphs.CycleGraph(3))
+            0
+}}}



---

archive/issue_comments_188015.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-08T17:55:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188015",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_188016.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-08T17:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_188017.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2019-03-09T17:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188017",
    "user": "https://github.com/dcoudert"
}
```

Looks good to me.



---

archive/issue_comments_188018.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-03-09T17:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188018",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_188019.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2019-03-09T17:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188019",
    "user": "https://github.com/dcoudert"
}
```

Looks good to me.



---

archive/issue_comments_188020.json:
```json
{
    "body": "reviewer name please",
    "created_at": "2019-03-10T06:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188020",
    "user": "https://github.com/fchapoton"
}
```

reviewer name please



---

archive/issue_events_043107.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-11T22:42:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14999#event-43107"
}
```



---

archive/issue_comments_188021.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-03-11T22:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14999#issuecomment-188021",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
