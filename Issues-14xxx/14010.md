# Issue 14010: Add `__call__` method to FreeGroupElement

archive/issues_013806.json:
```json
{
    "body": "I have some comments regarding the set of patches in #12339. I myself can not give much technical input, but I have a colleague here who has been trying to use this and has come across some inconsistencies.\n\n1. Is there a reason why a `FreeGroupElement` does not have the `__call__` method? A `FreeMonoidElement` does have the `__call__` method. This is needed to make the following work\n\n```python\nsage: G.<a,b> = FreeGroup()\nsage: a.subs(a=1,b=2) # We would expect the answer to be 1\na\n```\n2. Related to the implementation of the `__call__` method is the following problem. Suppose in order to make `subs()` work, we implement the `__call__` method. The current code has to call `a.Tietze()` to get the index of the free generator `a` and its exponent. For a more complicated expression the output is as follows, and we would have to go along and parse the output tuple to find out the exponent by counting. Is there any method (maybe in GAP) which outputs just a list of tuples `[(generator1, exponent1), (generator2, exponent2),...]`. This is again how `FreeMonoid` is implemented.\n\n```\nsage: (a^2 * b^-3).Tietze()\n(1, 1, -2, -2, -2)\nsage: (a^2 * b^-3).some_function() # some function which gives (generator, exponent) tuples\n[(a, 2), (b, -3)]\n```\n\n\n\nAssignee: joyner\n\nReviewer: Punarbasu Purkayastha\n\nAuthor: Volker Braun\n\nMerged: sage-5.7.beta4\n\nDependencies: #12339\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14010\n\n",
    "closed_at": "2013-02-09T12:15:03Z",
    "created_at": "2013-01-25T14:36:39Z",
    "labels": [
        "component: group theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.7",
    "title": "Add `__call__` method to FreeGroupElement",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14010",
    "user": "https://github.com/ppurka"
}
```
I have some comments regarding the set of patches in #12339. I myself can not give much technical input, but I have a colleague here who has been trying to use this and has come across some inconsistencies.

1. Is there a reason why a `FreeGroupElement` does not have the `__call__` method? A `FreeMonoidElement` does have the `__call__` method. This is needed to make the following work

```python
sage: G.<a,b> = FreeGroup()
sage: a.subs(a=1,b=2) # We would expect the answer to be 1
a
```
2. Related to the implementation of the `__call__` method is the following problem. Suppose in order to make `subs()` work, we implement the `__call__` method. The current code has to call `a.Tietze()` to get the index of the free generator `a` and its exponent. For a more complicated expression the output is as follows, and we would have to go along and parse the output tuple to find out the exponent by counting. Is there any method (maybe in GAP) which outputs just a list of tuples `[(generator1, exponent1), (generator2, exponent2),...]`. This is again how `FreeMonoid` is implemented.

```
sage: (a^2 * b^-3).Tietze()
(1, 1, -2, -2, -2)
sage: (a^2 * b^-3).some_function() # some function which gives (generator, exponent) tuples
[(a, 2), (b, -3)]
```



Assignee: joyner

Reviewer: Punarbasu Purkayastha

Author: Volker Braun

Merged: sage-5.7.beta4

Dependencies: #12339

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14010





---

archive/issue_comments_213868.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-Copy-paste from #12339:\n-\n I have some comments regarding the set of patches in #12339. I myself can not give much technical input, but I have a colleague here who has been trying to use this and has come across some inconsistencies.\n \n 1. Is there a reason why a `FreeGroupElement` does not have the `__call__` method? A `FreeMonoidElement` does have the `__call__` method. This is needed to make the following work\n@@ -17,21 +15,5 @@\n sage: (a^2 * b^-3).some_function() # some function which gives (generator, exponent) tuples\n [(a, 2), (b, -3)]\n ```\n-3. There is also this inconsistency in the output of the following two functions. In language, they say the same thing, but they are not mathematically equal (according to the current implementation):\n \n-```python\n-sage: G.<a,b> = FreeGroup()\n-sage: test = (a).fox_derivative(a)\n-sage: f = test.parent()\n-sage: g = GroupAlgebra(G, ZZ)\n-sage: print f\n-Group algebra of Free Group on generators {a, b, c, d, e} over Integer Ring\n-sage: print g\n-Group algebra of group \"Free Group on generators {a, b, c, d, e}\" over base ring Integer Ring\n-sage: print f == g\n-False\n-```\n \n----\n-\n-Related discussion in [combinat-devel](https://groups.google.com/d/topic/sage-combinat-devel/f_Und2NDyFE/discussion).\n``````\n",
    "created_at": "2013-01-25T17:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213868",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-Copy-paste from #12339:
-
 I have some comments regarding the set of patches in #12339. I myself can not give much technical input, but I have a colleague here who has been trying to use this and has come across some inconsistencies.
 
 1. Is there a reason why a `FreeGroupElement` does not have the `__call__` method? A `FreeMonoidElement` does have the `__call__` method. This is needed to make the following work
@@ -17,21 +15,5 @@
 sage: (a^2 * b^-3).some_function() # some function which gives (generator, exponent) tuples
 [(a, 2), (b, -3)]
 ```
-3. There is also this inconsistency in the output of the following two functions. In language, they say the same thing, but they are not mathematically equal (according to the current implementation):
 
-```python
-sage: G.<a,b> = FreeGroup()
-sage: test = (a).fox_derivative(a)
-sage: f = test.parent()
-sage: g = GroupAlgebra(G, ZZ)
-sage: print f
-Group algebra of Free Group on generators {a, b, c, d, e} over Integer Ring
-sage: print g
-Group algebra of group "Free Group on generators {a, b, c, d, e}" over base ring Integer Ring
-sage: print f == g
-False
-```
 
----
-
-Related discussion in [combinat-devel](https://groups.google.com/d/topic/sage-combinat-devel/f_Und2NDyFE/discussion).
``````




---

archive/issue_comments_213869.json:
```json
{
    "body": "<a id='comment:1'></a>\nOnly one issue per ticket please. I've opened #14012 for your other issue.",
    "created_at": "2013-01-25T17:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213869",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'></a>
Only one issue per ticket please. I've opened #14012 for your other issue.



---

archive/issue_comments_213870.json:
```json
{
    "body": "Changing author from \"\" to \"Volker Braun\"",
    "created_at": "2013-01-25T18:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213870",
    "user": "https://github.com/vbraun"
}
```

Changing author from "" to "Volker Braun"



---

archive/issue_comments_213871.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-25T18:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213871",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_213872.json:
```json
{
    "body": "<a id='comment:2'></a>\nDoes that work for you?",
    "created_at": "2013-01-25T18:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213872",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
Does that work for you?



---

archive/issue_comments_213873.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [vbraun](#comment%3A2):\n> Does that work for you?\n\nFantastic! It looks like a final patch to me! Do you plan to add anything else? It works nicely here (substituting matrices also works).",
    "created_at": "2013-01-26T05:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213873",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:3'></a>
Replying to [vbraun](#comment%3A2):
> Does that work for you?

Fantastic! It looks like a final patch to me! Do you plan to add anything else? It works nicely here (substituting matrices also works).



---

archive/issue_comments_213874.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#12339\"",
    "created_at": "2013-01-26T05:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213874",
    "user": "https://github.com/ppurka"
}
```

Changing dependencies from "" to "#12339"



---

archive/issue_comments_213875.json:
```json
{
    "body": "Attachment [trac_14010_syllables.patch](tarball://root/attachments/some-uuid/ticket14010/trac_14010_syllables.patch) by @vbraun created at 2013-01-26 12:12:24\n\nUpdated patch",
    "created_at": "2013-01-26T12:12:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213875",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_14010_syllables.patch](tarball://root/attachments/some-uuid/ticket14010/trac_14010_syllables.patch) by @vbraun created at 2013-01-26 12:12:24

Updated patch



---

archive/issue_comments_213876.json:
```json
{
    "body": "<a id='comment:4'></a>\nI've added a check for finitely presented groups that the values do satisfy the relations. Also, more documentation. I'm fine with the ticket, its your job to review now ;-)",
    "created_at": "2013-01-26T12:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213876",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>
I've added a check for finitely presented groups that the values do satisfy the relations. Also, more documentation. I'm fine with the ticket, its your job to review now ;-)



---

archive/issue_comments_213877.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe changes are good in my opinion. I am just waiting for my colleague, who is actually using these set of patches, to give me relevant feedback. If his feedback is positive then I will set this to a positive review.",
    "created_at": "2013-01-27T10:49:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213877",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:5'></a>
The changes are good in my opinion. I am just waiting for my colleague, who is actually using these set of patches, to give me relevant feedback. If his feedback is positive then I will set this to a positive review.



---

archive/issue_comments_213878.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Punarbasu Purkayastha\"",
    "created_at": "2013-01-28T13:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213878",
    "user": "https://github.com/ppurka"
}
```

Changing reviewer from "" to "Punarbasu Purkayastha"



---

archive/issue_comments_213879.json:
```json
{
    "body": "<a id='comment:6'></a>\nOk. My friend (doesn't have an account here) is happy with this implementation. So, setting it to positive review.",
    "created_at": "2013-01-28T13:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213879",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:6'></a>
Ok. My friend (doesn't have an account here) is happy with this implementation. So, setting it to positive review.



---

archive/issue_comments_213880.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-28T13:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213880",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_213881.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.7.beta4\"",
    "created_at": "2013-02-09T12:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213881",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.7.beta4"



---

archive/issue_comments_213882.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-02-09T12:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14010#issuecomment-213882",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_039389.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-09T12:15:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14010",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14010#event-39389"
}
```
