# Issue 14811: Update to matplotlib-1.4.x

archive/issues_014607.json:
```json
{
    "assignees": [
        "https://github.com/jdemeyer"
    ],
    "body": "The issues in #14798 depend on the implementation of the PGF backend in matplotlib. I decided to check the current status by installing today's (2013/06/24) git snapshot of matplotlib in sage-5.11beta3; this is a report on this installation for future reference.\n\nI built a spkg by crudely hacking mathplotlib-1.2.1.spkg: it is enough to replace the content of src with the new source code and edit spkg-install accordingly (comment out the patch section and the section printing MPLCONFIGDIR).\n\nThe good news is that the new package installs without problems and all the doctests run properly. \nThe bad news is that none of the issues in #14798 has been addressed in the current version of matplotlib yet.\n\nKeywords: **matplotlib, days49**\n\nReviewer: **Punarbasu Purkayastha**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14811_\n\n",
    "closed_at": "2014-07-24T22:03:01Z",
    "created_at": "2013-06-24T12:36:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update to matplotlib-1.4.x",
    "type": "issue",
    "updated_at": "2014-07-24T22:03:01Z",
    "url": "https://github.com/sagemath/sage/issues/14811",
    "user": "https://github.com/etn40ff"
}
```
The issues in #14798 depend on the implementation of the PGF backend in matplotlib. I decided to check the current status by installing today's (2013/06/24) git snapshot of matplotlib in sage-5.11beta3; this is a report on this installation for future reference.

I built a spkg by crudely hacking mathplotlib-1.2.1.spkg: it is enough to replace the content of src with the new source code and edit spkg-install accordingly (comment out the patch section and the section printing MPLCONFIGDIR).

The good news is that the new package installs without problems and all the doctests run properly. 
The bad news is that none of the issues in #14798 has been addressed in the current version of matplotlib yet.

Keywords: **matplotlib, days49**

Reviewer: **Punarbasu Purkayastha**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/14811_





---

archive/issue_events_210511.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2013-06-24T12:36:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210511"
}
```



---

archive/issue_events_210512.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2013-06-24T12:36:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210512"
}
```



---

archive/issue_events_210513.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2013-06-24T12:36:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210513"
}
```



---

archive/issue_events_210514.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-24T12:36:41Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "subject": "https://github.com/etn40ff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210514"
}
```



---

archive/issue_comments_181203.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n The issues in #14798 depend on the implementation of the PGF backend in matplotlib. I decided to check the current status by installing today's (2013/06/24) git snapshot of matplotlib in sage-5.11beta3; this is a report on this installation for future reference.\n \n-I built the attached spkg by crudely hacking mathplotlib-1.2.1.spkg: it is enough to replace the content of src with the new source code and edit spkg-install accordingly (comment out the patch section and the section printing MPLCONFIGDIR).\n+I built a spkg by crudely hacking mathplotlib-1.2.1.spkg: it is enough to replace the content of src with the new source code and edit spkg-install accordingly (comment out the patch section and the section printing MPLCONFIGDIR).\n \n The good news is that the new package installs without problems and all the doctests run properly. \n The bad news is that none of the issues in #14798 has been addressed in the current version of matplotlib yet.\n``````\n",
    "created_at": "2013-06-24T12:49:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181203",
    "user": "https://github.com/etn40ff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 The issues in #14798 depend on the implementation of the PGF backend in matplotlib. I decided to check the current status by installing today's (2013/06/24) git snapshot of matplotlib in sage-5.11beta3; this is a report on this installation for future reference.
 
-I built the attached spkg by crudely hacking mathplotlib-1.2.1.spkg: it is enough to replace the content of src with the new source code and edit spkg-install accordingly (comment out the patch section and the section printing MPLCONFIGDIR).
+I built a spkg by crudely hacking mathplotlib-1.2.1.spkg: it is enough to replace the content of src with the new source code and edit spkg-install accordingly (comment out the patch section and the section printing MPLCONFIGDIR).
 
 The good news is that the new package installs without problems and all the doctests run properly. 
 The bad news is that none of the issues in #14798 has been addressed in the current version of matplotlib yet.
``````




---

archive/issue_comments_181204.json:
```json
{
    "body": "Attachment: **[spkg-install.gz](https://github.com/sagemath/sage/files/ticket14811/spkg-install.gz)**\n\nReplying to [ticket:14811 etn40ff]:\n> I built a spkg by crudely hacking mathplotlib-1.2.1.spkg: it is enough to replace the content of src with the new source code and edit spkg-install accordingly (comment out the patch section and the section printing MPLCONFIGDIR).\n\nWhat's the problem with `MPLCONFIGDIR`?",
    "created_at": "2013-06-24T13:31:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181204",
    "user": "https://github.com/nexttime"
}
```

Attachment: **[spkg-install.gz](https://github.com/sagemath/sage/files/ticket14811/spkg-install.gz)**

Replying to [ticket:14811 etn40ff]:
> I built a spkg by crudely hacking mathplotlib-1.2.1.spkg: it is enough to replace the content of src with the new source code and edit spkg-install accordingly (comment out the patch section and the section printing MPLCONFIGDIR).

What's the problem with `MPLCONFIGDIR`?



---

archive/issue_comments_181205.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@nexttime](#comment:2):\n> What's the problem with `MPLCONFIGDIR`?\n> \n\n \nI am not sure: it looked like the building directory was not the one the script was expecting so the file that the scripts looks for was not there. I did not want to spend time fixing it so I just commented those lines since they were was just printing the path on screen.",
    "created_at": "2013-07-01T12:29:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181205",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@nexttime](#comment:2):
> What's the problem with `MPLCONFIGDIR`?
> 

 
I am not sure: it looked like the building directory was not the one the script was expecting so the file that the scripts looks for was not there. I did not want to spend time fixing it so I just commented those lines since they were was just printing the path on screen.



---

archive/issue_comments_181206.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAre you sure mpl got installed correctly? If it can not find the file it means that mpl installed in a path different from the previous versions. That's quite strange, if it is indeed happening.",
    "created_at": "2013-07-01T15:09:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181206",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:4" align="right">comment:4</div>

Are you sure mpl got installed correctly? If it can not find the file it means that mpl installed in a path different from the previous versions. That's quite strange, if it is indeed happening.



---

archive/issue_comments_181207.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI am not sure but it looks like sage uses the new version:\n\n```\nsage: import matplotlib as mpl\nsage: mpl.__version__\n'1.4.x'\n```",
    "created_at": "2013-07-01T18:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181207",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:5" align="right">comment:5</div>

I am not sure but it looks like sage uses the new version:

```
sage: import matplotlib as mpl
sage: mpl.__version__
'1.4.x'
```



---

archive/issue_comments_181208.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFYI, matplotlib 1.3.0 is being released today",
    "created_at": "2013-07-31T17:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181208",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:6" align="right">comment:6</div>

FYI, matplotlib 1.3.0 is being released today



---

archive/issue_comments_181209.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n#14993 is the 'upgrade to 1.3.0' ticket.",
    "created_at": "2013-07-31T18:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181209",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:7" align="right">comment:7</div>

#14993 is the 'upgrade to 1.3.0' ticket.



---

archive/issue_events_210515.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210515"
}
```



---

archive/issue_events_210516.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210516"
}
```



---

archive/issue_events_210517.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210517"
}
```



---

archive/issue_events_210518.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210518"
}
```



---

archive/issue_comments_181210.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nPlease close this ticket as it is obsolete",
    "created_at": "2014-07-19T11:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181210",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:10" align="right">comment:10</div>

Please close this ticket as it is obsolete



---

archive/issue_comments_181211.json:
```json
{
    "body": "Changed author from **Salvatore Stella** to none",
    "created_at": "2014-07-24T05:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181211",
    "user": "https://github.com/ppurka"
}
```

Changed author from **Salvatore Stella** to none



---

archive/issue_comments_181212.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nTicket title is wrong?",
    "created_at": "2014-07-24T05:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181212",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:11" align="right">comment:11</div>

Ticket title is wrong?



---

archive/issue_events_210519.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-07-24T05:19:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210519"
}
```



---

archive/issue_events_210520.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-07-24T05:20:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210520"
}
```



---

archive/issue_events_210521.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-07-24T05:20:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210521"
}
```



---

archive/issue_events_210522.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-07-24T05:20:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210522"
}
```



---

archive/issue_events_210523.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-07-24T05:20:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210523"
}
```



---

archive/issue_events_210524.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-07-24T05:20:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210524"
}
```



---

archive/issue_comments_181213.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nInvalid ticket.",
    "created_at": "2014-07-24T05:20:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181213",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:12" align="right">comment:12</div>

Invalid ticket.



---

archive/issue_comments_181214.json:
```json
{
    "body": "Reviewer: **Punarbasu Purkayastha**",
    "created_at": "2014-07-24T05:20:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14811#issuecomment-181214",
    "user": "https://github.com/ppurka"
}
```

Reviewer: **Punarbasu Purkayastha**



---

archive/issue_events_210525.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-24T22:03:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210525"
}
```



---

archive/issue_events_210526.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-24T22:03:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14811",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14811#event-210526"
}
```
