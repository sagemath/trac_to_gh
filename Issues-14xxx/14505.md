# Issue 14505: add experimental package csdp

archive/issues_014301.json:
```json
{
    "body": "CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable\nshared library\nhttps://projects.coin-or.org/Csdp/\n(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)\n\nThis ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/\n\nThe modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, \nis hosted here: https://github.com/dimpase/csdp\n\nA Cython interface will be added on a separate ticket.\n\nThe spkg is here:  http://boxen.math.washington.edu/home/dima/packages/csdp-6.2.spkg\n\nApply to `$SAGE_LOCAL/bin/`\n\n* [attachment:trac_14505.patch]\n\n\nAssignee: tbd\n\nCC:  @ppurka @vbraun mehdi.ghasemi\n\nKeywords: semidefinite programming\n\nReviewer: Punarbasu Purkayastha, Nathann Cohen\n\nAuthor: Dmitrii Pasechnik\n\nMerged: sage-5.11.rc0\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/14505\n\n",
    "closed_at": "2013-07-29T11:07:43Z",
    "created_at": "2013-04-29T12:55:31Z",
    "labels": [
        "component: packages: experimental"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.11",
    "title": "add experimental package csdp",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14505",
    "user": "https://github.com/dimpase"
}
```
CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable
shared library
https://projects.coin-or.org/Csdp/
(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)

This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/

The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, 
is hosted here: https://github.com/dimpase/csdp

A Cython interface will be added on a separate ticket.

The spkg is here:  http://boxen.math.washington.edu/home/dima/packages/csdp-6.2.spkg

Apply to `$SAGE_LOCAL/bin/`

* [attachment:trac_14505.patch]


Assignee: tbd

CC:  @ppurka @vbraun mehdi.ghasemi

Keywords: semidefinite programming

Reviewer: Punarbasu Purkayastha, Nathann Cohen

Author: Dmitrii Pasechnik

Merged: sage-5.11.rc0

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/14505





---

archive/issue_comments_192370.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-04-29T12:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192370",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_192371.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -3,13 +3,15 @@\n https://projects.coin-or.org/Csdp/\n (unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)\n \n-This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage.\n+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/\n \n The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, \n is hosted here: https://github.com/dimpase/csdp\n+\n A Cython interface will be added on a separate ticket.\n \n The spkg is here:  http://web.spms.ntu.edu.sg/~dima/tmp/csdp-6.2.spkg\n+\n \n Author: Dmitrii Pasechnik\n \n```\n",
    "created_at": "2013-04-29T12:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192371",
    "user": "https://github.com/dimpase"
}
```

Description changed:
```diff
--- 
+++ 
@@ -3,13 +3,15 @@
 https://projects.coin-or.org/Csdp/
 (unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)
 
-This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage.
+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/
 
 The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, 
 is hosted here: https://github.com/dimpase/csdp
+
 A Cython interface will be added on a separate ticket.
 
 The spkg is here:  http://web.spms.ntu.edu.sg/~dima/tmp/csdp-6.2.spkg
+
 
 Author: Dmitrii Pasechnik
 
```




---

archive/issue_comments_192372.json:
```json
{
    "body": "<a id='comment:2'></a>HMmmm... So you did modify the sources to get this to work ? Last time I checked the Sage guys did not like that very much `:-/`\n\nNathann",
    "created_at": "2013-04-29T14:33:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192372",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>HMmmm... So you did modify the sources to get this to work ? Last time I checked the Sage guys did not like that very much `:-/`

Nathann



---

archive/issue_comments_192373.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [comment:2 ncohen]:\n> HMmmm... So you did modify the sources to get this to work ? Last time I checked the Sage guys did not like that very much `:-/`\n> \n> Nathann\n\n\nHow the hell one is supposed to libtoolize the thing otherwise?\nThat's the only modification (and some header layout was changed to conform to autotools standards).\nI also wanted to stay with git rather than using svn, so I imported the original svn repo.\n(and the latter was not changed for, like, 6 years, you know...)\n\nI hope that my changes will be accepted by upstream, eventually. It is certainly possible to create the cumulative diff of my changes against the original source, I just don't see the point of this, given that all this can be extracted from the public git repo the source lives in.",
    "created_at": "2013-04-29T14:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192373",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>Replying to [comment:2 ncohen]:
> HMmmm... So you did modify the sources to get this to work ? Last time I checked the Sage guys did not like that very much `:-/`
> 
> Nathann


How the hell one is supposed to libtoolize the thing otherwise?
That's the only modification (and some header layout was changed to conform to autotools standards).
I also wanted to stay with git rather than using svn, so I imported the original svn repo.
(and the latter was not changed for, like, 6 years, you know...)

I hope that my changes will be accepted by upstream, eventually. It is certainly possible to create the cumulative diff of my changes against the original source, I just don't see the point of this, given that all this can be extracted from the public git repo the source lives in.



---

archive/issue_comments_192374.json:
```json
{
    "body": "<a id='comment:4'></a>I added a bit more to SPKG.txt and updated the spkg accordingly  (i.e. only SPKG.txt was changed).",
    "created_at": "2013-04-29T15:30:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192374",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>I added a bit more to SPKG.txt and updated the spkg accordingly  (i.e. only SPKG.txt was changed).



---

archive/issue_comments_192375.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:3 dimpase]:\n> It is certainly possible to create the cumulative diff of my changes against the original source, I just don't see the point of this, given that all this can be extracted from the public git repo the source lives in.\n\n\nBecause this is the way how Sage development is supposed to happen (especially the review process)... ;-)",
    "created_at": "2013-04-29T16:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192375",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>Replying to [comment:3 dimpase]:
> It is certainly possible to create the cumulative diff of my changes against the original source, I just don't see the point of this, given that all this can be extracted from the public git repo the source lives in.


Because this is the way how Sage development is supposed to happen (especially the review process)... ;-)



---

archive/issue_comments_192376.json:
```json
{
    "body": "<a id='comment:6'></a>So here's a pull request:\n\n```patch\ndiff --git a/spkg-install b/spkg-install\n--- a/spkg-install\n+++ b/spkg-install\n@@ -17,7 +17,7 @@\n echo \"Configuring csdp...\"\n ./configure --prefix=\"$SAGE_LOCAL\"\n if [ $? -ne 0 ]; then\n-   echo \"Error configuring csdp.\"\n+   echo >&2 \"Error configuring csdp.\"\n    exit 1\n fi\n \n```\nB)",
    "created_at": "2013-04-29T16:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192376",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>So here's a pull request:

```patch
diff --git a/spkg-install b/spkg-install
--- a/spkg-install
+++ b/spkg-install
@@ -17,7 +17,7 @@
 echo "Configuring csdp..."
 ./configure --prefix="$SAGE_LOCAL"
 if [ $? -ne 0 ]; then
-   echo "Error configuring csdp."
+   echo >&2 "Error configuring csdp."
    exit 1
 fi
 
```
B)



---

archive/issue_comments_192377.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:5 leif]:\n> Replying to [comment:3 dimpase]:\n> > It is certainly possible to create the cumulative diff of my changes against the original source, I just don't see the point of this, given that all this can be extracted from the public git repo the source lives in.\n\n> \n> Because this is the way how Sage development is supposed to happen (especially the review process)... ;-)\n\n\nBut this is kind of stupid... What actually **makes sense** to review, my autotools config files, are  going to be buried under lots of automatically generated files. \nAnd, strictly speaking, I might even choose not to include them into the spkg :\u2013)",
    "created_at": "2013-04-29T17:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192377",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>Replying to [comment:5 leif]:
> Replying to [comment:3 dimpase]:
> > It is certainly possible to create the cumulative diff of my changes against the original source, I just don't see the point of this, given that all this can be extracted from the public git repo the source lives in.

> 
> Because this is the way how Sage development is supposed to happen (especially the review process)... ;-)


But this is kind of stupid... What actually **makes sense** to review, my autotools config files, are  going to be buried under lots of automatically generated files. 
And, strictly speaking, I might even choose not to include them into the spkg :â€“)



---

archive/issue_comments_192378.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:6 leif]:\n> So here's a pull request:\n\nThanks! Fixed and updated the spkg.",
    "created_at": "2013-04-29T17:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192378",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>Replying to [comment:6 leif]:
> So here's a pull request:

Thanks! Fixed and updated the spkg.



---

archive/issue_comments_192379.json:
```json
{
    "body": "<a id='comment:9'></a>Well, probably consider everything in `src/` **your** upstream; everything else (i.e., the \"Sage part\") should still be tracked separately, within the spkg, subject to get reviewed *on Trac*.",
    "created_at": "2013-04-29T17:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192379",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>Well, probably consider everything in `src/` **your** upstream; everything else (i.e., the "Sage part") should still be tracked separately, within the spkg, subject to get reviewed *on Trac*.



---

archive/issue_comments_192380.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 leif]:\n> Well, probably consider everything in `src/` **your** upstream; everything else (i.e., the \"Sage part\") should still be tracked separately, within the spkg, subject to get reviewed *on Trac*.\n\n\nwell, I just followed the example of libGAP spkg.",
    "created_at": "2013-04-29T17:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192380",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>Replying to [comment:9 leif]:
> Well, probably consider everything in `src/` **your** upstream; everything else (i.e., the "Sage part") should still be tracked separately, within the spkg, subject to get reviewed *on Trac*.


well, I just followed the example of libGAP spkg.



---

archive/issue_comments_192381.json:
```json
{
    "body": "<a id='comment:11'></a>`@`dimpase You can add the configure.ac and other stuff as a patch file, right? Then the src/ folder will be exactly as upstream.",
    "created_at": "2013-04-30T06:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192381",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:11'></a>`@`dimpase You can add the configure.ac and other stuff as a patch file, right? Then the src/ folder will be exactly as upstream.



---

archive/issue_comments_192382.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 ppurka]:\n> `@`dimpase You can add the configure.ac and other stuff as a patch file, right? Then the src/ folder will be exactly as upstream.\n\nin this case you need autotools, and Sage doesn't have them all.",
    "created_at": "2013-04-30T06:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192382",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>Replying to [comment:11 ppurka]:
> `@`dimpase You can add the configure.ac and other stuff as a patch file, right? Then the src/ folder will be exactly as upstream.

in this case you need autotools, and Sage doesn't have them all.



---

archive/issue_comments_192383.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 dimpase]:\n> in this case you need autotools, and Sage doesn't have them all.\n\nI mean. Generate all the extra files you want to generate and create a single diff file which you can attach to the spkg. Something like this:\n\n```\n$ tar xf csdp-source.tbz2\n$ cp -a csdp-source{,.new}\n$ cd csdp-source.new && # create your configure.ac\n$ ./autoreconf etc etc\n$ cd ..\n$ diff -Naur csdp-source csdp-source.new > csdp.patch\n```\nAnd then use the patch file to patch the src/ directory.",
    "created_at": "2013-04-30T08:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192383",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:13'></a>Replying to [comment:12 dimpase]:
> in this case you need autotools, and Sage doesn't have them all.

I mean. Generate all the extra files you want to generate and create a single diff file which you can attach to the spkg. Something like this:

```
$ tar xf csdp-source.tbz2
$ cp -a csdp-source{,.new}
$ cd csdp-source.new && # create your configure.ac
$ ./autoreconf etc etc
$ cd ..
$ diff -Naur csdp-source csdp-source.new > csdp.patch
```
And then use the patch file to patch the src/ directory.



---

archive/issue_comments_192384.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 ppurka]:\n> Replying to [comment:12 dimpase]:\n> > in this case you need autotools, and Sage doesn't have them all.\n\n> I mean. Generate all the extra files you want to generate and create a single diff file which you can attach to the spkg. Something like this:\n> {{{\n> $ tar xf csdp-source.tbz2\n> $ cp -a csdp-source{,.new}\n> $ cd csdp-source.new && # create your configure.ac\n> $ ./autoreconf etc etc\n> $ cd ..\n> $ diff -Naur csdp-source csdp-source.new > csdp.patch\n> }}}\n> And then use the patch file to patch the src/ directory.\n\n\n... making sure that `configure` etc. are newer than the files they're generated from.\n\nHowever, if upstream's (almost) dead, simply treating Dima's fork as upstream is probably better.  But even in that case, everything outside `src/` isn't upstream, no matter whether upstream happens to be a Sage developer, so should properly get tracked by Sage, in a separate, independent repo.",
    "created_at": "2013-04-30T19:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192384",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'></a>Replying to [comment:13 ppurka]:
> Replying to [comment:12 dimpase]:
> > in this case you need autotools, and Sage doesn't have them all.

> I mean. Generate all the extra files you want to generate and create a single diff file which you can attach to the spkg. Something like this:
> {{{
> $ tar xf csdp-source.tbz2
> $ cp -a csdp-source{,.new}
> $ cd csdp-source.new && # create your configure.ac
> $ ./autoreconf etc etc
> $ cd ..
> $ diff -Naur csdp-source csdp-source.new > csdp.patch
> }}}
> And then use the patch file to patch the src/ directory.


... making sure that `configure` etc. are newer than the files they're generated from.

However, if upstream's (almost) dead, simply treating Dima's fork as upstream is probably better.  But even in that case, everything outside `src/` isn't upstream, no matter whether upstream happens to be a Sage developer, so should properly get tracked by Sage, in a separate, independent repo.



---

archive/issue_comments_192385.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 leif]:\n\n> However, if upstream's (almost) dead, simply treating Dima's fork as upstream is probably better.  But even in that case, everything outside `src/` isn't upstream, no matter whether upstream happens to be a Sage developer, so should properly get tracked by Sage, in a separate, independent repo.\n\n\nAs I already said, libGAP spkg does not follow the latter \"requirement\":\n\n```\n$ pwd\n/usr/local/src/sage/sage-5.9.rc0/spkg/standard/libgap-4.5.7.p2\n$ hg log\nchangeset:   1:c5d34c333de4\ntag:         tip\nuser:        Jeroen Demeyer <jdemeyer@cage.ugent.be>\ndate:        Thu Mar 28 19:21:53 2013 +0000\nsummary:     Added tag libgap-4.5.7.p2 for changeset c034d0063012\n\nchangeset:   0:c034d0063012\ntag:         libgap-4.5.7.p2\nuser:        Volker Braun <vbraun@stp.dias.ie>\ndate:        Thu Feb 28 13:10:53 2013 -1000\nsummary:     This is not the true repository, read SPKG.txt\n\n$ \n```\nI don't see why you'd like to disallow me doing the same here.",
    "created_at": "2013-05-01T06:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192385",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>Replying to [comment:14 leif]:

> However, if upstream's (almost) dead, simply treating Dima's fork as upstream is probably better.  But even in that case, everything outside `src/` isn't upstream, no matter whether upstream happens to be a Sage developer, so should properly get tracked by Sage, in a separate, independent repo.


As I already said, libGAP spkg does not follow the latter "requirement":

```
$ pwd
/usr/local/src/sage/sage-5.9.rc0/spkg/standard/libgap-4.5.7.p2
$ hg log
changeset:   1:c5d34c333de4
tag:         tip
user:        Jeroen Demeyer <jdemeyer@cage.ugent.be>
date:        Thu Mar 28 19:21:53 2013 +0000
summary:     Added tag libgap-4.5.7.p2 for changeset c034d0063012

changeset:   0:c034d0063012
tag:         libgap-4.5.7.p2
user:        Volker Braun <vbraun@stp.dias.ie>
date:        Thu Feb 28 13:10:53 2013 -1000
summary:     This is not the true repository, read SPKG.txt

$ 
```
I don't see why you'd like to disallow me doing the same here.



---

archive/issue_comments_192386.json:
```json
{
    "body": "<a id='comment:16'></a>LibGAP will eventually also become an independent \"upstream\" and release tarballs, with a more conventional spkg. The reason for the current state is just that it took years of fiddling and trying different approaches to make the thing work. It was definitely not clear from the outset how it can be made to work, or whether it is appropriate to shoehorn it into a spkg at all. But over time I realize that tracking libgap as a patch on a subset of the GAP distribution with some scripts that munge source code is the right way.",
    "created_at": "2013-05-01T06:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192386",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>LibGAP will eventually also become an independent "upstream" and release tarballs, with a more conventional spkg. The reason for the current state is just that it took years of fiddling and trying different approaches to make the thing work. It was definitely not clear from the outset how it can be made to work, or whether it is appropriate to shoehorn it into a spkg at all. But over time I realize that tracking libgap as a patch on a subset of the GAP distribution with some scripts that munge source code is the right way.



---

archive/issue_comments_192387.json:
```json
{
    "body": "<a id='comment:17'></a>`$SAGE_LOCAL/bin/csdp` needs to get added to `.hgignore` (in the same folder).",
    "created_at": "2013-05-14T08:06:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192387",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:17'></a>`$SAGE_LOCAL/bin/csdp` needs to get added to `.hgignore` (in the same folder).



---

archive/issue_comments_192388.json:
```json
{
    "body": "Attachment [trac_14505.patch](tarball://root/attachments/some-uuid/ticket14505/trac_14505.patch) by @dimpase created at 2013-05-15 01:29:54\n\nsage-scripts patch",
    "created_at": "2013-05-15T01:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192388",
    "user": "https://github.com/dimpase"
}
```

Attachment [trac_14505.patch](tarball://root/attachments/some-uuid/ticket14505/trac_14505.patch) by @dimpase created at 2013-05-15 01:29:54

sage-scripts patch



---

archive/issue_comments_192389.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable\n+shared library\n+https://projects.coin-or.org/Csdp/\n+(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)\n+\n+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/\n+\n+The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, \n+is hosted here: https://github.com/dimpase/csdp\n+\n+A Cython interface will be added on a separate ticket.\n+\n+The spkg is here:  http://web.spms.ntu.edu.sg/~dima/tmp/csdp-6.2.spkg\n+\n+Apply to \\`$SAGE_LOCAL/bin/\\`\n+\n+* [attachment:trac_14505.patch]\n \n \n Author: Dmitrii Pasechnik\n```\n",
    "created_at": "2013-05-15T01:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192389",
    "user": "https://github.com/dimpase"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,20 @@
+CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable
+shared library
+https://projects.coin-or.org/Csdp/
+(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)
+
+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/
+
+The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, 
+is hosted here: https://github.com/dimpase/csdp
+
+A Cython interface will be added on a separate ticket.
+
+The spkg is here:  http://web.spms.ntu.edu.sg/~dima/tmp/csdp-6.2.spkg
+
+Apply to \`$SAGE_LOCAL/bin/\`
+
+* [attachment:trac_14505.patch]
 
 
 Author: Dmitrii Pasechnik
```




---

archive/issue_comments_192390.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:17 leif]:\n> `$SAGE_LOCAL/bin/csdp` needs to get added to `.hgignore` (in the same folder).\n\n\ndone.",
    "created_at": "2013-05-15T01:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192390",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>Replying to [comment:17 leif]:
> `$SAGE_LOCAL/bin/csdp` needs to get added to `.hgignore` (in the same folder).


done.



---

archive/issue_comments_192391.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,26 @@\n+CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable\n+shared library\n+https://projects.coin-or.org/Csdp/\n+(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)\n+\n+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/\n+\n+The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, \n+is hosted here: https://github.com/dimpase/csdp\n+\n+A Cython interface will be added on a separate ticket.\n+\n+The spkg is here:  http://web.spms.ntu.edu.sg/~dima/tmp/csdp-6.2.spkg\n+\n+Apply to \\`$SAGE_LOCAL/bin/\\`\n+\n+* [attachment:trac_14505.patch]\n+\n+---\n+\n+Ignore.\n+\n+\n \n \n Author: Dmitrii Pasechnik\n```\n",
    "created_at": "2013-05-16T14:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192391",
    "user": "https://github.com/nexttime"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,26 @@
+CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable
+shared library
+https://projects.coin-or.org/Csdp/
+(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)
+
+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/
+
+The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, 
+is hosted here: https://github.com/dimpase/csdp
+
+A Cython interface will be added on a separate ticket.
+
+The spkg is here:  http://web.spms.ntu.edu.sg/~dima/tmp/csdp-6.2.spkg
+
+Apply to \`$SAGE_LOCAL/bin/\`
+
+* [attachment:trac_14505.patch]
+
+---
+
+Ignore.
+
+
 
 
 Author: Dmitrii Pasechnik
```




---

archive/issue_comments_192392.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable\n+shared library\n+https://projects.coin-or.org/Csdp/\n+(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)\n+\n+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/\n+\n+The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, \n+is hosted here: https://github.com/dimpase/csdp\n+\n+A Cython interface will be added on a separate ticket.\n+\n+The spkg is here:  http://web.spms.ntu.edu.sg/~dima/tmp/csdp-6.2.spkg\n+\n+Apply to \\`$SAGE_LOCAL/bin/\\`\n+\n+* [attachment:trac_14505.patch]\n \n \n Author: Dmitrii Pasechnik\n```\n",
    "created_at": "2013-05-16T14:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192392",
    "user": "https://github.com/nexttime"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,20 @@
+CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable
+shared library
+https://projects.coin-or.org/Csdp/
+(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)
+
+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/
+
+The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, 
+is hosted here: https://github.com/dimpase/csdp
+
+A Cython interface will be added on a separate ticket.
+
+The spkg is here:  http://web.spms.ntu.edu.sg/~dima/tmp/csdp-6.2.spkg
+
+Apply to \`$SAGE_LOCAL/bin/\`
+
+* [attachment:trac_14505.patch]
 
 
 Author: Dmitrii Pasechnik
```




---

archive/issue_comments_192393.json:
```json
{
    "body": "<a id='comment:25'></a>updated spkg with proper hg history\nhttp://sage.math.washington.edu/home/dima/packages/csdp-6.2.spkg\n\nAll the changes to SPKG.txt, spkg-install, etc (but not in src/) are properly tracked - well there is one more extra commit on top, moving files to the proper place, but I hope this is OK.\n\nThe history extraction is automatic, done by `hg convert` extension, see\nhttps://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh",
    "created_at": "2013-05-16T14:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192393",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'></a>updated spkg with proper hg history
http://sage.math.washington.edu/home/dima/packages/csdp-6.2.spkg

All the changes to SPKG.txt, spkg-install, etc (but not in src/) are properly tracked - well there is one more extra commit on top, moving files to the proper place, but I hope this is OK.

The history extraction is automatic, done by `hg convert` extension, see
https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh



---

archive/issue_comments_192394.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable\n+shared library\n+https://projects.coin-or.org/Csdp/\n+(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)\n+\n+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/\n+\n+The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, \n+is hosted here: https://github.com/dimpase/csdp\n+\n+A Cython interface will be added on a separate ticket.\n+\n+The spkg is here:  http://boxen.math.washington.edu/home/dima/packages/csdp-6.2.spkg\n+\n+Apply to \\`$SAGE_LOCAL/bin/\\`\n+\n+* [attachment:trac_14505.patch]\n \n \n Author: Dmitrii Pasechnik\n```\n",
    "created_at": "2013-05-16T14:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192394",
    "user": "https://github.com/nexttime"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,20 @@
+CSDP is a fast semidefinite programming solver, one of the very best around, written in C, with a callable
+shared library
+https://projects.coin-or.org/Csdp/
+(unfortunately is has a GPL-incompatible licence, which means it cannot be made standard package)
+
+This ticket adds CSDP: a stand-alone executable, a libtool-made shared library, and headers, to Sage. One interesting software component, using Sage and CSDP, is Flagmatic : http://flagmatic.org/
+
+The modifications to CSDP needed for Sage support, basically, libtoolization and the spkg infrastructure, 
+is hosted here: https://github.com/dimpase/csdp
+
+A Cython interface will be added on a separate ticket.
+
+The spkg is here:  http://boxen.math.washington.edu/home/dima/packages/csdp-6.2.spkg
+
+Apply to \`$SAGE_LOCAL/bin/\`
+
+* [attachment:trac_14505.patch]
 
 
 Author: Dmitrii Pasechnik
```




---

archive/issue_comments_192395.json:
```json
{
    "body": "<a id='comment:26'></a>Updated the spkg URL in the description.",
    "created_at": "2013-05-16T14:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192395",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:26'></a>Updated the spkg URL in the description.



---

archive/issue_comments_192396.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:25 dimpase]:\n\nI believe I have addressed all the criticism, please have a look.",
    "created_at": "2013-05-17T05:32:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192396",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>Replying to [comment:25 dimpase]:

I believe I have addressed all the criticism, please have a look.



---

archive/issue_comments_192397.json:
```json
{
    "body": "<a id='comment:28'></a>As for the question of upstream: I have created a new precedent with `lrcalc`. I am shipping changes to autotools source files (e.g. `configure.ac`) as a patch, but **I apply the patch and run autotools at packaging time** with a `spkg-src` script. Even though `src/` is not shipped as upstream, the changes are clearly documented (by the `spkg-src` script and a patch to be applied at packaging time).\n\nA slightly weaker form of this is used for the PARI spkg: there I am adding some auto-generated files to the `src/` directory (but no patch before packaging).",
    "created_at": "2013-05-22T14:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192397",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>As for the question of upstream: I have created a new precedent with `lrcalc`. I am shipping changes to autotools source files (e.g. `configure.ac`) as a patch, but **I apply the patch and run autotools at packaging time** with a `spkg-src` script. Even though `src/` is not shipped as upstream, the changes are clearly documented (by the `spkg-src` script and a patch to be applied at packaging time).

A slightly weaker form of this is used for the PARI spkg: there I am adding some auto-generated files to the `src/` directory (but no patch before packaging).



---

archive/issue_comments_192398.json:
```json
{
    "body": "<a id='comment:29'></a>Replying to [comment:28 jdemeyer]:\n> As for the question of upstream: I have created a new precedent with `lrcalc`. I am shipping changes to autotools source files (e.g. configure.ac) as a patch...\n\nAren't we moving away from plain patches towards more sanity?\n\nI hope do not need to resort to do more shell script programming in order to patchify the setup, for this means doing poor man revision *control* instead of  the proper (and present) one. Yes, I can create a git mega-patch and apply it to the old revision at the spkg buildtime, but I don't see the benefit of this - to the contrary, it's much less clear this way. \n\n\nI am already doing more than is done in libGAP: I am shipping the full history of the spkg infrastructure, i.e. of SPKG.txt and spkg-install.\nspkg is created [fully automatically](https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh), from a github repo, with all the changes preserved. So one can see my changes to the original upstream (changed the layout of headers and added autotools). And, as I mentioned, the latter hasn't been changed in 6 years...",
    "created_at": "2013-05-23T03:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192398",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>Replying to [comment:28 jdemeyer]:
> As for the question of upstream: I have created a new precedent with `lrcalc`. I am shipping changes to autotools source files (e.g. configure.ac) as a patch...

Aren't we moving away from plain patches towards more sanity?

I hope do not need to resort to do more shell script programming in order to patchify the setup, for this means doing poor man revision *control* instead of  the proper (and present) one. Yes, I can create a git mega-patch and apply it to the old revision at the spkg buildtime, but I don't see the benefit of this - to the contrary, it's much less clear this way. 


I am already doing more than is done in libGAP: I am shipping the full history of the spkg infrastructure, i.e. of SPKG.txt and spkg-install.
spkg is created [fully automatically](https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh), from a github repo, with all the changes preserved. So one can see my changes to the original upstream (changed the layout of headers and added autotools). And, as I mentioned, the latter hasn't been changed in 6 years...



---

archive/issue_comments_192399.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:29 dimpase]:\n> Replying to [comment:28 jdemeyer]:\n> > As for the question of upstream: I have created a new precedent with `lrcalc`. I am shipping changes to autotools source files (e.g. configure.ac) as a patch...\n\n> Aren't we moving away from plain patches towards more sanity?\nIt seems that what you are doing with csdp isn't much different from what I am doing with `lrcalc`, see comment [comment:28]. The only real difference is that I don't host anything on github but all code is inside the spkg itself.",
    "created_at": "2013-05-24T11:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192399",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>Replying to [comment:29 dimpase]:
> Replying to [comment:28 jdemeyer]:
> > As for the question of upstream: I have created a new precedent with `lrcalc`. I am shipping changes to autotools source files (e.g. configure.ac) as a patch...

> Aren't we moving away from plain patches towards more sanity?
It seems that what you are doing with csdp isn't much different from what I am doing with `lrcalc`, see comment [comment:28]. The only real difference is that I don't host anything on github but all code is inside the spkg itself.



---

archive/issue_comments_192400.json:
```json
{
    "body": "<a id='comment:31'></a>Sooooooooooooooooooo what is missing in this patch before csdp can be included ? It is still in needs_review, is there any reason to set it back to needs_work ? `O_o`\n\nNathann",
    "created_at": "2013-06-19T14:26:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192400",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:31'></a>Sooooooooooooooooooo what is missing in this patch before csdp can be included ? It is still in needs_review, is there any reason to set it back to needs_work ? `O_o`

Nathann



---

archive/issue_comments_192401.json:
```json
{
    "body": "<a id='comment:32'></a>What is needs work here? It is only needs review. I am fine with the changes, but haven't been able to look at it in detail.",
    "created_at": "2013-06-19T14:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192401",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:32'></a>What is needs work here? It is only needs review. I am fine with the changes, but haven't been able to look at it in detail.



---

archive/issue_comments_192402.json:
```json
{
    "body": "<a id='comment:33'></a>Excellent, at least we have a volunteer ;-)",
    "created_at": "2013-06-19T15:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192402",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>Excellent, at least we have a volunteer ;-)



---

archive/issue_comments_192403.json:
```json
{
    "body": "<a id='comment:34'></a>Well. If you say that this thing has not been updated for years, I guess that modifying its sources to make it run is not that bad ... This being said I haven't been able to find a mention of CSDP 6.2 on internet, only 6.1.1 seems to be available on the original website.\n\nCould you also explain somewhere how this spkg can be built from scratch ? I remember having seen somewhere in a spkg a \"create spkg\" file with an internal variable equal to the url of the .tar.gz file, and running that ended up in creating the SPKG itself.\n\nThere is no problem with using commands like git or anything else at this level, since it is only run by the guy who builds the SPKG, not by everybody who installs Sage.\n\nNathann",
    "created_at": "2013-06-22T08:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192403",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>Well. If you say that this thing has not been updated for years, I guess that modifying its sources to make it run is not that bad ... This being said I haven't been able to find a mention of CSDP 6.2 on internet, only 6.1.1 seems to be available on the original website.

Could you also explain somewhere how this spkg can be built from scratch ? I remember having seen somewhere in a spkg a "create spkg" file with an internal variable equal to the url of the .tar.gz file, and running that ended up in creating the SPKG itself.

There is no problem with using commands like git or anything else at this level, since it is only run by the guy who builds the SPKG, not by everybody who installs Sage.

Nathann



---

archive/issue_comments_192404.json:
```json
{
    "body": "<a id='comment:35'></a>(by the way, for some reason there is no problem at all with tar on my laptop, but my office's computer refuses to extract it. Weird `O_o`)\n\nNathann",
    "created_at": "2013-06-22T08:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192404",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:35'></a>(by the way, for some reason there is no problem at all with tar on my laptop, but my office's computer refuses to extract it. Weird `O_o`)

Nathann



---

archive/issue_comments_192405.json:
```json
{
    "body": "<a id='comment:36'></a>I will be trying out some LP bounds soon, so I will get to look into this package. :-)\n\n`@`ncohen - that's very little information. What OS and what version of the OS are you running? What options are you giving to tar? Is your tar symlinked to busybox (very unlikely), for instance?",
    "created_at": "2013-06-22T08:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192405",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:36'></a>I will be trying out some LP bounds soon, so I will get to look into this package. :-)

`@`ncohen - that's very little information. What OS and what version of the OS are you running? What options are you giving to tar? Is your tar symlinked to busybox (very unlikely), for instance?



---

archive/issue_comments_192406.json:
```json
{
    "body": "<a id='comment:37'></a>> `@`ncohen - that's very little information. What OS and what version of the OS are you running? What options are you giving to tar? Is your tar symlinked to busybox (very unlikely), for instance?\n\n\nOh sorry. I had sent a couple of emails about that to Dima, that's why I was so vague.\n\nI just don't get what is happening. We checked that my version of the spkg had the right md5sum (*cfcba3f), but when I run\n\n```\ntmp$ tar xjvf csdp-6.2.spkg \n```\nnothing at all happens. It just waits forever. And here's the tar I use\n\n```\n~$ tar --version\ntar (GNU tar) 1.26\n```\nBut well.. `O_o`\n\nNathann",
    "created_at": "2013-06-22T08:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192406",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:37'></a>> `@`ncohen - that's very little information. What OS and what version of the OS are you running? What options are you giving to tar? Is your tar symlinked to busybox (very unlikely), for instance?


Oh sorry. I had sent a couple of emails about that to Dima, that's why I was so vague.

I just don't get what is happening. We checked that my version of the spkg had the right md5sum (*cfcba3f), but when I run

```
tmp$ tar xjvf csdp-6.2.spkg 
```
nothing at all happens. It just waits forever. And here's the tar I use

```
~$ tar --version
tar (GNU tar) 1.26
```
But well.. `O_o`

Nathann



---

archive/issue_comments_192407.json:
```json
{
    "body": "<a id='comment:38'></a>Okayyyyyyyyyyyyyy... Turns out there was something wrong with some automounting stuff I failed to properly install a week ago. Now it doesn't hang anymore. Mystery cleared : everything that is automatic and/or is remotely related to windows fs should never be installed `>_<`\n\nNathann",
    "created_at": "2013-06-22T08:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192407",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:38'></a>Okayyyyyyyyyyyyyy... Turns out there was something wrong with some automounting stuff I failed to properly install a week ago. Now it doesn't hang anymore. Mystery cleared : everything that is automatic and/or is remotely related to windows fs should never be installed `>_<`

Nathann



---

archive/issue_comments_192408.json:
```json
{
    "body": "<a id='comment:39'></a>Is your tar aliased to something? Can you run\n\n```\n\\tar xjvf csdp-6.2.spkg\n```\nyes, with the `\\`.",
    "created_at": "2013-06-22T08:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192408",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:39'></a>Is your tar aliased to something? Can you run

```
\tar xjvf csdp-6.2.spkg
```
yes, with the `\`.



---

archive/issue_comments_192409.json:
```json
{
    "body": "<a id='comment:40'></a>Oh ok. It is all fixed for you, then it's good. Yeah, sometimes it is better to avoid mixing windows stuff with linux stuff. Things break down in mysterious ways.",
    "created_at": "2013-06-22T08:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192409",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:40'></a>Oh ok. It is all fixed for you, then it's good. Yeah, sometimes it is better to avoid mixing windows stuff with linux stuff. Things break down in mysterious ways.



---

archive/issue_comments_192410.json:
```json
{
    "body": "<a id='comment:41'></a>Replying to [comment:34 ncohen]:\n> Well. If you say that this thing has not been updated for years, I guess that modifying its sources to make it run is not that bad ... This being said I haven't been able to find a mention of CSDP 6.2 on internet, only 6.1.1 seems to be available on the original website.\n  \n>\nsvn repo has 6.2 (beta); here is this commit imported: https://github.com/dimpase/csdp/commit/77081795bfe14c1440581dfa839fd9bb6026736a\n\n\n> Could you also explain somewhere how this spkg can be built from scratch ? I remember having seen somewhere in a spkg a \"create spkg\" file with an internal variable equal to the url of the .tar.gz file, and running that ended up in creating the SPKG itself.\n\n\nthis is the script that does the job (on the full git repo): https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh\n\nShould I mention this in `SPKG.txt` ?",
    "created_at": "2013-06-22T08:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192410",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'></a>Replying to [comment:34 ncohen]:
> Well. If you say that this thing has not been updated for years, I guess that modifying its sources to make it run is not that bad ... This being said I haven't been able to find a mention of CSDP 6.2 on internet, only 6.1.1 seems to be available on the original website.
  
>
svn repo has 6.2 (beta); here is this commit imported: https://github.com/dimpase/csdp/commit/77081795bfe14c1440581dfa839fd9bb6026736a


> Could you also explain somewhere how this spkg can be built from scratch ? I remember having seen somewhere in a spkg a "create spkg" file with an internal variable equal to the url of the .tar.gz file, and running that ended up in creating the SPKG itself.


this is the script that does the job (on the full git repo): https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh

Should I mention this in `SPKG.txt` ?



---

archive/issue_comments_192411.json:
```json
{
    "body": "<a id='comment:42'></a>Yo !\n\n> svn repo has 6.2 (beta); here is this commit imported: https://github.com/dimpase/csdp/commit/77081795bfe14c1440581dfa839fd9bb6026736a\n\n\nAhahah. Cool `:-D`\n\n> this is the script that does the job (on the full git repo): https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh\n> \n> Should I mention this in `SPKG.txt` ?\n\n\nYep, it would be nice ! I just downloaded your git repository and ran this `make-spkg.sh` script but it ends up like that :\n\n```\n/tmp/csdp/spkg$ ./make-spkg.sh \nmake: *** No rule to make target `dist'.  Stop.\n```\n\nAnnnnd I have no idea if what I do is what I should to build the spkg `:-)`\n\nNathann",
    "created_at": "2013-06-22T09:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192411",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:42'></a>Yo !

> svn repo has 6.2 (beta); here is this commit imported: https://github.com/dimpase/csdp/commit/77081795bfe14c1440581dfa839fd9bb6026736a


Ahahah. Cool `:-D`

> this is the script that does the job (on the full git repo): https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh
> 
> Should I mention this in `SPKG.txt` ?


Yep, it would be nice ! I just downloaded your git repository and ran this `make-spkg.sh` script but it ends up like that :

```
/tmp/csdp/spkg$ ./make-spkg.sh 
make: *** No rule to make target `dist'.  Stop.
```

Annnnd I have no idea if what I do is what I should to build the spkg `:-)`

Nathann



---

archive/issue_comments_192412.json:
```json
{
    "body": "<a id='comment:43'></a>Replying to [comment:42 ncohen]:\n> Yo !\n> \n> > svn repo has 6.2 (beta); here is this commit imported: https://github.com/dimpase/csdp/commit/77081795bfe14c1440581dfa839fd9bb6026736a\n\n> \n> Ahahah. Cool `:-D`\n> \n> > this is the script that does the job (on the full git repo): https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh\n> > \n> > Should I mention this in `SPKG.txt` ?\n\n> \n> Yep, it would be nice ! I just downloaded your git repository and ran this `make-spkg.sh` script but it ends up like that :\n> \n> \n> ```\n> /tmp/csdp/spkg$ ./make-spkg.sh \n> make: *** No rule to make target `dist'.  Stop.\n> ```\n> \n> Annnnd I have no idea if what I do is what I should to build the spkg `:-)`\n\n\nright, you need to populate the tree  with makefiles first, by ./configure\nat the top level.\n\n> \n> Nathann",
    "created_at": "2013-06-22T09:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192412",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:43'></a>Replying to [comment:42 ncohen]:
> Yo !
> 
> > svn repo has 6.2 (beta); here is this commit imported: https://github.com/dimpase/csdp/commit/77081795bfe14c1440581dfa839fd9bb6026736a

> 
> Ahahah. Cool `:-D`
> 
> > this is the script that does the job (on the full git repo): https://github.com/dimpase/csdp/blob/master/spkg/make-spkg.sh
> > 
> > Should I mention this in `SPKG.txt` ?

> 
> Yep, it would be nice ! I just downloaded your git repository and ran this `make-spkg.sh` script but it ends up like that :
> 
> 
> ```
> /tmp/csdp/spkg$ ./make-spkg.sh 
> make: *** No rule to make target `dist'.  Stop.
> ```
> 
> Annnnd I have no idea if what I do is what I should to build the spkg `:-)`


right, you need to populate the tree  with makefiles first, by ./configure
at the top level.

> 
> Nathann



---

archive/issue_comments_192413.json:
```json
{
    "body": "<a id='comment:44'></a>`O_o`\n\nThere is no configure file in at the top level `O_o`\n\n```\n/tmp/csdp/spkg$ ls\nconvert_mapfile  install.sh  LICENSE  make-spkg.sh  README.md  spkg-install  SPKG.txt\n/tmp/csdp/spkg$ cd ..\n/tmp/csdp$ ./configure\nbash: ./configure: No such file or directory\n```\n\nNathann",
    "created_at": "2013-06-22T09:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192413",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:44'></a>`O_o`

There is no configure file in at the top level `O_o`

```
/tmp/csdp/spkg$ ls
convert_mapfile  install.sh  LICENSE  make-spkg.sh  README.md  spkg-install  SPKG.txt
/tmp/csdp/spkg$ cd ..
/tmp/csdp$ ./configure
bash: ./configure: No such file or directory
```

Nathann



---

archive/issue_comments_192414.json:
```json
{
    "body": "<a id='comment:45'></a>Replying to [comment:44 ncohen]:\n> `O_o`\n> \n> There is no configure file in at the top level `O_o`\n\nOops, sorry.\n\nWelcome to the autoHell :-)\n\nI've added  the detailed instructions on bilding the spkg to the [SPKG.txt](https://github.com/dimpase/csdp/blob/master/spkg/SPKG.txt) and updated the spkg file. Hopefully it's clear now.",
    "created_at": "2013-06-22T09:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192414",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:45'></a>Replying to [comment:44 ncohen]:
> `O_o`
> 
> There is no configure file in at the top level `O_o`

Oops, sorry.

Welcome to the autoHell :-)

I've added  the detailed instructions on bilding the spkg to the [SPKG.txt](https://github.com/dimpase/csdp/blob/master/spkg/SPKG.txt) and updated the spkg file. Hopefully it's clear now.



---

archive/issue_comments_192415.json:
```json
{
    "body": "<a id='comment:46'></a>There is still something missing. I had to add the line\n\n```\nconvert =\n```\nin my `[extensions]` section of `~/.hgrc`. Even so, it fails with the following error on running `make-spkg`.\n\n```\n8 added support to make Sage spkg, and the corresponding files\n7 explained NOSHORTS thing in SPKG.txt\n6 Update README.md\n5 added missing >&2\n4 further rectifications of NOSHORTS and SPKG.txt\n3 an attempt to use hg convert to fake the history in spkg/\n2 tweaking \"hg convert\" thing\n1 yet more tweaks to make_spkg\n0 added instructions to build spkg\nupdating bookmarks\nmv: cannot stat \u2018csdp-hg/.hg\u2019: No such file or directory\n```",
    "created_at": "2013-06-22T10:01:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192415",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:46'></a>There is still something missing. I had to add the line

```
convert =
```
in my `[extensions]` section of `~/.hgrc`. Even so, it fails with the following error on running `make-spkg`.

```
8 added support to make Sage spkg, and the corresponding files
7 explained NOSHORTS thing in SPKG.txt
6 Update README.md
5 added missing >&2
4 further rectifications of NOSHORTS and SPKG.txt
3 an attempt to use hg convert to fake the history in spkg/
2 tweaking "hg convert" thing
1 yet more tweaks to make_spkg
0 added instructions to build spkg
updating bookmarks
mv: cannot stat â€˜csdp-hg/.hgâ€™: No such file or directory
```



---

archive/issue_comments_192416.json:
```json
{
    "body": "<a id='comment:47'></a>Replying to [comment:46 ppurka]:\n> There is still something missing. I had to add the line\n> \n> ```\n> convert =\n> ```\n> in my `[extensions]` section of `~/.hgrc`. \n\n\nOK, I've updated SPKG.txt mentioning this, as well as git and autotools/libtool requirements for spkg creating.\n\n\n> Even so, it fails with the following error on running `make-spkg`.\n\n\nweird. Do have have an old/super-new hg?\n\nDoes it create csdp-hg/ in some other place for you?\n\n(I presume you do ./make-spkg.sh)",
    "created_at": "2013-06-22T10:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192416",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:47'></a>Replying to [comment:46 ppurka]:
> There is still something missing. I had to add the line
> 
> ```
> convert =
> ```
> in my `[extensions]` section of `~/.hgrc`. 


OK, I've updated SPKG.txt mentioning this, as well as git and autotools/libtool requirements for spkg creating.


> Even so, it fails with the following error on running `make-spkg`.


weird. Do have have an old/super-new hg?

Does it create csdp-hg/ in some other place for you?

(I presume you do ./make-spkg.sh)



---

archive/issue_comments_192417.json:
```json
{
    "body": "<a id='comment:48'></a>There is no csdp-hg anywhere and I suppose it is using sage's hg when I am running `./make-spkg.sh`\n\n```\n/tmp/csdpnew\u00bb sage -sh\n\nStarting subshell with Sage environment variables set.  Don't forget\nto exit when you are done.  Beware:\n * Do not do anything with other copies of Sage on your system.\n * Do not use this for installing Sage packages using \"sage -i\" or for\n   running \"make\" at Sage's root directory.  These should be done\n   outside the Sage shell.\n\nBypassing shell configuration files...\n\nNote: SAGE_ROOT=/mnt/usb/Installations/sage-5.10.rc0\n/tmp/csdpnew\u00bb hg --version\nMercurial Distributed SCM (version 2.2.2)\n(see http://mercurial.selenic.com for more information)\n\nCopyright (C) 2005-2012 Matt Mackall and others\nThis is free software; see the source for copying conditions. There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n/tmp/csdpnew\u00bb which hg\n/mnt/usb/Installations/sage-5.10.rc0/local/bin/hg\n/tmp/csdpnew\u00bb\nExited Sage subshell.\n/tmp/csdpnew\u00bb hg --version\nMercurial Distributed SCM (version 2.4.2)\n(see http://mercurial.selenic.com for more information)\n\nCopyright (C) 2005-2012 Matt Mackall and others\nThis is free software; see the source for copying conditions. There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n/tmp/csdpnew\u00bb which hg\n/usr/bin/hg\n/tmp/csdpnew\u00bb ls\naclocal.m4\tconfig.guess   config.sub\tdepcomp  install-sh  m4\t\t    matlab     sage\t theta\nAUTHORS\t\tconfig.h       configure\tdoc\t lib\t     Makefile\t    missing    solver\nautom4te.cache\tconfig.h.in    configure.ac\texample  libtool     Makefile.am    NEWS       spkg\nChangeLog\tconfig.log     COPYING\t\tinclude  LICENSE     Makefile.in    README     stamp-h1\ncompile\t\tconfig.status  csdp-6.2.tar.gz\tINSTALL  ltmain.sh   Makefile.orig  README.md  test\n/tmp/csdpnew\u00bb cd spkg\n/tmp/csdpnew/spkg\u00bb ls\nconvert_mapfile  csdp-6.2  install.sh  LICENSE\tmake-spkg.sh  README.md  spkg-install  SPKG.txt\n/tmp/csdpnew/spkg\u00bb cd -\n/tmp/csdpnew\n/tmp/csdpnew\u00bb find . -name 'csdp-hg'\n/tmp/csdpnew\u00bb\n```",
    "created_at": "2013-06-22T11:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192417",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:48'></a>There is no csdp-hg anywhere and I suppose it is using sage's hg when I am running `./make-spkg.sh`

```
/tmp/csdpnewÂ» sage -sh

Starting subshell with Sage environment variables set.  Don't forget
to exit when you are done.  Beware:
 * Do not do anything with other copies of Sage on your system.
 * Do not use this for installing Sage packages using "sage -i" or for
   running "make" at Sage's root directory.  These should be done
   outside the Sage shell.

Bypassing shell configuration files...

Note: SAGE_ROOT=/mnt/usb/Installations/sage-5.10.rc0
/tmp/csdpnewÂ» hg --version
Mercurial Distributed SCM (version 2.2.2)
(see http://mercurial.selenic.com for more information)

Copyright (C) 2005-2012 Matt Mackall and others
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
/tmp/csdpnewÂ» which hg
/mnt/usb/Installations/sage-5.10.rc0/local/bin/hg
/tmp/csdpnewÂ»
Exited Sage subshell.
/tmp/csdpnewÂ» hg --version
Mercurial Distributed SCM (version 2.4.2)
(see http://mercurial.selenic.com for more information)

Copyright (C) 2005-2012 Matt Mackall and others
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
/tmp/csdpnewÂ» which hg
/usr/bin/hg
/tmp/csdpnewÂ» ls
aclocal.m4	config.guess   config.sub	depcomp  install-sh  m4		    matlab     sage	 theta
AUTHORS		config.h       configure	doc	 lib	     Makefile	    missing    solver
autom4te.cache	config.h.in    configure.ac	example  libtool     Makefile.am    NEWS       spkg
ChangeLog	config.log     COPYING		include  LICENSE     Makefile.in    README     stamp-h1
compile		config.status  csdp-6.2.tar.gz	INSTALL  ltmain.sh   Makefile.orig  README.md  test
/tmp/csdpnewÂ» cd spkg
/tmp/csdpnew/spkgÂ» ls
convert_mapfile  csdp-6.2  install.sh  LICENSE	make-spkg.sh  README.md  spkg-install  SPKG.txt
/tmp/csdpnew/spkgÂ» cd -
/tmp/csdpnew
/tmp/csdpnewÂ» find . -name 'csdp-hg'
/tmp/csdpnewÂ»
```



---

archive/issue_comments_192418.json:
```json
{
    "body": "<a id='comment:49'></a>Replying to [comment:48 ppurka]:\n> There is no csdp-hg anywhere and I suppose it is using sage's hg when I am running `./make-spkg.sh`\n> \n> ```\n> /tmp/csdpnew\u00bb sage -sh\n\n\nthings in `/tmp` might be a bit funny...\n\nAlso, do you have anything unusual in `~/.hgrc` ?\nI imagine hg-git might interfere...",
    "created_at": "2013-06-22T18:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192418",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:49'></a>Replying to [comment:48 ppurka]:
> There is no csdp-hg anywhere and I suppose it is using sage's hg when I am running `./make-spkg.sh`
> 
> ```
> /tmp/csdpnewÂ» sage -sh


things in `/tmp` might be a bit funny...

Also, do you have anything unusual in `~/.hgrc` ?
I imagine hg-git might interfere...



---

archive/issue_comments_192419.json:
```json
{
    "body": "<a id='comment:50'></a>No. Nothing special in that file:\n\n```\n\n[ui]\nusername = Punarbasu Purkayastha <ppurka snip...>\n\n[extensions]\nrebase =\nmq =\nfetch =\npager =\ngraphlog =\ncolor =\nrecord =\nhgext.extdiff =\nconvert =\n\n[diff]\ngit = true\n\n[extdiff]\ncmd.merge_hg =\n\n[merge-tools]\nmerge_hg.args = \"$local\" \"$other\" \"$base\"\n\n[pager]\npager = less\nattend = annotate, cat, diff, log, glog, qdiff, export\n\n[alias]\nmylog = glog -l15 --template '\\033[34;40m{rev} \\033[00;40m- \\033[01;33;40m{tags} \\033[0;37;40m{desc|firstline|fill68} \\033[0;32;40m{date|age}\\033[0;37;40m <{author|person}> \\033[37;40m \\033[35;40m{branches}\\033[37;40m\\n'\nl = mylog\n\n```",
    "created_at": "2013-06-22T22:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192419",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:50'></a>No. Nothing special in that file:

```

[ui]
username = Punarbasu Purkayastha <ppurka snip...>

[extensions]
rebase =
mq =
fetch =
pager =
graphlog =
color =
record =
hgext.extdiff =
convert =

[diff]
git = true

[extdiff]
cmd.merge_hg =

[merge-tools]
merge_hg.args = "$local" "$other" "$base"

[pager]
pager = less
attend = annotate, cat, diff, log, glog, qdiff, export

[alias]
mylog = glog -l15 --template '\033[34;40m{rev} \033[00;40m- \033[01;33;40m{tags} \033[0;37;40m{desc|firstline|fill68} \033[0;32;40m{date|age}\033[0;37;40m <{author|person}> \033[37;40m \033[35;40m{branches}\033[37;40m\n'
l = mylog

```



---

archive/issue_comments_192420.json:
```json
{
    "body": "<a id='comment:51'></a>Replying to [comment:50 ppurka]:\n\ndid you try building outside `/tmp` ?\nI am unable to reproduce your issue.",
    "created_at": "2013-06-23T10:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192420",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:51'></a>Replying to [comment:50 ppurka]:

did you try building outside `/tmp` ?
I am unable to reproduce your issue.



---

archive/issue_comments_192421.json:
```json
{
    "body": "<a id='comment:52'></a>Replying to [comment:51 dimpase]:\n> did you try building outside `/tmp` ?\n> I am unable to reproduce your issue.\n\n\nThat is indeed very weird. It works outside `/tmp`. Must be some quirk of hg.",
    "created_at": "2013-06-23T11:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192421",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:52'></a>Replying to [comment:51 dimpase]:
> did you try building outside `/tmp` ?
> I am unable to reproduce your issue.


That is indeed very weird. It works outside `/tmp`. Must be some quirk of hg.



---

archive/issue_comments_192422.json:
```json
{
    "body": "<a id='comment:53'></a>How do I test the installation? I think there should be something to test the installation of this package, without having to go through pycsdp or flagmatic.\n\nI tried the example.c file in example directory, but the compilation seems to work only if I actually compiled csdp and compiled example.c from within the sources directory.",
    "created_at": "2013-06-29T16:55:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192422",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:53'></a>How do I test the installation? I think there should be something to test the installation of this package, without having to go through pycsdp or flagmatic.

I tried the example.c file in example directory, but the compilation seems to work only if I actually compiled csdp and compiled example.c from within the sources directory.



---

archive/issue_comments_192423.json:
```json
{
    "body": "<a id='comment:54'></a>Well, if the binary is correctly build and runs, I would say that the spkg does its job `:-)`\n\nYou can set this ticket to positive review from my behalf too once that you will be satisfied with what it does `:-)`\n\nNathann",
    "created_at": "2013-06-30T18:31:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192423",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:54'></a>Well, if the binary is correctly build and runs, I would say that the spkg does its job `:-)`

You can set this ticket to positive review from my behalf too once that you will be satisfied with what it does `:-)`

Nathann



---

archive/issue_comments_192424.json:
```json
{
    "body": "<a id='comment:55'></a>The binary does build and run. And I have tested the compiled binay with flagmatic earlier. Since you are ok with it, let's give it a +1. ;-)",
    "created_at": "2013-06-30T21:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192424",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:55'></a>The binary does build and run. And I have tested the compiled binay with flagmatic earlier. Since you are ok with it, let's give it a +1. ;-)



---

archive/issue_comments_192425.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-30T21:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192425",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_192426.json:
```json
{
    "body": "<a id='comment:56'></a>spkg is on the server.",
    "created_at": "2013-07-24T09:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192426",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:56'></a>spkg is on the server.



---

archive/issue_events_041248.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-29T11:07:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14505#event-41248"
}
```



---

archive/issue_comments_192427.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-07-29T11:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192427",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_192428.json:
```json
{
    "body": "<a id='comment:58'></a>Possible followup: #17391.",
    "created_at": "2014-11-24T17:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192428",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:58'></a>Possible followup: #17391.



---

archive/issue_comments_192429.json:
```json
{
    "body": "<a id='comment:59'></a>Any interest in moving this to optional?  I have user requests for this on SageMathCloud.  E.g., \n\n\n```\nDear SageMath,\n\nI encountered a problem at \n\nThe package csdp (used by lovasz_theta() function) is not installed. The \ncurrent error message is somewhat misleading, as it tells me to run 'sage \n-i csdp'. Doing so fails due to insufficient permissions.\n```\n\nNOTE: The latter thing about \"insufficient permissions\" is yet another way that we need to distinguish between system-wide and private sage installs.",
    "created_at": "2015-10-28T22:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192429",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:59'></a>Any interest in moving this to optional?  I have user requests for this on SageMathCloud.  E.g., 


```
Dear SageMath,

I encountered a problem at 

The package csdp (used by lovasz_theta() function) is not installed. The 
current error message is somewhat misleading, as it tells me to run 'sage 
-i csdp'. Doing so fails due to insufficient permissions.
```

NOTE: The latter thing about "insufficient permissions" is yet another way that we need to distinguish between system-wide and private sage installs.



---

archive/issue_comments_192430.json:
```json
{
    "body": "<a id='comment:60'></a>I am all for it.",
    "created_at": "2015-10-28T22:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14505#issuecomment-192430",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:60'></a>I am all for it.
