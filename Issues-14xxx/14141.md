# Issue 14141: Implementation of Knutson-Tao puzzles

archive/issues_013937.json:
```json
{
    "assignees": [],
    "body": "This patch implements Knutson-Tao puzzles in various settings (Grassmannian, equivariant Grassmannian, K theoretic, Belkale-Kumar puzzles).\n\nThis code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.\nThe code was tested afterwards by Liz Beazley and Ed Richmond.\n\nApply:\n- [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)\n\n\nDepends on #14299\n\nAssignee: **sage-combinat**\n\nCC:  sage-combinat @saliola\n\nKeywords: **puzzles, Littlewood-Richardson coefficiens, days45**\n\nReviewer: **Allen Knutson, Liz Beazley, Ed Richmond**\n\nAuthor: **Franco Saliola, Avinash Dalal, Anne Schilling**\n\nMerged: **sage-5.10.beta4**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14141_\n\n",
    "closed_at": "2013-05-19T08:38:45Z",
    "created_at": "2013-02-16T14:59:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementation of Knutson-Tao puzzles",
    "type": "issue",
    "updated_at": "2013-05-19T08:38:45Z",
    "url": "https://github.com/sagemath/sage/issues/14141",
    "user": "https://github.com/anneschilling"
}
```
This patch implements Knutson-Tao puzzles in various settings (Grassmannian, equivariant Grassmannian, K theoretic, Belkale-Kumar puzzles).

This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.
The code was tested afterwards by Liz Beazley and Ed Richmond.

Apply:
- [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)


Depends on #14299

Assignee: **sage-combinat**

CC:  sage-combinat @saliola

Keywords: **puzzles, Littlewood-Richardson coefficiens, days45**

Reviewer: **Allen Knutson, Liz Beazley, Ed Richmond**

Author: **Franco Saliola, Avinash Dalal, Anne Schilling**

Merged: **sage-5.10.beta4**

_Issue created by migration from https://trac.sagemath.org/ticket/14141_





---

archive/issue_events_176118.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-02-16T14:59:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176118"
}
```



---

archive/issue_events_176119.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-02-16T14:59:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176119"
}
```



---

archive/issue_events_176120.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-02-16T14:59:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176120"
}
```



---

archive/issue_events_176121.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-02-16T14:59:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176121"
}
```



---

archive/issue_events_176122.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-04-19T23:14:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176122"
}
```



---

archive/issue_comments_170830.json:
```json
{
    "body": "Changed author from **Franco Saliola, Allen Knutson, Avinash Dalal, Anne Schilling** to **Franco Saliola, Avinash Dalal, Anne Schilling**",
    "created_at": "2013-04-19T23:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170830",
    "user": "https://github.com/anneschilling"
}
```

Changed author from **Franco Saliola, Allen Knutson, Avinash Dalal, Anne Schilling** to **Franco Saliola, Avinash Dalal, Anne Schilling**



---

archive/issue_comments_170831.json:
```json
{
    "body": "Reviewer: **Allen Knutson, Liz Beazley, Ed Richmond**",
    "created_at": "2013-04-19T23:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170831",
    "user": "https://github.com/anneschilling"
}
```

Reviewer: **Allen Knutson, Liz Beazley, Ed Richmond**



---

archive/issue_comments_170832.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+This patch implements Knutson-Tao puzzles in various settings (Grassmannian, equivariant Grassmannian, K theoretic, Belkale-Kumar puzzles).\n \n+This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.\n+The code was tested afterwards by Liz Beazley and Ed Richmond (who also contributed to the bijection between puzzles and tableaux).\n``````\n",
    "created_at": "2013-04-19T23:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170832",
    "user": "https://github.com/anneschilling"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+This patch implements Knutson-Tao puzzles in various settings (Grassmannian, equivariant Grassmannian, K theoretic, Belkale-Kumar puzzles).
 
+This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.
+The code was tested afterwards by Liz Beazley and Ed Richmond (who also contributed to the bijection between puzzles and tableaux).
``````




---

archive/issue_comments_170833.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nHi Franco,\n\nThe patch is basically ready to go now. Could you please look over my changes? Also, there is one method which is currently broken (namely _plot_color_edges), which would still be good to have around.\n\nThanks!\n\nAnne",
    "created_at": "2013-04-19T23:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170833",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:2'>Comment 2:</a>
Hi Franco,

The patch is basically ready to go now. Could you please look over my changes? Also, there is one method which is currently broken (namely _plot_color_edges), which would still be good to have around.

Thanks!

Anne



---

archive/issue_comments_170834.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nAdded documentation to rst file.\n\nAnne",
    "created_at": "2013-04-20T18:10:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170834",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:3'>Comment 3:</a>
Added documentation to rst file.

Anne



---

archive/issue_comments_170835.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nWhat version is this patch based on ? (It doesn't apply to sage-5.8.)",
    "created_at": "2013-04-22T13:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170835",
    "user": "https://github.com/saliola"
}
```

<a id='comment:4'>Comment 4:</a>
What version is this patch based on ? (It doesn't apply to sage-5.8.)



---

archive/issue_comments_170836.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@saliola](#comment%3A4):\n> What version is this patch based on ? (It doesn't apply to sage-5.8.)\n\nFor me it applies to sage-5.9.beta2.",
    "created_at": "2013-04-22T15:33:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170836",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@saliola](#comment%3A4):
> What version is this patch based on ? (It doesn't apply to sage-5.8.)

For me it applies to sage-5.9.beta2.



---

archive/issue_comments_170837.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nsome stupid suggestions:\n\n- use .. TODO instead of just todo\n\n- use the role <code>:arxiv:\\`xxxx.xxxx\\`</code> when citing a paper on arxiv",
    "created_at": "2013-04-30T12:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170837",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
some stupid suggestions:

- use .. TODO instead of just todo

- use the role <code>:arxiv:\`xxxx.xxxx\`</code> when citing a paper on arxiv



---

archive/issue_comments_170838.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nFr\u00e9d\u00e9ric, thank you for the comments. They should be fixed now. Currently, a more serious issue is the following that Liz observed:\n\n```\nsage: Hps = PuzzleSolver(\"H\")\nsage: Hsolns = Hps('001001', '001010')\nsage: Puzz = Hsolns[0]\nsage: Puzz.LR_tab_from_puzzle()\n---------------------------------------------------------------------------\nAssertionError                            Traceback (most recent call last)\n<ipython-input-39-2284d874276b> in <module>()\n----> 1 Puzz.LR_tab_from_puzzle()\n\n/Applications/sage-5.9.beta2/local/lib/python2.7/site-packages/sage/combinat/knutson_tao_puzzles.pyc in LR_tab_from_puzzle(self)\n   1629                 for j in range(0,lam[k-1]):\n   1630                     LRrow.append(None)\n-> 1631                 LRrow.extend(self.path_thru_puzzle(i+1))\n   1632                 LRtableaux.append(LRrow)\n   1633         return SkewTableau(LRtableaux)\n\n/Applications/sage-5.9.beta2/local/lib/python2.7/site-packages/sage/combinat/knutson_tao_puzzles.pyc in path_thru_puzzle(self, coord)\n   1565         \"\"\"\n   1566         i = coord\n-> 1567         assert self._ne_labels[coord-1] == '1', \"The coordinate needs to be a coordinate of a 1 on the north east boundary\"\n   1568         j = self._n\n   1569         k = 0\n\nAssertionError: The coordinate needs to be a coordinate of a 1 on the north east boundary\n```",
    "created_at": "2013-04-30T13:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170838",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:7'>Comment 7:</a>
Frédéric, thank you for the comments. They should be fixed now. Currently, a more serious issue is the following that Liz observed:

```
sage: Hps = PuzzleSolver("H")
sage: Hsolns = Hps('001001', '001010')
sage: Puzz = Hsolns[0]
sage: Puzz.LR_tab_from_puzzle()
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
<ipython-input-39-2284d874276b> in <module>()
----> 1 Puzz.LR_tab_from_puzzle()

/Applications/sage-5.9.beta2/local/lib/python2.7/site-packages/sage/combinat/knutson_tao_puzzles.pyc in LR_tab_from_puzzle(self)
   1629                 for j in range(0,lam[k-1]):
   1630                     LRrow.append(None)
-> 1631                 LRrow.extend(self.path_thru_puzzle(i+1))
   1632                 LRtableaux.append(LRrow)
   1633         return SkewTableau(LRtableaux)

/Applications/sage-5.9.beta2/local/lib/python2.7/site-packages/sage/combinat/knutson_tao_puzzles.pyc in path_thru_puzzle(self, coord)
   1565         """
   1566         i = coord
-> 1567         assert self._ne_labels[coord-1] == '1', "The coordinate needs to be a coordinate of a 1 on the north east boundary"
   1568         j = self._n
   1569         k = 0

AssertionError: The coordinate needs to be a coordinate of a 1 on the north east boundary
```



---

archive/issue_comments_170839.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBy the way, it would be better to avoid the use of assert.",
    "created_at": "2013-04-30T14:41:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170839",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
By the way, it would be better to avoid the use of assert.



---

archive/issue_comments_170840.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@fchapoton](#comment%3A8):\n> By the way, it would be better to avoid the use of assert.\n\nWell, it depends. If it's about checking the internal state of the program, asserts are *good*; we want more of them! If it's about checking the arguments provided directly by a user that's more arguable. See the discussion we had on sage-combinat-devel.",
    "created_at": "2013-04-30T14:48:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170840",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@fchapoton](#comment%3A8):
> By the way, it would be better to avoid the use of assert.

Well, it depends. If it's about checking the internal state of the program, asserts are *good*; we want more of them! If it's about checking the arguments provided directly by a user that's more arguable. See the discussion we had on sage-combinat-devel.



---

archive/issue_comments_170841.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nGeneral comments on the patch:\n- This patch has not been rebased: it fails to apply on 5.9.beta5 (and on 5.9.rc0 according to the patchbot).\n- All tests pass on 5.9.beta5.\n- some methods are missing `INPUT` blocks, some do not describe all the possible input arguments, some do not test all the possible input options\n\nComments on the interface:\n- I don't think that `PuzzlePiece, PuzzlePieces, PuzzleSolver` should be imported into the global namespace. These names are too generic to apply to only KT puzzles.\n- Is it expected that the average user will create new puzzle pieces? or is it that `PuzzleSolver` will be the most used command?\n- I think it would be preferable to have one entry point to the module, from which users import what they need.\n- And this entry point should have appropriate documentation describing all the features (kind of like the current documentation to the module, but with some enhancements).\n- Perhaps `KnutsonTaoPuzzleSolver`?\n\nComments on documentation to the module (top of the file):\n- If I do `import knutson_tao_puzzles` followed by `knutson_tao_puzzles?`, I see `1/0  0/1` as a puzzle piece. I don't know what this piece is. Is this a problem with the documentation rendering system?\n- The string representations should be explained: most people won't know what `1/0 0\\1` means.\n- The `TODO` section describes a possible speed up. Isn't this what `_fill_strip` and `_fill_puzzle_by_strips` does?\n\nComments on `PartialPuzzle`:\n- `LR_tab_from_puzzle` is not a good name. Perhaps just call it `skew_lr_tableau`.\n- `plot_thru_puzzle` is not a good name. `thru` is not an English word.\n- the error from comment 7 above should be included as a doctest.\n- `assert` should be avoided.\n- `partition_from_string`: I don't know what this method does. The documentation is not descriptive. What is the \"string data\" of a partition? If this is a standard partition constructor, then should it be in `Partition` instead?\n\nComments on `PuzzleSolver`:\n- \"Initialize the puzzle solver\" is not a sufficient 1-line description since it doesn't mention the kind of puzzles dealt with.\n- there is an option called 'maxLetter' in the INPUT section, but the init doesn't take maxLetter as an argument ... oh wait, it's in `__classcall_private__`. Why is `__classcall_private__` needed here?\n- there should be doctests that show how to use \"maxLetter\"\n- The output is not a function (but instances of the class happen to be callable).\n- several methods are missing the mandatory 1-line string documentation and instead just include examples / tests.\n\nComments on `SchubertCalculusAlgebra`:\n- should this really be in this module? it seems to experimental (there is also some commented out code that shouldn't be included)\n- it was implemented as a proof of concept and has no special features; perhaps it should be deleted and further developed in a separate patch?\n- in the doctest for `product_on_basis`, the base ring of the algebra is `QQ`, but the coefficients belong to a different ring:\n\n```\nsage: from sage.combinat.knutson_tao_puzzles import SchubertCalculusAlgebra\nsage: Sc = SchubertCalculusAlgebra(QQ, (3,3)).basis()\nsage: x = Sc[Word('001011')] * Sc[Word('010101')]\nsage: x.parent().base_ring()\nRational Field\nsage: x.coefficients()[0].parent()\nMultivariate Polynomial Ring in y0, y1, y2, y3, y4, y5, y6 over Integer Ring\n```",
    "created_at": "2013-05-01T16:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170841",
    "user": "https://github.com/saliola"
}
```

<a id='comment:10'>Comment 10:</a>
General comments on the patch:
- This patch has not been rebased: it fails to apply on 5.9.beta5 (and on 5.9.rc0 according to the patchbot).
- All tests pass on 5.9.beta5.
- some methods are missing `INPUT` blocks, some do not describe all the possible input arguments, some do not test all the possible input options

Comments on the interface:
- I don't think that `PuzzlePiece, PuzzlePieces, PuzzleSolver` should be imported into the global namespace. These names are too generic to apply to only KT puzzles.
- Is it expected that the average user will create new puzzle pieces? or is it that `PuzzleSolver` will be the most used command?
- I think it would be preferable to have one entry point to the module, from which users import what they need.
- And this entry point should have appropriate documentation describing all the features (kind of like the current documentation to the module, but with some enhancements).
- Perhaps `KnutsonTaoPuzzleSolver`?

Comments on documentation to the module (top of the file):
- If I do `import knutson_tao_puzzles` followed by `knutson_tao_puzzles?`, I see `1/0  0/1` as a puzzle piece. I don't know what this piece is. Is this a problem with the documentation rendering system?
- The string representations should be explained: most people won't know what `1/0 0\1` means.
- The `TODO` section describes a possible speed up. Isn't this what `_fill_strip` and `_fill_puzzle_by_strips` does?

Comments on `PartialPuzzle`:
- `LR_tab_from_puzzle` is not a good name. Perhaps just call it `skew_lr_tableau`.
- `plot_thru_puzzle` is not a good name. `thru` is not an English word.
- the error from comment 7 above should be included as a doctest.
- `assert` should be avoided.
- `partition_from_string`: I don't know what this method does. The documentation is not descriptive. What is the "string data" of a partition? If this is a standard partition constructor, then should it be in `Partition` instead?

Comments on `PuzzleSolver`:
- "Initialize the puzzle solver" is not a sufficient 1-line description since it doesn't mention the kind of puzzles dealt with.
- there is an option called 'maxLetter' in the INPUT section, but the init doesn't take maxLetter as an argument ... oh wait, it's in `__classcall_private__`. Why is `__classcall_private__` needed here?
- there should be doctests that show how to use "maxLetter"
- The output is not a function (but instances of the class happen to be callable).
- several methods are missing the mandatory 1-line string documentation and instead just include examples / tests.

Comments on `SchubertCalculusAlgebra`:
- should this really be in this module? it seems to experimental (there is also some commented out code that shouldn't be included)
- it was implemented as a proof of concept and has no special features; perhaps it should be deleted and further developed in a separate patch?
- in the doctest for `product_on_basis`, the base ring of the algebra is `QQ`, but the coefficients belong to a different ring:

```
sage: from sage.combinat.knutson_tao_puzzles import SchubertCalculusAlgebra
sage: Sc = SchubertCalculusAlgebra(QQ, (3,3)).basis()
sage: x = Sc[Word('001011')] * Sc[Word('010101')]
sage: x.parent().base_ring()
Rational Field
sage: x.coefficients()[0].parent()
Multivariate Polynomial Ring in y0, y1, y2, y3, y4, y5, y6 over Integer Ring
```



---

archive/issue_comments_170842.json:
```json
{
    "body": "Attachment: **[trac_14141-plot-edges-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-plot-edges-fs.patch.gz)**",
    "created_at": "2013-05-01T16:17:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170842",
    "user": "https://github.com/saliola"
}
```

Attachment: **[trac_14141-plot-edges-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-plot-edges-fs.patch.gz)**



---

archive/issue_comments_170843.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nOh, and I've attached a file that fixes plotting by colouring only the edges. Fold it if you like it.",
    "created_at": "2013-05-01T16:18:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170843",
    "user": "https://github.com/saliola"
}
```

<a id='comment:11'>Comment 11:</a>
Oh, and I've attached a file that fixes plotting by colouring only the edges. Fold it if you like it.



---

archive/issue_comments_170844.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI don't have the time to address my comments myself this week with a proper review patch, but I can at some point over the next week. There are a few things to decide beforehand, so we can at least discuss these here in the meantime.",
    "created_at": "2013-05-01T17:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170844",
    "user": "https://github.com/saliola"
}
```

<a id='comment:12'>Comment 12:</a>
I don't have the time to address my comments myself this week with a proper review patch, but I can at some point over the next week. There are a few things to decide beforehand, so we can at least discuss these here in the meantime.



---

archive/issue_comments_170845.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,5 @@\n \n This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.\n The code was tested afterwards by Liz Beazley and Ed Richmond (who also contributed to the bijection between puzzles and tableaux).\n+\n+Apply: [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)\n``````\n",
    "created_at": "2013-05-02T03:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170845",
    "user": "https://github.com/anneschilling"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,5 @@
 
 This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.
 The code was tested afterwards by Liz Beazley and Ed Richmond (who also contributed to the bijection between puzzles and tableaux).
+
+Apply: [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)
``````




---

archive/issue_comments_170846.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@saliola](#comment%3A11):\n> Oh, and I've attached a file that fixes plotting by colouring only the edges. Fold it if you like it.\n\nThanks, Franco! Up to a little tweak, I folded the patch and uploaded the new version on trac!\n\nAnne",
    "created_at": "2013-05-02T03:23:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170846",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@saliola](#comment%3A11):
> Oh, and I've attached a file that fixes plotting by colouring only the edges. Fold it if you like it.

Thanks, Franco! Up to a little tweak, I folded the patch and uploaded the new version on trac!

Anne



---

archive/issue_comments_170847.json:
```json
{
    "body": "Dependencies: **#14299**",
    "created_at": "2013-05-02T03:25:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170847",
    "user": "https://github.com/anneschilling"
}
```

Dependencies: **#14299**



---

archive/issue_comments_170848.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@saliola](#comment%3A10):\n> General comments on the patch:\n> - This patch has not been rebased: it fails to apply on 5.9.beta5 (and on 5.9.rc0 according to the patchbot).\n\nI think it depends trivially on #14299 which was merged in sage-5.10.beta0.\n\n> Comments on the interface:\n> - I don't think that `PuzzlePiece, PuzzlePieces, PuzzleSolver` should be imported into the global namespace. These names are too generic to apply to only KT puzzles.\n\nHow would the user then find information about puzzles? If we do not import anything in the namespace, then there is no entry point via tab completion.\n\n> - Is it expected that the average user will create new puzzle pieces? or is it that `PuzzleSolver` will be the most used command?\n\nI think `PuzzleSolver` will be the most common command. And currently the user does not have to create his/her own puzzle pieces since `PuzzleSolver(\"H\")` is an option. That's also why I think `PuzzleSolver` should be in the global namespace.\n\n> - I think it would be preferable to have one entry point to the module, from which users import what they need.\n> - And this entry point should have appropriate documentation describing all the features (kind of like the current documentation to the module, but with some enhancements).\n> - Perhaps `KnutsonTaoPuzzleSolver`?\n\nSure, we could rename it this way.\n\n> Comments on documentation to the module (top of the file):\n> - If I do `import knutson_tao_puzzles` followed by `knutson_tao_puzzles?`, I see `1/0  0/1` as a puzzle piece. I don't know what this piece is. Is this a problem with the documentation rendering system?\n\nI do not seem to see this!?\n\n> - The string representations should be explained: most people won't know what `1/0 0\\1` means.\n> - The `TODO` section describes a possible speed up. Isn't this what `_fill_strip` and `_fill_puzzle_by_strips` does?\n\nOk, then please remove this comment!\n\n> Comments on `PartialPuzzle`:\n> - `LR_tab_from_puzzle` is not a good name. Perhaps just call it `skew_lr_tableau`.\n> - `plot_thru_puzzle` is not a good name. `thru` is not an English word.\n\nOk, feel free to change the names.\n\n> - the error from comment 7 above should be included as a doctest.\n> - `assert` should be avoided.\n> - `partition_from_string`: I don't know what this method does. The documentation is not descriptive. What is the \"string data\" of a partition? If this is a standard partition constructor, then should it be in `Partition` instead?\n\nYes, in fact you can do\n\n```\n        sage: Partitions().from_zero_one([1, 1, 1, 1, 0, 1, 0])\n        [5, 4]\n```\n\nBut I think the only problem is that one needs the partition to be padded by 0s.\n\n> Comments on `PuzzleSolver`:\n> - \"Initialize the puzzle solver\" is not a sufficient 1-line description since it doesn't mention the kind of puzzles dealt with.\n> - there is an option called 'maxLetter' in the INPUT section, but the init doesn't take maxLetter as an argument ... oh wait, it's in `__classcall_private__`. Why is `__classcall_private__` needed here?\n\nTo mend the input, so that UniqueRepresentation works!\n\n> - there should be doctests that show how to use \"maxLetter\"\n> - The output is not a function (but instances of the class happen to be callable).\n> - several methods are missing the mandatory 1-line string documentation and instead just include examples / tests.\n\nI think private methods are not required to have the one line description.\n\n> Comments on `SchubertCalculusAlgebra`:\n> - should this really be in this module? it seems to experimental (there is also some commented out code that shouldn't be included)\n\nEd and Liz really liked this feature, to be able to compute structure coefficients in an easy way.\n\n> - it was implemented as a proof of concept and has no special features; perhaps it should be deleted and further developed in a separate patch?\n> - in the doctest for `product_on_basis`, the base ring of the algebra is `QQ`, but the coefficients belong to a different ring:\n> \n> ```\n> sage: from sage.combinat.knutson_tao_puzzles import SchubertCalculusAlgebra\n> sage: Sc = SchubertCalculusAlgebra(QQ, (3,3)).basis()\n> sage: x = Sc[Word('001011')] * Sc[Word('010101')]\n> sage: x.parent().base_ring()\n> Rational Field\n> sage: x.coefficients()[0].parent()\n> Multivariate Polynomial Ring in y0, y1, y2, y3, y4, y5, y6 over Integer Ring\n> ```\n\nThat is indeed a problem!\n\n>I don't have the time to address my comments myself this week with a proper review patch, but I can at some point over the next week. There are a few things to decide beforehand, so we can at least discuss these here in the meantime. \n\nI am looking forward to your review patch next week! I am moving back to Davis tomorrow, so won't have time either to work on this before your review patch.",
    "created_at": "2013-05-02T04:01:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170848",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@saliola](#comment%3A10):
> General comments on the patch:
> - This patch has not been rebased: it fails to apply on 5.9.beta5 (and on 5.9.rc0 according to the patchbot).

I think it depends trivially on #14299 which was merged in sage-5.10.beta0.

> Comments on the interface:
> - I don't think that `PuzzlePiece, PuzzlePieces, PuzzleSolver` should be imported into the global namespace. These names are too generic to apply to only KT puzzles.

How would the user then find information about puzzles? If we do not import anything in the namespace, then there is no entry point via tab completion.

> - Is it expected that the average user will create new puzzle pieces? or is it that `PuzzleSolver` will be the most used command?

I think `PuzzleSolver` will be the most common command. And currently the user does not have to create his/her own puzzle pieces since `PuzzleSolver("H")` is an option. That's also why I think `PuzzleSolver` should be in the global namespace.

> - I think it would be preferable to have one entry point to the module, from which users import what they need.
> - And this entry point should have appropriate documentation describing all the features (kind of like the current documentation to the module, but with some enhancements).
> - Perhaps `KnutsonTaoPuzzleSolver`?

Sure, we could rename it this way.

> Comments on documentation to the module (top of the file):
> - If I do `import knutson_tao_puzzles` followed by `knutson_tao_puzzles?`, I see `1/0  0/1` as a puzzle piece. I don't know what this piece is. Is this a problem with the documentation rendering system?

I do not seem to see this!?

> - The string representations should be explained: most people won't know what `1/0 0\1` means.
> - The `TODO` section describes a possible speed up. Isn't this what `_fill_strip` and `_fill_puzzle_by_strips` does?

Ok, then please remove this comment!

> Comments on `PartialPuzzle`:
> - `LR_tab_from_puzzle` is not a good name. Perhaps just call it `skew_lr_tableau`.
> - `plot_thru_puzzle` is not a good name. `thru` is not an English word.

Ok, feel free to change the names.

> - the error from comment 7 above should be included as a doctest.
> - `assert` should be avoided.
> - `partition_from_string`: I don't know what this method does. The documentation is not descriptive. What is the "string data" of a partition? If this is a standard partition constructor, then should it be in `Partition` instead?

Yes, in fact you can do

```
        sage: Partitions().from_zero_one([1, 1, 1, 1, 0, 1, 0])
        [5, 4]
```

But I think the only problem is that one needs the partition to be padded by 0s.

> Comments on `PuzzleSolver`:
> - "Initialize the puzzle solver" is not a sufficient 1-line description since it doesn't mention the kind of puzzles dealt with.
> - there is an option called 'maxLetter' in the INPUT section, but the init doesn't take maxLetter as an argument ... oh wait, it's in `__classcall_private__`. Why is `__classcall_private__` needed here?

To mend the input, so that UniqueRepresentation works!

> - there should be doctests that show how to use "maxLetter"
> - The output is not a function (but instances of the class happen to be callable).
> - several methods are missing the mandatory 1-line string documentation and instead just include examples / tests.

I think private methods are not required to have the one line description.

> Comments on `SchubertCalculusAlgebra`:
> - should this really be in this module? it seems to experimental (there is also some commented out code that shouldn't be included)

Ed and Liz really liked this feature, to be able to compute structure coefficients in an easy way.

> - it was implemented as a proof of concept and has no special features; perhaps it should be deleted and further developed in a separate patch?
> - in the doctest for `product_on_basis`, the base ring of the algebra is `QQ`, but the coefficients belong to a different ring:
> 
> ```
> sage: from sage.combinat.knutson_tao_puzzles import SchubertCalculusAlgebra
> sage: Sc = SchubertCalculusAlgebra(QQ, (3,3)).basis()
> sage: x = Sc[Word('001011')] * Sc[Word('010101')]
> sage: x.parent().base_ring()
> Rational Field
> sage: x.coefficients()[0].parent()
> Multivariate Polynomial Ring in y0, y1, y2, y3, y4, y5, y6 over Integer Ring
> ```

That is indeed a problem!

>I don't have the time to address my comments myself this week with a proper review patch, but I can at some point over the next week. There are a few things to decide beforehand, so we can at least discuss these here in the meantime. 

I am looking forward to your review patch next week! I am moving back to Davis tomorrow, so won't have time either to work on this before your review patch.



---

archive/issue_comments_170849.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nI just pushed a micro review patch on the queue that fixes a documentation building error (an itemize which was improperly layed out). Feel free to fold or whatever, I won't touch it further.",
    "created_at": "2013-05-08T15:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170849",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:17'>Comment 17:</a>
I just pushed a micro review patch on the queue that fixes a documentation building error (an itemize which was improperly layed out). Feel free to fold or whatever, I won't touch it further.



---

archive/issue_comments_170850.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nThanks, Nicolas! I folded the patch. Franco, could you post the review patch that you announced?",
    "created_at": "2013-05-08T20:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170850",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:18'>Comment 18:</a>
Thanks, Nicolas! I folded the patch. Franco, could you post the review patch that you announced?



---

archive/issue_comments_170851.json:
```json
{
    "body": "Attachment: **[trac_14141-review-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-review-fs.patch.gz)**",
    "created_at": "2013-05-14T01:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170851",
    "user": "https://github.com/saliola"
}
```

Attachment: **[trac_14141-review-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-review-fs.patch.gz)**



---

archive/issue_comments_170852.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,4 +3,6 @@\n This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.\n The code was tested afterwards by Liz Beazley and Ed Richmond (who also contributed to the bijection between puzzles and tableaux).\n \n-Apply: [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)\n+Apply:\n+- [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)\n+- [attachment: trac_14141-review-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-review-fs.patch.gz)\n``````\n",
    "created_at": "2013-05-14T01:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170852",
    "user": "https://github.com/saliola"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,4 +3,6 @@
 This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.
 The code was tested afterwards by Liz Beazley and Ed Richmond (who also contributed to the bijection between puzzles and tableaux).
 
-Apply: [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)
+Apply:
+- [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)
+- [attachment: trac_14141-review-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-review-fs.patch.gz)
``````




---

archive/issue_comments_170853.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nHere is a patch that addresses almost all of the issues I raised above. The big changes are as follows:\n\n- renamed `PuzzleSolver` to `KnutsonTaoPuzzleSolver`\n- improved documentation for `KnutsonTaoPuzzleSolver`\n- renamed `PartialPuzzle` to `PuzzleFilling`\n- moved `cohomology_product` to `PuzzleSolver.structure_contstants` (this way it is more readily available to the user)\n- deleted `LR_tab_from_puzzle` (will be implemented in a future patch)\n- deleted `SchubertCalculusAlgebra` (will be implemented in a future patch)\n\n\nApply: trac_14141-knutson_tao_puzzles-as.patch, trac_14141-review-fs.patch",
    "created_at": "2013-05-14T01:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170853",
    "user": "https://github.com/saliola"
}
```

<a id='comment:20'>Comment 20:</a>
Here is a patch that addresses almost all of the issues I raised above. The big changes are as follows:

- renamed `PuzzleSolver` to `KnutsonTaoPuzzleSolver`
- improved documentation for `KnutsonTaoPuzzleSolver`
- renamed `PartialPuzzle` to `PuzzleFilling`
- moved `cohomology_product` to `PuzzleSolver.structure_contstants` (this way it is more readily available to the user)
- deleted `LR_tab_from_puzzle` (will be implemented in a future patch)
- deleted `SchubertCalculusAlgebra` (will be implemented in a future patch)


Apply: trac_14141-knutson_tao_puzzles-as.patch, trac_14141-review-fs.patch



---

archive/issue_comments_170854.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nI just found a doctest that passes, but should fail:\n\n```\n        sage: from sage.combinat.knutson_tao_puzzles import BK_pieces\n        sage: BK_pieces(3)\n        Nablas : [0\\0/0, 1\\1/1, 2\\2/2, 3\\3/3]\n        Deltas : [0/0\\0, 1/1\\1, 2/2\\2, 3/3\\3]\n```\nWhoever added this code and doctest should explain what is going on.\n\nAnd I included a doctest that fails: we need an example of a puzzle with BK pieces.\n\n```\n            sage: ps = KnutsonTaoPuzzleSolver(\"BK\", 3)                                                                                                                                            \n            sage: solns = ps('10212', '12012')\n            sage: sorted(solns, key=str)\n```",
    "created_at": "2013-05-14T02:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170854",
    "user": "https://github.com/saliola"
}
```

<a id='comment:21'>Comment 21:</a>
I just found a doctest that passes, but should fail:

```
        sage: from sage.combinat.knutson_tao_puzzles import BK_pieces
        sage: BK_pieces(3)
        Nablas : [0\0/0, 1\1/1, 2\2/2, 3\3/3]
        Deltas : [0/0\0, 1/1\1, 2/2\2, 3/3\3]
```
Whoever added this code and doctest should explain what is going on.

And I included a doctest that fails: we need an example of a puzzle with BK pieces.

```
            sage: ps = KnutsonTaoPuzzleSolver("BK", 3)                                                                                                                                            
            sage: solns = ps('10212', '12012')
            sage: sorted(solns, key=str)
```



---

archive/issue_comments_170855.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nHi Franco!\n\nThanks for your work on this!\n\nI currently get one doctest failure\n\n```\nsage -t knutson_tao_puzzles.py\n**********************************************************************\nFile \"knutson_tao_puzzles.py\", line 1485, in sage.combinat.knutson_tao_puzzles.KnutsonTaoPuzzleSolver.__init__\nFailed example:\n    sorted(solns, key=str)\nExpected nothing\nGot:\n    []\n**********************************************************************\n1 item had failures:\n   1 of  40 in sage.combinat.knutson_tao_puzzles.KnutsonTaoPuzzleSolver.__init__\n    [342 tests, 1 failure, 0.42 s]\n----------------------------------------------------------------------\nsage -t knutson_tao_puzzles.py  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 0.6 seconds\n    cpu time: 0.3 seconds\n    cumulative wall time: 0.4 seconds\n```\n\nI will have a closer look soon.\n\nBest,\n\nAnne",
    "created_at": "2013-05-14T02:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170855",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:22'>Comment 22:</a>
Hi Franco!

Thanks for your work on this!

I currently get one doctest failure

```
sage -t knutson_tao_puzzles.py
**********************************************************************
File "knutson_tao_puzzles.py", line 1485, in sage.combinat.knutson_tao_puzzles.KnutsonTaoPuzzleSolver.__init__
Failed example:
    sorted(solns, key=str)
Expected nothing
Got:
    []
**********************************************************************
1 item had failures:
   1 of  40 in sage.combinat.knutson_tao_puzzles.KnutsonTaoPuzzleSolver.__init__
    [342 tests, 1 failure, 0.42 s]
----------------------------------------------------------------------
sage -t knutson_tao_puzzles.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 0.6 seconds
    cpu time: 0.3 seconds
    cumulative wall time: 0.4 seconds
```

I will have a closer look soon.

Best,

Anne



---

archive/issue_comments_170856.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nAttachment: **[trac_14141-BK-fix-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-BK-fix-fs.patch.gz)**\n\nAttached a patch to fix the issues with the BK puzzle pieces. Essentially, a for loop was not indented properly, so puzzle some BK pieces were missing.\n\nApply: trac_14141-knutson_tao_puzzles-as.patch, trac_14141-review-fs.patch, trac_14141-BK-fix-fs.patch",
    "created_at": "2013-05-14T04:16:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170856",
    "user": "https://github.com/saliola"
}
```

<a id='comment:23'>Comment 23:</a>
Attachment: **[trac_14141-BK-fix-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-BK-fix-fs.patch.gz)**

Attached a patch to fix the issues with the BK puzzle pieces. Essentially, a for loop was not indented properly, so puzzle some BK pieces were missing.

Apply: trac_14141-knutson_tao_puzzles-as.patch, trac_14141-review-fs.patch, trac_14141-BK-fix-fs.patch



---

archive/issue_comments_170857.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n This patch implements Knutson-Tao puzzles in various settings (Grassmannian, equivariant Grassmannian, K theoretic, Belkale-Kumar puzzles).\n \n This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.\n-The code was tested afterwards by Liz Beazley and Ed Richmond (who also contributed to the bijection between puzzles and tableaux).\n+The code was tested afterwards by Liz Beazley and Ed Richmond.\n \n Apply:\n - [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)\n-- [attachment: trac_14141-review-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-review-fs.patch.gz)\n+\n``````\n",
    "created_at": "2013-05-14T05:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170857",
    "user": "https://github.com/anneschilling"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
 This patch implements Knutson-Tao puzzles in various settings (Grassmannian, equivariant Grassmannian, K theoretic, Belkale-Kumar puzzles).
 
 This code was written during Sage Days 45 at ICERM with Franco Saliola, Anne Schilling, and Avinash Dalal in discussions with Allen Knutson.
-The code was tested afterwards by Liz Beazley and Ed Richmond (who also contributed to the bijection between puzzles and tableaux).
+The code was tested afterwards by Liz Beazley and Ed Richmond.
 
 Apply:
 - [attachment: trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)
-- [attachment: trac_14141-review-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-review-fs.patch.gz)
+
``````




---

archive/issue_comments_170858.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nHi Franco!\n\nThanks for the patches. I folded them and looked them over. One \"major\" change I made is to put the documentation that was in the init method of KnutsonTaoPuzzleSolver in its header, so that it actually shows up in the documentation! Before it was invisible to the user from the documentation, but contained the explanation about the main use cases of the code. I also fixed some small issues with the referencing.\n\nIf you are happy with the changes, I am happy to set a positive review!\n\nAnne",
    "created_at": "2013-05-14T05:47:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170858",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:25'>Comment 25:</a>
Hi Franco!

Thanks for the patches. I folded them and looked them over. One "major" change I made is to put the documentation that was in the init method of KnutsonTaoPuzzleSolver in its header, so that it actually shows up in the documentation! Before it was invisible to the user from the documentation, but contained the explanation about the main use cases of the code. I also fixed some small issues with the referencing.

If you are happy with the changes, I am happy to set a positive review!

Anne



---

archive/issue_comments_170859.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nFixed some issues with the documentation. Franco, are we ready to go?",
    "created_at": "2013-05-14T17:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170859",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:26'>Comment 26:</a>
Fixed some issues with the documentation. Franco, are we ready to go?



---

archive/issue_comments_170860.json:
```json
{
    "body": "Attachment: **[trac_14141-documentation-for-plotting-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-documentation-for-plotting-fs.patch.gz)**",
    "created_at": "2013-05-15T14:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170860",
    "user": "https://github.com/saliola"
}
```

Attachment: **[trac_14141-documentation-for-plotting-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-documentation-for-plotting-fs.patch.gz)**



---

archive/issue_comments_170861.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nOne more small patch that puts some examples of plotting in the documentation string for `KnutsonTaoPuzzleSolver`.\n\nI'm happy with the patch otherwise. Anne, if you accept my changes, fold it and set this to positive review.\n\nApply: trac_14141-knutson_tao_puzzles-as.patch, trac_14141-documentation-for-plotting-fs.patch",
    "created_at": "2013-05-15T14:36:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170861",
    "user": "https://github.com/saliola"
}
```

<a id='comment:27'>Comment 27:</a>
One more small patch that puts some examples of plotting in the documentation string for `KnutsonTaoPuzzleSolver`.

I'm happy with the patch otherwise. Anne, if you accept my changes, fold it and set this to positive review.

Apply: trac_14141-knutson_tao_puzzles-as.patch, trac_14141-documentation-for-plotting-fs.patch



---

archive/issue_comments_170862.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nGreat! I folded the patches and added one more item to the TODO list with a link to the (broken) implementation of the bijection from puzzles to tableaux on the misc server.",
    "created_at": "2013-05-15T16:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170862",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:28'>Comment 28:</a>
Great! I folded the patches and added one more item to the TODO list with a link to the (broken) implementation of the bijection from puzzles to tableaux on the misc server.



---

archive/issue_events_176123.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-05-15T16:21:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176123"
}
```



---

archive/issue_events_176124.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-05-15T16:21:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176124"
}
```



---

archive/issue_events_176125.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-15T21:00:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176125"
}
```



---

archive/issue_events_176126.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-15T21:00:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176126"
}
```



---

archive/issue_comments_170863.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\n\n```\n! Emergency stop.\n ...                                              \n                                                  \nl.110743 .../2, 10\\PYGZob{}/0, 10\\PYGZcb{}(10)/2,}\n                                                  \n!  ==> Fatal error occurred, no output PDF file produced!\nTranscript written on combinat.log.\n]]\n\nLaTeX Warning: Hyper reference `sage/modules/free_module_element:sage.modules.f\nree_module_element.FreeModuleElement.nintegrate' on page 72 undefined on input \nline 6250.\n\n[72]make[1]: *** [combinat.pdf] Error 1\n```",
    "created_at": "2013-05-15T21:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170863",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>

```
! Emergency stop.
 ...                                              
                                                  
l.110743 .../2, 10\PYGZob{}/0, 10\PYGZcb{}(10)/2,}
                                                  
!  ==> Fatal error occurred, no output PDF file produced!
Transcript written on combinat.log.
]]

LaTeX Warning: Hyper reference `sage/modules/free_module_element:sage.modules.f
ree_module_element.FreeModuleElement.nintegrate' on page 72 undefined on input 
line 6250.

[72]make[1]: *** [combinat.pdf] Error 1
```



---

archive/issue_comments_170864.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nReplying to [@jdemeyer](#comment%3A30):\n> \n> ```\n> LaTeX Warning: Hyper reference `sage/modules/free_module_element:sage.modules.f\n> ree_module_element.FreeModuleElement.nintegrate' on page 72 undefined on input \n> line 6250.\n> \n> [72]make[1]: *** [combinat.pdf] Error 1\n> ```\n\nJust in case this can help: I was struck by this two days ago elsewhere, and it was just because I had forgotten to put a r in front of a documentation string containing '\\'.",
    "created_at": "2013-05-15T21:38:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170864",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:31'>Comment 31:</a>
Replying to [@jdemeyer](#comment%3A30):
> 
> ```
> LaTeX Warning: Hyper reference `sage/modules/free_module_element:sage.modules.f
> ree_module_element.FreeModuleElement.nintegrate' on page 72 undefined on input 
> line 6250.
> 
> [72]make[1]: *** [combinat.pdf] Error 1
> ```

Just in case this can help: I was struck by this two days ago elsewhere, and it was just because I had forgotten to put a r in front of a documentation string containing '\'.



---

archive/issue_comments_170865.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\n> Just in case this can help: I was struck by this two days ago elsewhere, and it was just because I had forgotten to put a r in front of a documentation string containing '\\'.\n\nOk, thanks! I added r\"\"\" in front of most documentation and removed a link to http which might have caused the problem.\n\nWithout more specific instructions on how to debug this, I am not sure what else to do.\n\nAnne",
    "created_at": "2013-05-15T22:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170865",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:32'>Comment 32:</a>
> Just in case this can help: I was struck by this two days ago elsewhere, and it was just because I had forgotten to put a r in front of a documentation string containing '\'.

Ok, thanks! I added r""" in front of most documentation and removed a link to http which might have caused the problem.

Without more specific instructions on how to debug this, I am not sure what else to do.

Anne



---

archive/issue_events_176127.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-05-15T22:29:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176127"
}
```



---

archive/issue_events_176128.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-05-15T22:29:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176128"
}
```



---

archive/issue_comments_170866.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@anneschilling](#comment%3A32):\n> > Just in case this can help: I was struck by this two days ago elsewhere, and it was just because I had forgotten to put a r in front of a documentation string containing '\\'.\n\n> \n> Ok, thanks! I added r\"\"\" in front of most documentation and removed a link to http which might have caused the problem.\n> \n> Without more specific instructions on how to debug this, I am not sure what else to do.\n\n```\n    sage -docbuild all html\n    sage -docbuild reference/combinat pdf\n```\n\nThe first one resolves the various links. The second one should reproduce the error reported by Jeroen; or nothing if it has been fixed.\n\nCheers,\n                  Nicolas",
    "created_at": "2013-05-16T01:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170866",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@anneschilling](#comment%3A32):
> > Just in case this can help: I was struck by this two days ago elsewhere, and it was just because I had forgotten to put a r in front of a documentation string containing '\'.

> 
> Ok, thanks! I added r""" in front of most documentation and removed a link to http which might have caused the problem.
> 
> Without more specific instructions on how to debug this, I am not sure what else to do.

```
    sage -docbuild all html
    sage -docbuild reference/combinat pdf
```

The first one resolves the various links. The second one should reproduce the error reported by Jeroen; or nothing if it has been fixed.

Cheers,
                  Nicolas



---

archive/issue_comments_170867.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nMy changes did not fix the problem. What is the usual way to debug this?",
    "created_at": "2013-05-16T15:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170867",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:35'>Comment 35:</a>
My changes did not fix the problem. What is the usual way to debug this?



---

archive/issue_comments_170868.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nI added `r\"\"\"` to every documentation string and it worked for me. (Almost all of our documentation strings contain a `\\`.)\n\nThanks for your help, Nicolas.\n\nI've attached the patch. It's ready for review. Anne, can you test it? Apply the patch and then run the following commands:\n\n```\nsage -b\nsage -docbuild all html\nsage -docbuild reference/combinat pdf\n```",
    "created_at": "2013-05-16T21:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170868",
    "user": "https://github.com/saliola"
}
```

<a id='comment:36'>Comment 36:</a>
I added `r"""` to every documentation string and it worked for me. (Almost all of our documentation strings contain a `\`.)

Thanks for your help, Nicolas.

I've attached the patch. It's ready for review. Anne, can you test it? Apply the patch and then run the following commands:

```
sage -b
sage -docbuild all html
sage -docbuild reference/combinat pdf
```



---

archive/issue_comments_170869.json:
```json
{
    "body": "Attachment: **[trac_14141-add-r-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-add-r-fs.patch.gz)**\n\nAttachment: **[trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)**",
    "created_at": "2013-05-17T03:08:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170869",
    "user": "https://github.com/anneschilling"
}
```

Attachment: **[trac_14141-add-r-fs.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-add-r-fs.patch.gz)**

Attachment: **[trac_14141-knutson_tao_puzzles-as.patch.gz](https://github.com/sagemath/sage/files/ticket14141/trac_14141-knutson_tao_puzzles-as.patch.gz)**



---

archive/issue_comments_170870.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nThanks, Franco! I had to make one more change to make it all work!\n\nAnne",
    "created_at": "2013-05-17T03:08:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170870",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:37'>Comment 37:</a>
Thanks, Franco! I had to make one more change to make it all work!

Anne



---

archive/issue_events_176129.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-05-17T03:09:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176129"
}
```



---

archive/issue_events_176130.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-05-17T03:09:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176130"
}
```



---

archive/issue_events_176131.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-19T08:38:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176131"
}
```



---

archive/issue_events_176132.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-19T08:38:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14141#event-176132"
}
```



---

archive/issue_comments_170871.json:
```json
{
    "body": "Merged: **sage-5.10.beta4**",
    "created_at": "2013-05-19T08:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14141#issuecomment-170871",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.10.beta4**
