# Issue 14666: Test if a weight function is generic for a given matroid

archive/issues_014462.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-Stefanf"
    ],
    "body": "Reported by darij on https://github.com/sagemath/sage/issues/7477 :\n\nFeature suggestion, if not already implemented: a method to test if a given weight function is generic, i. e., has exactly one maximizing basis. Of course, this is easy thanks to the exchange graph, as one only needs to find a maximizing basis and then check that all its exchange neighbours have strictly smaller weight. This function is useful to some Hopf-algebraic constructions.\n\nCC:  @darijgr @sagetrac-yomcat\n\nKeywords: **matroid, weight function**\n\nBranch/Commit: **[`53dc43d`](https://github.com/sagemath/sagetrac-mirror/commit/53dc43d1bfff644927da9352c24279bcf897ba9c)**\n\nReviewer: **Darij Grinberg**\n\nAuthor: **Tara Fife**\n\nComponent: **matroid theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14666_\n\n",
    "closed_at": "2016-05-23T22:23:30Z",
    "created_at": "2013-05-30T18:16:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Test if a weight function is generic for a given matroid",
    "type": "issue",
    "updated_at": "2016-05-23T22:23:30Z",
    "url": "https://github.com/sagemath/sage/issues/14666",
    "user": "https://github.com/sagetrac-Stefan"
}
```
Reported by darij on https://github.com/sagemath/sage/issues/7477 :

Feature suggestion, if not already implemented: a method to test if a given weight function is generic, i. e., has exactly one maximizing basis. Of course, this is easy thanks to the exchange graph, as one only needs to find a maximizing basis and then check that all its exchange neighbours have strictly smaller weight. This function is useful to some Hopf-algebraic constructions.

CC:  @darijgr @sagetrac-yomcat

Keywords: **matroid, weight function**

Branch/Commit: **[`53dc43d`](https://github.com/sagemath/sagetrac-mirror/commit/53dc43d1bfff644927da9352c24279bcf897ba9c)**

Reviewer: **Darij Grinberg**

Author: **Tara Fife**

Component: **matroid theory**

_Issue created by migration from https://trac.sagemath.org/ticket/14666_





---

archive/issue_events_207951.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2013-05-30T18:16:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207951"
}
```



---

archive/issue_events_207952.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2013-05-30T18:16:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207952"
}
```



---

archive/issue_events_207953.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2013-05-30T18:16:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207953"
}
```



---

archive/issue_events_207954.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2013-05-30T18:16:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207954"
}
```



---

archive/issue_events_207955.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2013-05-30T18:16:00Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "subject": "https://github.com/sagetrac-Stefan",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207955"
}
```



---

archive/issue_events_207956.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207956"
}
```



---

archive/issue_events_207957.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207957"
}
```



---

archive/issue_events_207958.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2013-09-13T13:50:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207958"
}
```



---

archive/issue_events_207959.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2013-09-13T13:50:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
    "label_color": "0000ff",
    "label_name": "c: matroid theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207959"
}
```



---

archive/issue_events_207960.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2013-09-13T13:50:01Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "subject": "https://github.com/sagetrac-Stefan",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207960"
}
```



---

archive/issue_events_207961.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefanf",
    "created_at": "2013-09-13T13:50:01Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "subject": "https://github.com/sagetrac-Stefan",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207961"
}
```



---

archive/issue_events_207962.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207962"
}
```



---

archive/issue_events_207963.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207963"
}
```



---

archive/issue_events_207964.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207964"
}
```



---

archive/issue_events_207965.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207965"
}
```



---

archive/issue_events_207966.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207966"
}
```



---

archive/issue_events_207967.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207967"
}
```



---

archive/issue_comments_178166.json:
```json
{
    "body": "Branch: **[u/tara/test_if_a_weight_function_is_generic_for_a_given_matroid](https://github.com/sagemath/sagetrac-mirror/tree/u/tara/test_if_a_weight_function_is_generic_for_a_given_matroid)**",
    "created_at": "2016-04-09T01:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178166",
    "user": "https://github.com/TaraFife"
}
```

Branch: **[u/tara/test_if_a_weight_function_is_generic_for_a_given_matroid](https://github.com/sagemath/sagetrac-mirror/tree/u/tara/test_if_a_weight_function_is_generic_for_a_given_matroid)**



---

archive/issue_comments_178167.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62fa4205a56150bf5301496d6dc770ffa29b5270\"><code>62fa420</code></a></td><td><code>added is_max_weight_independent_generic() and is_max_weight_coindependent_generic()</code></td></tr></table>\n",
    "created_at": "2016-04-09T01:30:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178167",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:8"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62fa4205a56150bf5301496d6dc770ffa29b5270"><code>62fa420</code></a></td><td><code>added is_max_weight_independent_generic() and is_max_weight_coindependent_generic()</code></td></tr></table>




---

archive/issue_comments_178168.json:
```json
{
    "body": "Commit: **[`62fa420`](https://github.com/sagemath/sagetrac-mirror/commit/62fa4205a56150bf5301496d6dc770ffa29b5270)**",
    "created_at": "2016-04-09T01:30:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178168",
    "user": "https://github.com/TaraFife"
}
```

Commit: **[`62fa420`](https://github.com/sagemath/sagetrac-mirror/commit/62fa4205a56150bf5301496d6dc770ffa29b5270)**



---

archive/issue_events_207968.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-04-09T01:30:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207968"
}
```



---

archive/issue_comments_178169.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThank you! May I ask a couple questions before I look deeper into the code?\n\n- What is the difference between the two functions?\n\n- What exactly is `X` used for? I assume the answer somehow depends on `X`. Is it just restricting the matroid to `X`?",
    "created_at": "2016-04-09T06:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178169",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:9" align="right">comment:9</div>

Thank you! May I ask a couple questions before I look deeper into the code?

- What is the difference between the two functions?

- What exactly is `X` used for? I assume the answer somehow depends on `X`. Is it just restricting the matroid to `X`?



---

archive/issue_comments_178170.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHi Darij,\n\nWe decided to avoid the suggestion given in the ticket, because it would require checking if up to $r(|E|$-r)$ additional sets were independent. (This could have been reduced, by only checking exchanges where the two elements had the same weight.) Our strategy was whenever we decided not to put an element $e$ into our basis $B$, we checked if would have been allowed to put it in if we had done so as soon as possible. In the case where we were not passed a weight function, this amounts to checking whether or not $\\{e\\}$ is independent. If we were passed a weight function, we check if the set smres is independent, where smres is all the things in res which have strictly more weight than $e$ together with $e$.\n\nEssentially what I did was to copy the code for max_weight_independent() and modify it to see if it through out something that could have been kept in some application of the greedy algorithm. Other than declaring smres and changing the return statements to give booleans, I added the code following code to the case where I wanted to discard $e$. The only difference between is_max_weight_independent_generic() and is_max_weight_coindependent_generic() is that 'rank' was replaced with 'corank' in both places.\n\nI agree that $X$ is just restricting the matroid to $X$.\n\n\n                smres=res\n                if weights is None:\n                    if self._rank(set([e]))>0:\n                        return False\n                    else:\n                        for f in res:\n                            if weights(e)==weights(f):\n                                smres.discard(f)\n                smres.add(e)\n                if self._rank(smres) > len(smres)-1:\n                    return False\n\n\nCheers,\nTara",
    "created_at": "2016-04-09T14:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178170",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:10" align="right">comment:10</div>

Hi Darij,

We decided to avoid the suggestion given in the ticket, because it would require checking if up to $r(|E|$-r)$ additional sets were independent. (This could have been reduced, by only checking exchanges where the two elements had the same weight.) Our strategy was whenever we decided not to put an element $e$ into our basis $B$, we checked if would have been allowed to put it in if we had done so as soon as possible. In the case where we were not passed a weight function, this amounts to checking whether or not $\{e\}$ is independent. If we were passed a weight function, we check if the set smres is independent, where smres is all the things in res which have strictly more weight than $e$ together with $e$.

Essentially what I did was to copy the code for max_weight_independent() and modify it to see if it through out something that could have been kept in some application of the greedy algorithm. Other than declaring smres and changing the return statements to give booleans, I added the code following code to the case where I wanted to discard $e$. The only difference between is_max_weight_independent_generic() and is_max_weight_coindependent_generic() is that 'rank' was replaced with 'corank' in both places.

I agree that $X$ is just restricting the matroid to $X$.


                smres=res
                if weights is None:
                    if self._rank(set([e]))>0:
                        return False
                    else:
                        for f in res:
                            if weights(e)==weights(f):
                                smres.discard(f)
                smres.add(e)
                if self._rank(smres) > len(smres)-1:
                    return False


Cheers,
Tara



---

archive/issue_comments_178171.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI realized, as I was writing that last comment, that I was doing more work than necessary, because I was re-building smres each time it was needed, instead of keeping it updated. I re-wrote the code to avoid that. I also moved the conditional if weights(e)==weights(f) to the outside of the for-loop, so that it wasn't asked each time. I think that this also improves code readability, but I'm not entirely sure about that.",
    "created_at": "2016-04-09T15:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178171",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:11" align="right">comment:11</div>

I realized, as I was writing that last comment, that I was doing more work than necessary, because I was re-building smres each time it was needed, instead of keeping it updated. I re-wrote the code to avoid that. I also moved the conditional if weights(e)==weights(f) to the outside of the for-loop, so that it wasn't asked each time. I think that this also improves code readability, but I'm not entirely sure about that.



---

archive/issue_comments_178172.json:
```json
{
    "body": "Changed commit from **[`62fa420`](https://github.com/sagemath/sagetrac-mirror/commit/62fa4205a56150bf5301496d6dc770ffa29b5270)** to **[`da97f30`](https://github.com/sagemath/sagetrac-mirror/commit/da97f302b53c5a53f33ee53fe9b88a173245c9d5)**",
    "created_at": "2016-04-09T15:38:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178172",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`62fa420`](https://github.com/sagemath/sagetrac-mirror/commit/62fa4205a56150bf5301496d6dc770ffa29b5270)** to **[`da97f30`](https://github.com/sagemath/sagetrac-mirror/commit/da97f302b53c5a53f33ee53fe9b88a173245c9d5)**



---

archive/issue_comments_178173.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da97f302b53c5a53f33ee53fe9b88a173245c9d5\"><code>da97f30</code></a></td><td><code>Eddited is_max_weight_independent_generic() and is_max_weight_coindependent_generic</code></td></tr></table>\n",
    "created_at": "2016-04-09T15:38:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178173",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da97f302b53c5a53f33ee53fe9b88a173245c9d5"><code>da97f30</code></a></td><td><code>Eddited is_max_weight_independent_generic() and is_max_weight_coindependent_generic</code></td></tr></table>




---

archive/issue_events_207969.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-04-11T19:37:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207969"
}
```



---

archive/issue_events_207970.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-04-11T19:37:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207970"
}
```



---

archive/issue_comments_178174.json:
```json
{
    "body": "Changed commit from **[`da97f30`](https://github.com/sagemath/sagetrac-mirror/commit/da97f302b53c5a53f33ee53fe9b88a173245c9d5)** to **[`059b6d3`](https://github.com/sagemath/sagetrac-mirror/commit/059b6d3816eae7412bc5e6570c17888fa2b75678)**",
    "created_at": "2016-04-11T19:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178174",
    "user": "https://github.com/darijgr"
}
```

Changed commit from **[`da97f30`](https://github.com/sagemath/sagetrac-mirror/commit/da97f302b53c5a53f33ee53fe9b88a173245c9d5)** to **[`059b6d3`](https://github.com/sagemath/sagetrac-mirror/commit/059b6d3816eae7412bc5e6570c17888fa2b75678)**



---

archive/issue_comments_178175.json:
```json
{
    "body": "Changed dependencies from **7477** to none",
    "created_at": "2016-04-11T19:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178175",
    "user": "https://github.com/darijgr"
}
```

Changed dependencies from **7477** to none



---

archive/issue_comments_178176.json:
```json
{
    "body": "Changed branch from **[u/tara/test_if_a_weight_function_is_generic_for_a_given_matroid](https://github.com/sagemath/sagetrac-mirror/tree/u/tara/test_if_a_weight_function_is_generic_for_a_given_matroid)** to **[public/ticket/14666](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14666)**",
    "created_at": "2016-04-11T19:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178176",
    "user": "https://github.com/darijgr"
}
```

Changed branch from **[u/tara/test_if_a_weight_function_is_generic_for_a_given_matroid](https://github.com/sagemath/sagetrac-mirror/tree/u/tara/test_if_a_weight_function_is_generic_for_a_given_matroid)** to **[public/ticket/14666](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14666)**



---

archive/issue_comments_178177.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/059b6d3816eae7412bc5e6570c17888fa2b75678\"><code>059b6d3</code></a></td><td><code>documentation</code></td></tr></table>\n",
    "created_at": "2016-04-11T19:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178177",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:13"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/059b6d3816eae7412bc5e6570c17888fa2b75678"><code>059b6d3</code></a></td><td><code>documentation</code></td></tr></table>




---

archive/issue_comments_178178.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI've made some changes (NB: branch change!), particularly documenting one of the undocumented codepaths (namely, passing a dictionary for `weight`). However, it exposed a bug: The algorithm assumes `weight` to be a function.\n\nMy suggestion here would be to change the way dictionaries are handled. Rather than doing the `try/except`s, I'd check whether `weight` is a dictionary, and then define a function `weight_fun` to send each `e` to `weight[e]`. Otherwise, I'd just set `weight_fun = weight`. All other uses of `weight` in the code should then be replaced by `weight_fun`. Does this sound reasonable to you? (I haven't done any speed comparisons or other tests, so this might not actually be a good idea.)\n\nAlso, the algorithm looks nice and clean. I haven't proven it yet. Is it easy or should I know something it follows from?\n\nThanks for the good work!",
    "created_at": "2016-04-11T19:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178178",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:14" align="right">comment:14</div>

I've made some changes (NB: branch change!), particularly documenting one of the undocumented codepaths (namely, passing a dictionary for `weight`). However, it exposed a bug: The algorithm assumes `weight` to be a function.

My suggestion here would be to change the way dictionaries are handled. Rather than doing the `try/except`s, I'd check whether `weight` is a dictionary, and then define a function `weight_fun` to send each `e` to `weight[e]`. Otherwise, I'd just set `weight_fun = weight`. All other uses of `weight` in the code should then be replaced by `weight_fun`. Does this sound reasonable to you? (I haven't done any speed comparisons or other tests, so this might not actually be a good idea.)

Also, the algorithm looks nice and clean. I haven't proven it yet. Is it easy or should I know something it follows from?

Thanks for the good work!



---

archive/issue_comments_178179.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAlso, I'm not fully sure about what goes on here:\n\n```\n        if weights is None:\n            for e in Y:\n                res.append(e)\n                if self._rank(res) > r:\n                    r += 1\n                else:\n                    del res[-1]\n                    smres.append(e)\n                    if self._rank(smres) >= 1:\n                        return False\n                    else:\n                        del smres[-1]\n            return True\n```\nAm I seeing it right that `smres` never has length >1 ? So you are essentially checking that `e` is a loop; if it isn't, then you return `False`? Do you really need an array for that?",
    "created_at": "2016-04-11T19:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178179",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:15" align="right">comment:15</div>

Also, I'm not fully sure about what goes on here:

```
        if weights is None:
            for e in Y:
                res.append(e)
                if self._rank(res) > r:
                    r += 1
                else:
                    del res[-1]
                    smres.append(e)
                    if self._rank(smres) >= 1:
                        return False
                    else:
                        del smres[-1]
            return True
```
Am I seeing it right that `smres` never has length >1 ? So you are essentially checking that `e` is a loop; if it isn't, then you return `False`? Do you really need an array for that?



---

archive/issue_comments_178180.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThe algorithm follows from the idea that whenever we apply the greedy algorithm, we get a maximal basis, and we can get each maximal basis by using the greedy algorithm. A maximal weighted basis `B` is unique if and only if for every `e\\in E(M)-B`, we have `e` is in the closure of `{b\\in B|w(b)>w(e)}`. In other words, `B` is unique, if when using the greedy algorithm, we never were able to choose an element of `E(M)-B`.\n\nWe don't need an array for `smres` in the weights is None case. I had originally put both cases in one for loop, until I realized that that was gross, and I didn't notice, when I changed it, that `smres` is now pointless in that case.",
    "created_at": "2016-04-11T21:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178180",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:16" align="right">comment:16</div>

The algorithm follows from the idea that whenever we apply the greedy algorithm, we get a maximal basis, and we can get each maximal basis by using the greedy algorithm. A maximal weighted basis `B` is unique if and only if for every `e\in E(M)-B`, we have `e` is in the closure of `{b\in B|w(b)>w(e)}`. In other words, `B` is unique, if when using the greedy algorithm, we never were able to choose an element of `E(M)-B`.

We don't need an array for `smres` in the weights is None case. I had originally put both cases in one for loop, until I realized that that was gross, and I didn't notice, when I changed it, that `smres` is now pointless in that case.



---

archive/issue_comments_178181.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOK, that's a nice algorithm! That said, I don't really understand the way you implemented it; the concrete meaning of `smres` is unclear to me (some loop invariants might be helpful).\n\nThe two methods are really supposed to do the same thing, just in different ways? Are the ways really functionally different, i.e. one is a lot faster in some situations and the other in others?\n\nI'd also be indebted if you could do the fixes I suggested in my previous post. I don't trust myself that much with cpdefs...",
    "created_at": "2016-04-12T18:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178181",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:17" align="right">comment:17</div>

OK, that's a nice algorithm! That said, I don't really understand the way you implemented it; the concrete meaning of `smres` is unclear to me (some loop invariants might be helpful).

The two methods are really supposed to do the same thing, just in different ways? Are the ways really functionally different, i.e. one is a lot faster in some situations and the other in others?

I'd also be indebted if you could do the fixes I suggested in my previous post. I don't trust myself that much with cpdefs...



---

archive/issue_comments_178182.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@darijgr](#comment:14):\n> I've made some changes (NB: branch change!), particularly documenting one of the undocumented codepaths (namely, passing a dictionary for `weight`). However, it exposed a bug: The algorithm assumes `weight` to be a function.\n> \n> My suggestion here would be to change the way dictionaries are handled. Rather than doing the `try/except`s, I'd check whether `weight` is a dictionary, and then define a function `weight_fun` to send each `e` to `weight[e]`. Otherwise, I'd just set `weight_fun = weight`. All other uses of `weight` in the code should then be replaced by `weight_fun`. Does this sound reasonable to you? (I haven't done any speed comparisons or other tests, so this might not actually be a good idea.)\n\nIn Python, any object can implement the square bracket and round bracket notation. Your suggestion would make it impossible to have a matroid with ground set 0..n and weight function just a list.\n\nThis code was borrowed from the max_weight_independent method, where in the examples both dictionary and function specifications are tested. Do you have an example of when your bug occurs?",
    "created_at": "2016-04-12T19:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178182",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@darijgr](#comment:14):
> I've made some changes (NB: branch change!), particularly documenting one of the undocumented codepaths (namely, passing a dictionary for `weight`). However, it exposed a bug: The algorithm assumes `weight` to be a function.
> 
> My suggestion here would be to change the way dictionaries are handled. Rather than doing the `try/except`s, I'd check whether `weight` is a dictionary, and then define a function `weight_fun` to send each `e` to `weight[e]`. Otherwise, I'd just set `weight_fun = weight`. All other uses of `weight` in the code should then be replaced by `weight_fun`. Does this sound reasonable to you? (I haven't done any speed comparisons or other tests, so this might not actually be a good idea.)

In Python, any object can implement the square bracket and round bracket notation. Your suggestion would make it impossible to have a matroid with ground set 0..n and weight function just a list.

This code was borrowed from the max_weight_independent method, where in the examples both dictionary and function specifications are tested. Do you have an example of when your bug occurs?



---

archive/issue_comments_178183.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@darijgr](#comment:17):\n> OK, that's a nice algorithm! That said, I don't really understand the way you implemented it; the concrete meaning of `smres` is unclear to me (some loop invariants might be helpful).\n> \n> The two methods are really supposed to do the same thing, just in different ways? Are the ways really functionally different, i.e. one is a lot faster in some situations and the other in others?\n> \n> I'd also be indebted if you could do the fixes I suggested in my previous post. I don't trust myself that much with cpdefs...\n\nI would expect the second function to be the dual of the first. Is that the case here?",
    "created_at": "2016-04-12T19:15:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178183",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@darijgr](#comment:17):
> OK, that's a nice algorithm! That said, I don't really understand the way you implemented it; the concrete meaning of `smres` is unclear to me (some loop invariants might be helpful).
> 
> The two methods are really supposed to do the same thing, just in different ways? Are the ways really functionally different, i.e. one is a lot faster in some situations and the other in others?
> 
> I'd also be indebted if you could do the fixes I suggested in my previous post. I don't trust myself that much with cpdefs...

I would expect the second function to be the dual of the first. Is that the case here?



---

archive/issue_comments_178184.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nYes, I've added such an example in my commit -- if you run the doctests, you'll see it fail.\n\nWhat do you mean by \"the dual\"?",
    "created_at": "2016-04-12T19:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178184",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:20" align="right">comment:20</div>

Yes, I've added such an example in my commit -- if you run the doctests, you'll see it fail.

What do you mean by "the dual"?



---

archive/issue_comments_178185.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@darijgr](#comment:20):\n> Yes, I've added such an example in my commit -- if you run the doctests, you'll see it fail.\n> \n> What do you mean by \"the dual\"?\n\nI mean that I'd expect\n\nM.is_max_weight_coindependent_generic\n\nto return the output of\n\nM.dual().is_max_weight_independent_generic",
    "created_at": "2016-04-12T19:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178185",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@darijgr](#comment:20):
> Yes, I've added such an example in my commit -- if you run the doctests, you'll see it fail.
> 
> What do you mean by "the dual"?

I mean that I'd expect

M.is_max_weight_coindependent_generic

to return the output of

M.dual().is_max_weight_independent_generic



---

archive/issue_comments_178186.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOh. But if so, the doc should be different!",
    "created_at": "2016-04-12T19:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178186",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:22" align="right">comment:22</div>

Oh. But if so, the doc should be different!



---

archive/issue_comments_178187.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@darijgr](#comment:22):\n> Oh. But if so, the doc should be different!\n\nAgreed",
    "created_at": "2016-04-12T19:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178187",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@darijgr](#comment:22):
> Oh. But if so, the doc should be different!

Agreed



---

archive/issue_comments_178188.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@darijgr](#comment:20):\n> Yes, I've added such an example in my commit -- if you run the doctests, you'll see it fail.\n> \n> What do you mean by \"the dual\"?\n\nI see it. The problem is that the user input variable \"weights\" is used down the line, as opposed to the object created in the try/except blocks. The list `wt` is not so useful, so I would probably define something that's guaranteed to be a function, like so:\n\n```\nif callable(weights):\n    wts = weights\nelse:\n    wts = lambda x: weights[x]\n```\nThen use wts instead of weights down the line.\n\nFor the record, to test a file, run (from the top `sage` directory):\n\n```\n./sage -t src/sage/matroids/matroid.pyx\n```",
    "created_at": "2016-04-12T20:18:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178188",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@darijgr](#comment:20):
> Yes, I've added such an example in my commit -- if you run the doctests, you'll see it fail.
> 
> What do you mean by "the dual"?

I see it. The problem is that the user input variable "weights" is used down the line, as opposed to the object created in the try/except blocks. The list `wt` is not so useful, so I would probably define something that's guaranteed to be a function, like so:

```
if callable(weights):
    wts = weights
else:
    wts = lambda x: weights[x]
```
Then use wts instead of weights down the line.

For the record, to test a file, run (from the top `sage` directory):

```
./sage -t src/sage/matroids/matroid.pyx
```



---

archive/issue_comments_178189.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@sagetrac-Stefan](#comment:24):\n\n> \n> I see it. The problem is that the user input variable \"weights\" is used down the line, as opposed to the object created in the try/except blocks. The list `wt` is not so useful, so I would probably define something that's guaranteed to be a function, like so:\n> \n> ```\n> if callable(weights):\n>     wts = weights\n> else:\n>     wts = lambda x: weights[x]\n> ```\n> Then use wts instead of weights down the line.\n> \n\nThe reason that `wt` is currently useful, is that it is used to sort the elements in decreasing order of weight. I'm not sure how to do that with only a function `wts`. I tried adding the function wts, but I ended up having it not compile. I'll look at it again tomorrow.",
    "created_at": "2016-04-13T04:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178189",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@sagetrac-Stefan](#comment:24):

> 
> I see it. The problem is that the user input variable "weights" is used down the line, as opposed to the object created in the try/except blocks. The list `wt` is not so useful, so I would probably define something that's guaranteed to be a function, like so:
> 
> ```
> if callable(weights):
>     wts = weights
> else:
>     wts = lambda x: weights[x]
> ```
> Then use wts instead of weights down the line.
> 

The reason that `wt` is currently useful, is that it is used to sort the elements in decreasing order of weight. I'm not sure how to do that with only a function `wts`. I tried adding the function wts, but I ended up having it not compile. I'll look at it again tomorrow.



---

archive/issue_comments_178190.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWhat's the error? Maybe callable() isn't supported in Cython?\n\nYeah, you'll need both. Since you need the output in order, you can't just call the max_weight_independent function either, unfortunately.",
    "created_at": "2016-04-13T11:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178190",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:26" align="right">comment:26</div>

What's the error? Maybe callable() isn't supported in Cython?

Yeah, you'll need both. Since you need the output in order, you can't just call the max_weight_independent function either, unfortunately.



---

archive/issue_comments_178191.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@sagetrac-Stefan](#comment:26):\n> What's the error? Maybe callable() isn't supported in Cython?\n> \n\nIt won't compile when I have the line \n\n```\nwts = lambda x: weights[x]\n```\n\nIt will, however, compile when I have\n\n```\nif callable(weights):\n                wts = weights\n            else:\n                return True\n```\n\nSo for some reason, that I don't understand, we're not allowed to use lambda in this way. Functions in other places in the file use lambda inside a function call, and I don't see a difference in the syntax that we are using. I have also tried using\n`def wts(x) : return weights[x]`.",
    "created_at": "2016-04-13T20:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178191",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@sagetrac-Stefan](#comment:26):
> What's the error? Maybe callable() isn't supported in Cython?
> 

It won't compile when I have the line 

```
wts = lambda x: weights[x]
```

It will, however, compile when I have

```
if callable(weights):
                wts = weights
            else:
                return True
```

So for some reason, that I don't understand, we're not allowed to use lambda in this way. Functions in other places in the file use lambda inside a function call, and I don't see a difference in the syntax that we are using. I have also tried using
`def wts(x) : return weights[x]`.



---

archive/issue_comments_178192.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nDoes Cython actually know lambda at all? And if so, does it allow functions without specified input and output types?\n\n(This is not a rhetorical question; I really have no idea.)",
    "created_at": "2016-04-13T21:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178192",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:28" align="right">comment:28</div>

Does Cython actually know lambda at all? And if so, does it allow functions without specified input and output types?

(This is not a rhetorical question; I really have no idea.)



---

archive/issue_comments_178193.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAh, you can have them inside a def but not inside a cpdef.\n\nSo you're going to need a less elegant solution. Easiest but least elegant is to repeat the code twice, once with () and once with [].",
    "created_at": "2016-04-15T15:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178193",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:29" align="right">comment:29</div>

Ah, you can have them inside a def but not inside a cpdef.

So you're going to need a less elegant solution. Easiest but least elegant is to repeat the code twice, once with () and once with [].



---

archive/issue_events_207971.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2016-04-15T15:35:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207971"
}
```



---

archive/issue_events_207972.json:
```json
{
    "actor": "https://github.com/sagetrac-Stefan",
    "created_at": "2016-04-15T15:35:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207972"
}
```



---

archive/issue_comments_178194.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nWhat about a def frontend and a cpdef backend? Of course, we'd need to figure out whether the backend should take a dict or a function... Is it possible to wrap up a dict in a function and send it to the backend, or will the backend not accept such a function?",
    "created_at": "2016-04-15T17:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178194",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:30" align="right">comment:30</div>

What about a def frontend and a cpdef backend? Of course, we'd need to figure out whether the backend should take a dict or a function... Is it possible to wrap up a dict in a function and send it to the backend, or will the backend not accept such a function?



---

archive/issue_comments_178195.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c75ee707326fc1cc1beb0e265359c0f93cb84ac2\"><code>c75ee70</code></a></td><td><code>This is eddited now to accept both functions and dictionaries for the weight parameter.</code></td></tr></table>\n",
    "created_at": "2016-05-09T13:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178195",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c75ee707326fc1cc1beb0e265359c0f93cb84ac2"><code>c75ee70</code></a></td><td><code>This is eddited now to accept both functions and dictionaries for the weight parameter.</code></td></tr></table>




---

archive/issue_comments_178196.json:
```json
{
    "body": "Changed commit from **[`059b6d3`](https://github.com/sagemath/sagetrac-mirror/commit/059b6d3816eae7412bc5e6570c17888fa2b75678)** to **[`c75ee70`](https://github.com/sagemath/sagetrac-mirror/commit/c75ee707326fc1cc1beb0e265359c0f93cb84ac2)**",
    "created_at": "2016-05-09T13:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178196",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`059b6d3`](https://github.com/sagemath/sagetrac-mirror/commit/059b6d3816eae7412bc5e6570c17888fa2b75678)** to **[`c75ee70`](https://github.com/sagemath/sagetrac-mirror/commit/c75ee707326fc1cc1beb0e265359c0f93cb84ac2)**



---

archive/issue_events_207973.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-09T16:47:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207973"
}
```



---

archive/issue_events_207974.json:
```json
{
    "actor": "https://github.com/TaraFife",
    "created_at": "2016-05-09T16:47:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207974"
}
```



---

archive/issue_comments_178197.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nNice, this looks a lot better. But I still struggle to find a mental model for `smres`. From your description of the algorithm, it should be the list containing all elements of `res` having higher weight than `e`, and `e` itself. But from the code, it seems to be the list containing all elements of `res` having higher weight than `e`, and the first element of `res` that has the same weight as `e` (because `e` does not get appended to `smres` unless `e` sets a negative weight record). Am I reading the code right, and is this an actual issue? Thank you!",
    "created_at": "2016-05-10T06:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178197",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:34" align="right">comment:34</div>

Nice, this looks a lot better. But I still struggle to find a mental model for `smres`. From your description of the algorithm, it should be the list containing all elements of `res` having higher weight than `e`, and `e` itself. But from the code, it seems to be the list containing all elements of `res` having higher weight than `e`, and the first element of `res` that has the same weight as `e` (because `e` does not get appended to `smres` unless `e` sets a negative weight record). Am I reading the code right, and is this an actual issue? Thank you!



---

archive/issue_comments_178198.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@darijgr](#comment:34):\n> Nice, this looks a lot better. But I still struggle to find a mental model for `smres`. From your description of the algorithm, it should be the list containing all elements of `res` having higher weight than `e`, and `e` itself. But from the code, it seems to be the list containing all elements of `res` having higher weight than `e`, and the first element of `res` that has the same weight as `e` (because `e` does not get appended to `smres` unless `e` sets a negative weight record). Am I reading the code right, and is this an actual issue? Thank you!\n\nYou're correct, there was a problem with `smres`. I wasn't adding `e` to it all the time. I had moved some things about to make it read nicer, and introduced that bug.",
    "created_at": "2016-05-10T15:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178198",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@darijgr](#comment:34):
> Nice, this looks a lot better. But I still struggle to find a mental model for `smres`. From your description of the algorithm, it should be the list containing all elements of `res` having higher weight than `e`, and `e` itself. But from the code, it seems to be the list containing all elements of `res` having higher weight than `e`, and the first element of `res` that has the same weight as `e` (because `e` does not get appended to `smres` unless `e` sets a negative weight record). Am I reading the code right, and is this an actual issue? Thank you!

You're correct, there was a problem with `smres`. I wasn't adding `e` to it all the time. I had moved some things about to make it read nicer, and introduced that bug.



---

archive/issue_comments_178199.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f92c81dbf9f8bcc923a7597ede63a5bab613b397\"><code>f92c81d</code></a></td><td><code>Fixed bug with smres and added clarifying comments.</code></td></tr></table>\n",
    "created_at": "2016-05-10T15:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178199",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f92c81dbf9f8bcc923a7597ede63a5bab613b397"><code>f92c81d</code></a></td><td><code>Fixed bug with smres and added clarifying comments.</code></td></tr></table>




---

archive/issue_comments_178200.json:
```json
{
    "body": "Changed commit from **[`c75ee70`](https://github.com/sagemath/sagetrac-mirror/commit/c75ee707326fc1cc1beb0e265359c0f93cb84ac2)** to **[`f92c81d`](https://github.com/sagemath/sagetrac-mirror/commit/f92c81dbf9f8bcc923a7597ede63a5bab613b397)**",
    "created_at": "2016-05-10T15:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178200",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c75ee70`](https://github.com/sagemath/sagetrac-mirror/commit/c75ee707326fc1cc1beb0e265359c0f93cb84ac2)** to **[`f92c81d`](https://github.com/sagemath/sagetrac-mirror/commit/f92c81dbf9f8bcc923a7597ede63a5bab613b397)**



---

archive/issue_comments_178201.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64f76adea329df592cf28ec6d54253de5c72ae64\"><code>64f76ad</code></a></td><td><code>Merge branch 'public/ticket/14666' of git://trac.sagemath.org/sage into matroid</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5d0f5f15855b20141872661ea6ffda8b89b40ad\"><code>b5d0f5f</code></a></td><td><code>documentation & comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb0b6985540afd1297a6272d50fdb6292e03ce6f\"><code>bb0b698</code></a></td><td><code>example from Hopf notes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f13c962f4147de7e488a339f46aff7d895b9e7f\"><code>1f13c96</code></a></td><td><code>another doctest (one that is sensitive to max/min distinction)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/edb1a33e776a3371def0acc07ab123812d9c2afa\"><code>edb1a33</code></a></td><td><code>fix sign error in is_max_weight_coindependent_generic</code></td></tr></table>\n",
    "created_at": "2016-05-11T03:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178201",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64f76adea329df592cf28ec6d54253de5c72ae64"><code>64f76ad</code></a></td><td><code>Merge branch 'public/ticket/14666' of git://trac.sagemath.org/sage into matroid</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5d0f5f15855b20141872661ea6ffda8b89b40ad"><code>b5d0f5f</code></a></td><td><code>documentation & comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb0b6985540afd1297a6272d50fdb6292e03ce6f"><code>bb0b698</code></a></td><td><code>example from Hopf notes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f13c962f4147de7e488a339f46aff7d895b9e7f"><code>1f13c96</code></a></td><td><code>another doctest (one that is sensitive to max/min distinction)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/edb1a33e776a3371def0acc07ab123812d9c2afa"><code>edb1a33</code></a></td><td><code>fix sign error in is_max_weight_coindependent_generic</code></td></tr></table>




---

archive/issue_comments_178202.json:
```json
{
    "body": "Changed commit from **[`f92c81d`](https://github.com/sagemath/sagetrac-mirror/commit/f92c81dbf9f8bcc923a7597ede63a5bab613b397)** to **[`edb1a33`](https://github.com/sagemath/sagetrac-mirror/commit/edb1a33e776a3371def0acc07ab123812d9c2afa)**",
    "created_at": "2016-05-11T03:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178202",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f92c81d`](https://github.com/sagemath/sagetrac-mirror/commit/f92c81dbf9f8bcc923a7597ede63a5bab613b397)** to **[`edb1a33`](https://github.com/sagemath/sagetrac-mirror/commit/edb1a33e776a3371def0acc07ab123812d9c2afa)**



---

archive/issue_comments_178203.json:
```json
{
    "body": "Reviewer: **Darij Grinberg**",
    "created_at": "2016-05-11T03:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178203",
    "user": "https://github.com/darijgr"
}
```

Reviewer: **Darij Grinberg**



---

archive/issue_comments_178204.json:
```json
{
    "body": "Author: **Tara Fife**",
    "created_at": "2016-05-11T03:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178204",
    "user": "https://github.com/darijgr"
}
```

Author: **Tara Fife**



---

archive/issue_comments_178205.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThank you!\n\nI've made my own changes. (Only one change to the code proper: The `is_max_weight_coindependent_generic` function was doing the same as `is_max_weight_independent_generic` but for the dual matroid of `self` instead of `self`. Now it does what it claims to do.) If the result looks good to you, please set this to positive_review. Thanks again for implementing this!\n\nAlso, if your \"we\" includes some other authors, I guess they should go into the author field as well.",
    "created_at": "2016-05-11T03:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178205",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:38" align="right">comment:38</div>

Thank you!

I've made my own changes. (Only one change to the code proper: The `is_max_weight_coindependent_generic` function was doing the same as `is_max_weight_independent_generic` but for the dual matroid of `self` instead of `self`. Now it does what it claims to do.) If the result looks good to you, please set this to positive_review. Thanks again for implementing this!

Also, if your "we" includes some other authors, I guess they should go into the author field as well.



---

archive/issue_comments_178206.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nPS. I replaced your \"iterable\" by \"list, tuple or set\" because I don't think an iterator would have worked. (That said, I haven't tried.)",
    "created_at": "2016-05-11T03:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178206",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:39" align="right">comment:39</div>

PS. I replaced your "iterable" by "list, tuple or set" because I don't think an iterator would have worked. (That said, I haven't tried.)



---

archive/issue_comments_178207.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4031e326dcdf7a40072483267f45362bf2f88709\"><code>4031e32</code></a></td><td><code>more doc fixes</code></td></tr></table>\n",
    "created_at": "2016-05-11T03:30:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178207",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4031e326dcdf7a40072483267f45362bf2f88709"><code>4031e32</code></a></td><td><code>more doc fixes</code></td></tr></table>




---

archive/issue_comments_178208.json:
```json
{
    "body": "Changed commit from **[`edb1a33`](https://github.com/sagemath/sagetrac-mirror/commit/edb1a33e776a3371def0acc07ab123812d9c2afa)** to **[`4031e32`](https://github.com/sagemath/sagetrac-mirror/commit/4031e326dcdf7a40072483267f45362bf2f88709)**",
    "created_at": "2016-05-11T03:30:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178208",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`edb1a33`](https://github.com/sagemath/sagetrac-mirror/commit/edb1a33e776a3371def0acc07ab123812d9c2afa)** to **[`4031e32`](https://github.com/sagemath/sagetrac-mirror/commit/4031e326dcdf7a40072483267f45362bf2f88709)**



---

archive/issue_comments_178209.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThe only thing that looks like a problem is in edb1a33, you changed `wt = sorted(wt, reverse=True)` to `wt = sorted(wt)` in line 6667. And later changed `if wt_dic[e] < wt_dic[res[-1]]:` to `if wt_dic[e] > wt_dic[res[-1]]:`. It seems like this would test if a minimum cobasis was generic rather than a maximum cobasis. I would expect `M.is_max_weight_coindependent_generic()` to give the same results as `M*.is_max_weight_independent_generic()`, where `M*` is the dual of `M`. \n\nMy \"we\" sometimes included Stefan. He and I are both at LSU, and he's given recommendations. He might have avoided writing code so that he would be free to review it.",
    "created_at": "2016-05-11T23:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178209",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:41" align="right">comment:41</div>

The only thing that looks like a problem is in edb1a33, you changed `wt = sorted(wt, reverse=True)` to `wt = sorted(wt)` in line 6667. And later changed `if wt_dic[e] < wt_dic[res[-1]]:` to `if wt_dic[e] > wt_dic[res[-1]]:`. It seems like this would test if a minimum cobasis was generic rather than a maximum cobasis. I would expect `M.is_max_weight_coindependent_generic()` to give the same results as `M*.is_max_weight_independent_generic()`, where `M*` is the dual of `M`. 

My "we" sometimes included Stefan. He and I are both at LSU, and he's given recommendations. He might have avoided writing code so that he would be free to review it.



---

archive/issue_comments_178210.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nOh! But then you should not be claiming that the two methods are doing the same thing. I changed the methods to achieve precisely this effect.",
    "created_at": "2016-05-11T23:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178210",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:42" align="right">comment:42</div>

Oh! But then you should not be claiming that the two methods are doing the same thing. I changed the methods to achieve precisely this effect.



---

archive/issue_comments_178211.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@darijgr](#comment:42):\n> Oh! But then you should not be claiming that the two methods are doing the same thing. I changed the methods to achieve precisely this effect.\n\nWhen I execute the following code, using the current version, I get `True` and then `False`. We should expect `True` in both cases, because `{3,4}` is the only maximum weighted basis of `M`. \n\n```\nfrom sage.matroids.advanced import setprint \nM=matroids.Uniform(2,5) \nwt={0: 1, 1: 1, 2: 1, 3: 2, 4: 2}\nM.is_max_weight_independent_generic(weights=wt)\nM.dual().is_max_weight_coindependent_generic(weights=wt)\n```\n\nHowever, when I change those two lines back, I get `True` for both outputs. Furthermore, the code in `is_max_weight_coindependent_generic` looking the same as `is_max_weight_independent_generic`, excepting that `rank` is changed to `corank` makes intuitive sense to me.",
    "created_at": "2016-05-13T02:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178211",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@darijgr](#comment:42):
> Oh! But then you should not be claiming that the two methods are doing the same thing. I changed the methods to achieve precisely this effect.

When I execute the following code, using the current version, I get `True` and then `False`. We should expect `True` in both cases, because `{3,4}` is the only maximum weighted basis of `M`. 

```
from sage.matroids.advanced import setprint 
M=matroids.Uniform(2,5) 
wt={0: 1, 1: 1, 2: 1, 3: 2, 4: 2}
M.is_max_weight_independent_generic(weights=wt)
M.dual().is_max_weight_coindependent_generic(weights=wt)
```

However, when I change those two lines back, I get `True` for both outputs. Furthermore, the code in `is_max_weight_coindependent_generic` looking the same as `is_max_weight_independent_generic`, excepting that `rank` is changed to `corank` makes intuitive sense to me.



---

archive/issue_comments_178212.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nFeel free to change this back... but then please rewrite this documentation:\n\n```\n+        The method :meth:`is_max_weight_coindependent_generic`\n+        computes the same function using a different algorithm.\n```\n(and the similar claim on the other method). \"The same function\", in my eyes, means literally the same function, not the same function on the dual matroid!",
    "created_at": "2016-05-13T02:54:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178212",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:44" align="right">comment:44</div>

Feel free to change this back... but then please rewrite this documentation:

```
+        The method :meth:`is_max_weight_coindependent_generic`
+        computes the same function using a different algorithm.
```
(and the similar claim on the other method). "The same function", in my eyes, means literally the same function, not the same function on the dual matroid!



---

archive/issue_comments_178213.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5baccc674c1616978db0d70360722661813cc0ce\"><code>5baccc6</code></a></td><td><code>fix error in is_max_weight_coindependent_generic</code></td></tr></table>\n",
    "created_at": "2016-05-13T02:59:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178213",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5baccc674c1616978db0d70360722661813cc0ce"><code>5baccc6</code></a></td><td><code>fix error in is_max_weight_coindependent_generic</code></td></tr></table>




---

archive/issue_comments_178214.json:
```json
{
    "body": "Changed commit from **[`4031e32`](https://github.com/sagemath/sagetrac-mirror/commit/4031e326dcdf7a40072483267f45362bf2f88709)** to **[`5baccc6`](https://github.com/sagemath/sagetrac-mirror/commit/5baccc674c1616978db0d70360722661813cc0ce)**",
    "created_at": "2016-05-13T02:59:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178214",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4031e32`](https://github.com/sagemath/sagetrac-mirror/commit/4031e326dcdf7a40072483267f45362bf2f88709)** to **[`5baccc6`](https://github.com/sagemath/sagetrac-mirror/commit/5baccc674c1616978db0d70360722661813cc0ce)**



---

archive/issue_comments_178215.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nPS. This:\n\n```\n+    cpdef is_max_weight_coindependent_generic(self, X=None, weights=None):\n+        r\"\"\"\n+        Test if only one basis of the subset ``X`` has maximal\n+        weight.\n```\nalso should have \"cobasis\" rather than \"basis\", right?",
    "created_at": "2016-05-13T03:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178215",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:46" align="right">comment:46</div>

PS. This:

```
+    cpdef is_max_weight_coindependent_generic(self, X=None, weights=None):
+        r"""
+        Test if only one basis of the subset ``X`` has maximal
+        weight.
```
also should have "cobasis" rather than "basis", right?



---

archive/issue_comments_178216.json:
```json
{
    "body": "Changed commit from **[`5baccc6`](https://github.com/sagemath/sagetrac-mirror/commit/5baccc674c1616978db0d70360722661813cc0ce)** to **[`fc8a795`](https://github.com/sagemath/sagetrac-mirror/commit/fc8a795bdab5dd48e00b99a88a6ef0d54590314e)**",
    "created_at": "2016-05-13T03:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178216",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5baccc6`](https://github.com/sagemath/sagetrac-mirror/commit/5baccc674c1616978db0d70360722661813cc0ce)** to **[`fc8a795`](https://github.com/sagemath/sagetrac-mirror/commit/fc8a795bdab5dd48e00b99a88a6ef0d54590314e)**



---

archive/issue_comments_178217.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc8a795bdab5dd48e00b99a88a6ef0d54590314e\"><code>fc8a795</code></a></td><td><code>Fixed error in documentation</code></td></tr></table>\n",
    "created_at": "2016-05-13T03:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178217",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc8a795bdab5dd48e00b99a88a6ef0d54590314e"><code>fc8a795</code></a></td><td><code>Fixed error in documentation</code></td></tr></table>




---

archive/issue_comments_178218.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@darijgr](#comment:44):\n> Feel free to change this back... but then please rewrite this documentation:\n> \n> ```\n> +        The method :meth:`is_max_weight_coindependent_generic`\n> +        computes the same function using a different algorithm.\n> ```\n> (and the similar claim on the other method). \"The same function\", in my eyes, means literally the same function, not the same function on the dual matroid!\n\nYou're right, that sentence is confusing. I haven't been checking the documentation as well as I should have been doing. I think that i was trying to say there is covered in the Algorithm section, and I didn't see other functions having a method section, so I don't know why I put that in in the first place. Thanks for being so scrupulous. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc8a795bdab5dd48e00b99a88a6ef0d54590314e\"><code>fc8a795</code></a></td><td><code>Fixed error in documentation</code></td></tr></table>\n",
    "created_at": "2016-05-13T03:13:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178218",
    "user": "https://github.com/TaraFife"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@darijgr](#comment:44):
> Feel free to change this back... but then please rewrite this documentation:
> 
> ```
> +        The method :meth:`is_max_weight_coindependent_generic`
> +        computes the same function using a different algorithm.
> ```
> (and the similar claim on the other method). "The same function", in my eyes, means literally the same function, not the same function on the dual matroid!

You're right, that sentence is confusing. I haven't been checking the documentation as well as I should have been doing. I think that i was trying to say there is covered in the Algorithm section, and I didn't see other functions having a method section, so I don't know why I put that in in the first place. Thanks for being so scrupulous. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc8a795bdab5dd48e00b99a88a6ef0d54590314e"><code>fc8a795</code></a></td><td><code>Fixed error in documentation</code></td></tr></table>




---

archive/issue_comments_178219.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nSorry for continuous annoyance, but please also see [comment:46](#comment:46). (I would do this myself, but I'll probably have a negative amount of spare time today...) Once you've fixed the doc, you have my positive review!",
    "created_at": "2016-05-13T07:28:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178219",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:49" align="right">comment:49</div>

Sorry for continuous annoyance, but please also see [comment:46](#comment:46). (I would do this myself, but I'll probably have a negative amount of spare time today...) Once you've fixed the doc, you have my positive review!



---

archive/issue_comments_178220.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fa15f2a97ee6002a1efddd0360a38416ffb6844\"><code>3fa15f2</code></a></td><td><code>Fixed error in documentation</code></td></tr></table>\n",
    "created_at": "2016-05-13T11:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178220",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fa15f2a97ee6002a1efddd0360a38416ffb6844"><code>3fa15f2</code></a></td><td><code>Fixed error in documentation</code></td></tr></table>




---

archive/issue_comments_178221.json:
```json
{
    "body": "Changed commit from **[`fc8a795`](https://github.com/sagemath/sagetrac-mirror/commit/fc8a795bdab5dd48e00b99a88a6ef0d54590314e)** to **[`3fa15f2`](https://github.com/sagemath/sagetrac-mirror/commit/3fa15f2a97ee6002a1efddd0360a38416ffb6844)**",
    "created_at": "2016-05-13T11:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178221",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fc8a795`](https://github.com/sagemath/sagetrac-mirror/commit/fc8a795bdab5dd48e00b99a88a6ef0d54590314e)** to **[`3fa15f2`](https://github.com/sagemath/sagetrac-mirror/commit/3fa15f2a97ee6002a1efddd0360a38416ffb6844)**



---

archive/issue_comments_178222.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nWonderful!",
    "created_at": "2016-05-13T14:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178222",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:51" align="right">comment:51</div>

Wonderful!



---

archive/issue_events_207975.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-05-13T14:24:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207975"
}
```



---

archive/issue_events_207976.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-05-13T14:24:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207976"
}
```



---

archive/issue_comments_178223.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nDoctests fail as evident in the patchbot report",
    "created_at": "2016-05-22T07:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178223",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:52" align="right">comment:52</div>

Doctests fail as evident in the patchbot report



---

archive/issue_events_207977.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-22T07:40:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207977"
}
```



---

archive/issue_events_207978.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-22T07:40:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207978"
}
```



---

archive/issue_comments_178224.json:
```json
{
    "body": "Changed commit from **[`3fa15f2`](https://github.com/sagemath/sagetrac-mirror/commit/3fa15f2a97ee6002a1efddd0360a38416ffb6844)** to **[`53dc43d`](https://github.com/sagemath/sagetrac-mirror/commit/53dc43d1bfff644927da9352c24279bcf897ba9c)**",
    "created_at": "2016-05-22T17:05:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178224",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3fa15f2`](https://github.com/sagemath/sagetrac-mirror/commit/3fa15f2a97ee6002a1efddd0360a38416ffb6844)** to **[`53dc43d`](https://github.com/sagemath/sagetrac-mirror/commit/53dc43d1bfff644927da9352c24279bcf897ba9c)**



---

archive/issue_comments_178225.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53dc43d1bfff644927da9352c24279bcf897ba9c\"><code>53dc43d</code></a></td><td><code>fix a wrong doctest</code></td></tr></table>\n",
    "created_at": "2016-05-22T17:05:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178225",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53dc43d1bfff644927da9352c24279bcf897ba9c"><code>53dc43d</code></a></td><td><code>fix a wrong doctest</code></td></tr></table>




---

archive/issue_comments_178226.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nOops! Fallout from our previous misunderstanding about what the two functions were supposed to do. Should be correct now.",
    "created_at": "2016-05-22T17:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178226",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:54" align="right">comment:54</div>

Oops! Fallout from our previous misunderstanding about what the two functions were supposed to do. Should be correct now.



---

archive/issue_events_207979.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-05-22T17:05:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207979"
}
```



---

archive/issue_events_207980.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-05-22T17:05:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207980"
}
```



---

archive/issue_comments_178227.json:
```json
{
    "body": "Changed branch from **[public/ticket/14666](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14666)** to **[`53dc43d`](https://github.com/sagemath/sagetrac-mirror/commit/53dc43d1bfff644927da9352c24279bcf897ba9c)**",
    "created_at": "2016-05-23T22:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14666#issuecomment-178227",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/14666](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/14666)** to **[`53dc43d`](https://github.com/sagemath/sagetrac-mirror/commit/53dc43d1bfff644927da9352c24279bcf897ba9c)**



---

archive/issue_events_207981.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-23T22:23:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207981"
}
```



---

archive/issue_events_207982.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ce6b3dfe0903593b58ddb28b6d2104f196f95875",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-23T22:23:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14666",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14666#event-207982"
}
```
