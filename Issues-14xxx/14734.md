# Issue 14734: Map from Graphs to Partitions

archive/issues_014530.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "Creating a method which returns the partition corresponding to the connected components of a graph.\n\nCC:  @tscrim @VivianePons @stumpc5\n\nKeywords: **FindStatDays01**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Chris Berg**\n\nMerged: **sage-5.11.beta2**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14734_\n\n",
    "closed_at": "2013-06-19T12:26:59Z",
    "created_at": "2013-06-12T14:57:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.11",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Map from Graphs to Partitions",
    "type": "issue",
    "updated_at": "2013-06-19T16:42:25Z",
    "url": "https://github.com/sagemath/sage/issues/14734",
    "user": "https://github.com/sagetrac-chrisjamesberg"
}
```
Creating a method which returns the partition corresponding to the connected components of a graph.

CC:  @tscrim @VivianePons @stumpc5

Keywords: **FindStatDays01**

Reviewer: **Travis Scrimshaw**

Author: **Chris Berg**

Merged: **sage-5.11.beta2**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/14734_





---

archive/issue_events_209235.json:
```json
{
    "actor": "https://github.com/sagetrac-chrisjamesberg",
    "created_at": "2013-06-12T14:57:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209235"
}
```



---

archive/issue_events_209236.json:
```json
{
    "actor": "https://github.com/sagetrac-chrisjamesberg",
    "created_at": "2013-06-12T14:57:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209236"
}
```



---

archive/issue_events_209237.json:
```json
{
    "actor": "https://github.com/sagetrac-chrisjamesberg",
    "created_at": "2013-06-12T14:57:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209237"
}
```



---

archive/issue_events_209238.json:
```json
{
    "actor": "https://github.com/sagetrac-chrisjamesberg",
    "created_at": "2013-06-12T14:57:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209238"
}
```



---

archive/issue_events_209239.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2013-06-12T14:57:19Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "subject": "https://github.com/sagetrac-chrisjamesberg",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209239"
}
```



---

archive/issue_events_209240.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-06-12T15:24:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209240"
}
```



---

archive/issue_comments_179770.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[graph_to_partition.patch.gz](https://github.com/sagemath/sage/files/ticket14734/graph_to_partition.patch.gz)**",
    "created_at": "2013-06-12T15:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14734#issuecomment-179770",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[graph_to_partition.patch.gz](https://github.com/sagemath/sage/files/ticket14734/graph_to_partition.patch.gz)**



---

archive/issue_comments_179771.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2013-06-12T15:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14734#issuecomment-179771",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_179772.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nLooks good. Thanks.",
    "created_at": "2013-06-12T15:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14734#issuecomment-179772",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

Looks good. Thanks.



---

archive/issue_events_209241.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-06-12T15:24:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209241"
}
```



---

archive/issue_events_209242.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-06-12T15:24:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209242"
}
```



---

archive/issue_comments_179773.json:
```json
{
    "body": "Merged: **sage-5.11.beta2**",
    "created_at": "2013-06-19T12:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14734#issuecomment-179773",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.11.beta2**



---

archive/issue_events_209243.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-19T12:26:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209243"
}
```



---

archive/issue_events_209244.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-19T12:26:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14734#event-209244"
}
```



---

archive/issue_comments_179774.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI had not noticed this ticket.....\n.....\n\nThe function's name is way too vague, and I think that it brings absolutely nothing to Sage. It is just there to add an output to find_stat, and has nothing to do in Sage.\n\nI hate this patch.\n\nNathann",
    "created_at": "2013-06-19T15:44:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14734#issuecomment-179774",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

I had not noticed this ticket.....
.....

The function's name is way too vague, and I think that it brings absolutely nothing to Sage. It is just there to add an output to find_stat, and has nothing to do in Sage.

I hate this patch.

Nathann



---

archive/issue_comments_179775.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOh, and just to keep on being unpleasant : from time to time I write long graph functions that I move to modules, and never import them to Graph or DiGraph class.\n\nI do that because we already have a lot of methods in those objects, and that they would not be useful to the vast majority of Sage users, only to specialists. So I store them where they will only be found by those who look for them.\n\nIf at the same time you add empty functions just to add maps to a third-party project, I do feel like I waste my time when I do that.\n\nBut that was just to keep on being unpleasant.\n\nNathann",
    "created_at": "2013-06-19T15:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14734#issuecomment-179775",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Oh, and just to keep on being unpleasant : from time to time I write long graph functions that I move to modules, and never import them to Graph or DiGraph class.

I do that because we already have a lot of methods in those objects, and that they would not be useful to the vast majority of Sage users, only to specialists. So I store them where they will only be found by those who look for them.

If at the same time you add empty functions just to add maps to a third-party project, I do feel like I waste my time when I do that.

But that was just to keep on being unpleasant.

Nathann



---

archive/issue_comments_179776.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI do not agree that the combinatorial_map decorator doesn't have anything to do with Sage. It organizes mathematical concepts by providing the possibility to ask for things like:\n\n- which involutions are there on permutations\n- which bijections between 132-avoiding permutations and Dyck paths are there,\n\nand so on. The decorator should even be able to carry information about the maps (though this is not yet there), like \"injective\", \"surjective\", \"bijective\", ... And these mathematical information are interesting and useful for Sage users!\n\nFeel free to start a discussion about the decorators on the sage-combinat mailing list, or to ask for a poll if the community wants such decorators or not. I will at least copy your comment and my answer there in order to get a discussion started.\n\nObviously, the decorator might have downsides. E.g., we have seen that it not yet works well together with the cached_method decorator.\n\nI will add some further points once we have a discussion started at sage-combinat-devel.\n\nCheers, Christian",
    "created_at": "2013-06-19T16:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14734#issuecomment-179776",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:6" align="right">comment:6</div>

I do not agree that the combinatorial_map decorator doesn't have anything to do with Sage. It organizes mathematical concepts by providing the possibility to ask for things like:

- which involutions are there on permutations
- which bijections between 132-avoiding permutations and Dyck paths are there,

and so on. The decorator should even be able to carry information about the maps (though this is not yet there), like "injective", "surjective", "bijective", ... And these mathematical information are interesting and useful for Sage users!

Feel free to start a discussion about the decorators on the sage-combinat mailing list, or to ask for a poll if the community wants such decorators or not. I will at least copy your comment and my answer there in order to get a discussion started.

Obviously, the decorator might have downsides. E.g., we have seen that it not yet works well together with the cached_method decorator.

I will add some further points once we have a discussion started at sage-combinat-devel.

Cheers, Christian



---

archive/issue_comments_179777.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nYo !\n\n> I do not agree that the combinatorial_map decorator doesn't have anything to do with Sage. \n\nMy point in this ticket is that this very function has nothing to do in Sage.\n\n> It organizes mathematical concepts by providing the possibility to ask for things like:\n> \n> - which involutions are there on permutations\n> - which bijections between 132-avoiding permutations and Dyck paths are there,\n\nThis does not mean that it HAS to be implemented as a decorator. Besides, right now the decorator seems to replace the function that is decorated by a new object, which contains the function as a method. This means that when users that never heard of `find_stat` run Sage commands, some computations are spent on things that are only needed for your website. Will you please acknowledge that this is not a good behaviour ? The discussion will be more interesting if you also acknowledge the problems that this thing creates.\n\nYou can build an index of these functions wherever you want, and this index will be queried whenever you really need it. You can also add information to the DOCSTRING of the methods that you find to be of interest, which will not represent any additional computations for normal users.\n\n> and so on. The decorator should even be able to carry information about the maps (though this is not yet there), like \"injective\", \"surjective\", \"bijective\", ... And these mathematical information are interesting and useful for Sage users!\n\nIndeed. It would be nice. But the implementation right now is not the good one.\n\n> Feel free to start a discussion about the decorators on the sage-combinat mailing list, or to ask for a poll if the community wants such decorators or not. I will at least copy your comment and my answer there in order to get a discussion started.\n\nI just wrote an email and sent it to a friend first. The number of people that cannot both accept to be friend and to think objectively at what they do makes me unable to talk pleasantly with most people I meet anymore.\n\n> Obviously, the decorator might have downsides. E.g., we have seen that it not yet works well together with the cached_method decorator.\n\nI hate this decorator too. But there is sometimes a point to it. In particular, I don't see how it could be immediately improved, while I just gave you two alternatives above for this decorator.\n\n> I will add some further points once we have a discussion started at sage-combinat-devel.\n\nI can start it. But on sage-devel. I don't see why the combinat guys should be the only ones to debate upon Sage's design choices.\n\nNathann",
    "created_at": "2013-06-19T16:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14734#issuecomment-179777",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Yo !

> I do not agree that the combinatorial_map decorator doesn't have anything to do with Sage. 

My point in this ticket is that this very function has nothing to do in Sage.

> It organizes mathematical concepts by providing the possibility to ask for things like:
> 
> - which involutions are there on permutations
> - which bijections between 132-avoiding permutations and Dyck paths are there,

This does not mean that it HAS to be implemented as a decorator. Besides, right now the decorator seems to replace the function that is decorated by a new object, which contains the function as a method. This means that when users that never heard of `find_stat` run Sage commands, some computations are spent on things that are only needed for your website. Will you please acknowledge that this is not a good behaviour ? The discussion will be more interesting if you also acknowledge the problems that this thing creates.

You can build an index of these functions wherever you want, and this index will be queried whenever you really need it. You can also add information to the DOCSTRING of the methods that you find to be of interest, which will not represent any additional computations for normal users.

> and so on. The decorator should even be able to carry information about the maps (though this is not yet there), like "injective", "surjective", "bijective", ... And these mathematical information are interesting and useful for Sage users!

Indeed. It would be nice. But the implementation right now is not the good one.

> Feel free to start a discussion about the decorators on the sage-combinat mailing list, or to ask for a poll if the community wants such decorators or not. I will at least copy your comment and my answer there in order to get a discussion started.

I just wrote an email and sent it to a friend first. The number of people that cannot both accept to be friend and to think objectively at what they do makes me unable to talk pleasantly with most people I meet anymore.

> Obviously, the decorator might have downsides. E.g., we have seen that it not yet works well together with the cached_method decorator.

I hate this decorator too. But there is sometimes a point to it. In particular, I don't see how it could be immediately improved, while I just gave you two alternatives above for this decorator.

> I will add some further points once we have a discussion started at sage-combinat-devel.

I can start it. But on sage-devel. I don't see why the combinat guys should be the only ones to debate upon Sage's design choices.

Nathann
