# Issue 14003: Implementation of a rank symmetric test for posets

archive/issues_013799.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "This patch implements a test for ranked posets if it is symmetric in ranks.\n\nCC:  @fchapoton\n\nComponent: **combinatorics**\n\nKeywords: **posets**\n\nAuthor: **Jori M\u00e4ntysalo**\n\nBranch/Commit: **[`3cd7548`](https://github.com/sagemath/sagetrac-mirror/commit/3cd7548d5ae45d1b3d26621b937591cdb0dc1926)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/14003_\n\n",
    "closed_at": "2015-09-17T11:40:30Z",
    "created_at": "2013-01-24T11:34:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementation of a rank symmetric test for posets",
    "type": "issue",
    "updated_at": "2015-09-17T11:40:30Z",
    "url": "https://github.com/sagemath/sage/issues/14003",
    "user": "https://github.com/stumpc5"
}
```
This patch implements a test for ranked posets if it is symmetric in ranks.

CC:  @fchapoton

Component: **combinatorics**

Keywords: **posets**

Author: **Jori Mäntysalo**

Branch/Commit: **[`3cd7548`](https://github.com/sagemath/sagetrac-mirror/commit/3cd7548d5ae45d1b3d26621b937591cdb0dc1926)**

Reviewer: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/14003_





---

archive/issue_events_194870.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2013-01-24T11:34:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194870"
}
```



---

archive/issue_events_194871.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2013-01-24T11:34:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194871"
}
```



---

archive/issue_events_194872.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2013-01-24T11:34:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194872"
}
```



---

archive/issue_events_194873.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2013-01-24T11:34:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194873"
}
```



---

archive/issue_events_194874.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2013-01-24T11:34:34Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "subject": "https://github.com/stumpc5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194874"
}
```



---

archive/issue_comments_165910.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[trac_14003-is_rank_symmetric-cs.patch.gz](https://github.com/sagemath/sage/files/ticket14003/trac_14003-is_rank_symmetric-cs.patch.gz)**\n\nplease add doctests",
    "created_at": "2013-01-24T12:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165910",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[trac_14003-is_rank_symmetric-cs.patch.gz](https://github.com/sagemath/sage/files/ticket14003/trac_14003-is_rank_symmetric-cs.patch.gz)**

please add doctests



---

archive/issue_events_194875.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194875"
}
```



---

archive/issue_events_194876.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194876"
}
```



---

archive/issue_events_194877.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194877"
}
```



---

archive/issue_events_194878.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194878"
}
```



---

archive/issue_events_194879.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194879"
}
```



---

archive/issue_events_194880.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194880"
}
```



---

archive/issue_events_194881.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194881"
}
```



---

archive/issue_events_194882.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194882"
}
```



---

archive/issue_comments_165911.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhat means rank symmetric? Is disjoint union of a 3-element chain and a 5-element chain symmetric?",
    "created_at": "2014-10-13T14:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165911",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">comment:6</div>

What means rank symmetric? Is disjoint union of a 3-element chain and a 5-element chain symmetric?



---

archive/issue_comments_165912.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nCurrently, it is only implemented for ranked posets. This is, for posets admitting a rank function that is 0 on minimal elements and an upwards cover relations increases the rank by 1.\n\nMore generally, one can define more generally the rank of an element in a poset to be the distance  (in the graph sense of the Hasse diagram) to a minimal element. For this, every element should be supposed to have finite distance. In ranked posets, this is equivalent to the above definition.\n\nEither way, your disjoint union of two chains of different lengths is therefore not rank-symmetric (the rank sizes are 2,2,...,2,1,...,1 with the number of 2's being the minimal of the two lengths, and the number of 1's being max-min.\n\nI'd (obviously) be happy if you would take over this ticket!\n\nThanks, Christian",
    "created_at": "2014-10-13T15:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165912",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:7" align="right">comment:7</div>

Currently, it is only implemented for ranked posets. This is, for posets admitting a rank function that is 0 on minimal elements and an upwards cover relations increases the rank by 1.

More generally, one can define more generally the rank of an element in a poset to be the distance  (in the graph sense of the Hasse diagram) to a minimal element. For this, every element should be supposed to have finite distance. In ranked posets, this is equivalent to the above definition.

Either way, your disjoint union of two chains of different lengths is therefore not rank-symmetric (the rank sizes are 2,2,...,2,1,...,1 with the number of 2's being the minimal of the two lengths, and the number of 1's being max-min.

I'd (obviously) be happy if you would take over this ticket!

Thanks, Christian



---

archive/issue_comments_165913.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI am worried about how this should be defined. One possible definition is that `L=[len(x) for x in P.level_sets()]` equals to `[len(x) for x in P.dual().level_sets()]`. Another is that `L` equals to `reversed(L)`.\n\nCoding errors are in a sense easy to fix, like giving correct answer. Wrong definition is like asking wrong question.",
    "created_at": "2014-10-13T17:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165913",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:8" align="right">comment:8</div>

I am worried about how this should be defined. One possible definition is that `L=[len(x) for x in P.level_sets()]` equals to `[len(x) for x in P.dual().level_sets()]`. Another is that `L` equals to `reversed(L)`.

Coding errors are in a sense easy to fix, like giving correct answer. Wrong definition is like asking wrong question.



---

archive/issue_comments_165914.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSee the attached patch above, which is basically\n`L = [len(x) for x in P.level_sets()]`\n`return all( L[i] == L[-i-1] for i in range(len(L)/2))`\n\nBut I do not know whether level sets are given for non-ranked posets...",
    "created_at": "2014-10-13T17:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165914",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:9" align="right">comment:9</div>

See the attached patch above, which is basically
`L = [len(x) for x in P.level_sets()]`
`return all( L[i] == L[-i-1] for i in range(len(L)/2))`

But I do not know whether level sets are given for non-ranked posets...



---

archive/issue_comments_165915.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nLevel sets are defined on every poset, or actually on every acyclic digraph.\n\nBut still I don't know what is wanted. For example `Poset({0:[1,2], 1:[3], 3:[4], 4:[5], 6:[5]})` is ranked, is it rank-symmetric? For now only connected graded posets seems to have clear definition of what is rank-symmetry.",
    "created_at": "2014-10-13T18:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165915",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:10" align="right">comment:10</div>

Level sets are defined on every poset, or actually on every acyclic digraph.

But still I don't know what is wanted. For example `Poset({0:[1,2], 1:[3], 3:[4], 4:[5], 6:[5]})` is ranked, is it rank-symmetric? For now only connected graded posets seems to have clear definition of what is rank-symmetry.



---

archive/issue_comments_165916.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI gave one possible general definition above. In that definition the poset you give wouldn't be rank-symmetric.\n\nI personally haven't seen examples where rank-symmetry was considered for non-connected graded posets, and would be totally fine with having it defined only for those. (Btw: at some point we agreed that  graded means that all maximal chains have the same length while ranked is given as defined above.)",
    "created_at": "2014-10-13T18:39:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165916",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:11" align="right">comment:11</div>

I gave one possible general definition above. In that definition the poset you give wouldn't be rank-symmetric.

I personally haven't seen examples where rank-symmetry was considered for non-connected graded posets, and would be totally fine with having it defined only for those. (Btw: at some point we agreed that  graded means that all maximal chains have the same length while ranked is given as defined above.)



---

archive/issue_comments_165917.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSide-note about graded vs. ranked: #16998.\n\nYou seems to already have working code. There is of course also many other ways to do it, for example to start with\n\n```\nL=P._hasse_diagram._rank_dict.values()\nD=dict((i, L.count(i)) for i in L)\n```\n\nand so on. But if you do not know this to be time-critical, then don't bother with those. Just write an explanation of what function does and give some examples and non-examples of rank-symmetric poset. They are the hardest part with functions like this.\n\nWhen then function is only defined to some specific type of posets, it should start with\n\n```\nif not self.is_graded() or not self.is_connected():\n    raise ValueError(\"Rank symmetry is only defined for connected graded posets.\")\n```",
    "created_at": "2014-10-14T06:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165917",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:12" align="right">comment:12</div>

Side-note about graded vs. ranked: #16998.

You seems to already have working code. There is of course also many other ways to do it, for example to start with

```
L=P._hasse_diagram._rank_dict.values()
D=dict((i, L.count(i)) for i in L)
```

and so on. But if you do not know this to be time-critical, then don't bother with those. Just write an explanation of what function does and give some examples and non-examples of rank-symmetric poset. They are the hardest part with functions like this.

When then function is only defined to some specific type of posets, it should start with

```
if not self.is_graded() or not self.is_connected():
    raise ValueError("Rank symmetry is only defined for connected graded posets.")
```



---

archive/issue_comments_165918.json:
```json
{
    "body": "Branch: **[u/jmantysalo/rank_symmetric](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/rank_symmetric)**",
    "created_at": "2015-07-27T13:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165918",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/rank_symmetric](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/rank_symmetric)**



---

archive/issue_comments_165919.json:
```json
{
    "body": "Commit: **[`83d1071`](https://github.com/sagemath/sagetrac-mirror/commit/83d107157feb9f8598615aeeb4759a2899444a36)**",
    "created_at": "2015-07-27T13:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165919",
    "user": "https://github.com/jm58660"
}
```

Commit: **[`83d1071`](https://github.com/sagemath/sagetrac-mirror/commit/83d107157feb9f8598615aeeb4759a2899444a36)**



---

archive/issue_events_194883.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-07-27T13:07:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194883"
}
```



---

archive/issue_comments_165920.json:
```json
{
    "body": "Changed author from **Christian Stump** to **Jori M\u00e4ntysalo**",
    "created_at": "2015-07-27T13:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165920",
    "user": "https://github.com/jm58660"
}
```

Changed author from **Christian Stump** to **Jori Mäntysalo**



---

archive/issue_events_194884.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-07-27T13:07:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194884"
}
```



---

archive/issue_events_194885.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-07-27T13:07:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194885"
}
```



---

archive/issue_comments_165921.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nIntentionally left away from index of functions to prevent clashes. There is time until 6.9.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfbc7daccfee560158f7d52a9aa0e00dfeb7d868\"><code>cfbc7da</code></a></td><td><code>Faster is_lattice().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83d107157feb9f8598615aeeb4759a2899444a36\"><code>83d1071</code></a></td><td><code>Added is_rank_symmetric().</code></td></tr></table>\n",
    "created_at": "2015-07-27T13:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165921",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:13" align="right">comment:13</div>

Intentionally left away from index of functions to prevent clashes. There is time until 6.9.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfbc7daccfee560158f7d52a9aa0e00dfeb7d868"><code>cfbc7da</code></a></td><td><code>Faster is_lattice().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83d107157feb9f8598615aeeb4759a2899444a36"><code>83d1071</code></a></td><td><code>Added is_rank_symmetric().</code></td></tr></table>




---

archive/issue_comments_165922.json:
```json
{
    "body": "Changed commit from **[`83d1071`](https://github.com/sagemath/sagetrac-mirror/commit/83d107157feb9f8598615aeeb4759a2899444a36)** to **[`60bb536`](https://github.com/sagemath/sagetrac-mirror/commit/60bb536a1319266c8315c957fea52cb60283a34a)**",
    "created_at": "2015-07-27T13:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165922",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`83d1071`](https://github.com/sagemath/sagetrac-mirror/commit/83d107157feb9f8598615aeeb4759a2899444a36)** to **[`60bb536`](https://github.com/sagemath/sagetrac-mirror/commit/60bb536a1319266c8315c957fea52cb60283a34a)**



---

archive/issue_comments_165923.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60bb536a1319266c8315c957fea52cb60283a34a\"><code>60bb536</code></a></td><td><code>An error with git.</code></td></tr></table>\n",
    "created_at": "2015-07-27T13:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165923",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60bb536a1319266c8315c957fea52cb60283a34a"><code>60bb536</code></a></td><td><code>An error with git.</code></td></tr></table>




---

archive/issue_events_194886.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-07-27T13:14:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194886"
}
```



---

archive/issue_events_194887.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-07-27T13:14:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194887"
}
```



---

archive/issue_comments_165924.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a44e4247bce02518d4eb9100c3c2bb4c0f1e2379\"><code>a44e424</code></a></td><td><code>Added a is_rank_symmetric() function.</code></td></tr></table>\n",
    "created_at": "2015-07-27T13:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165924",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a44e4247bce02518d4eb9100c3c2bb4c0f1e2379"><code>a44e424</code></a></td><td><code>Added a is_rank_symmetric() function.</code></td></tr></table>




---

archive/issue_comments_165925.json:
```json
{
    "body": "Changed commit from **[`60bb536`](https://github.com/sagemath/sagetrac-mirror/commit/60bb536a1319266c8315c957fea52cb60283a34a)** to **[`a44e424`](https://github.com/sagemath/sagetrac-mirror/commit/a44e4247bce02518d4eb9100c3c2bb4c0f1e2379)**",
    "created_at": "2015-07-27T13:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165925",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`60bb536`](https://github.com/sagemath/sagetrac-mirror/commit/60bb536a1319266c8315c957fea52cb60283a34a)** to **[`a44e424`](https://github.com/sagemath/sagetrac-mirror/commit/a44e4247bce02518d4eb9100c3c2bb4c0f1e2379)**



---

archive/issue_comments_165926.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nNow it should be OK. Sorry for the noise.",
    "created_at": "2015-07-27T13:21:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165926",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:17" align="right">comment:17</div>

Now it should be OK. Sorry for the noise.



---

archive/issue_events_194888.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-07-27T13:21:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194888"
}
```



---

archive/issue_events_194889.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-07-27T13:21:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194889"
}
```



---

archive/issue_comments_165927.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nChristian, as I wrote the code from scratch, you can be the reviewer if you want.",
    "created_at": "2015-08-09T15:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165927",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:18" align="right">comment:18</div>

Christian, as I wrote the code from scratch, you can be the reviewer if you want.



---

archive/issue_comments_165928.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nPing...? I have a bunch of tickets waiting review. This one should not have anything special to think about.",
    "created_at": "2015-09-15T18:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165928",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:19" align="right">comment:19</div>

Ping...? I have a bunch of tickets waiting review. This one should not have anything special to think about.



---

archive/issue_comments_165929.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n1) in the raise statements, I would replace\n\n```\nthe poset is assumed to be connected\n```\nby\n\n```\nthe poset is not connected\n```\nand same for graded condition\n\n2) the doc is not consistent with the code, symmetry should be between i and h-i-1\n\n3) please use backticks instead of $\n\n4) do not compute twice len(levels)",
    "created_at": "2015-09-15T20:05:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165929",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:20" align="right">comment:20</div>

1) in the raise statements, I would replace

```
the poset is assumed to be connected
```
by

```
the poset is not connected
```
and same for graded condition

2) the doc is not consistent with the code, symmetry should be between i and h-i-1

3) please use backticks instead of $

4) do not compute twice len(levels)



---

archive/issue_comments_165930.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cd7548d5ae45d1b3d26621b937591cdb0dc1926\"><code>3cd7548</code></a></td><td><code>Reviewer comments fixed.</code></td></tr></table>\n",
    "created_at": "2015-09-16T07:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165930",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cd7548d5ae45d1b3d26621b937591cdb0dc1926"><code>3cd7548</code></a></td><td><code>Reviewer comments fixed.</code></td></tr></table>




---

archive/issue_comments_165931.json:
```json
{
    "body": "Changed commit from **[`a44e424`](https://github.com/sagemath/sagetrac-mirror/commit/a44e4247bce02518d4eb9100c3c2bb4c0f1e2379)** to **[`3cd7548`](https://github.com/sagemath/sagetrac-mirror/commit/3cd7548d5ae45d1b3d26621b937591cdb0dc1926)**",
    "created_at": "2015-09-16T07:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165931",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a44e424`](https://github.com/sagemath/sagetrac-mirror/commit/a44e4247bce02518d4eb9100c3c2bb4c0f1e2379)** to **[`3cd7548`](https://github.com/sagemath/sagetrac-mirror/commit/3cd7548d5ae45d1b3d26621b937591cdb0dc1926)**



---

archive/issue_comments_165932.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks Fr\u00e9d\u00e9ric! These are now corrected. I also added the function to index of functions and added a test for the empty poset.",
    "created_at": "2015-09-16T07:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165932",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks Frédéric! These are now corrected. I also added the function to index of functions and added a test for the empty poset.



---

archive/issue_comments_165933.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nok, good enough.",
    "created_at": "2015-09-16T16:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165933",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

ok, good enough.



---

archive/issue_events_194890.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-16T16:51:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194890"
}
```



---

archive/issue_events_194891.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-16T16:51:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194891"
}
```



---

archive/issue_comments_165934.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThanks!",
    "created_at": "2015-09-16T16:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165934",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:24" align="right">comment:24</div>

Thanks!



---

archive/issue_comments_165935.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReviewer name is missing",
    "created_at": "2015-09-16T18:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165935",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Reviewer name is missing



---

archive/issue_events_194892.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-16T18:32:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194892"
}
```



---

archive/issue_events_194893.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-16T18:32:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194893"
}
```



---

archive/issue_comments_165936.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nraah, sorry again..",
    "created_at": "2015-09-16T18:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165936",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

raah, sorry again..



---

archive/issue_comments_165937.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2015-09-16T18:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165937",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_194894.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-16T18:48:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194894"
}
```



---

archive/issue_events_194895.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-16T18:48:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194895"
}
```



---

archive/issue_comments_165938.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/rank_symmetric](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/rank_symmetric)** to **[`3cd7548`](https://github.com/sagemath/sagetrac-mirror/commit/3cd7548d5ae45d1b3d26621b937591cdb0dc1926)**",
    "created_at": "2015-09-17T11:40:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14003#issuecomment-165938",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jmantysalo/rank_symmetric](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/rank_symmetric)** to **[`3cd7548`](https://github.com/sagemath/sagetrac-mirror/commit/3cd7548d5ae45d1b3d26621b937591cdb0dc1926)**



---

archive/issue_events_194896.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-17T11:40:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194896"
}
```



---

archive/issue_events_194897.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "26a54f4c780750af9fa3ed0f50e8ce3d22ba31c9",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-09-17T11:40:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14003",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14003#event-194897"
}
```
