# Issue 14834: standard build system for the python library

archive/issues_014630.json:
```json
{
    "body": "The python library needs a configurable build system. This can be either an autotools build system or a configurable setup.py/modules_list.py. \n\nA configurable setup.py/modules_list.py pulls in the disadvantages of distutils. Just using autotools turns out to be much more transparent and simple.\n\nAssignee: felixs\n\nCC:  @nexttime @jondo @orlitzky\n\nBranch: [u/felixs/14834](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14834)\n\nReviewer: Michael Orlitzky\n\nDependencies: #15039, #15105, #15227, #14728\n\nCommit: 4fd186303c1bb94ec658ee771841430d3d6c107b\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/14834\n\n",
    "closed_at": "2021-12-01T02:46:14Z",
    "created_at": "2013-06-27T11:02:04Z",
    "labels": [
        "component: distribution"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "standard build system for the python library",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14834",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```
The python library needs a configurable build system. This can be either an autotools build system or a configurable setup.py/modules_list.py. 

A configurable setup.py/modules_list.py pulls in the disadvantages of distutils. Just using autotools turns out to be much more transparent and simple.

Assignee: felixs

CC:  @nexttime @jondo @orlitzky

Branch: [u/felixs/14834](https://github.com/sagemath/sagetrac-mirror/tree/u/felixs/14834)

Reviewer: Michael Orlitzky

Dependencies: #15039, #15105, #15227, #14728

Commit: 4fd186303c1bb94ec658ee771841430d3d6c107b

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/14834





---

archive/issue_comments_238106.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#15039\"",
    "created_at": "2013-08-12T15:35:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238106",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Changing dependencies from "" to "#15039"



---

archive/issue_comments_238107.json:
```json
{
    "body": "Changing dependencies from \"#15039\" to \"#15039, #15105\"",
    "created_at": "2013-08-27T09:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238107",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Changing dependencies from "#15039" to "#15039, #15105"



---

archive/issue_comments_238108.json:
```json
{
    "body": "Changing branch from \"\" to \"u/felixs/14834\"",
    "created_at": "2013-08-27T16:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238108",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Changing branch from "" to "u/felixs/14834"



---

archive/issue_comments_238109.json:
```json
{
    "body": "Changing commit from \"\" to \"df002336882557f45cd96cd1c313ddc2b9887b1b\"",
    "created_at": "2013-08-27T16:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238109",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Changing commit from "" to "df002336882557f45cd96cd1c313ddc2b9887b1b"



---

archive/issue_comments_238110.json:
```json
{
    "body": "Changing commit from \"df002336882557f45cd96cd1c313ddc2b9887b1b\" to \"f77e13c4c46d3dcfa61da43dbd3247ddc4a12102\"",
    "created_at": "2013-09-02T18:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "df002336882557f45cd96cd1c313ddc2b9887b1b" to "f77e13c4c46d3dcfa61da43dbd3247ddc4a12102"



---

archive/issue_comments_238111.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|       |                |\n|-------|----------------|\n|f77e13c|python-sage: env|\n|29f8f3e|python-sage build system continued/cleanup|\n|28b0da1|python-sage build system|",
    "created_at": "2013-09-02T18:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238111",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|       |                |
|-------|----------------|
|f77e13c|python-sage: env|
|29f8f3e|python-sage build system continued/cleanup|
|28b0da1|python-sage build system|



---

archive/issue_comments_238112.json:
```json
{
    "body": "Changing commit from \"f77e13c4c46d3dcfa61da43dbd3247ddc4a12102\" to \"1f3f7e41c16742e12a0398e95b17462fbb18019c\"",
    "created_at": "2013-09-02T20:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238112",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f77e13c4c46d3dcfa61da43dbd3247ddc4a12102" to "1f3f7e41c16742e12a0398e95b17462fbb18019c"



---

archive/issue_comments_238113.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|       |                                                                    |\n|-------|--------------------------------------------------------------------|\n|1f3f7e4|Merge branches 'cython_dbg' and 'cython_deps' into python_sage_build|\n|42449c1|python-sage doctest path tolerance|\n|ae8bb63|python-sage: env|\n|5a16d99|python-sage build system|\n|f82b422|cython: patch: gdb output dir option|\n|bd11c24|cython: add -MF switch to write dependency files (#14728)|",
    "created_at": "2013-09-02T20:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238113",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|       |                                                                    |
|-------|--------------------------------------------------------------------|
|1f3f7e4|Merge branches 'cython_dbg' and 'cython_deps' into python_sage_build|
|42449c1|python-sage doctest path tolerance|
|ae8bb63|python-sage: env|
|5a16d99|python-sage build system|
|f82b422|cython: patch: gdb output dir option|
|bd11c24|cython: add -MF switch to write dependency files (#14728)|



---

archive/issue_comments_238114.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|       |                                  |\n|-------|----------------------------------|\n|fcb670f|simplify python byte compile rules|\n|2af9070|GMP_VS_MPIR fixup|\n|45a30e1|provide unhardwired SAGE_CFLAGS|\n|e195725|python-sage: Makefiles|\n|c4562b3|python_sage: build system continued|",
    "created_at": "2013-09-08T11:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|       |                                  |
|-------|----------------------------------|
|fcb670f|simplify python byte compile rules|
|2af9070|GMP_VS_MPIR fixup|
|45a30e1|provide unhardwired SAGE_CFLAGS|
|e195725|python-sage: Makefiles|
|c4562b3|python_sage: build system continued|



---

archive/issue_comments_238115.json:
```json
{
    "body": "Changing commit from \"1f3f7e41c16742e12a0398e95b17462fbb18019c\" to \"fcb670ff3a179ce00649c3f5c041856e033d140e\"",
    "created_at": "2013-09-08T11:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238115",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1f3f7e41c16742e12a0398e95b17462fbb18019c" to "fcb670ff3a179ce00649c3f5c041856e033d140e"



---

archive/issue_comments_238116.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-09-08T11:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238116",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_238117.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-The python library needs a configurable build system. This can be either an autotools build system or a configurable setup.py/modules_list.py.\n+The python library needs a configurable build system. This can be either an autotools build system or a configurable setup.py/modules_list.py. \n+\n+A configurable setup.py/modules_list.py pulls in the disadvantages of distutils. Just using autotools turns out to be much more transparent and simple.\n``````\n",
    "created_at": "2013-09-08T20:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238117",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-The python library needs a configurable build system. This can be either an autotools build system or a configurable setup.py/modules_list.py.
+The python library needs a configurable build system. This can be either an autotools build system or a configurable setup.py/modules_list.py. 
+
+A configurable setup.py/modules_list.py pulls in the disadvantages of distutils. Just using autotools turns out to be much more transparent and simple.
``````




---

archive/issue_comments_238118.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|       |                                                     |\n|-------|-----------------------------------------------------|\n|ec442e5|always use autotools within sage (\"the distribution\")|\n|26c67b2|python-sage: make cython call more toolchain friendly|",
    "created_at": "2013-09-08T22:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238118",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|       |                                                     |
|-------|-----------------------------------------------------|
|ec442e5|always use autotools within sage ("the distribution")|
|26c67b2|python-sage: make cython call more toolchain friendly|



---

archive/issue_comments_238119.json:
```json
{
    "body": "Changing commit from \"fcb670ff3a179ce00649c3f5c041856e033d140e\" to \"ec442e53392b43c24dc79fe4bdfda0de94fd7d14\"",
    "created_at": "2013-09-08T22:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238119",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fcb670ff3a179ce00649c3f5c041856e033d140e" to "ec442e53392b43c24dc79fe4bdfda0de94fd7d14"



---

archive/issue_comments_238120.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|       |                |\n|-------|----------------|\n|4fd1863|Makefiles update|\n|40772ba|config.py|\n|0af9952|Merge branch 'build_system' into python_sage_build|\n|1dacfa5|python-sage: Makefiles update for 512beta4|\n|cb27876|python-sage: Makefiles fix|",
    "created_at": "2013-09-12T12:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238120",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|       |                |
|-------|----------------|
|4fd1863|Makefiles update|
|40772ba|config.py|
|0af9952|Merge branch 'build_system' into python_sage_build|
|1dacfa5|python-sage: Makefiles update for 512beta4|
|cb27876|python-sage: Makefiles fix|



---

archive/issue_comments_238121.json:
```json
{
    "body": "Changing commit from \"ec442e53392b43c24dc79fe4bdfda0de94fd7d14\" to \"4fd186303c1bb94ec658ee771841430d3d6c107b\"",
    "created_at": "2013-09-12T12:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238121",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ec442e53392b43c24dc79fe4bdfda0de94fd7d14" to "4fd186303c1bb94ec658ee771841430d3d6c107b"



---

archive/issue_comments_238122.json:
```json
{
    "body": "<a id='comment:13'></a>\nIt's more fun with cython properly patched",
    "created_at": "2013-09-25T06:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238122",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

<a id='comment:13'></a>
It's more fun with cython properly patched



---

archive/issue_comments_238123.json:
```json
{
    "body": "Changing dependencies from \"#15039, #15105\" to \"#15039, #15105, #15227, #14728\"",
    "created_at": "2013-09-25T06:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238123",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Changing dependencies from "#15039, #15105" to "#15039, #15105, #15227, #14728"



---

archive/issue_comments_238124.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-29T18:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238124",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_238125.json:
```json
{
    "body": "<a id='comment:14'></a>\nNeeds to be rebased.",
    "created_at": "2013-12-29T18:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238125",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Needs to be rebased.



---

archive/issue_events_048957.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14834#event-48957"
}
```



---

archive/issue_events_048958.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14834#event-48958"
}
```



---

archive/issue_events_048959.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14834#event-48959"
}
```



---

archive/issue_events_048960.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14834#event-48960"
}
```



---

archive/issue_events_048961.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14834#event-48961"
}
```



---

archive/issue_events_048962.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T08:25:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14834#event-48962"
}
```



---

archive/issue_events_048963.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T08:25:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14834#event-48963"
}
```



---

archive/issue_comments_238126.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-09-07T08:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238126",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_238127.json:
```json
{
    "body": "Changing author from \"Felix Salfelder\" to \"\"",
    "created_at": "2021-09-07T08:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238127",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Felix Salfelder" to ""



---

archive/issue_comments_238128.json:
```json
{
    "body": "<a id='comment:18'></a>\noutdated, should close",
    "created_at": "2021-09-07T08:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238128",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
outdated, should close



---

archive/issue_comments_238129.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Michael Orlitzky\"",
    "created_at": "2021-11-30T03:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238129",
    "user": "https://github.com/orlitzky"
}
```

Changing reviewer from "" to "Michael Orlitzky"



---

archive/issue_comments_238130.json:
```json
{
    "body": "<a id='comment:19'></a>\nThere will always be a need for this until it happens. We had another ticket opened for it in #29119. Setuptools can only badly pretend to be autotools, and pip will never be able to handle non-python dependencies. It's being cleverly faked in #29039, wherein we download a copy of sage-the-distribution and run its autotools build system to create a python file to be used by sagelib to... avoid just using autotools in sagelib. But one can imagine a world without the extra step.\n\nThat said, everyone is working on that, and no one is working on this, so there's not much point in keeping it open.",
    "created_at": "2021-11-30T03:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238130",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:19'></a>
There will always be a need for this until it happens. We had another ticket opened for it in #29119. Setuptools can only badly pretend to be autotools, and pip will never be able to handle non-python dependencies. It's being cleverly faked in #29039, wherein we download a copy of sage-the-distribution and run its autotools build system to create a python file to be used by sagelib to... avoid just using autotools in sagelib. But one can imagine a world without the extra step.

That said, everyone is working on that, and no one is working on this, so there's not much point in keeping it open.



---

archive/issue_comments_238131.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-30T03:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238131",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_048964.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-01T02:46:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14834#event-48964"
}
```



---

archive/issue_comments_238132.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-12-01T02:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14834#issuecomment-238132",
    "user": "https://github.com/mkoeppe"
}
```

Resolution: invalid
